{"version":3,"sources":["webpack:///./src/sec009a_components/sec011a_L105_expense_form.jsx","webpack:///./src/sec009a_components/sec009a_CLS_edit_expense_page.jsx"],"names":["moment","CLS_expense_form","P_props","_this","_classCallCheck","this","_defineProperty","_assertThisInitialized","_possibleConstructorReturn","_getPrototypeOf","call","e","description","target","value","setState","note","amount","match","createdAt","_ref","focused","calenderFocused","error_check","P_expense_form_obj","_this2","descErrorMssg","state","amtErrorMssg","descriptionError","amountError","is_error","preventDefault","L_descErrorMssg","L_amtErrorMssg","props","onExpenseSubmit","parseFloat","valueOf","expense","toString","date","buttonLabel","React","Component","react__WEBPACK_IMPORTED_MODULE_0___default","a","createElement","action","onSubmit","autoFocus","type","placeholder","id","onChange","onDescriptionChange","onAmountChange","react_dates__WEBPACK_IMPORTED_MODULE_4__","onDateChange","onFocusChange","readOnly","numberOfMonths","isOutsideRange","onNoteChange","CLS_edit_expense_page","_React$Component","P_expense","console","log","state_expenses","edit_expense","history","push","remove_expense","_inherits","_createClass","key","params","_sec011a_L105_expense_form_jsx__WEBPACK_IMPORTED_MODULE_2__","onClick","onClickRemoveExpense","connect","expenses","find","dispatch","MP_editExpense","expense_id_obj","MP_removeExpense"],"mappings":"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","file":"4.fa56fc078643b27829e2.js","sourcesContent":["\r\n/*\r\n\r\nsec011a_L105_expense_form.jsx\r\n\r\n */\r\n\r\nimport React from \"react\";\r\n\r\nimport Loadable from 'react-loadable';\r\n\r\nimport { MP_common_loading_handler } from \"../Utilities_01/Loadable_Handlers.jsx\";\r\n\r\nimport moment from 'moment';\r\n\r\n// const moment = Loadable({\r\n//   loader: () => import('moment'),\r\n//   loading: MP_common_loading_handler,\r\n//   timeout: 3000, // 3 seconds\r\n// });\r\n\r\nimport { SingleDatePicker } from 'react-dates';\r\n\r\n// const SingleDatePicker = Loadable({\r\n//   loader: () => import('react-dates'),\r\n//   loading: MP_common_loading_handler,\r\n//   timeout: 3000, // 3 seconds\r\n// });\r\n\r\nconst now = moment();\r\n\r\nexport default class CLS_expense_form extends React.Component\r\n{\r\n    constructor (P_props)\r\n    {\r\n        super (P_props);\r\n\r\n        this.state = {\r\n            description: P_props.expense ? P_props.expense.description : '',\r\n            note:  P_props.expense ? P_props.expense.note : '',\r\n            amount:  P_props.expense ? (P_props.expense.amount / 100).toString () : '',\r\n            createdAt:  P_props.expense && P_props.expense.createdAt > 0 ? moment (P_props.expense.createdAt) : moment(),\r\n            date: {},\r\n            calenderFocused: false,\r\n            descriptionError: '',\r\n            amountError: '',\r\n            buttonLabel: P_props.buttonLabel\r\n        };\r\n    }\r\n\r\n    onDescriptionChange = (e) => {\r\n        const description = e.target.value;\r\n        this.setState ( () => ({ description }) );\r\n    };\r\n\r\n    onNoteChange = (e) => {\r\n        const note = e.target.value;\r\n        this.setState ( () => ({ note }) );\r\n    };\r\n\r\n    onAmountChange = (e) => {\r\n        const amount = e.target.value;\r\n        if ( ! amount || amount.match(/^\\d+(\\.\\d{0,2})?$/) )\r\n          this.setState ( () => ({ amount }) );\r\n    };\r\n\r\n    onDateChange = (createdAt) => {\r\n        if (createdAt)\r\n            this.setState( () => ({ createdAt }) );\r\n    };\r\n\r\n    onFocusChange = ({ focused }) => {\r\n        this.setState( () => ({ calenderFocused: focused }) );\r\n    };\r\n\r\n\r\n    GC_errors =\r\n    {\r\n        error_check(P_expense_form_obj)\r\n        {\r\n            this.descErrorMssg = \r\n                 P_expense_form_obj.state.description ? '' : 'Please provide description';\r\n            this.amtErrorMssg = \r\n                 P_expense_form_obj.state.amount ? '' : 'Please provide amount';\r\n\r\n            P_expense_form_obj.setState ( () => ( {\r\n                    descriptionError : this.descErrorMssg,\r\n                    amountError : this.amtErrorMssg\r\n                } ) );\r\n        },\r\n\r\n        is_error()\r\n        {  return ( this.descErrorMssg || this.amtErrorMssg );  }\r\n    };\r\n\r\n    onExpenseSubmit = (e) =>  {\r\n\r\n        e.preventDefault ();\r\n\r\n/****************************************/\r\n\r\n        const L_descErrorMssg = \r\n                 this.state.description ? '' : 'Please provide description';\r\n        const L_amtErrorMssg = \r\n                 this.state.amount ? '' : 'Please provide amount';\r\n\r\n        this.setState ( () => ( {\r\n                descriptionError : L_descErrorMssg,\r\n                amountError : L_amtErrorMssg\r\n            } ) );\r\n\r\n/****************************************/\r\n\r\n        if ( ! L_descErrorMssg && ! L_amtErrorMssg )\r\n            this.props.onExpenseSubmit ( {\r\n                description: this.state.description,\r\n                amount: parseFloat (this.state.amount, 10) * 100,\r\n                createdAt: this.state.createdAt.valueOf(),\r\n                note: this.state.note\r\n            } );\r\n    };\r\n\r\n\r\n    render () {\r\n        return (\r\n                <div>\r\n                    {\r\n                       this.state.descriptionError &&\r\n                         <div>{this.state.descriptionError}</div>\r\n                    }\r\n                    {\r\n                       this.state.amountError &&\r\n                         <div>{this.state.amountError}</div>\r\n                    }\r\n\r\n                    <div>Expense Form</div>\r\n                    <form action=\"\" onSubmit={this.onExpenseSubmit}>\r\n\r\n                      <input\r\n                        autoFocus\r\n                        type=\"text\"\r\n                        placeholder=\"Description\"\r\n                        id=\"Description\"\r\n                        value={this.state.description}\r\n                        onChange={this.onDescriptionChange}\r\n                      />\r\n\r\n                      <input\r\n                        type=\"text\"\r\n                        placeholder=\"Amount\"\r\n                        id=\"Amount\"\r\n                        value={this.state.amount}\r\n                        onChange={this.onAmountChange}\r\n                      />\r\n\r\n                      <SingleDatePicker\r\n                        date={this.state.createdAt}\r\n                        onDateChange={this.onDateChange}\r\n                        focused={this.state.calenderFocused}\r\n                        onFocusChange={this.onFocusChange}\r\n                        id=\"createdAt_DatePicker\"\r\n                        readOnly={true}\r\n                        numberOfMonths={1}\r\n                        isOutsideRange={ () => false }\r\n                      />\r\n\r\n                      <textarea placeholder=\"Add a note for your expense (optional)\"\r\n                        id=\"Note\"\r\n                        value={this.state.note}\r\n                        onChange={this.onNoteChange}\r\n                      >\r\n                      </textarea>\r\n                      <button>\r\n                        {this.state.buttonLabel}\r\n                      </button>\r\n                    </form>\r\n                </div>\r\n        );\r\n    };\r\n}\r\n","\r\n/*\r\n  sec009a_CLS_edit_expense_page.jsx\r\n\r\nimport { CLS_edit_expense_page } from '../../sec009a_components/sec009a_CLS_edit_expense_page.jsx';\r\n\r\n */\r\n\r\nimport React from 'react';\r\n\r\nimport { connect } from 'react-redux';\r\nimport CLS_expense_form from \"./sec011a_L105_expense_form.jsx\";\r\n\r\nimport { MP_editExpense, MP_removeExpense } from \"../sec011a_L099_actions/sec011a_L099_ACTN_expenses.jsx\";\r\n\r\nconst xxxGC_edit_expense_page = (P_props) =>\r\n(\r\n  <div>This is from my edit expense component.</div>\r\n);\r\n\r\nexport class CLS_edit_expense_page extends React.Component\r\n{\r\n    constructor (P_props)\r\n    {\r\n      super(P_props);\r\n    }\r\n\r\n    log_props = (P_expense) =>  {\r\n            console.log ('updated', P_expense);\r\n            if (this.props.expense)\r\n              console.log ('this.props.expense', this.props.expense);\r\n            else\r\n              console.log ('this.props.expense  xxxxxxx' );\r\n            console.log('this.props', this.props);\r\n            console.log('this.props.state_expenses', this.props.state_expenses);\r\n            console.log ('updated', P_expense);\r\n    }\r\n\r\n    onExpenseSubmit = (P_expense) =>  {\r\n\r\n        this.props.edit_expense (this.props.expense.id, P_expense);\r\n\r\n        this.props.history.push ('/');\r\n    };\r\n\r\n    onClickRemoveExpense = (e) =>  {\r\n\r\n        this.props.remove_expense ({ id: this.props.expense.id });\r\n        this.props.history.push ('/');\r\n    };\r\n\r\n\r\n    render ()\r\n    {\r\n    return (\r\n  <div>\r\n    <br/>\r\n    <div>Editing the expense with an id of {this.props.match.params.id}.</div>\r\n    <br/>\r\n    <CLS_expense_form\r\n        expense={this.props.expense}\r\n        onExpenseSubmit={this.onExpenseSubmit}\r\n        buttonLabel={'EDIT EXPENSE'}\r\n    />\r\n\r\n      <button id='BTN_remove_expense' onClick={this.onClickRemoveExpense}\r\n      >REMOVE</button>\r\n\r\n  </div>\r\n           );\r\n    }\r\n}\r\n\r\nconst match_props = (P_expense, P_props) =>  {\r\n  console.log('P_props.match.params', P_props.match.params);\r\n  console.log('P_expense', P_expense);\r\n  return P_expense.id === P_props.match.params.id;\r\n}\r\n\r\nconst mapStateToProps = (state, props) =>  {\r\n      return (\r\n      {\r\n          expense: state.expenses.find (\r\n            (P_expense) => P_expense.id === props.match.params.id\r\n                   )\r\n      }      );\r\n    };\r\n\r\nconst mapDispatchToProps = (dispatch) =>  {\r\n  return (\r\n  {\r\n    edit_expense: (id, expense) => dispatch(MP_editExpense(id, expense)),\r\n    remove_expense: (expense_id_obj) => dispatch(MP_removeExpense(expense_id_obj))\r\n  }      );\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)\r\n                 (CLS_edit_expense_page);\r\n"],"sourceRoot":""}