(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[0],{

/***/ "./node_modules/airbnb-prop-types/build/and.js":
/*!*****************************************************!*\
  !*** ./node_modules/airbnb-prop-types/build/and.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports['default'] = andValidator;

var _wrapValidator = __webpack_require__(/*! ./helpers/wrapValidator */ "./node_modules/airbnb-prop-types/build/helpers/wrapValidator.js");

var _wrapValidator2 = _interopRequireDefault(_wrapValidator);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function andValidator(validators) {
  var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'and';

  if (!Array.isArray(validators)) {
    throw new TypeError('and: 2 or more validators are required');
  }
  if (validators.length <= 1) {
    throw new RangeError('and: 2 or more validators are required');
  }

  var validator = function () {
    function and() {
      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }

      var firstError = null;
      validators.some(function (validatorFn) {
        firstError = validatorFn.apply(undefined, args);
        return firstError != null;
      });
      return firstError == null ? null : firstError;
    }

    return and;
  }();

  validator.isRequired = function () {
    function andIsRequired() {
      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
        args[_key2] = arguments[_key2];
      }

      var firstError = null;
      validators.some(function (validatorFn) {
        firstError = validatorFn.isRequired.apply(validatorFn, args);
        return firstError != null;
      });
      return firstError == null ? null : firstError;
    }

    return andIsRequired;
  }();

  return (0, _wrapValidator2['default'])(validator, name, validators);
}
//# sourceMappingURL=and.js.map

/***/ }),

/***/ "./node_modules/airbnb-prop-types/build/between.js":
/*!*********************************************************!*\
  !*** ./node_modules/airbnb-prop-types/build/between.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

exports['default'] = betweenValidator;

var _object = __webpack_require__(/*! object.assign */ "./node_modules/object.assign/index.js");

var _object2 = _interopRequireDefault(_object);

var _object3 = __webpack_require__(/*! object.entries */ "./node_modules/object.entries/index.js");

var _object4 = _interopRequireDefault(_object3);

var _shape = __webpack_require__(/*! ./shape */ "./node_modules/airbnb-prop-types/build/shape.js");

var _shape2 = _interopRequireDefault(_shape);

var _valuesOf = __webpack_require__(/*! ./valuesOf */ "./node_modules/airbnb-prop-types/build/valuesOf.js");

var _valuesOf2 = _interopRequireDefault(_valuesOf);

var _wrapValidator = __webpack_require__(/*! ./helpers/wrapValidator */ "./node_modules/airbnb-prop-types/build/helpers/wrapValidator.js");

var _wrapValidator2 = _interopRequireDefault(_wrapValidator);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function number(props, propName, componentName) {
  var value = props[propName];
  if (typeof value === 'number' && !isNaN(value)) {
    return null;
  }

  return new TypeError(String(componentName) + ': ' + String(propName) + ' must be a non-NaN number.');
}

function numberOrPropsFunc(props, propName) {
  var value = props[propName];

  if (typeof value === 'function') {
    return null;
  }

  if (typeof value === 'number' && !isNaN(value)) {
    return null;
  }

  return new TypeError(String(propName) + ': a function, or a non-NaN number is required');
}

function lowerCompare(value, _ref) {
  var gt = _ref.gt,
      gte = _ref.gte;

  if (typeof gt === 'number') {
    return value > gt;
  }
  if (typeof gte === 'number') {
    return value >= gte;
  }
  return true;
}

function upperCompare(value, _ref2) {
  var lt = _ref2.lt,
      lte = _ref2.lte;

  if (typeof lt === 'number') {
    return value < lt;
  }
  if (typeof lte === 'number') {
    return value <= lte;
  }
  return true;
}

function greaterThanError(_ref3) {
  var gt = _ref3.gt,
      gte = _ref3.gte;

  if (typeof gt === 'number') {
    return 'greater than ' + gt;
  }
  if (typeof gte === 'number') {
    return 'greater than or equal to ' + gte;
  }
  return '';
}

function lessThanError(_ref4) {
  var lt = _ref4.lt,
      lte = _ref4.lte;

  if (typeof lt === 'number') {
    return 'less than ' + lt;
  }
  if (typeof lte === 'number') {
    return 'less than or equal to ' + lte;
  }
  return '';
}

function errorMessage(componentName, propName, opts) {
  var errors = [greaterThanError(opts), lessThanError(opts)].filter(Boolean).join(' and ');
  return String(componentName) + ': ' + String(propName) + ' must be ' + String(errors);
}

function propsThunkify(opts) {
  return (0, _object4['default'])(opts).reduce(function (acc, _ref5) {
    var _ref6 = _slicedToArray(_ref5, 2),
        key = _ref6[0],
        value = _ref6[1];

    var numberThunk = typeof value === 'number' ? function () {
      return value;
    } : value;
    return (0, _object2['default'])({}, acc, _defineProperty({}, key, numberThunk));
  }, {});
}

function invokeWithProps(optsThunks, props) {
  return (0, _object4['default'])(optsThunks).reduce(function (acc, _ref7) {
    var _ref8 = _slicedToArray(_ref7, 2),
        key = _ref8[0],
        thunk = _ref8[1];

    var value = thunk(props);
    return (0, _object2['default'])({}, acc, _defineProperty({}, key, value));
  }, {});
}

var argValidators = [(0, _shape2['default'])({ lt: numberOrPropsFunc, gt: numberOrPropsFunc }).isRequired, (0, _shape2['default'])({ lte: numberOrPropsFunc, gt: numberOrPropsFunc }).isRequired, (0, _shape2['default'])({ lt: numberOrPropsFunc, gte: numberOrPropsFunc }).isRequired, (0, _shape2['default'])({ lte: numberOrPropsFunc, gte: numberOrPropsFunc }).isRequired, (0, _shape2['default'])({ lt: numberOrPropsFunc }).isRequired, (0, _shape2['default'])({ lte: numberOrPropsFunc }).isRequired, (0, _shape2['default'])({ gt: numberOrPropsFunc }).isRequired, (0, _shape2['default'])({ gte: numberOrPropsFunc }).isRequired];
function argValidator(props, propName) {
  return argValidators.every(function (validator) {
    return !!validator(props, propName);
  });
}

var thunkValueValidator = (0, _valuesOf2['default'])(number).isRequired;

function betweenValidator(options) {
  var argError = argValidator({ options: options }, 'options');
  if (argError) {
    throw new TypeError('between: only one of the pairs of `lt`/`lte`, and `gt`/`gte`, may be supplied, and at least one pair must be provided.');
  }

  var optsThunks = propsThunkify(options);

  var validator = function () {
    function between(props, propName, componentName) {
      var propValue = props[propName];

      if (propValue == null) {
        return null;
      }

      if (typeof propValue !== 'number') {
        return new RangeError(String(componentName) + ': ' + String(propName) + ' must be a number, got "' + (typeof propValue === 'undefined' ? 'undefined' : _typeof(propValue)) + '"');
      }

      var opts = invokeWithProps(optsThunks, props);

      for (var _len = arguments.length, rest = Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {
        rest[_key - 3] = arguments[_key];
      }

      var thunkValuesError = thunkValueValidator.apply(undefined, [_defineProperty({}, propName, opts), propName, componentName].concat(rest));
      if (thunkValuesError) {
        return thunkValuesError;
      }

      if (!lowerCompare(propValue, opts) || !upperCompare(propValue, opts)) {
        return new RangeError(errorMessage(componentName, propName, opts));
      }

      return null;
    }

    return between;
  }();
  validator.isRequired = function () {
    function betweenRequired(props, propName, componentName) {
      var propValue = props[propName];

      if (typeof propValue !== 'number') {
        return new RangeError(String(componentName) + ': ' + String(propName) + ' must be a number, got "' + (typeof propValue === 'undefined' ? 'undefined' : _typeof(propValue)) + '"');
      }

      var opts = invokeWithProps(optsThunks, props);

      for (var _len2 = arguments.length, rest = Array(_len2 > 3 ? _len2 - 3 : 0), _key2 = 3; _key2 < _len2; _key2++) {
        rest[_key2 - 3] = arguments[_key2];
      }

      var thunkValuesError = thunkValueValidator.apply(undefined, [_defineProperty({}, propName, opts), propName, componentName].concat(rest));
      if (thunkValuesError) {
        return thunkValuesError;
      }

      if (!lowerCompare(propValue, opts) || !upperCompare(propValue, opts)) {
        return new RangeError(errorMessage(componentName, propName, opts));
      }

      return null;
    }

    return betweenRequired;
  }();

  return (0, _wrapValidator2['default'])(validator, 'between', options);
}
//# sourceMappingURL=between.js.map

/***/ }),

/***/ "./node_modules/airbnb-prop-types/build/booleanSome.js":
/*!*************************************************************!*\
  !*** ./node_modules/airbnb-prop-types/build/booleanSome.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports['default'] = booleanSomeValidator;

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _wrapValidator = __webpack_require__(/*! ./helpers/wrapValidator */ "./node_modules/airbnb-prop-types/build/helpers/wrapValidator.js");

var _wrapValidator2 = _interopRequireDefault(_wrapValidator);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function booleanSomeValidator() {
  for (var _len = arguments.length, notAllPropsFalse = Array(_len), _key = 0; _key < _len; _key++) {
    notAllPropsFalse[_key] = arguments[_key];
  }

  if (notAllPropsFalse.length < 1) {
    throw new TypeError('at least one prop (one of which must be `true`) is required');
  }
  if (!notAllPropsFalse.every(function (x) {
    return typeof x === 'string';
  })) {
    throw new TypeError('all booleanSome props must be strings');
  }

  var propsList = notAllPropsFalse.join(', or ');

  var validator = function () {
    function booleanSome(props, propName, componentName) {
      var countFalse = function () {
        function countFalse(count, prop) {
          return count + (props[prop] === false ? 1 : 0);
        }

        return countFalse;
      }();

      var falsePropCount = notAllPropsFalse.reduce(countFalse, 0);
      if (falsePropCount === notAllPropsFalse.length) {
        return new Error('A ' + String(componentName) + ' must have at least one of these boolean props be `true`: ' + String(propsList));
      }

      for (var _len2 = arguments.length, rest = Array(_len2 > 3 ? _len2 - 3 : 0), _key2 = 3; _key2 < _len2; _key2++) {
        rest[_key2 - 3] = arguments[_key2];
      }

      return _propTypes.bool.apply(undefined, [props, propName, componentName].concat(rest));
    }

    return booleanSome;
  }();

  validator.isRequired = function () {
    function booleanSomeRequired(props, propName, componentName) {
      var countFalse = function () {
        function countFalse(count, prop) {
          return count + (props[prop] === false ? 1 : 0);
        }

        return countFalse;
      }();

      var falsePropCount = notAllPropsFalse.reduce(countFalse, 0);
      if (falsePropCount === notAllPropsFalse.length) {
        return new Error('A ' + String(componentName) + ' must have at least one of these boolean props be `true`: ' + String(propsList));
      }

      for (var _len3 = arguments.length, rest = Array(_len3 > 3 ? _len3 - 3 : 0), _key3 = 3; _key3 < _len3; _key3++) {
        rest[_key3 - 3] = arguments[_key3];
      }

      return _propTypes.bool.isRequired.apply(_propTypes.bool, [props, propName, componentName].concat(rest));
    }

    return booleanSomeRequired;
  }();

  return (0, _wrapValidator2['default'])(validator, 'booleanSome: ' + String(propsList), notAllPropsFalse);
}
//# sourceMappingURL=booleanSome.js.map

/***/ }),

/***/ "./node_modules/airbnb-prop-types/build/childrenHavePropXorChildren.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/airbnb-prop-types/build/childrenHavePropXorChildren.js ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

exports['default'] = childrenHavePropXorChildren;

var _react = __webpack_require__(/*! react */ "./node_modules/react/index.js");

var _react2 = _interopRequireDefault(_react);

var _wrapValidator = __webpack_require__(/*! ./helpers/wrapValidator */ "./node_modules/airbnb-prop-types/build/helpers/wrapValidator.js");

var _wrapValidator2 = _interopRequireDefault(_wrapValidator);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function childrenHavePropXorChildren(prop) {
  if (typeof prop !== 'string' && (typeof prop === 'undefined' ? 'undefined' : _typeof(prop)) !== 'symbol') {
    throw new TypeError('invalid prop: must be string or symbol');
  }

  var validator = function () {
    function childrenHavePropXorChildrenWithProp(_ref, _, componentName) {
      var children = _ref.children;

      var truthyChildrenCount = 0;
      var propCount = 0;
      var grandchildrenCount = 0;

      _react2['default'].Children.forEach(children, function (child) {
        if (!child) {
          return;
        }

        truthyChildrenCount += 1;

        if (child.props[prop]) {
          propCount += 1;
        }

        if (_react2['default'].Children.count(child.props.children)) {
          grandchildrenCount += 1;
        }
      });

      if (propCount === truthyChildrenCount && grandchildrenCount === 0 || propCount === 0 && grandchildrenCount === truthyChildrenCount || propCount === 0 && grandchildrenCount === 0) {
        return null;
      }

      return new TypeError('`' + String(componentName) + '` requires children to all have prop \u201C' + String(prop) + '\u201D, all have children, or all have neither.');
    }

    return childrenHavePropXorChildrenWithProp;
  }();
  validator.isRequired = validator;

  return (0, _wrapValidator2['default'])(validator, 'childrenHavePropXorChildrenWithProp:' + String(prop), prop);
}
//# sourceMappingURL=childrenHavePropXorChildren.js.map

/***/ }),

/***/ "./node_modules/airbnb-prop-types/build/childrenOf.js":
/*!************************************************************!*\
  !*** ./node_modules/airbnb-prop-types/build/childrenOf.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports['default'] = childrenOf;

var _object = __webpack_require__(/*! object.assign */ "./node_modules/object.assign/index.js");

var _object2 = _interopRequireDefault(_object);

var _renderableChildren = __webpack_require__(/*! ./helpers/renderableChildren */ "./node_modules/airbnb-prop-types/build/helpers/renderableChildren.js");

var _renderableChildren2 = _interopRequireDefault(_renderableChildren);

var _wrapValidator = __webpack_require__(/*! ./helpers/wrapValidator */ "./node_modules/airbnb-prop-types/build/helpers/wrapValidator.js");

var _wrapValidator2 = _interopRequireDefault(_wrapValidator);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function validateChildren(propType, children, props) {
  for (var _len = arguments.length, rest = Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {
    rest[_key - 3] = arguments[_key];
  }

  var error = void 0;
  children.some(function (child) {
    error = propType.apply(undefined, [(0, _object2['default'])({}, props, { children: child }), 'children'].concat(rest));
    return error;
  });

  return error || null;
}

function childrenOf(propType) {
  function childrenOfPropType(props, propName, componentName) {
    if (propName !== 'children') {
      return new TypeError(String(componentName) + ' is using the childrenOf validator on non-children prop "' + String(propName) + '"');
    }

    var propValue = props[propName];


    if (propValue == null) {
      return null;
    }
    var children = (0, _renderableChildren2['default'])(propValue);
    if (children.length === 0) {
      return null;
    }

    for (var _len2 = arguments.length, rest = Array(_len2 > 3 ? _len2 - 3 : 0), _key2 = 3; _key2 < _len2; _key2++) {
      rest[_key2 - 3] = arguments[_key2];
    }

    return validateChildren.apply(undefined, [propType, children, props, componentName].concat(rest));
  }

  childrenOfPropType.isRequired = function (props, propName, componentName) {
    for (var _len3 = arguments.length, rest = Array(_len3 > 3 ? _len3 - 3 : 0), _key3 = 3; _key3 < _len3; _key3++) {
      rest[_key3 - 3] = arguments[_key3];
    }

    if (propName !== 'children') {
      return new TypeError(String(componentName) + ' is using the childrenOf validator on non-children prop "' + String(propName) + '"');
    }

    var children = (0, _renderableChildren2['default'])(props[propName]);
    if (children.length === 0) {
      return new TypeError('`' + String(componentName) + '` requires at least one node of type ' + String(propType.typeName || propType.name));
    }

    return validateChildren.apply(undefined, [propType, children, props, componentName].concat(rest));
  };

  return (0, _wrapValidator2['default'])(childrenOfPropType, 'childrenOf', propType);
}
//# sourceMappingURL=childrenOf.js.map

/***/ }),

/***/ "./node_modules/airbnb-prop-types/build/childrenOfType.js":
/*!****************************************************************!*\
  !*** ./node_modules/airbnb-prop-types/build/childrenOfType.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _arrayPrototype = __webpack_require__(/*! array.prototype.find */ "./node_modules/array.prototype.find/index.js");

var _arrayPrototype2 = _interopRequireDefault(_arrayPrototype);

var _getComponentName = __webpack_require__(/*! ./helpers/getComponentName */ "./node_modules/airbnb-prop-types/build/helpers/getComponentName.js");

var _getComponentName2 = _interopRequireDefault(_getComponentName);

var _renderableChildren = __webpack_require__(/*! ./helpers/renderableChildren */ "./node_modules/airbnb-prop-types/build/helpers/renderableChildren.js");

var _renderableChildren2 = _interopRequireDefault(_renderableChildren);

var _wrapValidator = __webpack_require__(/*! ./helpers/wrapValidator */ "./node_modules/airbnb-prop-types/build/helpers/wrapValidator.js");

var _wrapValidator2 = _interopRequireDefault(_wrapValidator);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function onlyTypes(types, children, componentName) {
  if (!children.every(function (child) {
    return child && (0, _arrayPrototype2['default'])(types, function (Type) {
      return Type === '*' || child.type === Type;
    });
  })) {
    var typeNames = types.map(_getComponentName2['default']).join(', or ');
    return new TypeError('`' + String(componentName) + '` only accepts children of type ' + String(typeNames));
  }
  return null;
}

function isRequired(types, children, componentName) {
  if (children.length === 0) {
    var typeNames = types.map(_getComponentName2['default']).join(', or ');
    return new TypeError('`' + String(componentName) + '` requires at least one node of type ' + String(typeNames));
  }
  return null;
}

function childrenOfType() {
  for (var _len = arguments.length, types = Array(_len), _key = 0; _key < _len; _key++) {
    types[_key] = arguments[_key];
  }

  if (types.length < 1) {
    throw new TypeError('childrenOfType: at least 1 type is required');
  }

  function validator(props, propName, componentName) {
    return onlyTypes(types, (0, _renderableChildren2['default'])(props[propName]), componentName);
  }

  validator.isRequired = function (props, propName, componentName) {
    var children = (0, _renderableChildren2['default'])(props[propName]);
    return isRequired(types, children, componentName) || onlyTypes(types, children, componentName);
  };

  return (0, _wrapValidator2['default'])(validator, 'childrenOfType', types);
}

exports['default'] = childrenOfType;
//# sourceMappingURL=childrenOfType.js.map

/***/ }),

/***/ "./node_modules/airbnb-prop-types/build/childrenSequenceOf.js":
/*!********************************************************************!*\
  !*** ./node_modules/airbnb-prop-types/build/childrenSequenceOf.js ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports['default'] = childrenSequenceOfValidator;

var _object = __webpack_require__(/*! object.assign */ "./node_modules/object.assign/index.js");

var _object2 = _interopRequireDefault(_object);

var _sequenceOf = __webpack_require__(/*! ./sequenceOf */ "./node_modules/airbnb-prop-types/build/sequenceOf.js");

var _sequenceOf2 = _interopRequireDefault(_sequenceOf);

var _renderableChildren = __webpack_require__(/*! ./helpers/renderableChildren */ "./node_modules/airbnb-prop-types/build/helpers/renderableChildren.js");

var _renderableChildren2 = _interopRequireDefault(_renderableChildren);

var _wrapValidator = __webpack_require__(/*! ./helpers/wrapValidator */ "./node_modules/airbnb-prop-types/build/helpers/wrapValidator.js");

var _wrapValidator2 = _interopRequireDefault(_wrapValidator);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function childrenSequenceOfValidator() {
  for (var _len = arguments.length, specifiers = Array(_len), _key = 0; _key < _len; _key++) {
    specifiers[_key] = arguments[_key];
  }

  var seq = _sequenceOf2['default'].apply(undefined, specifiers);

  var validator = function () {
    function childrenSequenceOf(props, propName, componentName) {
      if (propName !== 'children') {
        return new TypeError(String(componentName) + ' is using the childrenSequenceOf validator on non-children prop "' + String(propName) + '"');
      }

      var propValue = props[propName];

      var children = (0, _renderableChildren2['default'])(propValue);
      if (children.length === 0) {
        return null;
      }

      for (var _len2 = arguments.length, rest = Array(_len2 > 3 ? _len2 - 3 : 0), _key2 = 3; _key2 < _len2; _key2++) {
        rest[_key2 - 3] = arguments[_key2];
      }

      return seq.apply(undefined, [(0, _object2['default'])({}, props, { children: children }), propName, componentName].concat(rest));
    }

    return childrenSequenceOf;
  }();

  validator.isRequired = function () {
    function childrenSequenceOfRequired(props, propName, componentName) {
      if (propName !== 'children') {
        return new TypeError(String(componentName) + ' is using the childrenSequenceOf validator on non-children prop "' + String(propName) + '"');
      }

      var propValue = props[propName];

      var children = (0, _renderableChildren2['default'])(propValue);
      if (children.length === 0) {
        return new TypeError(String(componentName) + ': renderable children are required.');
      }

      for (var _len3 = arguments.length, rest = Array(_len3 > 3 ? _len3 - 3 : 0), _key3 = 3; _key3 < _len3; _key3++) {
        rest[_key3 - 3] = arguments[_key3];
      }

      return seq.isRequired.apply(seq, [(0, _object2['default'])({}, props, { children: children }), propName, componentName].concat(rest));
    }

    return childrenSequenceOfRequired;
  }();

  return (0, _wrapValidator2['default'])(validator, 'childrenSequenceOf', specifiers);
}
//# sourceMappingURL=childrenSequenceOf.js.map

/***/ }),

/***/ "./node_modules/airbnb-prop-types/build/componentWithName.js":
/*!*******************************************************************!*\
  !*** ./node_modules/airbnb-prop-types/build/componentWithName.js ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports['default'] = componentWithName;

var _react = __webpack_require__(/*! react */ "./node_modules/react/index.js");

var _react2 = _interopRequireDefault(_react);

var _isRegex = __webpack_require__(/*! is-regex */ "./node_modules/is-regex/index.js");

var _isRegex2 = _interopRequireDefault(_isRegex);

var _arrayPrototype = __webpack_require__(/*! array.prototype.find */ "./node_modules/array.prototype.find/index.js");

var _arrayPrototype2 = _interopRequireDefault(_arrayPrototype);

var _getComponentName = __webpack_require__(/*! ./helpers/getComponentName */ "./node_modules/airbnb-prop-types/build/helpers/getComponentName.js");

var _getComponentName2 = _interopRequireDefault(_getComponentName);

var _wrapValidator = __webpack_require__(/*! ./helpers/wrapValidator */ "./node_modules/airbnb-prop-types/build/helpers/wrapValidator.js");

var _wrapValidator2 = _interopRequireDefault(_wrapValidator);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function stripHOCs(fullName, namesOfHOCsToStrip) {
  var innerName = fullName;
  while (/\([^()]*\)/g.test(innerName)) {
    var HOC = innerName;
    var previousHOC = void 0;
    do {
      previousHOC = HOC;
      HOC = previousHOC.replace(/\([^()]*\)/g, '');
    } while (previousHOC !== HOC);

    if (namesOfHOCsToStrip.indexOf(HOC) === -1) {
      return innerName;
    }
    innerName = innerName.replace(RegExp('^' + String(HOC) + '\\(|\\)$', 'g'), '');
  }
  return innerName;
}

function hasName(name, namesOfHOCsToStrip, propValue, propName, componentName) {
  for (var _len = arguments.length, rest = Array(_len > 5 ? _len - 5 : 0), _key = 5; _key < _len; _key++) {
    rest[_key - 5] = arguments[_key];
  }

  if (Array.isArray(propValue)) {
    return (0, _arrayPrototype2['default'])(propValue.map(function (item) {
      return hasName.apply(undefined, [name, namesOfHOCsToStrip, item, propName, componentName].concat(rest));
    }), Boolean) || null;
  }

  if (!_react2['default'].isValidElement(propValue)) {
    return new TypeError(String(componentName) + '.' + String(propName) + ' is not a valid React element');
  }

  var type = propValue.type;

  var componentNameFromType = (0, _getComponentName2['default'])(type);
  var innerComponentName = namesOfHOCsToStrip.length > 0 ? stripHOCs(componentNameFromType, namesOfHOCsToStrip) : componentNameFromType;

  if ((0, _isRegex2['default'])(name) && !name.test(innerComponentName)) {
    return new TypeError('`' + String(componentName) + '.' + String(propName) + '` only accepts components matching the regular expression ' + String(name));
  }

  if (!(0, _isRegex2['default'])(name) && innerComponentName !== name) {
    return new TypeError('`' + String(componentName) + '.' + String(propName) + '` only accepts components named ' + String(name) + ', got ' + String(innerComponentName));
  }

  return null;
}

function componentWithName(name) {
  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

  if (typeof name !== 'string' && !(0, _isRegex2['default'])(name)) {
    throw new TypeError('name must be a string or a regex');
  }

  var passedOptions = Object.keys(options);
  if (passedOptions.length > 1 || passedOptions.length === 1 && passedOptions[0] !== 'stripHOCs') {
    throw new TypeError('The only options supported are: \u201CstripHOCs\u201D, got: \u201C' + String(passedOptions.join('”, “')) + '\u201D');
  }
  var _options$stripHOCs = options.stripHOCs,
      namesOfHOCsToStrip = _options$stripHOCs === undefined ? [] : _options$stripHOCs;


  var allHOCNamesAreValid = namesOfHOCsToStrip.every(function (x) {
    if (typeof x !== 'string' || /[()]/g.test(x)) {
      return false;
    }
    return (/^(?:[a-z][a-zA-Z0-9]+|[A-Z][a-z][a-zA-Z0-9]+)$/.test(x)
    );
  });
  if (!allHOCNamesAreValid) {
    throw new TypeError('every provided HOC name must be a string with no parens, and in camelCase');
  }

  function componentWithNameValidator(props, propName, componentName) {
    var propValue = props[propName];

    if (props[propName] == null) {
      return null;
    }

    for (var _len2 = arguments.length, rest = Array(_len2 > 3 ? _len2 - 3 : 0), _key2 = 3; _key2 < _len2; _key2++) {
      rest[_key2 - 3] = arguments[_key2];
    }

    return hasName.apply(undefined, [name, namesOfHOCsToStrip, propValue, propName, componentName].concat(rest));
  }

  componentWithNameValidator.isRequired = function () {
    function componentWithNameRequired(props, propName, componentName) {
      var propValue = props[propName];

      if (propValue == null) {
        return new TypeError('`' + String(componentName) + '.' + String(propName) + '` requires at least one component named ' + String(name));
      }

      for (var _len3 = arguments.length, rest = Array(_len3 > 3 ? _len3 - 3 : 0), _key3 = 3; _key3 < _len3; _key3++) {
        rest[_key3 - 3] = arguments[_key3];
      }

      return hasName.apply(undefined, [name, namesOfHOCsToStrip, propValue, propName, componentName].concat(rest));
    }

    return componentWithNameRequired;
  }();

  return (0, _wrapValidator2['default'])(componentWithNameValidator, 'componentWithName:' + String(name), name);
}
//# sourceMappingURL=componentWithName.js.map

/***/ }),

/***/ "./node_modules/airbnb-prop-types/build/disallowedIf.js":
/*!**************************************************************!*\
  !*** ./node_modules/airbnb-prop-types/build/disallowedIf.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports['default'] = disallowedIf;

var _wrapValidator = __webpack_require__(/*! ./helpers/wrapValidator */ "./node_modules/airbnb-prop-types/build/helpers/wrapValidator.js");

var _wrapValidator2 = _interopRequireDefault(_wrapValidator);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function disallowedIf(propType, otherPropName, otherPropType) {
  if (typeof propType !== 'function' || typeof propType.isRequired !== 'function') {
    throw new TypeError('a propType validator is required; propType validators must also provide `.isRequired`');
  }

  if (typeof otherPropName !== 'string') {
    throw new TypeError('other prop name must be a string');
  }

  if (typeof otherPropType !== 'function') {
    throw new TypeError('other prop type validator is required');
  }

  function disallowedIfRequired(props, propName, componentName) {
    for (var _len = arguments.length, rest = Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {
      rest[_key - 3] = arguments[_key];
    }

    var error = propType.isRequired.apply(propType, [props, propName, componentName].concat(rest));
    if (error) {
      return error;
    }

    if (props[otherPropName] == null) {
      return null;
    }

    var otherError = otherPropType.apply(undefined, [props, otherPropName, componentName].concat(rest));
    if (otherError) {
      return null;
    }
    return new Error('prop \u201C' + String(propName) + '\u201D is disallowed when \u201C' + String(otherPropName) + '\u201D matches the provided validator');
  }

  var validator = function () {
    function disallowedIfPropType(props, propName) {
      if (props[propName] == null) {
        return null;
      }

      for (var _len2 = arguments.length, rest = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {
        rest[_key2 - 2] = arguments[_key2];
      }

      return disallowedIfRequired.apply(undefined, [props, propName].concat(rest));
    }

    return disallowedIfPropType;
  }();

  validator.isRequired = disallowedIfRequired;

  return (0, _wrapValidator2['default'])(validator, 'disallowedIf', { propType: propType, otherPropName: otherPropName, otherPropType: otherPropType });
}
//# sourceMappingURL=disallowedIf.js.map

/***/ }),

/***/ "./node_modules/airbnb-prop-types/build/elementType.js":
/*!*************************************************************!*\
  !*** ./node_modules/airbnb-prop-types/build/elementType.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

exports['default'] = elementTypeValidator;

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _and = __webpack_require__(/*! ./and */ "./node_modules/airbnb-prop-types/build/and.js");

var _and2 = _interopRequireDefault(_and);

var _getComponentName = __webpack_require__(/*! ./helpers/getComponentName */ "./node_modules/airbnb-prop-types/build/helpers/getComponentName.js");

var _getComponentName2 = _interopRequireDefault(_getComponentName);

var _wrapValidator = __webpack_require__(/*! ./helpers/wrapValidator */ "./node_modules/airbnb-prop-types/build/helpers/wrapValidator.js");

var _wrapValidator2 = _interopRequireDefault(_wrapValidator);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function getTypeName(Type) {
  if (typeof Type === 'string') {
    return Type;
  }
  var type = (0, _getComponentName2['default'])(Type);

  /* istanbul ignore next */ // in environments where functions do not have names
  return type || 'Anonymous Component';
}

function validateElementType(Type, props, propName, componentName) {
  var type = props[propName].type;


  if (type === Type) {
    return null;
  }

  return new TypeError(String(componentName) + '.' + String(propName) + ' must be a React element of type ' + String(getTypeName(Type)));
}

function elementTypeValidator(Type) {
  if (Type === '*') {
    return (0, _wrapValidator2['default'])(_propTypes.element, 'elementType(*)', Type);
  }

  if (typeof Type !== 'string' && typeof Type !== 'function') {
    throw new TypeError('Type must be a React Component, an HTML element tag name, or "*". Got an ' + (typeof Type === 'undefined' ? 'undefined' : _typeof(Type)));
  }

  function elementType(props, propName, componentName) {
    if (props[propName] == null) {
      return null;
    }

    for (var _len = arguments.length, rest = Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {
      rest[_key - 3] = arguments[_key];
    }

    return validateElementType.apply(undefined, [Type, props, propName, componentName].concat(rest));
  }
  elementType.isRequired = elementType; // covered by and + element

  var typeName = getTypeName(Type);
  var validatorName = 'elementType(' + String(typeName) + ')';
  return (0, _wrapValidator2['default'])((0, _and2['default'])([_propTypes.element, elementType], validatorName), validatorName, Type);
}
//# sourceMappingURL=elementType.js.map

/***/ }),

/***/ "./node_modules/airbnb-prop-types/build/explicitNull.js":
/*!**************************************************************!*\
  !*** ./node_modules/airbnb-prop-types/build/explicitNull.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _wrapValidator = __webpack_require__(/*! ./helpers/wrapValidator */ "./node_modules/airbnb-prop-types/build/helpers/wrapValidator.js");

var _wrapValidator2 = _interopRequireDefault(_wrapValidator);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function explicitNull(props, propName, componentName) {
  if (props[propName] == null) {
    return null;
  }
  return new TypeError(String(componentName) + ': prop \u201C' + String(propName) + '\u201D must be null or undefined; received ' + _typeof(props[propName]));
}
explicitNull.isRequired = function () {
  function explicitNullRequired(props, propName, componentName) {
    if (props[propName] === null) {
      return null;
    }
    return new TypeError(String(componentName) + ': prop \u201C' + String(propName) + '\u201D must be null; received ' + _typeof(props[propName]));
  }

  return explicitNullRequired;
}();

exports['default'] = function () {
  return (0, _wrapValidator2['default'])(explicitNull, 'explicitNull');
};
//# sourceMappingURL=explicitNull.js.map

/***/ }),

/***/ "./node_modules/airbnb-prop-types/build/helpers/getComponentName.js":
/*!**************************************************************************!*\
  !*** ./node_modules/airbnb-prop-types/build/helpers/getComponentName.js ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports['default'] = getComponentName;

var _functionPrototype = __webpack_require__(/*! function.prototype.name */ "./node_modules/function.prototype.name/index.js");

var _functionPrototype2 = _interopRequireDefault(_functionPrototype);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function getComponentName(Component) {
  if (typeof Component === 'string') {
    return Component;
  }
  if (typeof Component === 'function') {
    return Component.displayName || (0, _functionPrototype2['default'])(Component);
  }
  return null;
}
//# sourceMappingURL=getComponentName.js.map

/***/ }),

/***/ "./node_modules/airbnb-prop-types/build/helpers/isInteger.js":
/*!*******************************************************************!*\
  !*** ./node_modules/airbnb-prop-types/build/helpers/isInteger.js ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
var floor = Math.floor;

var finite = isFinite;

exports['default'] = Number.isInteger || /* istanbul ignore next */function (x) {
  return typeof x === 'number' && finite(x) && floor(x) === x;
};
//# sourceMappingURL=isInteger.js.map

/***/ }),

/***/ "./node_modules/airbnb-prop-types/build/helpers/isPlainObject.js":
/*!***********************************************************************!*\
  !*** ./node_modules/airbnb-prop-types/build/helpers/isPlainObject.js ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _isPlainObject = __webpack_require__(/*! prop-types-exact/build/helpers/isPlainObject */ "./node_modules/prop-types-exact/build/helpers/isPlainObject.js");

var _isPlainObject2 = _interopRequireDefault(_isPlainObject);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

exports['default'] = _isPlainObject2['default'];
//# sourceMappingURL=isPlainObject.js.map

/***/ }),

/***/ "./node_modules/airbnb-prop-types/build/helpers/isPrimitive.js":
/*!*********************************************************************!*\
  !*** ./node_modules/airbnb-prop-types/build/helpers/isPrimitive.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

exports['default'] = isPrimitive;
function isPrimitive(x) {
  return !x || (typeof x === 'undefined' ? 'undefined' : _typeof(x)) !== 'object' && typeof x !== 'function';
}
//# sourceMappingURL=isPrimitive.js.map

/***/ }),

/***/ "./node_modules/airbnb-prop-types/build/helpers/renderableChildren.js":
/*!****************************************************************************!*\
  !*** ./node_modules/airbnb-prop-types/build/helpers/renderableChildren.js ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports['default'] = renderableChildren;

var _react = __webpack_require__(/*! react */ "./node_modules/react/index.js");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function renderableChildren(childrenProp) {
  return _react2['default'].Children.toArray(childrenProp).filter(function (child) {
    return child === 0 || child;
  });
}
//# sourceMappingURL=renderableChildren.js.map

/***/ }),

/***/ "./node_modules/airbnb-prop-types/build/helpers/typeOf.js":
/*!****************************************************************!*\
  !*** ./node_modules/airbnb-prop-types/build/helpers/typeOf.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

exports['default'] = typeOf;

var _react = __webpack_require__(/*! react */ "./node_modules/react/index.js");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function typeOf(child) {
  if (child === null) {
    return 'null';
  }
  if (Array.isArray(child)) {
    return 'array';
  }
  if ((typeof child === 'undefined' ? 'undefined' : _typeof(child)) !== 'object') {
    return typeof child === 'undefined' ? 'undefined' : _typeof(child);
  }
  if (_react2['default'].isValidElement(child)) {
    return child.type;
  }
  return child;
}
//# sourceMappingURL=typeOf.js.map

/***/ }),

/***/ "./node_modules/airbnb-prop-types/build/helpers/wrapValidator.js":
/*!***********************************************************************!*\
  !*** ./node_modules/airbnb-prop-types/build/helpers/wrapValidator.js ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = wrapValidator;

var _object = __webpack_require__(/*! object.assign */ "./node_modules/object.assign/index.js");

var _object2 = _interopRequireDefault(_object);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function wrapValidator(validator, typeName) {
  var typeChecker = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;

  return (0, _object2["default"])(validator.bind(), {
    typeName: typeName,
    typeChecker: typeChecker,
    isRequired: (0, _object2["default"])(validator.isRequired.bind(), {
      typeName: typeName,
      typeChecker: typeChecker,
      typeRequired: true
    })
  });
}
//# sourceMappingURL=wrapValidator.js.map

/***/ }),

/***/ "./node_modules/airbnb-prop-types/build/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/airbnb-prop-types/build/index.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var _propTypesExact = __webpack_require__(/*! prop-types-exact */ "./node_modules/prop-types-exact/build/index.js");

var _propTypesExact2 = _interopRequireDefault(_propTypesExact);

var _and = __webpack_require__(/*! ./and */ "./node_modules/airbnb-prop-types/build/and.js");

var _and2 = _interopRequireDefault(_and);

var _between = __webpack_require__(/*! ./between */ "./node_modules/airbnb-prop-types/build/between.js");

var _between2 = _interopRequireDefault(_between);

var _booleanSome = __webpack_require__(/*! ./booleanSome */ "./node_modules/airbnb-prop-types/build/booleanSome.js");

var _booleanSome2 = _interopRequireDefault(_booleanSome);

var _childrenHavePropXorChildren = __webpack_require__(/*! ./childrenHavePropXorChildren */ "./node_modules/airbnb-prop-types/build/childrenHavePropXorChildren.js");

var _childrenHavePropXorChildren2 = _interopRequireDefault(_childrenHavePropXorChildren);

var _childrenOf = __webpack_require__(/*! ./childrenOf */ "./node_modules/airbnb-prop-types/build/childrenOf.js");

var _childrenOf2 = _interopRequireDefault(_childrenOf);

var _childrenOfType = __webpack_require__(/*! ./childrenOfType */ "./node_modules/airbnb-prop-types/build/childrenOfType.js");

var _childrenOfType2 = _interopRequireDefault(_childrenOfType);

var _childrenSequenceOf = __webpack_require__(/*! ./childrenSequenceOf */ "./node_modules/airbnb-prop-types/build/childrenSequenceOf.js");

var _childrenSequenceOf2 = _interopRequireDefault(_childrenSequenceOf);

var _componentWithName = __webpack_require__(/*! ./componentWithName */ "./node_modules/airbnb-prop-types/build/componentWithName.js");

var _componentWithName2 = _interopRequireDefault(_componentWithName);

var _disallowedIf = __webpack_require__(/*! ./disallowedIf */ "./node_modules/airbnb-prop-types/build/disallowedIf.js");

var _disallowedIf2 = _interopRequireDefault(_disallowedIf);

var _elementType = __webpack_require__(/*! ./elementType */ "./node_modules/airbnb-prop-types/build/elementType.js");

var _elementType2 = _interopRequireDefault(_elementType);

var _explicitNull = __webpack_require__(/*! ./explicitNull */ "./node_modules/airbnb-prop-types/build/explicitNull.js");

var _explicitNull2 = _interopRequireDefault(_explicitNull);

var _integer = __webpack_require__(/*! ./integer */ "./node_modules/airbnb-prop-types/build/integer.js");

var _integer2 = _interopRequireDefault(_integer);

var _keysOf = __webpack_require__(/*! ./keysOf */ "./node_modules/airbnb-prop-types/build/keysOf.js");

var _keysOf2 = _interopRequireDefault(_keysOf);

var _mutuallyExclusiveProps = __webpack_require__(/*! ./mutuallyExclusiveProps */ "./node_modules/airbnb-prop-types/build/mutuallyExclusiveProps.js");

var _mutuallyExclusiveProps2 = _interopRequireDefault(_mutuallyExclusiveProps);

var _mutuallyExclusiveTrueProps = __webpack_require__(/*! ./mutuallyExclusiveTrueProps */ "./node_modules/airbnb-prop-types/build/mutuallyExclusiveTrueProps.js");

var _mutuallyExclusiveTrueProps2 = _interopRequireDefault(_mutuallyExclusiveTrueProps);

var _nChildren = __webpack_require__(/*! ./nChildren */ "./node_modules/airbnb-prop-types/build/nChildren.js");

var _nChildren2 = _interopRequireDefault(_nChildren);

var _nonNegativeInteger = __webpack_require__(/*! ./nonNegativeInteger */ "./node_modules/airbnb-prop-types/build/nonNegativeInteger.js");

var _nonNegativeInteger2 = _interopRequireDefault(_nonNegativeInteger);

var _nonNegativeNumber = __webpack_require__(/*! ./nonNegativeNumber */ "./node_modules/airbnb-prop-types/build/nonNegativeNumber.js");

var _nonNegativeNumber2 = _interopRequireDefault(_nonNegativeNumber);

var _numericString = __webpack_require__(/*! ./numericString */ "./node_modules/airbnb-prop-types/build/numericString.js");

var _numericString2 = _interopRequireDefault(_numericString);

var _object = __webpack_require__(/*! ./object */ "./node_modules/airbnb-prop-types/build/object.js");

var _object2 = _interopRequireDefault(_object);

var _or = __webpack_require__(/*! ./or */ "./node_modules/airbnb-prop-types/build/or.js");

var _or2 = _interopRequireDefault(_or);

var _range = __webpack_require__(/*! ./range */ "./node_modules/airbnb-prop-types/build/range.js");

var _range2 = _interopRequireDefault(_range);

var _requiredBy = __webpack_require__(/*! ./requiredBy */ "./node_modules/airbnb-prop-types/build/requiredBy.js");

var _requiredBy2 = _interopRequireDefault(_requiredBy);

var _restrictedProp = __webpack_require__(/*! ./restrictedProp */ "./node_modules/airbnb-prop-types/build/restrictedProp.js");

var _restrictedProp2 = _interopRequireDefault(_restrictedProp);

var _sequenceOf = __webpack_require__(/*! ./sequenceOf */ "./node_modules/airbnb-prop-types/build/sequenceOf.js");

var _sequenceOf2 = _interopRequireDefault(_sequenceOf);

var _shape = __webpack_require__(/*! ./shape */ "./node_modules/airbnb-prop-types/build/shape.js");

var _shape2 = _interopRequireDefault(_shape);

var _stringStartsWith = __webpack_require__(/*! ./stringStartsWith */ "./node_modules/airbnb-prop-types/build/stringStartsWith.js");

var _stringStartsWith2 = _interopRequireDefault(_stringStartsWith);

var _uniqueArray = __webpack_require__(/*! ./uniqueArray */ "./node_modules/airbnb-prop-types/build/uniqueArray.js");

var _uniqueArray2 = _interopRequireDefault(_uniqueArray);

var _uniqueArrayOf = __webpack_require__(/*! ./uniqueArrayOf */ "./node_modules/airbnb-prop-types/build/uniqueArrayOf.js");

var _uniqueArrayOf2 = _interopRequireDefault(_uniqueArrayOf);

var _valuesOf = __webpack_require__(/*! ./valuesOf */ "./node_modules/airbnb-prop-types/build/valuesOf.js");

var _valuesOf2 = _interopRequireDefault(_valuesOf);

var _withShape = __webpack_require__(/*! ./withShape */ "./node_modules/airbnb-prop-types/build/withShape.js");

var _withShape2 = _interopRequireDefault(_withShape);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

module.exports = {
  and: _and2['default'],
  between: _between2['default'],
  booleanSome: _booleanSome2['default'],
  childrenHavePropXorChildren: _childrenHavePropXorChildren2['default'],
  childrenOf: _childrenOf2['default'],
  childrenOfType: _childrenOfType2['default'],
  childrenSequenceOf: _childrenSequenceOf2['default'],
  componentWithName: _componentWithName2['default'],
  disallowedIf: _disallowedIf2['default'],
  elementType: _elementType2['default'],
  explicitNull: _explicitNull2['default'],
  forbidExtraProps: _propTypesExact2['default'],
  integer: _integer2['default'],
  keysOf: _keysOf2['default'],
  mutuallyExclusiveProps: _mutuallyExclusiveProps2['default'],
  mutuallyExclusiveTrueProps: _mutuallyExclusiveTrueProps2['default'],
  nChildren: _nChildren2['default'],
  nonNegativeInteger: _nonNegativeInteger2['default'],
  nonNegativeNumber: _nonNegativeNumber2['default'],
  numericString: _numericString2['default'],
  object: _object2['default'],
  or: _or2['default'],
  range: _range2['default'],
  requiredBy: _requiredBy2['default'],
  restrictedProp: _restrictedProp2['default'],
  sequenceOf: _sequenceOf2['default'],
  shape: _shape2['default'],
  stringStartsWith: _stringStartsWith2['default'],
  uniqueArray: _uniqueArray2['default'],
  uniqueArrayOf: _uniqueArrayOf2['default'],
  valuesOf: _valuesOf2['default'],
  withShape: _withShape2['default']
};
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/airbnb-prop-types/build/integer.js":
/*!*********************************************************!*\
  !*** ./node_modules/airbnb-prop-types/build/integer.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _isInteger = __webpack_require__(/*! ./helpers/isInteger */ "./node_modules/airbnb-prop-types/build/helpers/isInteger.js");

var _isInteger2 = _interopRequireDefault(_isInteger);

var _wrapValidator = __webpack_require__(/*! ./helpers/wrapValidator */ "./node_modules/airbnb-prop-types/build/helpers/wrapValidator.js");

var _wrapValidator2 = _interopRequireDefault(_wrapValidator);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function requiredInteger(props, propName, componentName) {
  var propValue = props[propName];

  if (propValue == null || !(0, _isInteger2['default'])(propValue)) {
    return new RangeError(String(propName) + ' in ' + String(componentName) + ' must be an integer');
  }
  return null;
}

var validator = function () {
  function integer(props, propName) {
    var propValue = props[propName];


    if (propValue == null) {
      return null;
    }

    for (var _len = arguments.length, rest = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {
      rest[_key - 2] = arguments[_key];
    }

    return requiredInteger.apply(undefined, [props, propName].concat(rest));
  }

  return integer;
}();

validator.isRequired = requiredInteger;

exports['default'] = function () {
  return (0, _wrapValidator2['default'])(validator, 'integer');
};
//# sourceMappingURL=integer.js.map

/***/ }),

/***/ "./node_modules/airbnb-prop-types/build/keysOf.js":
/*!********************************************************!*\
  !*** ./node_modules/airbnb-prop-types/build/keysOf.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports['default'] = keysOfValidator;

var _isPrimitive = __webpack_require__(/*! ./helpers/isPrimitive */ "./node_modules/airbnb-prop-types/build/helpers/isPrimitive.js");

var _isPrimitive2 = _interopRequireDefault(_isPrimitive);

var _wrapValidator = __webpack_require__(/*! ./helpers/wrapValidator */ "./node_modules/airbnb-prop-types/build/helpers/wrapValidator.js");

var _wrapValidator2 = _interopRequireDefault(_wrapValidator);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function keysOfValidator(propType) {
  var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'keysOf';

  if (typeof propType !== 'function') {
    throw new TypeError('argument to keysOf must be a valid PropType function');
  }

  var validator = function () {
    function keysOf(props, propName, componentName, location, propFullName) {
      for (var _len = arguments.length, rest = Array(_len > 5 ? _len - 5 : 0), _key = 5; _key < _len; _key++) {
        rest[_key - 5] = arguments[_key];
      }

      var propValue = props[propName];


      if (propValue == null || (0, _isPrimitive2['default'])(propValue)) {
        return null;
      }

      var firstError = null;
      Object.keys(propValue).some(function (key) {
        firstError = propType.apply(undefined, [_defineProperty({}, key, key), key, componentName, location, '(' + String(propFullName) + ').' + String(key)].concat(rest));
        return firstError != null;
      });
      return firstError || null;
    }

    return keysOf;
  }();

  validator.isRequired = function () {
    function keyedByRequired(props, propName, componentName) {
      var propValue = props[propName];


      if (propValue == null) {
        return new TypeError(String(componentName) + ': ' + String(propName) + ' is required, but value is ' + String(propValue));
      }

      for (var _len2 = arguments.length, rest = Array(_len2 > 3 ? _len2 - 3 : 0), _key2 = 3; _key2 < _len2; _key2++) {
        rest[_key2 - 3] = arguments[_key2];
      }

      return validator.apply(undefined, [props, propName, componentName].concat(rest));
    }

    return keyedByRequired;
  }();

  return (0, _wrapValidator2['default'])(validator, name, propType);
}
//# sourceMappingURL=keysOf.js.map

/***/ }),

/***/ "./node_modules/airbnb-prop-types/build/mutuallyExclusiveProps.js":
/*!************************************************************************!*\
  !*** ./node_modules/airbnb-prop-types/build/mutuallyExclusiveProps.js ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports['default'] = mutuallyExclusiveOfType;

var _object = __webpack_require__(/*! object.assign */ "./node_modules/object.assign/index.js");

var _object2 = _interopRequireDefault(_object);

var _wrapValidator = __webpack_require__(/*! ./helpers/wrapValidator */ "./node_modules/airbnb-prop-types/build/helpers/wrapValidator.js");

var _wrapValidator2 = _interopRequireDefault(_wrapValidator);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function mutuallyExclusiveOfType(propType) {
  if (typeof propType !== 'function') {
    throw new TypeError('a propType is required');
  }

  for (var _len = arguments.length, exclusiveProps = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    exclusiveProps[_key - 1] = arguments[_key];
  }

  if (exclusiveProps.length < 1) {
    throw new TypeError('at least one prop that is mutually exclusive with this propType is required');
  }

  var propList = exclusiveProps.join(', or ');

  var map = exclusiveProps.reduce(function (acc, prop) {
    return (0, _object2['default'])({}, acc, _defineProperty({}, prop, true));
  }, {});
  var countProps = function countProps(count, prop) {
    return count + (map[prop] ? 1 : 0);
  };

  var validator = function () {
    function mutuallyExclusiveProps(props, propName, componentName) {
      var exclusivePropCount = Object.keys(props).filter(function (prop) {
        return props[prop] != null;
      }).reduce(countProps, 0);
      if (exclusivePropCount > 1) {
        return new Error('A ' + String(componentName) + ' cannot have more than one of these props: ' + String(propList));
      }

      for (var _len2 = arguments.length, rest = Array(_len2 > 3 ? _len2 - 3 : 0), _key2 = 3; _key2 < _len2; _key2++) {
        rest[_key2 - 3] = arguments[_key2];
      }

      return propType.apply(undefined, [props, propName, componentName].concat(rest));
    }

    return mutuallyExclusiveProps;
  }();

  validator.isRequired = function () {
    function mutuallyExclusivePropsRequired(props, propName, componentName) {
      var exclusivePropCount = Object.keys(props).filter(function (prop) {
        return prop === propName || props[prop] != null;
      }).reduce(countProps, 0);
      if (exclusivePropCount > 1) {
        return new Error('A ' + String(componentName) + ' cannot have more than one of these props: ' + String(propList));
      }

      for (var _len3 = arguments.length, rest = Array(_len3 > 3 ? _len3 - 3 : 0), _key3 = 3; _key3 < _len3; _key3++) {
        rest[_key3 - 3] = arguments[_key3];
      }

      return propType.apply(undefined, [props, propName, componentName].concat(rest));
    }

    return mutuallyExclusivePropsRequired;
  }();

  return (0, _wrapValidator2['default'])(validator, 'mutuallyExclusiveProps:' + String(propList), exclusiveProps);
}
//# sourceMappingURL=mutuallyExclusiveProps.js.map

/***/ }),

/***/ "./node_modules/airbnb-prop-types/build/mutuallyExclusiveTrueProps.js":
/*!****************************************************************************!*\
  !*** ./node_modules/airbnb-prop-types/build/mutuallyExclusiveTrueProps.js ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports['default'] = mutuallyExclusiveTrue;

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _wrapValidator = __webpack_require__(/*! ./helpers/wrapValidator */ "./node_modules/airbnb-prop-types/build/helpers/wrapValidator.js");

var _wrapValidator2 = _interopRequireDefault(_wrapValidator);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function mutuallyExclusiveTrue() {
  for (var _len = arguments.length, exclusiveProps = Array(_len), _key = 0; _key < _len; _key++) {
    exclusiveProps[_key] = arguments[_key];
  }

  if (exclusiveProps.length < 1) {
    throw new TypeError('at least one prop that is mutually exclusive is required');
  }
  if (!exclusiveProps.every(function (x) {
    return typeof x === 'string';
  })) {
    throw new TypeError('all exclusive true props must be strings');
  }

  var propsList = exclusiveProps.join(', or ');

  var validator = function () {
    function mutuallyExclusiveTrueProps(props, propName, componentName) {
      var countProps = function () {
        function countProps(count, prop) {
          return count + (props[prop] ? 1 : 0);
        }

        return countProps;
      }();

      var exclusivePropCount = exclusiveProps.reduce(countProps, 0);
      if (exclusivePropCount > 1) {
        return new Error('A ' + String(componentName) + ' cannot have more than one of these boolean props be true: ' + String(propsList));
      }

      for (var _len2 = arguments.length, rest = Array(_len2 > 3 ? _len2 - 3 : 0), _key2 = 3; _key2 < _len2; _key2++) {
        rest[_key2 - 3] = arguments[_key2];
      }

      return _propTypes.bool.apply(undefined, [props, propName, componentName].concat(rest));
    }

    return mutuallyExclusiveTrueProps;
  }();

  validator.isRequired = function () {
    function mutuallyExclusiveTruePropsRequired(props, propName, componentName) {
      var countProps = function () {
        function countProps(count, prop) {
          return count + (props[prop] ? 1 : 0);
        }

        return countProps;
      }();

      var exclusivePropCount = exclusiveProps.reduce(countProps, 0);
      if (exclusivePropCount > 1) {
        return new Error('A ' + String(componentName) + ' cannot have more than one of these boolean props be true: ' + String(propsList));
      }

      for (var _len3 = arguments.length, rest = Array(_len3 > 3 ? _len3 - 3 : 0), _key3 = 3; _key3 < _len3; _key3++) {
        rest[_key3 - 3] = arguments[_key3];
      }

      return _propTypes.bool.isRequired.apply(_propTypes.bool, [props, propName, componentName].concat(rest));
    }

    return mutuallyExclusiveTruePropsRequired;
  }();

  return (0, _wrapValidator2['default'])(validator, 'mutuallyExclusiveTrueProps: ' + String(propsList), exclusiveProps);
}
//# sourceMappingURL=mutuallyExclusiveTrueProps.js.map

/***/ }),

/***/ "./node_modules/airbnb-prop-types/build/nChildren.js":
/*!***********************************************************!*\
  !*** ./node_modules/airbnb-prop-types/build/nChildren.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports['default'] = nChildren;

var _react = __webpack_require__(/*! react */ "./node_modules/react/index.js");

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _wrapValidator = __webpack_require__(/*! ./helpers/wrapValidator */ "./node_modules/airbnb-prop-types/build/helpers/wrapValidator.js");

var _wrapValidator2 = _interopRequireDefault(_wrapValidator);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function nChildren(n) {
  var propType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _propTypes.node;

  if (typeof n !== 'number' || isNaN(n) || n < 0) {
    throw new TypeError('a non-negative number is required');
  }

  var validator = function () {
    function nChildrenValidator(props, propName, componentName) {
      if (propName !== 'children') {
        return new TypeError(String(componentName) + ' is using the nChildren validator on a non-children prop');
      }

      var children = props.children;

      var childrenCount = _react2['default'].Children.count(children);

      if (childrenCount !== n) {
        return new RangeError(String(componentName) + ' expects to receive ' + String(n) + ' children, but received ' + String(childrenCount) + ' children.');
      }

      for (var _len = arguments.length, rest = Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {
        rest[_key - 3] = arguments[_key];
      }

      return propType.apply(undefined, [props, propName, componentName].concat(rest));
    }

    return nChildrenValidator;
  }();
  validator.isRequired = validator;

  return (0, _wrapValidator2['default'])(validator, 'nChildren:' + String(n), n);
}
//# sourceMappingURL=nChildren.js.map

/***/ }),

/***/ "./node_modules/airbnb-prop-types/build/nonNegativeInteger.js":
/*!********************************************************************!*\
  !*** ./node_modules/airbnb-prop-types/build/nonNegativeInteger.js ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _and = __webpack_require__(/*! ./and */ "./node_modules/airbnb-prop-types/build/and.js");

var _and2 = _interopRequireDefault(_and);

var _integer = __webpack_require__(/*! ./integer */ "./node_modules/airbnb-prop-types/build/integer.js");

var _integer2 = _interopRequireDefault(_integer);

var _nonNegativeNumber = __webpack_require__(/*! ./nonNegativeNumber */ "./node_modules/airbnb-prop-types/build/nonNegativeNumber.js");

var _nonNegativeNumber2 = _interopRequireDefault(_nonNegativeNumber);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

exports['default'] = (0, _and2['default'])([(0, _integer2['default'])(), (0, _nonNegativeNumber2['default'])()], 'nonNegativeInteger');
//# sourceMappingURL=nonNegativeInteger.js.map

/***/ }),

/***/ "./node_modules/airbnb-prop-types/build/nonNegativeNumber.js":
/*!*******************************************************************!*\
  !*** ./node_modules/airbnb-prop-types/build/nonNegativeNumber.js ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _objectIs = __webpack_require__(/*! object-is */ "./node_modules/object-is/index.js");

var _objectIs2 = _interopRequireDefault(_objectIs);

var _wrapValidator = __webpack_require__(/*! ./helpers/wrapValidator */ "./node_modules/airbnb-prop-types/build/helpers/wrapValidator.js");

var _wrapValidator2 = _interopRequireDefault(_wrapValidator);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function isNonNegative(x) {
  return typeof x === 'number' && isFinite(x) && x >= 0 && !(0, _objectIs2['default'])(x, -0);
}

function nonNegativeNumber(props, propName, componentName) {
  var value = props[propName];

  if (value == null || isNonNegative(value)) {
    return null;
  }

  return new RangeError(String(propName) + ' in ' + String(componentName) + ' must be a non-negative number');
}

function requiredNonNegativeNumber(props, propName, componentName) {
  var value = props[propName];

  if (isNonNegative(value)) {
    return null;
  }

  return new RangeError(String(propName) + ' in ' + String(componentName) + ' must be a non-negative number');
}

nonNegativeNumber.isRequired = requiredNonNegativeNumber;

exports['default'] = function () {
  return (0, _wrapValidator2['default'])(nonNegativeNumber, 'nonNegativeNumber');
};
//# sourceMappingURL=nonNegativeNumber.js.map

/***/ }),

/***/ "./node_modules/airbnb-prop-types/build/numericString.js":
/*!***************************************************************!*\
  !*** ./node_modules/airbnb-prop-types/build/numericString.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _wrapValidator = __webpack_require__(/*! ./helpers/wrapValidator */ "./node_modules/airbnb-prop-types/build/helpers/wrapValidator.js");

var _wrapValidator2 = _interopRequireDefault(_wrapValidator);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var validNumericChars = /^[-+]?(?:[1-9][0-9]*(?:\.[0-9]+)?|0|0\.[0-9]+)$/;

var validator = function () {
  function numericString(props, propName, componentName) {
    if (props[propName] == null) {
      return null;
    }

    for (var _len = arguments.length, rest = Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {
      rest[_key - 3] = arguments[_key];
    }

    var stringError = _propTypes.string.apply(undefined, [props, propName, componentName].concat(rest));
    if (stringError) {
      return stringError;
    }

    var value = props[propName];

    var passesRegex = validNumericChars.test(value);
    if (passesRegex) {
      return null;
    }

    return new TypeError(String(componentName) + ': prop "' + String(propName) + '" (value "' + String(value) + '") must be a numeric string:\n    - starting with an optional + or -\n    - that does not have a leading zero\n    - with an optional decimal part (that contains only one decimal point, if present)\n    - that otherwise only contains digits (0-9)\n    - not +-NaN, or +-Infinity\n  ');
  }

  return numericString;
}();

validator.isRequired = function () {
  function numericStringRequired(props, propName, componentName) {
    if (props[propName] == null) {
      return new TypeError(String(componentName) + ': ' + String(propName) + ' is required');
    }

    for (var _len2 = arguments.length, rest = Array(_len2 > 3 ? _len2 - 3 : 0), _key2 = 3; _key2 < _len2; _key2++) {
      rest[_key2 - 3] = arguments[_key2];
    }

    return validator.apply(undefined, [props, propName, componentName].concat(rest));
  }

  return numericStringRequired;
}();

exports['default'] = function () {
  return (0, _wrapValidator2['default'])(validator, 'numericString');
};
//# sourceMappingURL=numericString.js.map

/***/ }),

/***/ "./node_modules/airbnb-prop-types/build/object.js":
/*!********************************************************!*\
  !*** ./node_modules/airbnb-prop-types/build/object.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _isPlainObject = __webpack_require__(/*! ./helpers/isPlainObject */ "./node_modules/airbnb-prop-types/build/helpers/isPlainObject.js");

var _isPlainObject2 = _interopRequireDefault(_isPlainObject);

var _typeOf = __webpack_require__(/*! ./helpers/typeOf */ "./node_modules/airbnb-prop-types/build/helpers/typeOf.js");

var _typeOf2 = _interopRequireDefault(_typeOf);

var _wrapValidator = __webpack_require__(/*! ./helpers/wrapValidator */ "./node_modules/airbnb-prop-types/build/helpers/wrapValidator.js");

var _wrapValidator2 = _interopRequireDefault(_wrapValidator);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

/*
  code adapted from https://github.com/facebook/react/blob/14156e56b9cf18ac86963185c5af4abddf3ff811/src/isomorphic/classic/types/ReactPropTypes.js#L202-L206
  so that it can be called outside of React's normal PropType flow
*/

var ReactPropTypeLocationNames = {
  prop: 'prop',
  context: 'context',
  childContext: 'child context'
};

function object(props, propName, componentName, location, propFullName) {
  var propValue = props[propName];

  if (propValue == null) {
    return null;
  }

  if ((0, _isPlainObject2['default'])(propValue)) {
    return null;
  }
  var locationName = ReactPropTypeLocationNames[location] || location;
  return new TypeError('Invalid ' + String(locationName) + ' `' + String(propFullName) + '` of type `' + String((0, _typeOf2['default'])(propValue)) + '` supplied to `' + String(componentName) + '`, expected `object`.');
}
object.isRequired = function () {
  function objectRequired(props, propName, componentName, location, propFullName) {
    var propValue = props[propName];

    if (propValue == null) {
      var locationName = ReactPropTypeLocationNames[location] || location;
      return new TypeError('The ' + String(locationName) + ' `' + String(propFullName) + '` is marked as required in `' + String(componentName) + '`, but its value is `' + String(propValue) + '`.');
    }

    for (var _len = arguments.length, rest = Array(_len > 5 ? _len - 5 : 0), _key = 5; _key < _len; _key++) {
      rest[_key - 5] = arguments[_key];
    }

    return object.apply(undefined, [props, propName, componentName, location, propFullName].concat(rest));
  }

  return objectRequired;
}();

exports['default'] = function () {
  return (0, _wrapValidator2['default'])(object, 'object');
};
//# sourceMappingURL=object.js.map

/***/ }),

/***/ "./node_modules/airbnb-prop-types/build/or.js":
/*!****************************************************!*\
  !*** ./node_modules/airbnb-prop-types/build/or.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports['default'] = or;

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _wrapValidator = __webpack_require__(/*! ./helpers/wrapValidator */ "./node_modules/airbnb-prop-types/build/helpers/wrapValidator.js");

var _wrapValidator2 = _interopRequireDefault(_wrapValidator);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

function oneOfTypeValidator(validators) {
  var validator = function () {
    function oneOfType(props, propName, componentName) {
      for (var _len = arguments.length, rest = Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {
        rest[_key - 3] = arguments[_key];
      }

      var propValue = props[propName];

      if (typeof propValue === 'undefined') {
        return null;
      }

      var errors = validators.map(function (v) {
        return v.apply(undefined, [props, propName, componentName].concat(rest));
      }).filter(Boolean);

      if (errors.length < validators.length) {
        return null;
      }
      return new TypeError(String(componentName) + ': invalid value supplied to ' + String(propName) + '.');
    }

    return oneOfType;
  }();
  validator.isRequired = function () {
    function oneOfTypeRequired(props, propName, componentName) {
      for (var _len2 = arguments.length, rest = Array(_len2 > 3 ? _len2 - 3 : 0), _key2 = 3; _key2 < _len2; _key2++) {
        rest[_key2 - 3] = arguments[_key2];
      }

      var propValue = props[propName];

      if (typeof propValue === 'undefined') {
        return new TypeError(String(componentName) + ': missing value for required ' + String(propName) + '.');
      }

      var errors = validators.map(function (v) {
        return v.apply(undefined, [props, propName, componentName].concat(rest));
      }).filter(Boolean);

      if (errors.length === validators.length) {
        return new TypeError(String(componentName) + ': invalid value ' + String(errors) + ' supplied to required ' + String(propName) + '.');
      }
      return null;
    }

    return oneOfTypeRequired;
  }();
  return (0, _wrapValidator2['default'])(validator, 'oneOfType', validators);
}

function or(validators) {
  var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'or';

  if (!Array.isArray(validators)) {
    throw new TypeError('or: 2 or more validators are required');
  }
  if (validators.length <= 1) {
    throw new RangeError('or: 2 or more validators are required');
  }

  var validator = oneOfTypeValidator([(0, _propTypes.arrayOf)(oneOfTypeValidator(validators))].concat(_toConsumableArray(validators)));

  return (0, _wrapValidator2['default'])(validator, name, validators);
}
//# sourceMappingURL=or.js.map

/***/ }),

/***/ "./node_modules/airbnb-prop-types/build/range.js":
/*!*******************************************************!*\
  !*** ./node_modules/airbnb-prop-types/build/range.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports['default'] = range;

var _and = __webpack_require__(/*! ./and */ "./node_modules/airbnb-prop-types/build/and.js");

var _and2 = _interopRequireDefault(_and);

var _between = __webpack_require__(/*! ./between */ "./node_modules/airbnb-prop-types/build/between.js");

var _between2 = _interopRequireDefault(_between);

var _integer = __webpack_require__(/*! ./integer */ "./node_modules/airbnb-prop-types/build/integer.js");

var _integer2 = _interopRequireDefault(_integer);

var _isInteger = __webpack_require__(/*! ./helpers/isInteger */ "./node_modules/airbnb-prop-types/build/helpers/isInteger.js");

var _isInteger2 = _interopRequireDefault(_isInteger);

var _wrapValidator = __webpack_require__(/*! ./helpers/wrapValidator */ "./node_modules/airbnb-prop-types/build/helpers/wrapValidator.js");

var _wrapValidator2 = _interopRequireDefault(_wrapValidator);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER || /* istanbul ignore next */Math.pow(2, 53) - 1;

function isValidLength(x) {
  return (0, _isInteger2['default'])(x) && Math.abs(x) < MAX_SAFE_INTEGER;
}

function range(min, max) {
  if (!isValidLength(min) || !isValidLength(max)) {
    throw new RangeError('"range" requires two integers: ' + String(min) + ' and ' + String(max) + ' given');
  }
  if (min === max) {
    throw new RangeError('min and max must not be the same');
  }
  return (0, _wrapValidator2['default'])((0, _and2['default'])([(0, _integer2['default'])(), (0, _between2['default'])({ gte: min, lt: max })], 'range'), 'range', { min: min, max: max });
}
//# sourceMappingURL=range.js.map

/***/ }),

/***/ "./node_modules/airbnb-prop-types/build/requiredBy.js":
/*!************************************************************!*\
  !*** ./node_modules/airbnb-prop-types/build/requiredBy.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports['default'] = getRequiredBy;

var _objectIs = __webpack_require__(/*! object-is */ "./node_modules/object-is/index.js");

var _objectIs2 = _interopRequireDefault(_objectIs);

var _wrapValidator = __webpack_require__(/*! ./helpers/wrapValidator */ "./node_modules/airbnb-prop-types/build/helpers/wrapValidator.js");

var _wrapValidator2 = _interopRequireDefault(_wrapValidator);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function getRequiredBy(requiredByPropName, propType) {
  var defaultValue = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;

  function requiredBy(props, propName, componentName) {
    if (props[requiredByPropName]) {
      var propValue = props[propName];

      if ((0, _objectIs2['default'])(propValue, defaultValue) || typeof propValue === 'undefined') {
        return new TypeError(String(componentName) + ': when ' + String(requiredByPropName) + ' is true, prop \u201C' + String(propName) + '\u201D must be present.');
      }
    }

    for (var _len = arguments.length, rest = Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {
      rest[_key - 3] = arguments[_key];
    }

    return propType.apply(undefined, [props, propName, componentName].concat(rest));
  }
  requiredBy.isRequired = function () {
    function requiredByRequired(props, propName, componentName) {
      var propValue = props[propName];

      if ((0, _objectIs2['default'])(propValue, defaultValue)) {
        return new TypeError(String(componentName) + ': prop \u201C' + String(propName) + '\u201D must be present.');
      }

      for (var _len2 = arguments.length, rest = Array(_len2 > 3 ? _len2 - 3 : 0), _key2 = 3; _key2 < _len2; _key2++) {
        rest[_key2 - 3] = arguments[_key2];
      }

      return propType.isRequired.apply(propType, [props, propName, componentName].concat(rest));
    }

    return requiredByRequired;
  }();

  return (0, _wrapValidator2['default'])(requiredBy, 'requiredBy \u201C' + String(requiredByPropName) + '\u201D', [requiredByPropName, defaultValue]);
}
//# sourceMappingURL=requiredBy.js.map

/***/ }),

/***/ "./node_modules/airbnb-prop-types/build/restrictedProp.js":
/*!****************************************************************!*\
  !*** ./node_modules/airbnb-prop-types/build/restrictedProp.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _wrapValidator = __webpack_require__(/*! ./helpers/wrapValidator */ "./node_modules/airbnb-prop-types/build/helpers/wrapValidator.js");

var _wrapValidator2 = _interopRequireDefault(_wrapValidator);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function customMessageWrapper(messsageFunction) {
  function restrictedProp(props, propName, componentName, location) {
    if (props[propName] == null) {
      return null;
    }

    if (messsageFunction && typeof messsageFunction === 'function') {
      for (var _len = arguments.length, rest = Array(_len > 4 ? _len - 4 : 0), _key = 4; _key < _len; _key++) {
        rest[_key - 4] = arguments[_key];
      }

      return new TypeError(messsageFunction.apply(undefined, [props, propName, componentName, location].concat(rest)));
    }
    return new TypeError('The ' + String(propName) + ' ' + String(location) + ' on ' + String(componentName) + ' is not allowed.');
  }
  restrictedProp.isRequired = restrictedProp;
  return restrictedProp;
}

exports['default'] = function () {
  var messsageFunction = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
  return (0, _wrapValidator2['default'])(customMessageWrapper(messsageFunction), 'restrictedProp');
};
//# sourceMappingURL=restrictedProp.js.map

/***/ }),

/***/ "./node_modules/airbnb-prop-types/build/sequenceOf.js":
/*!************************************************************!*\
  !*** ./node_modules/airbnb-prop-types/build/sequenceOf.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports['default'] = sequenceOfValidator;

var _object = __webpack_require__(/*! object.assign */ "./node_modules/object.assign/index.js");

var _object2 = _interopRequireDefault(_object);

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _and = __webpack_require__(/*! ./and */ "./node_modules/airbnb-prop-types/build/and.js");

var _and2 = _interopRequireDefault(_and);

var _between = __webpack_require__(/*! ./between */ "./node_modules/airbnb-prop-types/build/between.js");

var _between2 = _interopRequireDefault(_between);

var _nonNegativeInteger = __webpack_require__(/*! ./nonNegativeInteger */ "./node_modules/airbnb-prop-types/build/nonNegativeInteger.js");

var _nonNegativeInteger2 = _interopRequireDefault(_nonNegativeInteger);

var _object3 = __webpack_require__(/*! ./object */ "./node_modules/airbnb-prop-types/build/object.js");

var _object4 = _interopRequireDefault(_object3);

var _withShape = __webpack_require__(/*! ./withShape */ "./node_modules/airbnb-prop-types/build/withShape.js");

var _withShape2 = _interopRequireDefault(_withShape);

var _typeOf = __webpack_require__(/*! ./helpers/typeOf */ "./node_modules/airbnb-prop-types/build/helpers/typeOf.js");

var _typeOf2 = _interopRequireDefault(_typeOf);

var _wrapValidator = __webpack_require__(/*! ./helpers/wrapValidator */ "./node_modules/airbnb-prop-types/build/helpers/wrapValidator.js");

var _wrapValidator2 = _interopRequireDefault(_wrapValidator);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var minValidator = _nonNegativeInteger2['default'];
var maxValidator = (0, _and2['default'])([_nonNegativeInteger2['default'], (0, _between2['default'])({ gte: 1 })]);

function validateRange(min, max) {
  if (typeof max !== 'number' || typeof min !== 'number') {
    return null; // no additional checking needed unless both are present
  }

  if (min <= max) {
    return null;
  }
  return new RangeError('min must be less than or equal to max');
}

var specifierShape = {
  validator: function () {
    function validator(props, propName) {
      var propValue = props[propName];

      if (typeof propValue !== 'function') {
        return new TypeError('"validator" must be a propType validator function');
      }
      return null;
    }

    return validator;
  }(),
  min: function () {
    function min(props, propName) {
      return minValidator(props, propName) || validateRange(props.min, props.max);
    }

    return min;
  }(),
  max: function () {
    function max(props, propName) {
      return maxValidator(props, propName) || validateRange(props.min, props.max);
    }

    return max;
  }()
};

function getMinMax(_ref) {
  var min = _ref.min,
      max = _ref.max;

  var minimum = void 0;
  var maximum = void 0;
  if (typeof min !== 'number' && typeof max !== 'number') {
    // neither provided, default to "1"
    minimum = 1;
    maximum = 1;
  } else {
    minimum = typeof min === 'number' ? min : 1;
    maximum = typeof max === 'number' ? max : Infinity;
  }
  return { minimum: minimum, maximum: maximum };
}

function chunkByType(items) {
  var chunk = [];
  var lastType = void 0;
  return items.reduce(function (chunks, item) {
    var itemType = (0, _typeOf2['default'])(item);
    if (!lastType || itemType === lastType) {
      chunk.push(item);
    } else {
      chunks.push(chunk);
      chunk = [item];
    }
    lastType = itemType;
    return chunks;
  }, []).concat(chunk.length > 0 ? [chunk] : []);
}

function validateChunks(specifiers, props, propName, componentName) {
  var items = props[propName];

  var chunks = chunkByType(items);

  for (var _len = arguments.length, rest = Array(_len > 4 ? _len - 4 : 0), _key = 4; _key < _len; _key++) {
    rest[_key - 4] = arguments[_key];
  }

  for (var i = 0; i < specifiers.length; i += 1) {
    var _specifiers$i = specifiers[i],
        validator = _specifiers$i.validator,
        min = _specifiers$i.min,
        max = _specifiers$i.max;

    var _getMinMax = getMinMax({ min: min, max: max }),
        minimum = _getMinMax.minimum,
        maximum = _getMinMax.maximum;

    if (chunks.length === 0 && minimum === 0) {
      // no chunks left, but this specifier does not require any items
      continue; // eslint-disable-line no-continue
    }

    var arrayOfValidator = (0, _propTypes.arrayOf)(validator).isRequired;

    var chunk = chunks.shift(); // extract the next chunk to test

    var chunkError = arrayOfValidator.apply(undefined, [(0, _object2['default'])({}, props, _defineProperty({}, propName, chunk)), propName, componentName].concat(rest));

    if (chunkError) {
      // this chunk is invalid
      if (minimum === 0) {
        // but, specifier has a min of 0 and can be skipped
        chunks.unshift(chunk); // put the chunk back, for the next iteration
        continue; // eslint-disable-line no-continue
      }
      return chunkError;
    }

    // chunk is valid!

    if (chunk.length < minimum) {
      return new RangeError(String(componentName) + ': specifier index ' + i + ' requires a minimum of ' + String(min) + ' items, but only has ' + String(chunk.length) + '.');
    }

    if (chunk.length > maximum) {
      return new RangeError(String(componentName) + ': specifier index ' + i + ' requires a maximum of ' + String(max) + ' items, but has ' + String(chunk.length) + '.');
    }
  }

  if (chunks.length > 0) {
    return new TypeError(String(componentName) + ': after all ' + String(specifiers.length) + ' specifiers matched, ' + String(chunks.length) + ' types of items were remaining.');
  }

  return null;
}

var specifierValidator = (0, _withShape2['default'])((0, _object4['default'])(), specifierShape).isRequired;

function sequenceOfValidator() {
  for (var _len2 = arguments.length, specifiers = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
    specifiers[_key2] = arguments[_key2];
  }

  if (specifiers.length === 0) {
    throw new RangeError('sequenceOf: at least one specifier is required');
  }

  var errors = specifiers.map(function (specifier, i) {
    return specifierValidator({ specifier: specifier }, 'specifier', 'sequenceOf specifier', 'suequenceOf specifier, index ' + String(i), 'specifier, index ' + String(i));
  });
  if (errors.some(Boolean)) {
    throw new TypeError('\n      sequenceOf: all specifiers must match the appropriate shape.\n\n      Errors:\n        ' + String(errors.map(function (e, i) {
      return ' - Argument index ' + String(i) + ': ' + String(e.message);
    }).join(',\n        ')) + '\n    ');
  }

  var validator = function () {
    function sequenceOf(props, propName) {
      var propValue = props[propName];


      if (propValue == null) {
        return null;
      }

      for (var _len3 = arguments.length, rest = Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {
        rest[_key3 - 2] = arguments[_key3];
      }

      var error = _propTypes.array.apply(undefined, [props, propName].concat(rest));
      if (error) {
        return error;
      }

      return validateChunks.apply(undefined, [specifiers, props, propName].concat(rest));
    }

    return sequenceOf;
  }();

  validator.isRequired = function () {
    function sequenceOfRequired(props, propName, componentName) {
      for (var _len4 = arguments.length, rest = Array(_len4 > 3 ? _len4 - 3 : 0), _key4 = 3; _key4 < _len4; _key4++) {
        rest[_key4 - 3] = arguments[_key4];
      }

      var error = _propTypes.array.isRequired.apply(_propTypes.array, [props, propName, componentName].concat(rest));
      if (error) {
        return error;
      }

      return validateChunks.apply(undefined, [specifiers, props, propName, componentName].concat(rest));
    }

    return sequenceOfRequired;
  }();

  return (0, _wrapValidator2['default'])(validator, 'sequenceOf', specifiers);
}
//# sourceMappingURL=sequenceOf.js.map

/***/ }),

/***/ "./node_modules/airbnb-prop-types/build/shape.js":
/*!*******************************************************!*\
  !*** ./node_modules/airbnb-prop-types/build/shape.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports['default'] = shapeValidator;

var _isPlainObject = __webpack_require__(/*! ./helpers/isPlainObject */ "./node_modules/airbnb-prop-types/build/helpers/isPlainObject.js");

var _isPlainObject2 = _interopRequireDefault(_isPlainObject);

var _wrapValidator = __webpack_require__(/*! ./helpers/wrapValidator */ "./node_modules/airbnb-prop-types/build/helpers/wrapValidator.js");

var _wrapValidator2 = _interopRequireDefault(_wrapValidator);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function shapeValidator(shapeTypes) {
  if (!(0, _isPlainObject2['default'])(shapeTypes)) {
    throw new TypeError('shape must be a normal object');
  }

  function shape(props, propName, componentName, location) {
    var propValue = props[propName];

    if (propValue == null) {
      return null;
    }
    // code adapted from PropTypes.shape: https://github.com/facebook/react/blob/14156e56b9cf18ac86963185c5af4abddf3ff811/src/isomorphic/classic/types/ReactPropTypes.js#L381
    // eslint-disable-next-line guard-for-in, no-restricted-syntax

    for (var _len = arguments.length, rest = Array(_len > 4 ? _len - 4 : 0), _key = 4; _key < _len; _key++) {
      rest[_key - 4] = arguments[_key];
    }

    for (var key in shapeTypes) {
      var checker = shapeTypes[key];
      if (checker) {
        var error = checker.apply(undefined, [propValue, key, componentName, location].concat(rest));
        if (error) {
          return error;
        }
      }
    }
    return null;
  }

  shape.isRequired = function () {
    function shapeRequired(props, propName, componentName) {
      var propValue = props[propName];

      if (propValue == null) {
        return new TypeError(String(componentName) + ': ' + String(propName) + ' is required.');
      }

      for (var _len2 = arguments.length, rest = Array(_len2 > 3 ? _len2 - 3 : 0), _key2 = 3; _key2 < _len2; _key2++) {
        rest[_key2 - 3] = arguments[_key2];
      }

      return shape.apply(undefined, [props, propName, componentName].concat(rest));
    }

    return shapeRequired;
  }();

  return (0, _wrapValidator2['default'])(shape, 'shape', shapeTypes);
}
//# sourceMappingURL=shape.js.map

/***/ }),

/***/ "./node_modules/airbnb-prop-types/build/stringStartsWith.js":
/*!******************************************************************!*\
  !*** ./node_modules/airbnb-prop-types/build/stringStartsWith.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports['default'] = stringStartsWithValidator;

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _wrapValidator = __webpack_require__(/*! ./helpers/wrapValidator */ "./node_modules/airbnb-prop-types/build/helpers/wrapValidator.js");

var _wrapValidator2 = _interopRequireDefault(_wrapValidator);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function stringStartsWithValidator(start) {
  if (typeof start !== 'string' || start.length === 0) {
    throw new TypeError('a non-empty string is required');
  }

  var validator = function () {
    function stringStartsWith(props, propName, componentName) {
      var propValue = props[propName];


      if (propValue == null) {
        return null;
      }

      for (var _len = arguments.length, rest = Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {
        rest[_key - 3] = arguments[_key];
      }

      var stringError = _propTypes.string.apply(undefined, [props, propName, componentName].concat(rest));
      if (stringError) {
        return stringError;
      }

      if (!propValue.startsWith(start) || propValue.length <= start.length) {
        return new TypeError(String(componentName) + ': ' + String(propName) + ' does not start with "' + String(start) + '"');
      }
      return null;
    }

    return stringStartsWith;
  }();

  validator.isRequired = function () {
    function requiredStringStartsWith() {
      var stringError = _propTypes.string.isRequired.apply(_propTypes.string, arguments);
      if (stringError) {
        return stringError;
      }
      return validator.apply(undefined, arguments);
    }

    return requiredStringStartsWith;
  }();

  return (0, _wrapValidator2['default'])(validator, 'stringStartsWith: ' + String(start));
}
//# sourceMappingURL=stringStartsWith.js.map

/***/ }),

/***/ "./node_modules/airbnb-prop-types/build/uniqueArray.js":
/*!*************************************************************!*\
  !*** ./node_modules/airbnb-prop-types/build/uniqueArray.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _wrapValidator = __webpack_require__(/*! ./helpers/wrapValidator */ "./node_modules/airbnb-prop-types/build/helpers/wrapValidator.js");

var _wrapValidator2 = _interopRequireDefault(_wrapValidator);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function uniqueCountWithSet(arr) {
  return new Set(arr).size;
}
/* istanbul ignore next */
function uniqueCountLegacy(arr) {
  var seen = [];
  arr.forEach(function (item) {
    if (seen.indexOf(item) === -1) {
      seen.push(item);
    }
  });
  return seen.length;
}

var getUniqueCount = typeof Set === 'function' ? uniqueCountWithSet : /* istanbul ignore next */uniqueCountLegacy;

function requiredUniqueArray(props, propName, componentName) {
  for (var _len = arguments.length, rest = Array(_len > 3 ? _len - 3 : 0), _key = 3; _key < _len; _key++) {
    rest[_key - 3] = arguments[_key];
  }

  var result = _propTypes.array.isRequired.apply(_propTypes.array, [props, propName, componentName].concat(rest));
  if (result != null) {
    return result;
  }

  var propValue = props[propName];

  var uniqueCount = getUniqueCount(propValue);
  if (uniqueCount !== propValue.length) {
    return new RangeError(String(componentName) + ': values must be unique. ' + (propValue.length - uniqueCount) + ' duplicate values found.');
  }
  return null;
}

function uniqueArray(props, propName) {
  var propValue = props[propName];

  if (propValue == null) {
    return null;
  }

  for (var _len2 = arguments.length, rest = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {
    rest[_key2 - 2] = arguments[_key2];
  }

  return requiredUniqueArray.apply(undefined, [props, propName].concat(rest));
}
uniqueArray.isRequired = requiredUniqueArray;

exports['default'] = function () {
  return (0, _wrapValidator2['default'])(uniqueArray, 'uniqueArray');
};
//# sourceMappingURL=uniqueArray.js.map

/***/ }),

/***/ "./node_modules/airbnb-prop-types/build/uniqueArrayOf.js":
/*!***************************************************************!*\
  !*** ./node_modules/airbnb-prop-types/build/uniqueArrayOf.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports['default'] = uniqueArrayOfTypeValidator;

var _object = __webpack_require__(/*! object.assign */ "./node_modules/object.assign/index.js");

var _object2 = _interopRequireDefault(_object);

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _and = __webpack_require__(/*! ./and */ "./node_modules/airbnb-prop-types/build/and.js");

var _and2 = _interopRequireDefault(_and);

var _uniqueArray = __webpack_require__(/*! ./uniqueArray */ "./node_modules/airbnb-prop-types/build/uniqueArray.js");

var _uniqueArray2 = _interopRequireDefault(_uniqueArray);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var unique = (0, _uniqueArray2['default'])();

function uniqueArrayOfTypeValidator(type) {
  if (typeof type !== 'function') {
    throw new TypeError('type must be a validator function');
  }

  var mapper = null;
  var name = 'uniqueArrayOfType';

  for (var _len = arguments.length, rest = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    rest[_key - 1] = arguments[_key];
  }

  if (rest.length === 1) {
    if (typeof rest[0] === 'function') {
      mapper = rest[0];
    } else if (typeof rest[0] === 'string') {
      name = rest[0];
    } else {
      throw new TypeError('single input must either be string or function');
    }
  } else if (rest.length === 2) {
    if (typeof rest[0] === 'function' && typeof rest[1] === 'string') {
      mapper = rest[0];
      name = rest[1];
    } else {
      throw new TypeError('multiple inputs must be in [function, string] order');
    }
  } else if (rest.length > 2) {
    throw new TypeError('only [], [name], [mapper], and [mapper, name] are valid inputs');
  }

  function uniqueArrayOfMapped(props, propName) {
    var propValue = props[propName];

    if (propValue == null) {
      return null;
    }

    var values = propValue.map(mapper);

    for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {
      args[_key2 - 2] = arguments[_key2];
    }

    return unique.apply(undefined, [(0, _object2['default'])({}, props, _defineProperty({}, propName, values)), propName].concat(args));
  }

  uniqueArrayOfMapped.isRequired = function () {
    function isRequired(props, propName) {
      var propValue = props[propName];

      for (var _len3 = arguments.length, args = Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {
        args[_key3 - 2] = arguments[_key3];
      }

      if (propValue == null) {
        return _propTypes.array.isRequired.apply(_propTypes.array, [props, propName].concat(args));
      }
      return uniqueArrayOfMapped.apply(undefined, [props, propName].concat(args));
    }

    return isRequired;
  }();

  var arrayValidator = (0, _propTypes.arrayOf)(type);

  var uniqueValidator = mapper ? uniqueArrayOfMapped : unique;

  var validator = (0, _and2['default'])([arrayValidator, uniqueValidator], name);
  validator.isRequired = (0, _and2['default'])([uniqueValidator.isRequired, arrayValidator.isRequired], String(name) + '.isRequired');

  return validator;
}
//# sourceMappingURL=uniqueArrayOf.js.map

/***/ }),

/***/ "./node_modules/airbnb-prop-types/build/valuesOf.js":
/*!**********************************************************!*\
  !*** ./node_modules/airbnb-prop-types/build/valuesOf.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports['default'] = valuesOfValidator;

var _isPrimitive = __webpack_require__(/*! ./helpers/isPrimitive */ "./node_modules/airbnb-prop-types/build/helpers/isPrimitive.js");

var _isPrimitive2 = _interopRequireDefault(_isPrimitive);

var _wrapValidator = __webpack_require__(/*! ./helpers/wrapValidator */ "./node_modules/airbnb-prop-types/build/helpers/wrapValidator.js");

var _wrapValidator2 = _interopRequireDefault(_wrapValidator);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

// code adapted from https://github.com/facebook/react/blob/14156e56b9cf18ac86963185c5af4abddf3ff811/src/isomorphic/classic/types/ReactPropTypes.js#L307-L340

function valuesOfValidator(propType) {
  if (typeof propType !== 'function') {
    throw new TypeError('objectOf: propType must be a function');
  }

  var validator = function () {
    function valuesOf(props, propName, componentName, location, propFullName) {
      for (var _len = arguments.length, rest = Array(_len > 5 ? _len - 5 : 0), _key = 5; _key < _len; _key++) {
        rest[_key - 5] = arguments[_key];
      }

      var propValue = props[propName];

      if (propValue == null || (0, _isPrimitive2['default'])(propValue)) {
        return null;
      }

      var firstError = void 0;
      Object.keys(propValue).some(function (key) {
        firstError = propType.apply(undefined, [propValue, key, componentName, location, String(propFullName) + '.' + String(key)].concat(rest));
        return firstError;
      });
      return firstError || null;
    }

    return valuesOf;
  }();
  validator.isRequired = function () {
    function valuesOfRequired(props, propName, componentName) {
      var propValue = props[propName];

      if (propValue == null) {
        return new TypeError(String(componentName) + ': ' + String(propName) + ' is required.');
      }

      for (var _len2 = arguments.length, rest = Array(_len2 > 3 ? _len2 - 3 : 0), _key2 = 3; _key2 < _len2; _key2++) {
        rest[_key2 - 3] = arguments[_key2];
      }

      return validator.apply(undefined, [props, propName, componentName].concat(rest));
    }

    return valuesOfRequired;
  }();

  return (0, _wrapValidator2['default'])(validator, 'valuesOf', propType);
}
//# sourceMappingURL=valuesOf.js.map

/***/ }),

/***/ "./node_modules/airbnb-prop-types/build/withShape.js":
/*!***********************************************************!*\
  !*** ./node_modules/airbnb-prop-types/build/withShape.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports['default'] = withShape;

var _and = __webpack_require__(/*! ./and */ "./node_modules/airbnb-prop-types/build/and.js");

var _and2 = _interopRequireDefault(_and);

var _shape = __webpack_require__(/*! ./shape */ "./node_modules/airbnb-prop-types/build/shape.js");

var _shape2 = _interopRequireDefault(_shape);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function withShape(type, shapeTypes) {
  if (typeof type !== 'function') {
    throw new TypeError('type must be a valid PropType');
  }
  var shapeValidator = (0, _shape2['default'])(shapeTypes);
  return (0, _and2['default'])([type, shapeValidator], 'withShape');
}
//# sourceMappingURL=withShape.js.map

/***/ }),

/***/ "./node_modules/airbnb-prop-types/index.js":
/*!*************************************************!*\
  !*** ./node_modules/airbnb-prop-types/index.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports =  false ? undefined : __webpack_require__(/*! ./build */ "./node_modules/airbnb-prop-types/build/index.js");

//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/array.prototype.find/implementation.js":
/*!*************************************************************!*\
  !*** ./node_modules/array.prototype.find/implementation.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var ES = __webpack_require__(/*! es-abstract/es6 */ "./node_modules/es-abstract/es6.js");

module.exports = function find(predicate) {
	var list = ES.ToObject(this);
	var length = ES.ToInteger(ES.ToLength(list.length));
	if (!ES.IsCallable(predicate)) {
		throw new TypeError('Array#find: predicate must be a function');
	}
	if (length === 0) {
		return undefined;
	}
	var thisArg = arguments[1];
	for (var i = 0, value; i < length; i++) {
		value = list[i];
		if (ES.Call(predicate, thisArg, [value, i, list])) {
			return value;
		}
	}
	return undefined;
};


/***/ }),

/***/ "./node_modules/array.prototype.find/index.js":
/*!****************************************************!*\
  !*** ./node_modules/array.prototype.find/index.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var define = __webpack_require__(/*! define-properties */ "./node_modules/define-properties/index.js");
var ES = __webpack_require__(/*! es-abstract/es6 */ "./node_modules/es-abstract/es6.js");

var implementation = __webpack_require__(/*! ./implementation */ "./node_modules/array.prototype.find/implementation.js");
var getPolyfill = __webpack_require__(/*! ./polyfill */ "./node_modules/array.prototype.find/polyfill.js");
var shim = __webpack_require__(/*! ./shim */ "./node_modules/array.prototype.find/shim.js");

var slice = Array.prototype.slice;

var polyfill = getPolyfill();

var boundFindShim = function find(array, predicate) { // eslint-disable-line no-unused-vars
	ES.RequireObjectCoercible(array);
	var args = slice.call(arguments, 1);
	return polyfill.apply(array, args);
};

define(boundFindShim, {
	getPolyfill: getPolyfill,
	implementation: implementation,
	shim: shim
});

module.exports = boundFindShim;


/***/ }),

/***/ "./node_modules/array.prototype.find/polyfill.js":
/*!*******************************************************!*\
  !*** ./node_modules/array.prototype.find/polyfill.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


module.exports = function getPolyfill() {
	// Detect if an implementation exists
	// Detect early implementations which skipped holes in sparse arrays
  // eslint-disable-next-line no-sparse-arrays
	var implemented = Array.prototype.find && [, 1].find(function () {
		return true;
	}) !== 1;

  // eslint-disable-next-line global-require
	return implemented ? Array.prototype.find : __webpack_require__(/*! ./implementation */ "./node_modules/array.prototype.find/implementation.js");
};


/***/ }),

/***/ "./node_modules/array.prototype.find/shim.js":
/*!***************************************************!*\
  !*** ./node_modules/array.prototype.find/shim.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var define = __webpack_require__(/*! define-properties */ "./node_modules/define-properties/index.js");
var getPolyfill = __webpack_require__(/*! ./polyfill */ "./node_modules/array.prototype.find/polyfill.js");

module.exports = function shimArrayPrototypeFind() {
	var polyfill = getPolyfill();

	define(Array.prototype, { find: polyfill }, {
		find: function () {
			return Array.prototype.find !== polyfill;
		}
	});

	return polyfill;
};


/***/ }),

/***/ "./node_modules/consolidated-events/lib/index.esm.js":
/*!***********************************************************!*\
  !*** ./node_modules/consolidated-events/lib/index.esm.js ***!
  \***********************************************************/
/*! exports provided: addEventListener */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "addEventListener", function() { return addEventListener; });
var CAN_USE_DOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);

// Adapted from Modernizr
// https://github.com/Modernizr/Modernizr/blob/acb3f0d9/feature-detects/dom/passiveeventlisteners.js#L26-L37
function testPassiveEventListeners() {
  if (!CAN_USE_DOM) {
    return false;
  }

  if (!window.addEventListener || !window.removeEventListener || !Object.defineProperty) {
    return false;
  }

  var supportsPassiveOption = false;
  try {
    var opts = Object.defineProperty({}, 'passive', {
      // eslint-disable-next-line getter-return
      get: function () {
        function get() {
          supportsPassiveOption = true;
        }

        return get;
      }()
    });
    var noop = function noop() {};
    window.addEventListener('testPassiveEventSupport', noop, opts);
    window.removeEventListener('testPassiveEventSupport', noop, opts);
  } catch (e) {
    // do nothing
  }

  return supportsPassiveOption;
}

var memoized = void 0;

function canUsePassiveEventListeners() {
  if (memoized === undefined) {
    memoized = testPassiveEventListeners();
  }
  return memoized;
}

function normalizeEventOptions(eventOptions) {
  if (!eventOptions) {
    return undefined;
  }

  if (!canUsePassiveEventListeners()) {
    // If the browser does not support the passive option, then it is expecting
    // a boolean for the options argument to specify whether it should use
    // capture or not. In more modern browsers, this is passed via the `capture`
    // option, so let's just hoist that value up.
    return !!eventOptions.capture;
  }

  return eventOptions;
}

/* eslint-disable no-bitwise */

/**
 * Generate a unique key for any set of event options
 */
function eventOptionsKey(normalizedEventOptions) {
  if (!normalizedEventOptions) {
    return 0;
  }

  // If the browser does not support passive event listeners, the normalized
  // event options will be a boolean.
  if (normalizedEventOptions === true) {
    return 100;
  }

  // At this point, the browser supports passive event listeners, so we expect
  // the event options to be an object with possible properties of capture,
  // passive, and once.
  //
  // We want to consistently return the same value, regardless of the order of
  // these properties, so let's use binary maths to assign each property to a
  // bit, and then add those together (with an offset to account for the
  // booleans at the beginning of this function).
  var capture = normalizedEventOptions.capture << 0;
  var passive = normalizedEventOptions.passive << 1;
  var once = normalizedEventOptions.once << 2;
  return capture + passive + once;
}

function ensureCanMutateNextEventHandlers(eventHandlers) {
  if (eventHandlers.handlers === eventHandlers.nextHandlers) {
    // eslint-disable-next-line no-param-reassign
    eventHandlers.nextHandlers = eventHandlers.handlers.slice();
  }
}

function TargetEventHandlers(target) {
  this.target = target;
  this.events = {};
}

TargetEventHandlers.prototype.getEventHandlers = function () {
  function getEventHandlers(eventName, options) {
    var key = String(eventName) + ' ' + String(eventOptionsKey(options));

    if (!this.events[key]) {
      this.events[key] = {
        handlers: [],
        handleEvent: undefined
      };
      this.events[key].nextHandlers = this.events[key].handlers;
    }

    return this.events[key];
  }

  return getEventHandlers;
}();

TargetEventHandlers.prototype.handleEvent = function () {
  function handleEvent(eventName, options, event) {
    var eventHandlers = this.getEventHandlers(eventName, options);
    eventHandlers.handlers = eventHandlers.nextHandlers;
    eventHandlers.handlers.forEach(function (handler) {
      if (handler) {
        // We need to check for presence here because a handler function may
        // cause later handlers to get removed. This can happen if you for
        // instance have a waypoint that unmounts another waypoint as part of an
        // onEnter/onLeave handler.
        handler(event);
      }
    });
  }

  return handleEvent;
}();

TargetEventHandlers.prototype.add = function () {
  function add(eventName, listener, options) {
    var _this = this;

    // options has already been normalized at this point.
    var eventHandlers = this.getEventHandlers(eventName, options);

    ensureCanMutateNextEventHandlers(eventHandlers);

    if (eventHandlers.nextHandlers.length === 0) {
      eventHandlers.handleEvent = this.handleEvent.bind(this, eventName, options);

      this.target.addEventListener(eventName, eventHandlers.handleEvent, options);
    }

    eventHandlers.nextHandlers.push(listener);

    var isSubscribed = true;
    var unsubscribe = function () {
      function unsubscribe() {
        if (!isSubscribed) {
          return;
        }

        isSubscribed = false;

        ensureCanMutateNextEventHandlers(eventHandlers);
        var index = eventHandlers.nextHandlers.indexOf(listener);
        eventHandlers.nextHandlers.splice(index, 1);

        if (eventHandlers.nextHandlers.length === 0) {
          // All event handlers have been removed, so we want to remove the event
          // listener from the target node.

          if (_this.target) {
            // There can be a race condition where the target may no longer exist
            // when this function is called, e.g. when a React component is
            // unmounting. Guarding against this prevents the following error:
            //
            //   Cannot read property 'removeEventListener' of undefined
            _this.target.removeEventListener(eventName, eventHandlers.handleEvent, options);
          }

          eventHandlers.handleEvent = undefined;
        }
      }

      return unsubscribe;
    }();
    return unsubscribe;
  }

  return add;
}();

var EVENT_HANDLERS_KEY = '__consolidated_events_handlers__';

// eslint-disable-next-line import/prefer-default-export
function addEventListener(target, eventName, listener, options) {
  if (!target[EVENT_HANDLERS_KEY]) {
    // eslint-disable-next-line no-param-reassign
    target[EVENT_HANDLERS_KEY] = new TargetEventHandlers(target);
  }
  var normalizedEventOptions = normalizeEventOptions(options);
  return target[EVENT_HANDLERS_KEY].add(eventName, listener, normalizedEventOptions);
}




/***/ }),

/***/ "./node_modules/deepmerge/dist/cjs.js":
/*!********************************************!*\
  !*** ./node_modules/deepmerge/dist/cjs.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var isMergeableObject = function isMergeableObject(value) {
	return isNonNullObject(value)
		&& !isSpecial(value)
};

function isNonNullObject(value) {
	return !!value && typeof value === 'object'
}

function isSpecial(value) {
	var stringValue = Object.prototype.toString.call(value);

	return stringValue === '[object RegExp]'
		|| stringValue === '[object Date]'
		|| isReactElement(value)
}

// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25
var canUseSymbol = typeof Symbol === 'function' && Symbol.for;
var REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;

function isReactElement(value) {
	return value.$$typeof === REACT_ELEMENT_TYPE
}

function emptyTarget(val) {
    return Array.isArray(val) ? [] : {}
}

function cloneIfNecessary(value, optionsArgument) {
    var clone = optionsArgument && optionsArgument.clone === true;
    return (clone && isMergeableObject(value)) ? deepmerge(emptyTarget(value), value, optionsArgument) : value
}

function defaultArrayMerge(target, source, optionsArgument) {
    var destination = target.slice();
    source.forEach(function(e, i) {
        if (typeof destination[i] === 'undefined') {
            destination[i] = cloneIfNecessary(e, optionsArgument);
        } else if (isMergeableObject(e)) {
            destination[i] = deepmerge(target[i], e, optionsArgument);
        } else if (target.indexOf(e) === -1) {
            destination.push(cloneIfNecessary(e, optionsArgument));
        }
    });
    return destination
}

function mergeObject(target, source, optionsArgument) {
    var destination = {};
    if (isMergeableObject(target)) {
        Object.keys(target).forEach(function(key) {
            destination[key] = cloneIfNecessary(target[key], optionsArgument);
        });
    }
    Object.keys(source).forEach(function(key) {
        if (!isMergeableObject(source[key]) || !target[key]) {
            destination[key] = cloneIfNecessary(source[key], optionsArgument);
        } else {
            destination[key] = deepmerge(target[key], source[key], optionsArgument);
        }
    });
    return destination
}

function deepmerge(target, source, optionsArgument) {
    var sourceIsArray = Array.isArray(source);
    var targetIsArray = Array.isArray(target);
    var options = optionsArgument || { arrayMerge: defaultArrayMerge };
    var sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;

    if (!sourceAndTargetTypesMatch) {
        return cloneIfNecessary(source, optionsArgument)
    } else if (sourceIsArray) {
        var arrayMerge = options.arrayMerge || defaultArrayMerge;
        return arrayMerge(target, source, optionsArgument)
    } else {
        return mergeObject(target, source, optionsArgument)
    }
}

deepmerge.all = function deepmergeAll(array, optionsArgument) {
    if (!Array.isArray(array) || array.length < 2) {
        throw new Error('first argument should be an array with at least two elements')
    }

    // we are sure there are at least 2 values, so it is safe to have no initial value
    return array.reduce(function(prev, next) {
        return deepmerge(prev, next, optionsArgument)
    })
};

var deepmerge_1 = deepmerge;

module.exports = deepmerge_1;


/***/ }),

/***/ "./node_modules/es-abstract/es6.js":
/*!*****************************************!*\
  !*** ./node_modules/es-abstract/es6.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


module.exports = __webpack_require__(/*! ./es2015 */ "./node_modules/es-abstract/es2015.js");


/***/ }),

/***/ "./node_modules/es-abstract/es7.js":
/*!*****************************************!*\
  !*** ./node_modules/es-abstract/es7.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


module.exports = __webpack_require__(/*! ./es2016 */ "./node_modules/es-abstract/es2016.js");


/***/ }),

/***/ "./node_modules/fbjs/lib/shallowEqual.js":
/*!***********************************************!*\
  !*** ./node_modules/fbjs/lib/shallowEqual.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 * 
 */

/*eslint-disable no-self-compare */



var hasOwnProperty = Object.prototype.hasOwnProperty;

/**
 * inlined Object.is polyfill to avoid requiring consumers ship their own
 * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is
 */
function is(x, y) {
  // SameValue algorithm
  if (x === y) {
    // Steps 1-5, 7-10
    // Steps 6.b-6.e: +0 != -0
    // Added the nonzero y check to make Flow happy, but it is redundant
    return x !== 0 || y !== 0 || 1 / x === 1 / y;
  } else {
    // Step 6.a: NaN == NaN
    return x !== x && y !== y;
  }
}

/**
 * Performs equality by iterating through keys on an object and returning false
 * when any key has values which are not strictly equal between the arguments.
 * Returns true when the values of all keys are strictly equal.
 */
function shallowEqual(objA, objB) {
  if (is(objA, objB)) {
    return true;
  }

  if (typeof objA !== 'object' || objA === null || typeof objB !== 'object' || objB === null) {
    return false;
  }

  var keysA = Object.keys(objA);
  var keysB = Object.keys(objB);

  if (keysA.length !== keysB.length) {
    return false;
  }

  // Test for A's keys different from B.
  for (var i = 0; i < keysA.length; i++) {
    if (!hasOwnProperty.call(objB, keysA[i]) || !is(objA[keysA[i]], objB[keysA[i]])) {
      return false;
    }
  }

  return true;
}

module.exports = shallowEqual;

/***/ }),

/***/ "./node_modules/function.prototype.name/helpers/functionsHaveNames.js":
/*!****************************************************************************!*\
  !*** ./node_modules/function.prototype.name/helpers/functionsHaveNames.js ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = typeof function foo() {}.name === 'string'; // when function names are minified, checking for "foo" would break


/***/ }),

/***/ "./node_modules/function.prototype.name/implementation.js":
/*!****************************************************************!*\
  !*** ./node_modules/function.prototype.name/implementation.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var isCallable = __webpack_require__(/*! is-callable */ "./node_modules/is-callable/index.js");
var functionsHaveNames = __webpack_require__(/*! ./helpers/functionsHaveNames */ "./node_modules/function.prototype.name/helpers/functionsHaveNames.js");
var bind = __webpack_require__(/*! function-bind */ "./node_modules/function-bind/index.js");
var functionToString = bind.call(Function.call, Function.prototype.toString);
var stringMatch = bind.call(Function.call, String.prototype.match);

var classRegex = /^class /;

var isClass = function isClassConstructor(fn) {
	if (isCallable(fn)) {
		return false;
	}
	if (typeof fn !== 'function') {
		return false;
	}
	try {
		var match = stringMatch(functionToString(fn), classRegex);
		return !!match;
	} catch (e) {}
	return false;
};

var regex = /\s*function\s+([^(\s]*)\s*/;

var functionProto = Function.prototype;

module.exports = function getName() {
	if (!isClass(this) && !isCallable(this)) {
		throw new TypeError('Function.prototype.name sham getter called on non-function');
	}
	if (functionsHaveNames) {
		return this.name;
	}
	if (this === functionProto) {
		return '';
	}
	var str = functionToString(this);
	var match = stringMatch(str, regex);
	var name = match && match[1];
	return name;
};


/***/ }),

/***/ "./node_modules/function.prototype.name/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/function.prototype.name/index.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var define = __webpack_require__(/*! define-properties */ "./node_modules/define-properties/index.js");
var bind = __webpack_require__(/*! function-bind */ "./node_modules/function-bind/index.js");

var implementation = __webpack_require__(/*! ./implementation */ "./node_modules/function.prototype.name/implementation.js");
var getPolyfill = __webpack_require__(/*! ./polyfill */ "./node_modules/function.prototype.name/polyfill.js");
var shim = __webpack_require__(/*! ./shim */ "./node_modules/function.prototype.name/shim.js");

var bound = bind.call(Function.call, implementation);

define(bound, {
	getPolyfill: getPolyfill,
	implementation: implementation,
	shim: shim
});

module.exports = bound;


/***/ }),

/***/ "./node_modules/function.prototype.name/polyfill.js":
/*!**********************************************************!*\
  !*** ./node_modules/function.prototype.name/polyfill.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var implementation = __webpack_require__(/*! ./implementation */ "./node_modules/function.prototype.name/implementation.js");

module.exports = function getPolyfill() {
	return implementation;
};


/***/ }),

/***/ "./node_modules/function.prototype.name/shim.js":
/*!******************************************************!*\
  !*** ./node_modules/function.prototype.name/shim.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var supportsDescriptors = __webpack_require__(/*! define-properties */ "./node_modules/define-properties/index.js").supportsDescriptors;
var functionsHaveNames = __webpack_require__(/*! ./helpers/functionsHaveNames */ "./node_modules/function.prototype.name/helpers/functionsHaveNames.js");
var getPolyfill = __webpack_require__(/*! ./polyfill */ "./node_modules/function.prototype.name/polyfill.js");
var defineProperty = Object.defineProperty;
var TypeErr = TypeError;

module.exports = function shimName() {
	var polyfill = getPolyfill();
	if (functionsHaveNames) {
		return polyfill;
	}
	if (!supportsDescriptors) {
		throw new TypeErr('Shimming Function.prototype.name support requires ES5 property descriptor support.');
	}
	var functionProto = Function.prototype;
	defineProperty(functionProto, 'name', {
		configurable: true,
		enumerable: false,
		get: function () {
			var name = polyfill.call(this);
			if (this !== functionProto) {
				defineProperty(this, 'name', {
					configurable: true,
					enumerable: false,
					value: name,
					writable: false
				});
			}
			return name;
		}
	});
	return polyfill;
};


/***/ }),

/***/ "./node_modules/is-touch-device/build/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/is-touch-device/build/index.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports['default'] = isTouchDevice;
function isTouchDevice() {
  return !!(typeof window !== 'undefined' && ('ontouchstart' in window || window.DocumentTouch && typeof document !== 'undefined' && document instanceof window.DocumentTouch)) || !!(typeof navigator !== 'undefined' && (navigator.maxTouchPoints || navigator.msMaxTouchPoints));
}
module.exports = exports['default'];

/***/ }),

/***/ "./node_modules/lodash/_Symbol.js":
/*!****************************************!*\
  !*** ./node_modules/lodash/_Symbol.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var root = __webpack_require__(/*! ./_root */ "./node_modules/lodash/_root.js");

/** Built-in value references. */
var Symbol = root.Symbol;

module.exports = Symbol;


/***/ }),

/***/ "./node_modules/lodash/_baseGetTag.js":
/*!********************************************!*\
  !*** ./node_modules/lodash/_baseGetTag.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var Symbol = __webpack_require__(/*! ./_Symbol */ "./node_modules/lodash/_Symbol.js"),
    getRawTag = __webpack_require__(/*! ./_getRawTag */ "./node_modules/lodash/_getRawTag.js"),
    objectToString = __webpack_require__(/*! ./_objectToString */ "./node_modules/lodash/_objectToString.js");

/** `Object#toString` result references. */
var nullTag = '[object Null]',
    undefinedTag = '[object Undefined]';

/** Built-in value references. */
var symToStringTag = Symbol ? Symbol.toStringTag : undefined;

/**
 * The base implementation of `getTag` without fallbacks for buggy environments.
 *
 * @private
 * @param {*} value The value to query.
 * @returns {string} Returns the `toStringTag`.
 */
function baseGetTag(value) {
  if (value == null) {
    return value === undefined ? undefinedTag : nullTag;
  }
  return (symToStringTag && symToStringTag in Object(value))
    ? getRawTag(value)
    : objectToString(value);
}

module.exports = baseGetTag;


/***/ }),

/***/ "./node_modules/lodash/_freeGlobal.js":
/*!********************************************!*\
  !*** ./node_modules/lodash/_freeGlobal.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {/** Detect free variable `global` from Node.js. */
var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;

module.exports = freeGlobal;

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

/***/ }),

/***/ "./node_modules/lodash/_getRawTag.js":
/*!*******************************************!*\
  !*** ./node_modules/lodash/_getRawTag.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var Symbol = __webpack_require__(/*! ./_Symbol */ "./node_modules/lodash/_Symbol.js");

/** Used for built-in method references. */
var objectProto = Object.prototype;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var nativeObjectToString = objectProto.toString;

/** Built-in value references. */
var symToStringTag = Symbol ? Symbol.toStringTag : undefined;

/**
 * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.
 *
 * @private
 * @param {*} value The value to query.
 * @returns {string} Returns the raw `toStringTag`.
 */
function getRawTag(value) {
  var isOwn = hasOwnProperty.call(value, symToStringTag),
      tag = value[symToStringTag];

  try {
    value[symToStringTag] = undefined;
    var unmasked = true;
  } catch (e) {}

  var result = nativeObjectToString.call(value);
  if (unmasked) {
    if (isOwn) {
      value[symToStringTag] = tag;
    } else {
      delete value[symToStringTag];
    }
  }
  return result;
}

module.exports = getRawTag;


/***/ }),

/***/ "./node_modules/lodash/_objectToString.js":
/*!************************************************!*\
  !*** ./node_modules/lodash/_objectToString.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/** Used for built-in method references. */
var objectProto = Object.prototype;

/**
 * Used to resolve the
 * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
 * of values.
 */
var nativeObjectToString = objectProto.toString;

/**
 * Converts `value` to a string using `Object.prototype.toString`.
 *
 * @private
 * @param {*} value The value to convert.
 * @returns {string} Returns the converted string.
 */
function objectToString(value) {
  return nativeObjectToString.call(value);
}

module.exports = objectToString;


/***/ }),

/***/ "./node_modules/lodash/_root.js":
/*!**************************************!*\
  !*** ./node_modules/lodash/_root.js ***!
  \**************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var freeGlobal = __webpack_require__(/*! ./_freeGlobal */ "./node_modules/lodash/_freeGlobal.js");

/** Detect free variable `self`. */
var freeSelf = typeof self == 'object' && self && self.Object === Object && self;

/** Used as a reference to the global object. */
var root = freeGlobal || freeSelf || Function('return this')();

module.exports = root;


/***/ }),

/***/ "./node_modules/lodash/debounce.js":
/*!*****************************************!*\
  !*** ./node_modules/lodash/debounce.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var isObject = __webpack_require__(/*! ./isObject */ "./node_modules/lodash/isObject.js"),
    now = __webpack_require__(/*! ./now */ "./node_modules/lodash/now.js"),
    toNumber = __webpack_require__(/*! ./toNumber */ "./node_modules/lodash/toNumber.js");

/** Error message constants. */
var FUNC_ERROR_TEXT = 'Expected a function';

/* Built-in method references for those with the same name as other `lodash` methods. */
var nativeMax = Math.max,
    nativeMin = Math.min;

/**
 * Creates a debounced function that delays invoking `func` until after `wait`
 * milliseconds have elapsed since the last time the debounced function was
 * invoked. The debounced function comes with a `cancel` method to cancel
 * delayed `func` invocations and a `flush` method to immediately invoke them.
 * Provide `options` to indicate whether `func` should be invoked on the
 * leading and/or trailing edge of the `wait` timeout. The `func` is invoked
 * with the last arguments provided to the debounced function. Subsequent
 * calls to the debounced function return the result of the last `func`
 * invocation.
 *
 * **Note:** If `leading` and `trailing` options are `true`, `func` is
 * invoked on the trailing edge of the timeout only if the debounced function
 * is invoked more than once during the `wait` timeout.
 *
 * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred
 * until to the next tick, similar to `setTimeout` with a timeout of `0`.
 *
 * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)
 * for details over the differences between `_.debounce` and `_.throttle`.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Function
 * @param {Function} func The function to debounce.
 * @param {number} [wait=0] The number of milliseconds to delay.
 * @param {Object} [options={}] The options object.
 * @param {boolean} [options.leading=false]
 *  Specify invoking on the leading edge of the timeout.
 * @param {number} [options.maxWait]
 *  The maximum time `func` is allowed to be delayed before it's invoked.
 * @param {boolean} [options.trailing=true]
 *  Specify invoking on the trailing edge of the timeout.
 * @returns {Function} Returns the new debounced function.
 * @example
 *
 * // Avoid costly calculations while the window size is in flux.
 * jQuery(window).on('resize', _.debounce(calculateLayout, 150));
 *
 * // Invoke `sendMail` when clicked, debouncing subsequent calls.
 * jQuery(element).on('click', _.debounce(sendMail, 300, {
 *   'leading': true,
 *   'trailing': false
 * }));
 *
 * // Ensure `batchLog` is invoked once after 1 second of debounced calls.
 * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });
 * var source = new EventSource('/stream');
 * jQuery(source).on('message', debounced);
 *
 * // Cancel the trailing debounced invocation.
 * jQuery(window).on('popstate', debounced.cancel);
 */
function debounce(func, wait, options) {
  var lastArgs,
      lastThis,
      maxWait,
      result,
      timerId,
      lastCallTime,
      lastInvokeTime = 0,
      leading = false,
      maxing = false,
      trailing = true;

  if (typeof func != 'function') {
    throw new TypeError(FUNC_ERROR_TEXT);
  }
  wait = toNumber(wait) || 0;
  if (isObject(options)) {
    leading = !!options.leading;
    maxing = 'maxWait' in options;
    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;
    trailing = 'trailing' in options ? !!options.trailing : trailing;
  }

  function invokeFunc(time) {
    var args = lastArgs,
        thisArg = lastThis;

    lastArgs = lastThis = undefined;
    lastInvokeTime = time;
    result = func.apply(thisArg, args);
    return result;
  }

  function leadingEdge(time) {
    // Reset any `maxWait` timer.
    lastInvokeTime = time;
    // Start the timer for the trailing edge.
    timerId = setTimeout(timerExpired, wait);
    // Invoke the leading edge.
    return leading ? invokeFunc(time) : result;
  }

  function remainingWait(time) {
    var timeSinceLastCall = time - lastCallTime,
        timeSinceLastInvoke = time - lastInvokeTime,
        timeWaiting = wait - timeSinceLastCall;

    return maxing
      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)
      : timeWaiting;
  }

  function shouldInvoke(time) {
    var timeSinceLastCall = time - lastCallTime,
        timeSinceLastInvoke = time - lastInvokeTime;

    // Either this is the first call, activity has stopped and we're at the
    // trailing edge, the system time has gone backwards and we're treating
    // it as the trailing edge, or we've hit the `maxWait` limit.
    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||
      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));
  }

  function timerExpired() {
    var time = now();
    if (shouldInvoke(time)) {
      return trailingEdge(time);
    }
    // Restart the timer.
    timerId = setTimeout(timerExpired, remainingWait(time));
  }

  function trailingEdge(time) {
    timerId = undefined;

    // Only invoke if we have `lastArgs` which means `func` has been
    // debounced at least once.
    if (trailing && lastArgs) {
      return invokeFunc(time);
    }
    lastArgs = lastThis = undefined;
    return result;
  }

  function cancel() {
    if (timerId !== undefined) {
      clearTimeout(timerId);
    }
    lastInvokeTime = 0;
    lastArgs = lastCallTime = lastThis = timerId = undefined;
  }

  function flush() {
    return timerId === undefined ? result : trailingEdge(now());
  }

  function debounced() {
    var time = now(),
        isInvoking = shouldInvoke(time);

    lastArgs = arguments;
    lastThis = this;
    lastCallTime = time;

    if (isInvoking) {
      if (timerId === undefined) {
        return leadingEdge(lastCallTime);
      }
      if (maxing) {
        // Handle invocations in a tight loop.
        timerId = setTimeout(timerExpired, wait);
        return invokeFunc(lastCallTime);
      }
    }
    if (timerId === undefined) {
      timerId = setTimeout(timerExpired, wait);
    }
    return result;
  }
  debounced.cancel = cancel;
  debounced.flush = flush;
  return debounced;
}

module.exports = debounce;


/***/ }),

/***/ "./node_modules/lodash/isObject.js":
/*!*****************************************!*\
  !*** ./node_modules/lodash/isObject.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/**
 * Checks if `value` is the
 * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
 * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is an object, else `false`.
 * @example
 *
 * _.isObject({});
 * // => true
 *
 * _.isObject([1, 2, 3]);
 * // => true
 *
 * _.isObject(_.noop);
 * // => true
 *
 * _.isObject(null);
 * // => false
 */
function isObject(value) {
  var type = typeof value;
  return value != null && (type == 'object' || type == 'function');
}

module.exports = isObject;


/***/ }),

/***/ "./node_modules/lodash/isObjectLike.js":
/*!*********************************************!*\
  !*** ./node_modules/lodash/isObjectLike.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/**
 * Checks if `value` is object-like. A value is object-like if it's not `null`
 * and has a `typeof` result of "object".
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
 * @example
 *
 * _.isObjectLike({});
 * // => true
 *
 * _.isObjectLike([1, 2, 3]);
 * // => true
 *
 * _.isObjectLike(_.noop);
 * // => false
 *
 * _.isObjectLike(null);
 * // => false
 */
function isObjectLike(value) {
  return value != null && typeof value == 'object';
}

module.exports = isObjectLike;


/***/ }),

/***/ "./node_modules/lodash/isSymbol.js":
/*!*****************************************!*\
  !*** ./node_modules/lodash/isSymbol.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var baseGetTag = __webpack_require__(/*! ./_baseGetTag */ "./node_modules/lodash/_baseGetTag.js"),
    isObjectLike = __webpack_require__(/*! ./isObjectLike */ "./node_modules/lodash/isObjectLike.js");

/** `Object#toString` result references. */
var symbolTag = '[object Symbol]';

/**
 * Checks if `value` is classified as a `Symbol` primitive or object.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.
 * @example
 *
 * _.isSymbol(Symbol.iterator);
 * // => true
 *
 * _.isSymbol('abc');
 * // => false
 */
function isSymbol(value) {
  return typeof value == 'symbol' ||
    (isObjectLike(value) && baseGetTag(value) == symbolTag);
}

module.exports = isSymbol;


/***/ }),

/***/ "./node_modules/lodash/now.js":
/*!************************************!*\
  !*** ./node_modules/lodash/now.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var root = __webpack_require__(/*! ./_root */ "./node_modules/lodash/_root.js");

/**
 * Gets the timestamp of the number of milliseconds that have elapsed since
 * the Unix epoch (1 January 1970 00:00:00 UTC).
 *
 * @static
 * @memberOf _
 * @since 2.4.0
 * @category Date
 * @returns {number} Returns the timestamp.
 * @example
 *
 * _.defer(function(stamp) {
 *   console.log(_.now() - stamp);
 * }, _.now());
 * // => Logs the number of milliseconds it took for the deferred invocation.
 */
var now = function() {
  return root.Date.now();
};

module.exports = now;


/***/ }),

/***/ "./node_modules/lodash/throttle.js":
/*!*****************************************!*\
  !*** ./node_modules/lodash/throttle.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var debounce = __webpack_require__(/*! ./debounce */ "./node_modules/lodash/debounce.js"),
    isObject = __webpack_require__(/*! ./isObject */ "./node_modules/lodash/isObject.js");

/** Error message constants. */
var FUNC_ERROR_TEXT = 'Expected a function';

/**
 * Creates a throttled function that only invokes `func` at most once per
 * every `wait` milliseconds. The throttled function comes with a `cancel`
 * method to cancel delayed `func` invocations and a `flush` method to
 * immediately invoke them. Provide `options` to indicate whether `func`
 * should be invoked on the leading and/or trailing edge of the `wait`
 * timeout. The `func` is invoked with the last arguments provided to the
 * throttled function. Subsequent calls to the throttled function return the
 * result of the last `func` invocation.
 *
 * **Note:** If `leading` and `trailing` options are `true`, `func` is
 * invoked on the trailing edge of the timeout only if the throttled function
 * is invoked more than once during the `wait` timeout.
 *
 * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred
 * until to the next tick, similar to `setTimeout` with a timeout of `0`.
 *
 * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)
 * for details over the differences between `_.throttle` and `_.debounce`.
 *
 * @static
 * @memberOf _
 * @since 0.1.0
 * @category Function
 * @param {Function} func The function to throttle.
 * @param {number} [wait=0] The number of milliseconds to throttle invocations to.
 * @param {Object} [options={}] The options object.
 * @param {boolean} [options.leading=true]
 *  Specify invoking on the leading edge of the timeout.
 * @param {boolean} [options.trailing=true]
 *  Specify invoking on the trailing edge of the timeout.
 * @returns {Function} Returns the new throttled function.
 * @example
 *
 * // Avoid excessively updating the position while scrolling.
 * jQuery(window).on('scroll', _.throttle(updatePosition, 100));
 *
 * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.
 * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });
 * jQuery(element).on('click', throttled);
 *
 * // Cancel the trailing throttled invocation.
 * jQuery(window).on('popstate', throttled.cancel);
 */
function throttle(func, wait, options) {
  var leading = true,
      trailing = true;

  if (typeof func != 'function') {
    throw new TypeError(FUNC_ERROR_TEXT);
  }
  if (isObject(options)) {
    leading = 'leading' in options ? !!options.leading : leading;
    trailing = 'trailing' in options ? !!options.trailing : trailing;
  }
  return debounce(func, wait, {
    'leading': leading,
    'maxWait': wait,
    'trailing': trailing
  });
}

module.exports = throttle;


/***/ }),

/***/ "./node_modules/lodash/toNumber.js":
/*!*****************************************!*\
  !*** ./node_modules/lodash/toNumber.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var isObject = __webpack_require__(/*! ./isObject */ "./node_modules/lodash/isObject.js"),
    isSymbol = __webpack_require__(/*! ./isSymbol */ "./node_modules/lodash/isSymbol.js");

/** Used as references for various `Number` constants. */
var NAN = 0 / 0;

/** Used to match leading and trailing whitespace. */
var reTrim = /^\s+|\s+$/g;

/** Used to detect bad signed hexadecimal string values. */
var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;

/** Used to detect binary string values. */
var reIsBinary = /^0b[01]+$/i;

/** Used to detect octal string values. */
var reIsOctal = /^0o[0-7]+$/i;

/** Built-in method references without a dependency on `root`. */
var freeParseInt = parseInt;

/**
 * Converts `value` to a number.
 *
 * @static
 * @memberOf _
 * @since 4.0.0
 * @category Lang
 * @param {*} value The value to process.
 * @returns {number} Returns the number.
 * @example
 *
 * _.toNumber(3.2);
 * // => 3.2
 *
 * _.toNumber(Number.MIN_VALUE);
 * // => 5e-324
 *
 * _.toNumber(Infinity);
 * // => Infinity
 *
 * _.toNumber('3.2');
 * // => 3.2
 */
function toNumber(value) {
  if (typeof value == 'number') {
    return value;
  }
  if (isSymbol(value)) {
    return NAN;
  }
  if (isObject(value)) {
    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;
    value = isObject(other) ? (other + '') : other;
  }
  if (typeof value != 'string') {
    return value === 0 ? value : +value;
  }
  value = value.replace(reTrim, '');
  var isBinary = reIsBinary.test(value);
  return (isBinary || reIsOctal.test(value))
    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)
    : (reIsBadHex.test(value) ? NAN : +value);
}

module.exports = toNumber;


/***/ }),

/***/ "./node_modules/object-is/index.js":
/*!*****************************************!*\
  !*** ./node_modules/object-is/index.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


/* https://people.mozilla.org/~jorendorff/es6-draft.html#sec-object.is */

var NumberIsNaN = function (value) {
	return value !== value;
};

module.exports = function is(a, b) {
	if (a === 0 && b === 0) {
		return 1 / a === 1 / b;
	} else if (a === b) {
		return true;
	} else if (NumberIsNaN(a) && NumberIsNaN(b)) {
		return true;
	}
	return false;
};



/***/ }),

/***/ "./node_modules/object.assign/implementation.js":
/*!******************************************************!*\
  !*** ./node_modules/object.assign/implementation.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


// modified from https://github.com/es-shims/es6-shim
var keys = __webpack_require__(/*! object-keys */ "./node_modules/object-keys/index.js");
var bind = __webpack_require__(/*! function-bind */ "./node_modules/function-bind/index.js");
var canBeObject = function (obj) {
	return typeof obj !== 'undefined' && obj !== null;
};
var hasSymbols = __webpack_require__(/*! has-symbols/shams */ "./node_modules/has-symbols/shams.js")();
var toObject = Object;
var push = bind.call(Function.call, Array.prototype.push);
var propIsEnumerable = bind.call(Function.call, Object.prototype.propertyIsEnumerable);
var originalGetSymbols = hasSymbols ? Object.getOwnPropertySymbols : null;

module.exports = function assign(target, source1) {
	if (!canBeObject(target)) { throw new TypeError('target must be an object'); }
	var objTarget = toObject(target);
	var s, source, i, props, syms, value, key;
	for (s = 1; s < arguments.length; ++s) {
		source = toObject(arguments[s]);
		props = keys(source);
		var getSymbols = hasSymbols && (Object.getOwnPropertySymbols || originalGetSymbols);
		if (getSymbols) {
			syms = getSymbols(source);
			for (i = 0; i < syms.length; ++i) {
				key = syms[i];
				if (propIsEnumerable(source, key)) {
					push(props, key);
				}
			}
		}
		for (i = 0; i < props.length; ++i) {
			key = props[i];
			value = source[key];
			if (propIsEnumerable(source, key)) {
				objTarget[key] = value;
			}
		}
	}
	return objTarget;
};


/***/ }),

/***/ "./node_modules/object.assign/index.js":
/*!*********************************************!*\
  !*** ./node_modules/object.assign/index.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var defineProperties = __webpack_require__(/*! define-properties */ "./node_modules/define-properties/index.js");

var implementation = __webpack_require__(/*! ./implementation */ "./node_modules/object.assign/implementation.js");
var getPolyfill = __webpack_require__(/*! ./polyfill */ "./node_modules/object.assign/polyfill.js");
var shim = __webpack_require__(/*! ./shim */ "./node_modules/object.assign/shim.js");

var polyfill = getPolyfill();

defineProperties(polyfill, {
	getPolyfill: getPolyfill,
	implementation: implementation,
	shim: shim
});

module.exports = polyfill;


/***/ }),

/***/ "./node_modules/object.assign/polyfill.js":
/*!************************************************!*\
  !*** ./node_modules/object.assign/polyfill.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var implementation = __webpack_require__(/*! ./implementation */ "./node_modules/object.assign/implementation.js");

var lacksProperEnumerationOrder = function () {
	if (!Object.assign) {
		return false;
	}
	// v8, specifically in node 4.x, has a bug with incorrect property enumeration order
	// note: this does not detect the bug unless there's 20 characters
	var str = 'abcdefghijklmnopqrst';
	var letters = str.split('');
	var map = {};
	for (var i = 0; i < letters.length; ++i) {
		map[letters[i]] = letters[i];
	}
	var obj = Object.assign({}, map);
	var actual = '';
	for (var k in obj) {
		actual += k;
	}
	return str !== actual;
};

var assignHasPendingExceptions = function () {
	if (!Object.assign || !Object.preventExtensions) {
		return false;
	}
	// Firefox 37 still has "pending exception" logic in its Object.assign implementation,
	// which is 72% slower than our shim, and Firefox 40's native implementation.
	var thrower = Object.preventExtensions({ 1: 2 });
	try {
		Object.assign(thrower, 'xy');
	} catch (e) {
		return thrower[1] === 'y';
	}
	return false;
};

module.exports = function getPolyfill() {
	if (!Object.assign) {
		return implementation;
	}
	if (lacksProperEnumerationOrder()) {
		return implementation;
	}
	if (assignHasPendingExceptions()) {
		return implementation;
	}
	return Object.assign;
};


/***/ }),

/***/ "./node_modules/object.assign/shim.js":
/*!********************************************!*\
  !*** ./node_modules/object.assign/shim.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var define = __webpack_require__(/*! define-properties */ "./node_modules/define-properties/index.js");
var getPolyfill = __webpack_require__(/*! ./polyfill */ "./node_modules/object.assign/polyfill.js");

module.exports = function shimAssign() {
	var polyfill = getPolyfill();
	define(
		Object,
		{ assign: polyfill },
		{ assign: function () { return Object.assign !== polyfill; } }
	);
	return polyfill;
};


/***/ }),

/***/ "./node_modules/object.entries/implementation.js":
/*!*******************************************************!*\
  !*** ./node_modules/object.entries/implementation.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var ES = __webpack_require__(/*! es-abstract/es7 */ "./node_modules/es-abstract/es7.js");
var has = __webpack_require__(/*! has */ "./node_modules/has/src/index.js");
var bind = __webpack_require__(/*! function-bind */ "./node_modules/function-bind/index.js");
var isEnumerable = bind.call(Function.call, Object.prototype.propertyIsEnumerable);

module.exports = function entries(O) {
	var obj = ES.RequireObjectCoercible(O);
	var entrys = [];
	for (var key in obj) {
		if (has(obj, key) && isEnumerable(obj, key)) {
			entrys.push([key, obj[key]]);
		}
	}
	return entrys;
};


/***/ }),

/***/ "./node_modules/object.entries/index.js":
/*!**********************************************!*\
  !*** ./node_modules/object.entries/index.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var define = __webpack_require__(/*! define-properties */ "./node_modules/define-properties/index.js");

var implementation = __webpack_require__(/*! ./implementation */ "./node_modules/object.entries/implementation.js");
var getPolyfill = __webpack_require__(/*! ./polyfill */ "./node_modules/object.entries/polyfill.js");
var shim = __webpack_require__(/*! ./shim */ "./node_modules/object.entries/shim.js");

var polyfill = getPolyfill();

define(polyfill, {
	getPolyfill: getPolyfill,
	implementation: implementation,
	shim: shim
});

module.exports = polyfill;


/***/ }),

/***/ "./node_modules/object.entries/polyfill.js":
/*!*************************************************!*\
  !*** ./node_modules/object.entries/polyfill.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var implementation = __webpack_require__(/*! ./implementation */ "./node_modules/object.entries/implementation.js");

module.exports = function getPolyfill() {
	return typeof Object.entries === 'function' ? Object.entries : implementation;
};


/***/ }),

/***/ "./node_modules/object.entries/shim.js":
/*!*********************************************!*\
  !*** ./node_modules/object.entries/shim.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var getPolyfill = __webpack_require__(/*! ./polyfill */ "./node_modules/object.entries/polyfill.js");
var define = __webpack_require__(/*! define-properties */ "./node_modules/define-properties/index.js");

module.exports = function shimEntries() {
	var polyfill = getPolyfill();
	define(Object, { entries: polyfill }, {
		entries: function testEntries() {
			return Object.entries !== polyfill;
		}
	});
	return polyfill;
};


/***/ }),

/***/ "./node_modules/object.values/implementation.js":
/*!******************************************************!*\
  !*** ./node_modules/object.values/implementation.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var ES = __webpack_require__(/*! es-abstract/es7 */ "./node_modules/es-abstract/es7.js");
var has = __webpack_require__(/*! has */ "./node_modules/has/src/index.js");
var bind = __webpack_require__(/*! function-bind */ "./node_modules/function-bind/index.js");
var isEnumerable = bind.call(Function.call, Object.prototype.propertyIsEnumerable);

module.exports = function values(O) {
	var obj = ES.RequireObjectCoercible(O);
	var vals = [];
	for (var key in obj) {
		if (has(obj, key) && isEnumerable(obj, key)) {
			vals.push(obj[key]);
		}
	}
	return vals;
};


/***/ }),

/***/ "./node_modules/object.values/index.js":
/*!*********************************************!*\
  !*** ./node_modules/object.values/index.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var define = __webpack_require__(/*! define-properties */ "./node_modules/define-properties/index.js");

var implementation = __webpack_require__(/*! ./implementation */ "./node_modules/object.values/implementation.js");
var getPolyfill = __webpack_require__(/*! ./polyfill */ "./node_modules/object.values/polyfill.js");
var shim = __webpack_require__(/*! ./shim */ "./node_modules/object.values/shim.js");

var polyfill = getPolyfill();

define(polyfill, {
	getPolyfill: getPolyfill,
	implementation: implementation,
	shim: shim
});

module.exports = polyfill;


/***/ }),

/***/ "./node_modules/object.values/polyfill.js":
/*!************************************************!*\
  !*** ./node_modules/object.values/polyfill.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var implementation = __webpack_require__(/*! ./implementation */ "./node_modules/object.values/implementation.js");

module.exports = function getPolyfill() {
	return typeof Object.values === 'function' ? Object.values : implementation;
};


/***/ }),

/***/ "./node_modules/object.values/shim.js":
/*!********************************************!*\
  !*** ./node_modules/object.values/shim.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var getPolyfill = __webpack_require__(/*! ./polyfill */ "./node_modules/object.values/polyfill.js");
var define = __webpack_require__(/*! define-properties */ "./node_modules/define-properties/index.js");

module.exports = function shimValues() {
	var polyfill = getPolyfill();
	define(Object, { values: polyfill }, {
		values: function testValues() {
			return Object.values !== polyfill;
		}
	});
	return polyfill;
};


/***/ }),

/***/ "./node_modules/prop-types-exact/build/helpers/isPlainObject.js":
/*!**********************************************************************!*\
  !*** ./node_modules/prop-types-exact/build/helpers/isPlainObject.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

exports['default'] = isPlainObject;
function isPlainObject(x) {
  return x && (typeof x === 'undefined' ? 'undefined' : _typeof(x)) === 'object' && !Array.isArray(x);
}
module.exports = exports['default'];
//# sourceMappingURL=isPlainObject.js.map

/***/ }),

/***/ "./node_modules/prop-types-exact/build/index.js":
/*!******************************************************!*\
  !*** ./node_modules/prop-types-exact/build/index.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports['default'] = forbidExtraProps;

var _object = __webpack_require__(/*! object.assign */ "./node_modules/object.assign/index.js");

var _object2 = _interopRequireDefault(_object);

var _has = __webpack_require__(/*! has */ "./node_modules/has/src/index.js");

var _has2 = _interopRequireDefault(_has);

var _isPlainObject = __webpack_require__(/*! ./helpers/isPlainObject */ "./node_modules/prop-types-exact/build/helpers/isPlainObject.js");

var _isPlainObject2 = _interopRequireDefault(_isPlainObject);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var zeroWidthSpace = '\u200B';
var specialProperty = 'prop-types-exact: ' + zeroWidthSpace;
var semaphore = typeof Symbol === 'function' && typeof Symbol['for'] === 'function' ? Symbol['for'](specialProperty) : /* istanbul ignore next */specialProperty;

function brand(fn) {
  return (0, _object2['default'])(fn, _defineProperty({}, specialProperty, semaphore));
}

function isBranded(value) {
  return value && value[specialProperty] === semaphore;
}

function forbidExtraProps(propTypes) {
  if (!(0, _isPlainObject2['default'])(propTypes)) {
    throw new TypeError('given propTypes must be an object');
  }
  if ((0, _has2['default'])(propTypes, specialProperty) && !isBranded(propTypes[specialProperty])) {
    throw new TypeError('Against all odds, you created a propType for a prop that uses both the zero-width space and our custom string - which, sadly, conflicts with `prop-types-exact`');
  }

  return (0, _object2['default'])({}, propTypes, _defineProperty({}, specialProperty, brand(function () {
    function forbidUnknownProps(props, _, componentName) {
      var unknownProps = Object.keys(props).filter(function (prop) {
        return !(0, _has2['default'])(propTypes, prop);
      });
      if (unknownProps.length > 0) {
        return new TypeError(String(componentName) + ': unknown props found: ' + String(unknownProps.join(', ')));
      }
      return null;
    }

    return forbidUnknownProps;
  }())));
}
module.exports = exports['default'];
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/react-addons-shallow-compare/index.js":
/*!************************************************************!*\
  !*** ./node_modules/react-addons-shallow-compare/index.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @providesModule shallowCompare
 */



var shallowEqual = __webpack_require__(/*! fbjs/lib/shallowEqual */ "./node_modules/fbjs/lib/shallowEqual.js");

/**
 * Does a shallow comparison for props and state.
 * See ReactComponentWithPureRenderMixin
 * See also https://facebook.github.io/react/docs/shallow-compare.html
 */
function shallowCompare(instance, nextProps, nextState) {
  return (
    !shallowEqual(instance.props, nextProps) ||
    !shallowEqual(instance.state, nextState)
  );
}

module.exports = shallowCompare;


/***/ }),

/***/ "./node_modules/react-dates/index.js":
/*!*******************************************!*\
  !*** ./node_modules/react-dates/index.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// eslint-disable-next-line import/no-unresolved
module.exports = __webpack_require__(/*! ./lib */ "./node_modules/react-dates/lib/index.js");


/***/ }),

/***/ "./node_modules/react-dates/lib/components/CalendarDay.js":
/*!****************************************************************!*\
  !*** ./node_modules/react-dates/lib/components/CalendarDay.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.PureCalendarDay = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _object = __webpack_require__(/*! object.assign */ "./node_modules/object.assign/index.js");

var _object2 = _interopRequireDefault(_object);

var _react = __webpack_require__(/*! react */ "./node_modules/react/index.js");

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactAddonsShallowCompare = __webpack_require__(/*! react-addons-shallow-compare */ "./node_modules/react-addons-shallow-compare/index.js");

var _reactAddonsShallowCompare2 = _interopRequireDefault(_reactAddonsShallowCompare);

var _reactMomentProptypes = __webpack_require__(/*! react-moment-proptypes */ "./node_modules/react-moment-proptypes/src/index.js");

var _reactMomentProptypes2 = _interopRequireDefault(_reactMomentProptypes);

var _airbnbPropTypes = __webpack_require__(/*! airbnb-prop-types */ "./node_modules/airbnb-prop-types/index.js");

var _reactWithStyles = __webpack_require__(/*! react-with-styles */ "./node_modules/react-with-styles/lib/withStyles.js");

var _moment = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");

var _moment2 = _interopRequireDefault(_moment);

var _defaultPhrases = __webpack_require__(/*! ../defaultPhrases */ "./node_modules/react-dates/lib/defaultPhrases.js");

var _getPhrasePropTypes = __webpack_require__(/*! ../utils/getPhrasePropTypes */ "./node_modules/react-dates/lib/utils/getPhrasePropTypes.js");

var _getPhrasePropTypes2 = _interopRequireDefault(_getPhrasePropTypes);

var _getCalendarDaySettings = __webpack_require__(/*! ../utils/getCalendarDaySettings */ "./node_modules/react-dates/lib/utils/getCalendarDaySettings.js");

var _getCalendarDaySettings2 = _interopRequireDefault(_getCalendarDaySettings);

var _ModifiersShape = __webpack_require__(/*! ../shapes/ModifiersShape */ "./node_modules/react-dates/lib/shapes/ModifiersShape.js");

var _ModifiersShape2 = _interopRequireDefault(_ModifiersShape);

var _constants = __webpack_require__(/*! ../constants */ "./node_modules/react-dates/lib/constants.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var propTypes = (0, _airbnbPropTypes.forbidExtraProps)((0, _object2['default'])({}, _reactWithStyles.withStylesPropTypes, {
  day: _reactMomentProptypes2['default'].momentObj,
  daySize: _airbnbPropTypes.nonNegativeInteger,
  isOutsideDay: _propTypes2['default'].bool,
  modifiers: _ModifiersShape2['default'],
  isFocused: _propTypes2['default'].bool,
  tabIndex: _propTypes2['default'].oneOf([0, -1]),
  onDayClick: _propTypes2['default'].func,
  onDayMouseEnter: _propTypes2['default'].func,
  onDayMouseLeave: _propTypes2['default'].func,
  renderDayContents: _propTypes2['default'].func,
  ariaLabelFormat: _propTypes2['default'].string,

  // internationalization
  phrases: _propTypes2['default'].shape((0, _getPhrasePropTypes2['default'])(_defaultPhrases.CalendarDayPhrases))
}));

var defaultProps = {
  day: (0, _moment2['default'])(),
  daySize: _constants.DAY_SIZE,
  isOutsideDay: false,
  modifiers: new Set(),
  isFocused: false,
  tabIndex: -1,
  onDayClick: function () {
    function onDayClick() {}

    return onDayClick;
  }(),
  onDayMouseEnter: function () {
    function onDayMouseEnter() {}

    return onDayMouseEnter;
  }(),
  onDayMouseLeave: function () {
    function onDayMouseLeave() {}

    return onDayMouseLeave;
  }(),

  renderDayContents: null,
  ariaLabelFormat: 'dddd, LL',

  // internationalization
  phrases: _defaultPhrases.CalendarDayPhrases
};

var CalendarDay = function (_React$Component) {
  _inherits(CalendarDay, _React$Component);

  function CalendarDay() {
    var _ref;

    _classCallCheck(this, CalendarDay);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = CalendarDay.__proto__ || Object.getPrototypeOf(CalendarDay)).call.apply(_ref, [this].concat(args)));

    _this.setButtonRef = _this.setButtonRef.bind(_this);
    return _this;
  }

  _createClass(CalendarDay, [{
    key: 'shouldComponentUpdate',
    value: function () {
      function shouldComponentUpdate(nextProps, nextState) {
        return (0, _reactAddonsShallowCompare2['default'])(this, nextProps, nextState);
      }

      return shouldComponentUpdate;
    }()
  }, {
    key: 'componentDidUpdate',
    value: function () {
      function componentDidUpdate(prevProps) {
        var _props = this.props,
            isFocused = _props.isFocused,
            tabIndex = _props.tabIndex;

        if (tabIndex === 0) {
          if (isFocused || tabIndex !== prevProps.tabIndex) {
            this.buttonRef.focus();
          }
        }
      }

      return componentDidUpdate;
    }()
  }, {
    key: 'onDayClick',
    value: function () {
      function onDayClick(day, e) {
        var onDayClick = this.props.onDayClick;

        onDayClick(day, e);
      }

      return onDayClick;
    }()
  }, {
    key: 'onDayMouseEnter',
    value: function () {
      function onDayMouseEnter(day, e) {
        var onDayMouseEnter = this.props.onDayMouseEnter;

        onDayMouseEnter(day, e);
      }

      return onDayMouseEnter;
    }()
  }, {
    key: 'onDayMouseLeave',
    value: function () {
      function onDayMouseLeave(day, e) {
        var onDayMouseLeave = this.props.onDayMouseLeave;

        onDayMouseLeave(day, e);
      }

      return onDayMouseLeave;
    }()
  }, {
    key: 'onKeyDown',
    value: function () {
      function onKeyDown(day, e) {
        var onDayClick = this.props.onDayClick;
        var key = e.key;

        if (key === 'Enter' || key === ' ') {
          onDayClick(day, e);
        }
      }

      return onKeyDown;
    }()
  }, {
    key: 'setButtonRef',
    value: function () {
      function setButtonRef(ref) {
        this.buttonRef = ref;
      }

      return setButtonRef;
    }()
  }, {
    key: 'render',
    value: function () {
      function render() {
        var _this2 = this;

        var _props2 = this.props,
            day = _props2.day,
            ariaLabelFormat = _props2.ariaLabelFormat,
            daySize = _props2.daySize,
            isOutsideDay = _props2.isOutsideDay,
            modifiers = _props2.modifiers,
            renderDayContents = _props2.renderDayContents,
            tabIndex = _props2.tabIndex,
            styles = _props2.styles,
            phrases = _props2.phrases;


        if (!day) return _react2['default'].createElement('td', null);

        var _getCalendarDaySettin = (0, _getCalendarDaySettings2['default'])(day, ariaLabelFormat, daySize, modifiers, phrases),
            daySizeStyles = _getCalendarDaySettin.daySizeStyles,
            useDefaultCursor = _getCalendarDaySettin.useDefaultCursor,
            selected = _getCalendarDaySettin.selected,
            hoveredSpan = _getCalendarDaySettin.hoveredSpan,
            isOutsideRange = _getCalendarDaySettin.isOutsideRange,
            ariaLabel = _getCalendarDaySettin.ariaLabel;

        return _react2['default'].createElement(
          'td',
          _extends({}, (0, _reactWithStyles.css)(styles.CalendarDay, useDefaultCursor && styles.CalendarDay__defaultCursor, styles.CalendarDay__default, isOutsideDay && styles.CalendarDay__outside, modifiers.has('today') && styles.CalendarDay__today, modifiers.has('first-day-of-week') && styles.CalendarDay__firstDayOfWeek, modifiers.has('last-day-of-week') && styles.CalendarDay__lastDayOfWeek, modifiers.has('hovered-offset') && styles.CalendarDay__hovered_offset, modifiers.has('highlighted-calendar') && styles.CalendarDay__highlighted_calendar, modifiers.has('blocked-minimum-nights') && styles.CalendarDay__blocked_minimum_nights, modifiers.has('blocked-calendar') && styles.CalendarDay__blocked_calendar, hoveredSpan && styles.CalendarDay__hovered_span, modifiers.has('selected-span') && styles.CalendarDay__selected_span, modifiers.has('last-in-range') && styles.CalendarDay__last_in_range, modifiers.has('selected-start') && styles.CalendarDay__selected_start, modifiers.has('selected-end') && styles.CalendarDay__selected_end, selected && styles.CalendarDay__selected, isOutsideRange && styles.CalendarDay__blocked_out_of_range, daySizeStyles), {
            role: 'button' // eslint-disable-line jsx-a11y/no-noninteractive-element-to-interactive-role
            , ref: this.setButtonRef,
            'aria-label': ariaLabel,
            onMouseEnter: function () {
              function onMouseEnter(e) {
                _this2.onDayMouseEnter(day, e);
              }

              return onMouseEnter;
            }(),
            onMouseLeave: function () {
              function onMouseLeave(e) {
                _this2.onDayMouseLeave(day, e);
              }

              return onMouseLeave;
            }(),
            onMouseUp: function () {
              function onMouseUp(e) {
                e.currentTarget.blur();
              }

              return onMouseUp;
            }(),
            onClick: function () {
              function onClick(e) {
                _this2.onDayClick(day, e);
              }

              return onClick;
            }(),
            onKeyDown: function () {
              function onKeyDown(e) {
                _this2.onKeyDown(day, e);
              }

              return onKeyDown;
            }(),
            tabIndex: tabIndex
          }),
          renderDayContents ? renderDayContents(day, modifiers) : day.format('D')
        );
      }

      return render;
    }()
  }]);

  return CalendarDay;
}(_react2['default'].Component);

CalendarDay.propTypes = propTypes;
CalendarDay.defaultProps = defaultProps;

exports.PureCalendarDay = CalendarDay;
exports['default'] = (0, _reactWithStyles.withStyles)(function (_ref2) {
  var _ref2$reactDates = _ref2.reactDates,
      color = _ref2$reactDates.color,
      font = _ref2$reactDates.font;
  return {
    CalendarDay: {
      boxSizing: 'border-box',
      cursor: 'pointer',
      fontSize: font.size,
      textAlign: 'center',

      ':active': {
        outline: 0
      }
    },

    CalendarDay__defaultCursor: {
      cursor: 'default'
    },

    CalendarDay__default: {
      border: '1px solid ' + String(color.core.borderLight),
      color: color.text,
      background: color.background,

      ':hover': {
        background: color.core.borderLight,
        border: '1px double ' + String(color.core.borderLight),
        color: 'inherit'
      }
    },

    CalendarDay__hovered_offset: {
      background: color.core.borderBright,
      border: '1px double ' + String(color.core.borderLight),
      color: 'inherit'
    },

    CalendarDay__outside: {
      border: 0,
      background: color.outside.backgroundColor,
      color: color.outside.color,

      ':hover': {
        border: 0
      }
    },

    CalendarDay__blocked_minimum_nights: {
      background: color.minimumNights.backgroundColor,
      border: '1px solid ' + String(color.minimumNights.borderColor),
      color: color.minimumNights.color,

      ':hover': {
        background: color.minimumNights.backgroundColor_hover,
        color: color.minimumNights.color_active
      },

      ':active': {
        background: color.minimumNights.backgroundColor_active,
        color: color.minimumNights.color_active
      }
    },

    CalendarDay__highlighted_calendar: {
      background: color.highlighted.backgroundColor,
      color: color.highlighted.color,

      ':hover': {
        background: color.highlighted.backgroundColor_hover,
        color: color.highlighted.color_active
      },

      ':active': {
        background: color.highlighted.backgroundColor_active,
        color: color.highlighted.color_active
      }
    },

    CalendarDay__selected_span: {
      background: color.selectedSpan.backgroundColor,
      border: '1px solid ' + String(color.selectedSpan.borderColor),
      color: color.selectedSpan.color,

      ':hover': {
        background: color.selectedSpan.backgroundColor_hover,
        border: '1px solid ' + String(color.selectedSpan.borderColor),
        color: color.selectedSpan.color_active
      },

      ':active': {
        background: color.selectedSpan.backgroundColor_active,
        border: '1px solid ' + String(color.selectedSpan.borderColor),
        color: color.selectedSpan.color_active
      }
    },

    CalendarDay__last_in_range: {
      borderRight: color.core.primary
    },

    CalendarDay__selected: {
      background: color.selected.backgroundColor,
      border: '1px solid ' + String(color.selected.borderColor),
      color: color.selected.color,

      ':hover': {
        background: color.selected.backgroundColor_hover,
        border: '1px solid ' + String(color.selected.borderColor),
        color: color.selected.color_active
      },

      ':active': {
        background: color.selected.backgroundColor_active,
        border: '1px solid ' + String(color.selected.borderColor),
        color: color.selected.color_active
      }
    },

    CalendarDay__hovered_span: {
      background: color.hoveredSpan.backgroundColor,
      border: '1px solid ' + String(color.hoveredSpan.borderColor),
      color: color.hoveredSpan.color,

      ':hover': {
        background: color.hoveredSpan.backgroundColor_hover,
        border: '1px solid ' + String(color.hoveredSpan.borderColor),
        color: color.hoveredSpan.color_active
      },

      ':active': {
        background: color.hoveredSpan.backgroundColor_active,
        border: '1px solid ' + String(color.hoveredSpan.borderColor),
        color: color.hoveredSpan.color_active
      }
    },

    CalendarDay__blocked_calendar: {
      background: color.blocked_calendar.backgroundColor,
      border: '1px solid ' + String(color.blocked_calendar.borderColor),
      color: color.blocked_calendar.color,

      ':hover': {
        background: color.blocked_calendar.backgroundColor_hover,
        border: '1px solid ' + String(color.blocked_calendar.borderColor),
        color: color.blocked_calendar.color_active
      },

      ':active': {
        background: color.blocked_calendar.backgroundColor_active,
        border: '1px solid ' + String(color.blocked_calendar.borderColor),
        color: color.blocked_calendar.color_active
      }
    },

    CalendarDay__blocked_out_of_range: {
      background: color.blocked_out_of_range.backgroundColor,
      border: '1px solid ' + String(color.blocked_out_of_range.borderColor),
      color: color.blocked_out_of_range.color,

      ':hover': {
        background: color.blocked_out_of_range.backgroundColor_hover,
        border: '1px solid ' + String(color.blocked_out_of_range.borderColor),
        color: color.blocked_out_of_range.color_active
      },

      ':active': {
        background: color.blocked_out_of_range.backgroundColor_active,
        border: '1px solid ' + String(color.blocked_out_of_range.borderColor),
        color: color.blocked_out_of_range.color_active
      }
    },

    CalendarDay__selected_start: {},
    CalendarDay__selected_end: {},
    CalendarDay__today: {},
    CalendarDay__firstDayOfWeek: {},
    CalendarDay__lastDayOfWeek: {}
  };
})(CalendarDay);

/***/ }),

/***/ "./node_modules/react-dates/lib/components/CalendarIcon.js":
/*!*****************************************************************!*\
  !*** ./node_modules/react-dates/lib/components/CalendarIcon.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(/*! react */ "./node_modules/react/index.js");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var CalendarIcon = function () {
  function CalendarIcon(props) {
    return _react2['default'].createElement(
      'svg',
      props,
      _react2['default'].createElement('path', {
        d: 'M107.2 1392.9h241.1v-241.1H107.2v241.1zm294.7 0h267.9v-241.1H401.9v241.1zm-294.7-294.7h241.1V830.4H107.2v267.8zm294.7 0h267.9V830.4H401.9v267.8zM107.2 776.8h241.1V535.7H107.2v241.1zm616.2 616.1h267.9v-241.1H723.4v241.1zM401.9 776.8h267.9V535.7H401.9v241.1zm642.9 616.1H1286v-241.1h-241.1v241.1zm-321.4-294.7h267.9V830.4H723.4v267.8zM428.7 375V133.9c0-7.3-2.7-13.5-8-18.8-5.3-5.3-11.6-8-18.8-8h-53.6c-7.3 0-13.5 2.7-18.8 8-5.3 5.3-8 11.6-8 18.8V375c0 7.3 2.7 13.5 8 18.8 5.3 5.3 11.6 8 18.8 8h53.6c7.3 0 13.5-2.7 18.8-8 5.3-5.3 8-11.5 8-18.8zm616.1 723.2H1286V830.4h-241.1v267.8zM723.4 776.8h267.9V535.7H723.4v241.1zm321.4 0H1286V535.7h-241.1v241.1zm26.8-401.8V133.9c0-7.3-2.7-13.5-8-18.8-5.3-5.3-11.6-8-18.8-8h-53.6c-7.3 0-13.5 2.7-18.8 8-5.3 5.3-8 11.6-8 18.8V375c0 7.3 2.7 13.5 8 18.8 5.3 5.3 11.6 8 18.8 8h53.6c7.3 0 13.5-2.7 18.8-8 5.4-5.3 8-11.5 8-18.8zm321.5-53.6v1071.4c0 29-10.6 54.1-31.8 75.3-21.2 21.2-46.3 31.8-75.3 31.8H107.2c-29 0-54.1-10.6-75.3-31.8C10.6 1447 0 1421.9 0 1392.9V321.4c0-29 10.6-54.1 31.8-75.3s46.3-31.8 75.3-31.8h107.2v-80.4c0-36.8 13.1-68.4 39.3-94.6S311.4 0 348.3 0h53.6c36.8 0 68.4 13.1 94.6 39.3 26.2 26.2 39.3 57.8 39.3 94.6v80.4h321.5v-80.4c0-36.8 13.1-68.4 39.3-94.6C922.9 13.1 954.4 0 991.3 0h53.6c36.8 0 68.4 13.1 94.6 39.3s39.3 57.8 39.3 94.6v80.4H1286c29 0 54.1 10.6 75.3 31.8 21.2 21.2 31.8 46.3 31.8 75.3z'
      })
    );
  }

  return CalendarIcon;
}();

CalendarIcon.defaultProps = {
  viewBox: '0 0 1393.1 1500'
};
exports['default'] = CalendarIcon;

/***/ }),

/***/ "./node_modules/react-dates/lib/components/CalendarMonth.js":
/*!******************************************************************!*\
  !*** ./node_modules/react-dates/lib/components/CalendarMonth.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _object = __webpack_require__(/*! object.assign */ "./node_modules/object.assign/index.js");

var _object2 = _interopRequireDefault(_object);

var _react = __webpack_require__(/*! react */ "./node_modules/react/index.js");

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactAddonsShallowCompare = __webpack_require__(/*! react-addons-shallow-compare */ "./node_modules/react-addons-shallow-compare/index.js");

var _reactAddonsShallowCompare2 = _interopRequireDefault(_reactAddonsShallowCompare);

var _reactMomentProptypes = __webpack_require__(/*! react-moment-proptypes */ "./node_modules/react-moment-proptypes/src/index.js");

var _reactMomentProptypes2 = _interopRequireDefault(_reactMomentProptypes);

var _airbnbPropTypes = __webpack_require__(/*! airbnb-prop-types */ "./node_modules/airbnb-prop-types/index.js");

var _reactWithStyles = __webpack_require__(/*! react-with-styles */ "./node_modules/react-with-styles/lib/withStyles.js");

var _moment = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");

var _moment2 = _interopRequireDefault(_moment);

var _defaultPhrases = __webpack_require__(/*! ../defaultPhrases */ "./node_modules/react-dates/lib/defaultPhrases.js");

var _getPhrasePropTypes = __webpack_require__(/*! ../utils/getPhrasePropTypes */ "./node_modules/react-dates/lib/utils/getPhrasePropTypes.js");

var _getPhrasePropTypes2 = _interopRequireDefault(_getPhrasePropTypes);

var _CalendarWeek = __webpack_require__(/*! ./CalendarWeek */ "./node_modules/react-dates/lib/components/CalendarWeek.js");

var _CalendarWeek2 = _interopRequireDefault(_CalendarWeek);

var _CalendarDay = __webpack_require__(/*! ./CalendarDay */ "./node_modules/react-dates/lib/components/CalendarDay.js");

var _CalendarDay2 = _interopRequireDefault(_CalendarDay);

var _calculateDimension = __webpack_require__(/*! ../utils/calculateDimension */ "./node_modules/react-dates/lib/utils/calculateDimension.js");

var _calculateDimension2 = _interopRequireDefault(_calculateDimension);

var _getCalendarMonthWeeks = __webpack_require__(/*! ../utils/getCalendarMonthWeeks */ "./node_modules/react-dates/lib/utils/getCalendarMonthWeeks.js");

var _getCalendarMonthWeeks2 = _interopRequireDefault(_getCalendarMonthWeeks);

var _isSameDay = __webpack_require__(/*! ../utils/isSameDay */ "./node_modules/react-dates/lib/utils/isSameDay.js");

var _isSameDay2 = _interopRequireDefault(_isSameDay);

var _toISODateString = __webpack_require__(/*! ../utils/toISODateString */ "./node_modules/react-dates/lib/utils/toISODateString.js");

var _toISODateString2 = _interopRequireDefault(_toISODateString);

var _ModifiersShape = __webpack_require__(/*! ../shapes/ModifiersShape */ "./node_modules/react-dates/lib/shapes/ModifiersShape.js");

var _ModifiersShape2 = _interopRequireDefault(_ModifiersShape);

var _ScrollableOrientationShape = __webpack_require__(/*! ../shapes/ScrollableOrientationShape */ "./node_modules/react-dates/lib/shapes/ScrollableOrientationShape.js");

var _ScrollableOrientationShape2 = _interopRequireDefault(_ScrollableOrientationShape);

var _DayOfWeekShape = __webpack_require__(/*! ../shapes/DayOfWeekShape */ "./node_modules/react-dates/lib/shapes/DayOfWeekShape.js");

var _DayOfWeekShape2 = _interopRequireDefault(_DayOfWeekShape);

var _constants = __webpack_require__(/*! ../constants */ "./node_modules/react-dates/lib/constants.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* eslint react/no-array-index-key: 0 */

var propTypes = (0, _airbnbPropTypes.forbidExtraProps)((0, _object2['default'])({}, _reactWithStyles.withStylesPropTypes, {
  month: _reactMomentProptypes2['default'].momentObj,
  horizontalMonthPadding: _airbnbPropTypes.nonNegativeInteger,
  isVisible: _propTypes2['default'].bool,
  enableOutsideDays: _propTypes2['default'].bool,
  modifiers: _propTypes2['default'].objectOf(_ModifiersShape2['default']),
  orientation: _ScrollableOrientationShape2['default'],
  daySize: _airbnbPropTypes.nonNegativeInteger,
  onDayClick: _propTypes2['default'].func,
  onDayMouseEnter: _propTypes2['default'].func,
  onDayMouseLeave: _propTypes2['default'].func,
  onMonthSelect: _propTypes2['default'].func,
  onYearSelect: _propTypes2['default'].func,
  renderMonthText: (0, _airbnbPropTypes.mutuallyExclusiveProps)(_propTypes2['default'].func, 'renderMonthText', 'renderMonthElement'),
  renderCalendarDay: _propTypes2['default'].func,
  renderDayContents: _propTypes2['default'].func,
  renderMonthElement: (0, _airbnbPropTypes.mutuallyExclusiveProps)(_propTypes2['default'].func, 'renderMonthText', 'renderMonthElement'),
  firstDayOfWeek: _DayOfWeekShape2['default'],
  setMonthTitleHeight: _propTypes2['default'].func,
  verticalBorderSpacing: _airbnbPropTypes.nonNegativeInteger,

  focusedDate: _reactMomentProptypes2['default'].momentObj, // indicates focusable day
  isFocused: _propTypes2['default'].bool, // indicates whether or not to move focus to focusable day

  // i18n
  monthFormat: _propTypes2['default'].string,
  phrases: _propTypes2['default'].shape((0, _getPhrasePropTypes2['default'])(_defaultPhrases.CalendarDayPhrases)),
  dayAriaLabelFormat: _propTypes2['default'].string
}));

var defaultProps = {
  month: (0, _moment2['default'])(),
  horizontalMonthPadding: 13,
  isVisible: true,
  enableOutsideDays: false,
  modifiers: {},
  orientation: _constants.HORIZONTAL_ORIENTATION,
  daySize: _constants.DAY_SIZE,
  onDayClick: function () {
    function onDayClick() {}

    return onDayClick;
  }(),
  onDayMouseEnter: function () {
    function onDayMouseEnter() {}

    return onDayMouseEnter;
  }(),
  onDayMouseLeave: function () {
    function onDayMouseLeave() {}

    return onDayMouseLeave;
  }(),
  onMonthSelect: function () {
    function onMonthSelect() {}

    return onMonthSelect;
  }(),
  onYearSelect: function () {
    function onYearSelect() {}

    return onYearSelect;
  }(),

  renderMonthText: null,
  renderCalendarDay: function () {
    function renderCalendarDay(props) {
      return _react2['default'].createElement(_CalendarDay2['default'], props);
    }

    return renderCalendarDay;
  }(),
  renderDayContents: null,
  renderMonthElement: null,
  firstDayOfWeek: null,
  setMonthTitleHeight: null,

  focusedDate: null,
  isFocused: false,

  // i18n
  monthFormat: 'MMMM YYYY', // english locale
  phrases: _defaultPhrases.CalendarDayPhrases,
  dayAriaLabelFormat: undefined,
  verticalBorderSpacing: undefined
};

var CalendarMonth = function (_React$Component) {
  _inherits(CalendarMonth, _React$Component);

  function CalendarMonth(props) {
    _classCallCheck(this, CalendarMonth);

    var _this = _possibleConstructorReturn(this, (CalendarMonth.__proto__ || Object.getPrototypeOf(CalendarMonth)).call(this, props));

    _this.state = {
      weeks: (0, _getCalendarMonthWeeks2['default'])(props.month, props.enableOutsideDays, props.firstDayOfWeek == null ? _moment2['default'].localeData().firstDayOfWeek() : props.firstDayOfWeek)
    };

    _this.setCaptionRef = _this.setCaptionRef.bind(_this);
    _this.setMonthTitleHeight = _this.setMonthTitleHeight.bind(_this);
    return _this;
  }

  _createClass(CalendarMonth, [{
    key: 'componentDidMount',
    value: function () {
      function componentDidMount() {
        this.setMonthTitleHeightTimeout = setTimeout(this.setMonthTitleHeight, 0);
      }

      return componentDidMount;
    }()
  }, {
    key: 'componentWillReceiveProps',
    value: function () {
      function componentWillReceiveProps(nextProps) {
        var month = nextProps.month,
            enableOutsideDays = nextProps.enableOutsideDays,
            firstDayOfWeek = nextProps.firstDayOfWeek;
        var _props = this.props,
            prevMonth = _props.month,
            prevEnableOutsideDays = _props.enableOutsideDays,
            prevFirstDayOfWeek = _props.firstDayOfWeek;

        if (!month.isSame(prevMonth) || enableOutsideDays !== prevEnableOutsideDays || firstDayOfWeek !== prevFirstDayOfWeek) {
          this.setState({
            weeks: (0, _getCalendarMonthWeeks2['default'])(month, enableOutsideDays, firstDayOfWeek == null ? _moment2['default'].localeData().firstDayOfWeek() : firstDayOfWeek)
          });
        }
      }

      return componentWillReceiveProps;
    }()
  }, {
    key: 'shouldComponentUpdate',
    value: function () {
      function shouldComponentUpdate(nextProps, nextState) {
        return (0, _reactAddonsShallowCompare2['default'])(this, nextProps, nextState);
      }

      return shouldComponentUpdate;
    }()
  }, {
    key: 'componentWillUnmount',
    value: function () {
      function componentWillUnmount() {
        if (this.setMonthTitleHeightTimeout) {
          clearTimeout(this.setMonthTitleHeightTimeout);
        }
      }

      return componentWillUnmount;
    }()
  }, {
    key: 'setMonthTitleHeight',
    value: function () {
      function setMonthTitleHeight() {
        var setMonthTitleHeight = this.props.setMonthTitleHeight;

        if (setMonthTitleHeight) {
          var captionHeight = (0, _calculateDimension2['default'])(this.captionRef, 'height', true, true);
          setMonthTitleHeight(captionHeight);
        }
      }

      return setMonthTitleHeight;
    }()
  }, {
    key: 'setCaptionRef',
    value: function () {
      function setCaptionRef(ref) {
        this.captionRef = ref;
      }

      return setCaptionRef;
    }()
  }, {
    key: 'render',
    value: function () {
      function render() {
        var _props2 = this.props,
            dayAriaLabelFormat = _props2.dayAriaLabelFormat,
            daySize = _props2.daySize,
            focusedDate = _props2.focusedDate,
            horizontalMonthPadding = _props2.horizontalMonthPadding,
            isFocused = _props2.isFocused,
            isVisible = _props2.isVisible,
            modifiers = _props2.modifiers,
            month = _props2.month,
            monthFormat = _props2.monthFormat,
            onDayClick = _props2.onDayClick,
            onDayMouseEnter = _props2.onDayMouseEnter,
            onDayMouseLeave = _props2.onDayMouseLeave,
            onMonthSelect = _props2.onMonthSelect,
            onYearSelect = _props2.onYearSelect,
            orientation = _props2.orientation,
            phrases = _props2.phrases,
            renderCalendarDay = _props2.renderCalendarDay,
            renderDayContents = _props2.renderDayContents,
            renderMonthElement = _props2.renderMonthElement,
            renderMonthText = _props2.renderMonthText,
            styles = _props2.styles,
            verticalBorderSpacing = _props2.verticalBorderSpacing;
        var weeks = this.state.weeks;

        var monthTitle = renderMonthText ? renderMonthText(month) : month.format(monthFormat);

        var verticalScrollable = orientation === _constants.VERTICAL_SCROLLABLE;

        return _react2['default'].createElement(
          'div',
          _extends({}, (0, _reactWithStyles.css)(styles.CalendarMonth, { padding: '0 ' + String(horizontalMonthPadding) + 'px' }), {
            'data-visible': isVisible
          }),
          _react2['default'].createElement(
            'div',
            _extends({
              ref: this.setCaptionRef
            }, (0, _reactWithStyles.css)(styles.CalendarMonth_caption, verticalScrollable && styles.CalendarMonth_caption__verticalScrollable)),
            renderMonthElement ? renderMonthElement({ month: month, onMonthSelect: onMonthSelect, onYearSelect: onYearSelect }) : _react2['default'].createElement(
              'strong',
              null,
              monthTitle
            )
          ),
          _react2['default'].createElement(
            'table',
            _extends({}, (0, _reactWithStyles.css)(!verticalBorderSpacing && styles.CalendarMonth_table, verticalBorderSpacing && styles.CalendarMonth_verticalSpacing, verticalBorderSpacing && { borderSpacing: '0px ' + String(verticalBorderSpacing) + 'px' }), {
              role: 'presentation'
            }),
            _react2['default'].createElement(
              'tbody',
              null,
              weeks.map(function (week, i) {
                return _react2['default'].createElement(
                  _CalendarWeek2['default'],
                  { key: i },
                  week.map(function (day, dayOfWeek) {
                    return renderCalendarDay({
                      key: dayOfWeek,
                      day: day,
                      daySize: daySize,
                      isOutsideDay: !day || day.month() !== month.month(),
                      tabIndex: isVisible && (0, _isSameDay2['default'])(day, focusedDate) ? 0 : -1,
                      isFocused: isFocused,
                      onDayMouseEnter: onDayMouseEnter,
                      onDayMouseLeave: onDayMouseLeave,
                      onDayClick: onDayClick,
                      renderDayContents: renderDayContents,
                      phrases: phrases,
                      modifiers: modifiers[(0, _toISODateString2['default'])(day)],
                      ariaLabelFormat: dayAriaLabelFormat
                    });
                  })
                );
              })
            )
          )
        );
      }

      return render;
    }()
  }]);

  return CalendarMonth;
}(_react2['default'].Component);

CalendarMonth.propTypes = propTypes;
CalendarMonth.defaultProps = defaultProps;

exports['default'] = (0, _reactWithStyles.withStyles)(function (_ref) {
  var _ref$reactDates = _ref.reactDates,
      color = _ref$reactDates.color,
      font = _ref$reactDates.font,
      spacing = _ref$reactDates.spacing;
  return {
    CalendarMonth: {
      background: color.background,
      textAlign: 'center',
      verticalAlign: 'top',
      userSelect: 'none'
    },

    CalendarMonth_table: {
      borderCollapse: 'collapse',
      borderSpacing: 0
    },

    CalendarMonth_verticalSpacing: {
      borderCollapse: 'separate'
    },

    CalendarMonth_caption: {
      color: color.text,
      fontSize: font.captionSize,
      textAlign: 'center',
      paddingTop: spacing.captionPaddingTop,
      paddingBottom: spacing.captionPaddingBottom,
      captionSide: 'initial'
    },

    CalendarMonth_caption__verticalScrollable: {
      paddingTop: 12,
      paddingBottom: 7
    }
  };
})(CalendarMonth);

/***/ }),

/***/ "./node_modules/react-dates/lib/components/CalendarMonthGrid.js":
/*!**********************************************************************!*\
  !*** ./node_modules/react-dates/lib/components/CalendarMonthGrid.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _object = __webpack_require__(/*! object.assign */ "./node_modules/object.assign/index.js");

var _object2 = _interopRequireDefault(_object);

var _react = __webpack_require__(/*! react */ "./node_modules/react/index.js");

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactAddonsShallowCompare = __webpack_require__(/*! react-addons-shallow-compare */ "./node_modules/react-addons-shallow-compare/index.js");

var _reactAddonsShallowCompare2 = _interopRequireDefault(_reactAddonsShallowCompare);

var _reactMomentProptypes = __webpack_require__(/*! react-moment-proptypes */ "./node_modules/react-moment-proptypes/src/index.js");

var _reactMomentProptypes2 = _interopRequireDefault(_reactMomentProptypes);

var _airbnbPropTypes = __webpack_require__(/*! airbnb-prop-types */ "./node_modules/airbnb-prop-types/index.js");

var _reactWithStyles = __webpack_require__(/*! react-with-styles */ "./node_modules/react-with-styles/lib/withStyles.js");

var _moment = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");

var _moment2 = _interopRequireDefault(_moment);

var _consolidatedEvents = __webpack_require__(/*! consolidated-events */ "./node_modules/consolidated-events/lib/index.esm.js");

var _defaultPhrases = __webpack_require__(/*! ../defaultPhrases */ "./node_modules/react-dates/lib/defaultPhrases.js");

var _getPhrasePropTypes = __webpack_require__(/*! ../utils/getPhrasePropTypes */ "./node_modules/react-dates/lib/utils/getPhrasePropTypes.js");

var _getPhrasePropTypes2 = _interopRequireDefault(_getPhrasePropTypes);

var _CalendarMonth = __webpack_require__(/*! ./CalendarMonth */ "./node_modules/react-dates/lib/components/CalendarMonth.js");

var _CalendarMonth2 = _interopRequireDefault(_CalendarMonth);

var _isTransitionEndSupported = __webpack_require__(/*! ../utils/isTransitionEndSupported */ "./node_modules/react-dates/lib/utils/isTransitionEndSupported.js");

var _isTransitionEndSupported2 = _interopRequireDefault(_isTransitionEndSupported);

var _getTransformStyles = __webpack_require__(/*! ../utils/getTransformStyles */ "./node_modules/react-dates/lib/utils/getTransformStyles.js");

var _getTransformStyles2 = _interopRequireDefault(_getTransformStyles);

var _getCalendarMonthWidth = __webpack_require__(/*! ../utils/getCalendarMonthWidth */ "./node_modules/react-dates/lib/utils/getCalendarMonthWidth.js");

var _getCalendarMonthWidth2 = _interopRequireDefault(_getCalendarMonthWidth);

var _toISOMonthString = __webpack_require__(/*! ../utils/toISOMonthString */ "./node_modules/react-dates/lib/utils/toISOMonthString.js");

var _toISOMonthString2 = _interopRequireDefault(_toISOMonthString);

var _isPrevMonth = __webpack_require__(/*! ../utils/isPrevMonth */ "./node_modules/react-dates/lib/utils/isPrevMonth.js");

var _isPrevMonth2 = _interopRequireDefault(_isPrevMonth);

var _isNextMonth = __webpack_require__(/*! ../utils/isNextMonth */ "./node_modules/react-dates/lib/utils/isNextMonth.js");

var _isNextMonth2 = _interopRequireDefault(_isNextMonth);

var _ModifiersShape = __webpack_require__(/*! ../shapes/ModifiersShape */ "./node_modules/react-dates/lib/shapes/ModifiersShape.js");

var _ModifiersShape2 = _interopRequireDefault(_ModifiersShape);

var _ScrollableOrientationShape = __webpack_require__(/*! ../shapes/ScrollableOrientationShape */ "./node_modules/react-dates/lib/shapes/ScrollableOrientationShape.js");

var _ScrollableOrientationShape2 = _interopRequireDefault(_ScrollableOrientationShape);

var _DayOfWeekShape = __webpack_require__(/*! ../shapes/DayOfWeekShape */ "./node_modules/react-dates/lib/shapes/DayOfWeekShape.js");

var _DayOfWeekShape2 = _interopRequireDefault(_DayOfWeekShape);

var _constants = __webpack_require__(/*! ../constants */ "./node_modules/react-dates/lib/constants.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var propTypes = (0, _airbnbPropTypes.forbidExtraProps)((0, _object2['default'])({}, _reactWithStyles.withStylesPropTypes, {
  enableOutsideDays: _propTypes2['default'].bool,
  firstVisibleMonthIndex: _propTypes2['default'].number,
  horizontalMonthPadding: _airbnbPropTypes.nonNegativeInteger,
  initialMonth: _reactMomentProptypes2['default'].momentObj,
  isAnimating: _propTypes2['default'].bool,
  numberOfMonths: _propTypes2['default'].number,
  modifiers: _propTypes2['default'].objectOf(_propTypes2['default'].objectOf(_ModifiersShape2['default'])),
  orientation: _ScrollableOrientationShape2['default'],
  onDayClick: _propTypes2['default'].func,
  onDayMouseEnter: _propTypes2['default'].func,
  onDayMouseLeave: _propTypes2['default'].func,
  onMonthTransitionEnd: _propTypes2['default'].func,
  onMonthChange: _propTypes2['default'].func,
  onYearChange: _propTypes2['default'].func,
  renderMonthText: (0, _airbnbPropTypes.mutuallyExclusiveProps)(_propTypes2['default'].func, 'renderMonthText', 'renderMonthElement'),
  renderCalendarDay: _propTypes2['default'].func,
  renderDayContents: _propTypes2['default'].func,
  translationValue: _propTypes2['default'].number,
  renderMonthElement: (0, _airbnbPropTypes.mutuallyExclusiveProps)(_propTypes2['default'].func, 'renderMonthText', 'renderMonthElement'),
  daySize: _airbnbPropTypes.nonNegativeInteger,
  focusedDate: _reactMomentProptypes2['default'].momentObj, // indicates focusable day
  isFocused: _propTypes2['default'].bool, // indicates whether or not to move focus to focusable day
  firstDayOfWeek: _DayOfWeekShape2['default'],
  setMonthTitleHeight: _propTypes2['default'].func,
  isRTL: _propTypes2['default'].bool,
  transitionDuration: _airbnbPropTypes.nonNegativeInteger,
  verticalBorderSpacing: _airbnbPropTypes.nonNegativeInteger,

  // i18n
  monthFormat: _propTypes2['default'].string,
  phrases: _propTypes2['default'].shape((0, _getPhrasePropTypes2['default'])(_defaultPhrases.CalendarDayPhrases)),
  dayAriaLabelFormat: _propTypes2['default'].string
}));

var defaultProps = {
  enableOutsideDays: false,
  firstVisibleMonthIndex: 0,
  horizontalMonthPadding: 13,
  initialMonth: (0, _moment2['default'])(),
  isAnimating: false,
  numberOfMonths: 1,
  modifiers: {},
  orientation: _constants.HORIZONTAL_ORIENTATION,
  onDayClick: function () {
    function onDayClick() {}

    return onDayClick;
  }(),
  onDayMouseEnter: function () {
    function onDayMouseEnter() {}

    return onDayMouseEnter;
  }(),
  onDayMouseLeave: function () {
    function onDayMouseLeave() {}

    return onDayMouseLeave;
  }(),
  onMonthChange: function () {
    function onMonthChange() {}

    return onMonthChange;
  }(),
  onYearChange: function () {
    function onYearChange() {}

    return onYearChange;
  }(),
  onMonthTransitionEnd: function () {
    function onMonthTransitionEnd() {}

    return onMonthTransitionEnd;
  }(),

  renderMonthText: null,
  renderCalendarDay: undefined,
  renderDayContents: null,
  translationValue: null,
  renderMonthElement: null,
  daySize: _constants.DAY_SIZE,
  focusedDate: null,
  isFocused: false,
  firstDayOfWeek: null,
  setMonthTitleHeight: null,
  isRTL: false,
  transitionDuration: 200,
  verticalBorderSpacing: undefined,

  // i18n
  monthFormat: 'MMMM YYYY', // english locale
  phrases: _defaultPhrases.CalendarDayPhrases,
  dayAriaLabelFormat: undefined
};

function getMonths(initialMonth, numberOfMonths, withoutTransitionMonths) {
  var month = initialMonth.clone();
  if (!withoutTransitionMonths) month = month.subtract(1, 'month');

  var months = [];
  for (var i = 0; i < (withoutTransitionMonths ? numberOfMonths : numberOfMonths + 2); i += 1) {
    months.push(month);
    month = month.clone().add(1, 'month');
  }

  return months;
}

var CalendarMonthGrid = function (_React$Component) {
  _inherits(CalendarMonthGrid, _React$Component);

  function CalendarMonthGrid(props) {
    _classCallCheck(this, CalendarMonthGrid);

    var _this = _possibleConstructorReturn(this, (CalendarMonthGrid.__proto__ || Object.getPrototypeOf(CalendarMonthGrid)).call(this, props));

    var withoutTransitionMonths = props.orientation === _constants.VERTICAL_SCROLLABLE;
    _this.state = {
      months: getMonths(props.initialMonth, props.numberOfMonths, withoutTransitionMonths)
    };

    _this.isTransitionEndSupported = (0, _isTransitionEndSupported2['default'])();
    _this.onTransitionEnd = _this.onTransitionEnd.bind(_this);
    _this.setContainerRef = _this.setContainerRef.bind(_this);

    _this.locale = _moment2['default'].locale();
    _this.onMonthSelect = _this.onMonthSelect.bind(_this);
    _this.onYearSelect = _this.onYearSelect.bind(_this);
    return _this;
  }

  _createClass(CalendarMonthGrid, [{
    key: 'componentDidMount',
    value: function () {
      function componentDidMount() {
        this.removeEventListener = (0, _consolidatedEvents.addEventListener)(this.container, 'transitionend', this.onTransitionEnd);
      }

      return componentDidMount;
    }()
  }, {
    key: 'componentWillReceiveProps',
    value: function () {
      function componentWillReceiveProps(nextProps) {
        var _this2 = this;

        var initialMonth = nextProps.initialMonth,
            numberOfMonths = nextProps.numberOfMonths,
            orientation = nextProps.orientation;
        var months = this.state.months;
        var _props = this.props,
            prevInitialMonth = _props.initialMonth,
            prevNumberOfMonths = _props.numberOfMonths;

        var hasMonthChanged = !prevInitialMonth.isSame(initialMonth, 'month');
        var hasNumberOfMonthsChanged = prevNumberOfMonths !== numberOfMonths;
        var newMonths = months;

        if (hasMonthChanged && !hasNumberOfMonthsChanged) {
          if ((0, _isNextMonth2['default'])(prevInitialMonth, initialMonth)) {
            newMonths = months.slice(1);
            newMonths.push(months[months.length - 1].clone().add(1, 'month'));
          } else if ((0, _isPrevMonth2['default'])(prevInitialMonth, initialMonth)) {
            newMonths = months.slice(0, months.length - 1);
            newMonths.unshift(months[0].clone().subtract(1, 'month'));
          } else {
            var withoutTransitionMonths = orientation === _constants.VERTICAL_SCROLLABLE;
            newMonths = getMonths(initialMonth, numberOfMonths, withoutTransitionMonths);
          }
        }

        if (hasNumberOfMonthsChanged) {
          var _withoutTransitionMonths = orientation === _constants.VERTICAL_SCROLLABLE;
          newMonths = getMonths(initialMonth, numberOfMonths, _withoutTransitionMonths);
        }

        var momentLocale = _moment2['default'].locale();
        if (this.locale !== momentLocale) {
          this.locale = momentLocale;
          newMonths = newMonths.map(function (m) {
            return m.locale(_this2.locale);
          });
        }

        this.setState({
          months: newMonths
        });
      }

      return componentWillReceiveProps;
    }()
  }, {
    key: 'shouldComponentUpdate',
    value: function () {
      function shouldComponentUpdate(nextProps, nextState) {
        return (0, _reactAddonsShallowCompare2['default'])(this, nextProps, nextState);
      }

      return shouldComponentUpdate;
    }()
  }, {
    key: 'componentDidUpdate',
    value: function () {
      function componentDidUpdate() {
        var _props2 = this.props,
            isAnimating = _props2.isAnimating,
            transitionDuration = _props2.transitionDuration,
            onMonthTransitionEnd = _props2.onMonthTransitionEnd;

        // For IE9, immediately call onMonthTransitionEnd instead of
        // waiting for the animation to complete. Similarly, if transitionDuration
        // is set to 0, also immediately invoke the onMonthTransitionEnd callback

        if ((!this.isTransitionEndSupported || !transitionDuration) && isAnimating) {
          onMonthTransitionEnd();
        }
      }

      return componentDidUpdate;
    }()
  }, {
    key: 'componentWillUnmount',
    value: function () {
      function componentWillUnmount() {
        if (this.removeEventListener) this.removeEventListener();
      }

      return componentWillUnmount;
    }()
  }, {
    key: 'onTransitionEnd',
    value: function () {
      function onTransitionEnd() {
        var onMonthTransitionEnd = this.props.onMonthTransitionEnd;

        onMonthTransitionEnd();
      }

      return onTransitionEnd;
    }()
  }, {
    key: 'onMonthSelect',
    value: function () {
      function onMonthSelect(currentMonth, newMonthVal) {
        var newMonth = currentMonth.clone();
        var _props3 = this.props,
            onMonthChange = _props3.onMonthChange,
            orientation = _props3.orientation;
        var months = this.state.months;

        var withoutTransitionMonths = orientation === _constants.VERTICAL_SCROLLABLE;
        var initialMonthSubtraction = months.indexOf(currentMonth);
        if (!withoutTransitionMonths) {
          initialMonthSubtraction -= 1;
        }
        newMonth.set('month', newMonthVal).subtract(initialMonthSubtraction, 'months');
        onMonthChange(newMonth);
      }

      return onMonthSelect;
    }()
  }, {
    key: 'onYearSelect',
    value: function () {
      function onYearSelect(currentMonth, newYearVal) {
        var newMonth = currentMonth.clone();
        var _props4 = this.props,
            onYearChange = _props4.onYearChange,
            orientation = _props4.orientation;
        var months = this.state.months;

        var withoutTransitionMonths = orientation === _constants.VERTICAL_SCROLLABLE;
        var initialMonthSubtraction = months.indexOf(currentMonth);
        if (!withoutTransitionMonths) {
          initialMonthSubtraction -= 1;
        }
        newMonth.set('year', newYearVal).subtract(initialMonthSubtraction, 'months');
        onYearChange(newMonth);
      }

      return onYearSelect;
    }()
  }, {
    key: 'setContainerRef',
    value: function () {
      function setContainerRef(ref) {
        this.container = ref;
      }

      return setContainerRef;
    }()
  }, {
    key: 'render',
    value: function () {
      function render() {
        var _this3 = this;

        var _props5 = this.props,
            enableOutsideDays = _props5.enableOutsideDays,
            firstVisibleMonthIndex = _props5.firstVisibleMonthIndex,
            horizontalMonthPadding = _props5.horizontalMonthPadding,
            isAnimating = _props5.isAnimating,
            modifiers = _props5.modifiers,
            numberOfMonths = _props5.numberOfMonths,
            monthFormat = _props5.monthFormat,
            orientation = _props5.orientation,
            translationValue = _props5.translationValue,
            daySize = _props5.daySize,
            onDayMouseEnter = _props5.onDayMouseEnter,
            onDayMouseLeave = _props5.onDayMouseLeave,
            onDayClick = _props5.onDayClick,
            renderMonthText = _props5.renderMonthText,
            renderCalendarDay = _props5.renderCalendarDay,
            renderDayContents = _props5.renderDayContents,
            renderMonthElement = _props5.renderMonthElement,
            onMonthTransitionEnd = _props5.onMonthTransitionEnd,
            firstDayOfWeek = _props5.firstDayOfWeek,
            focusedDate = _props5.focusedDate,
            isFocused = _props5.isFocused,
            isRTL = _props5.isRTL,
            styles = _props5.styles,
            phrases = _props5.phrases,
            dayAriaLabelFormat = _props5.dayAriaLabelFormat,
            transitionDuration = _props5.transitionDuration,
            verticalBorderSpacing = _props5.verticalBorderSpacing,
            setMonthTitleHeight = _props5.setMonthTitleHeight;
        var months = this.state.months;

        var isVertical = orientation === _constants.VERTICAL_ORIENTATION;
        var isVerticalScrollable = orientation === _constants.VERTICAL_SCROLLABLE;
        var isHorizontal = orientation === _constants.HORIZONTAL_ORIENTATION;

        var calendarMonthWidth = (0, _getCalendarMonthWidth2['default'])(daySize, horizontalMonthPadding);

        var width = isVertical || isVerticalScrollable ? calendarMonthWidth : (numberOfMonths + 2) * calendarMonthWidth;

        var transformType = isVertical || isVerticalScrollable ? 'translateY' : 'translateX';
        var transformValue = transformType + '(' + String(translationValue) + 'px)';

        return _react2['default'].createElement(
          'div',
          _extends({}, (0, _reactWithStyles.css)(styles.CalendarMonthGrid, isHorizontal && styles.CalendarMonthGrid__horizontal, isVertical && styles.CalendarMonthGrid__vertical, isVerticalScrollable && styles.CalendarMonthGrid__vertical_scrollable, isAnimating && styles.CalendarMonthGrid__animating, isAnimating && transitionDuration && {
            transition: 'transform ' + String(transitionDuration) + 'ms ease-in-out'
          }, (0, _object2['default'])({}, (0, _getTransformStyles2['default'])(transformValue), {
            width: width
          })), {
            ref: this.setContainerRef,
            onTransitionEnd: onMonthTransitionEnd
          }),
          months.map(function (month, i) {
            var isVisible = i >= firstVisibleMonthIndex && i < firstVisibleMonthIndex + numberOfMonths;
            var hideForAnimation = i === 0 && !isVisible;
            var showForAnimation = i === 0 && isAnimating && isVisible;
            var monthString = (0, _toISOMonthString2['default'])(month);
            return _react2['default'].createElement(
              'div',
              _extends({
                key: monthString
              }, (0, _reactWithStyles.css)(isHorizontal && styles.CalendarMonthGrid_month__horizontal, hideForAnimation && styles.CalendarMonthGrid_month__hideForAnimation, showForAnimation && !isVertical && !isRTL && {
                position: 'absolute',
                left: -calendarMonthWidth
              }, showForAnimation && !isVertical && isRTL && {
                position: 'absolute',
                right: 0
              }, showForAnimation && isVertical && {
                position: 'absolute',
                top: -translationValue
              }, !isVisible && !isAnimating && styles.CalendarMonthGrid_month__hidden)),
              _react2['default'].createElement(_CalendarMonth2['default'], {
                month: month,
                isVisible: isVisible,
                enableOutsideDays: enableOutsideDays,
                modifiers: modifiers[monthString],
                monthFormat: monthFormat,
                orientation: orientation,
                onDayMouseEnter: onDayMouseEnter,
                onDayMouseLeave: onDayMouseLeave,
                onDayClick: onDayClick,
                onMonthSelect: _this3.onMonthSelect,
                onYearSelect: _this3.onYearSelect,
                renderMonthText: renderMonthText,
                renderCalendarDay: renderCalendarDay,
                renderDayContents: renderDayContents,
                renderMonthElement: renderMonthElement,
                firstDayOfWeek: firstDayOfWeek,
                daySize: daySize,
                focusedDate: isVisible ? focusedDate : null,
                isFocused: isFocused,
                phrases: phrases,
                setMonthTitleHeight: setMonthTitleHeight,
                dayAriaLabelFormat: dayAriaLabelFormat,
                verticalBorderSpacing: verticalBorderSpacing,
                horizontalMonthPadding: horizontalMonthPadding
              })
            );
          })
        );
      }

      return render;
    }()
  }]);

  return CalendarMonthGrid;
}(_react2['default'].Component);

CalendarMonthGrid.propTypes = propTypes;
CalendarMonthGrid.defaultProps = defaultProps;

exports['default'] = (0, _reactWithStyles.withStyles)(function (_ref) {
  var _ref$reactDates = _ref.reactDates,
      color = _ref$reactDates.color,
      noScrollBarOnVerticalScrollable = _ref$reactDates.noScrollBarOnVerticalScrollable,
      spacing = _ref$reactDates.spacing,
      zIndex = _ref$reactDates.zIndex;
  return {
    CalendarMonthGrid: {
      background: color.background,
      textAlign: 'left',
      zIndex: zIndex
    },

    CalendarMonthGrid__animating: {
      zIndex: zIndex + 1
    },

    CalendarMonthGrid__horizontal: {
      position: 'absolute',
      left: spacing.dayPickerHorizontalPadding
    },

    CalendarMonthGrid__vertical: {
      margin: '0 auto'
    },

    CalendarMonthGrid__vertical_scrollable: (0, _object2['default'])({
      margin: '0 auto',
      overflowY: 'scroll'
    }, noScrollBarOnVerticalScrollable && {
      '-webkitOverflowScrolling': 'touch',
      '::-webkit-scrollbar': {
        '-webkit-appearance': 'none',
        display: 'none'
      }
    }),

    CalendarMonthGrid_month__horizontal: {
      display: 'inline-block',
      verticalAlign: 'top',
      minHeight: '100%'
    },

    CalendarMonthGrid_month__hideForAnimation: {
      position: 'absolute',
      zIndex: zIndex - 1,
      opacity: 0,
      pointerEvents: 'none'
    },

    CalendarMonthGrid_month__hidden: {
      visibility: 'hidden'
    }
  };
})(CalendarMonthGrid);

/***/ }),

/***/ "./node_modules/react-dates/lib/components/CalendarWeek.js":
/*!*****************************************************************!*\
  !*** ./node_modules/react-dates/lib/components/CalendarWeek.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports['default'] = CalendarWeek;

var _react = __webpack_require__(/*! react */ "./node_modules/react/index.js");

var _react2 = _interopRequireDefault(_react);

var _airbnbPropTypes = __webpack_require__(/*! airbnb-prop-types */ "./node_modules/airbnb-prop-types/index.js");

var _CalendarDay = __webpack_require__(/*! ./CalendarDay */ "./node_modules/react-dates/lib/components/CalendarDay.js");

var _CalendarDay2 = _interopRequireDefault(_CalendarDay);

var _CustomizableCalendarDay = __webpack_require__(/*! ./CustomizableCalendarDay */ "./node_modules/react-dates/lib/components/CustomizableCalendarDay.js");

var _CustomizableCalendarDay2 = _interopRequireDefault(_CustomizableCalendarDay);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var propTypes = (0, _airbnbPropTypes.forbidExtraProps)({
  children: (0, _airbnbPropTypes.or)([(0, _airbnbPropTypes.childrenOfType)(_CalendarDay2['default']), (0, _airbnbPropTypes.childrenOfType)(_CustomizableCalendarDay2['default'])]).isRequired
});

function CalendarWeek(_ref) {
  var children = _ref.children;

  return _react2['default'].createElement(
    'tr',
    null,
    children
  );
}

CalendarWeek.propTypes = propTypes;

/***/ }),

/***/ "./node_modules/react-dates/lib/components/ChevronDown.js":
/*!****************************************************************!*\
  !*** ./node_modules/react-dates/lib/components/ChevronDown.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(/*! react */ "./node_modules/react/index.js");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var ChevronDown = function () {
  function ChevronDown(props) {
    return _react2['default'].createElement(
      'svg',
      props,
      _react2['default'].createElement('path', {
        d: 'M967.5 288.5L514.3 740.7c-11 11-21 11-32 0L29.1 288.5c-4-5-6-11-6-16 0-13 10-23 23-23 6 0 11 2 15 7l437.2 436.2 437.2-436.2c4-5 9-7 16-7 6 0 11 2 16 7 9 10.9 9 21 0 32z'
      })
    );
  }

  return ChevronDown;
}();

ChevronDown.defaultProps = {
  viewBox: '0 0 1000 1000'
};
exports['default'] = ChevronDown;

/***/ }),

/***/ "./node_modules/react-dates/lib/components/ChevronUp.js":
/*!**************************************************************!*\
  !*** ./node_modules/react-dates/lib/components/ChevronUp.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(/*! react */ "./node_modules/react/index.js");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var ChevronUp = function () {
  function ChevronUp(props) {
    return _react2['default'].createElement(
      'svg',
      props,
      _react2['default'].createElement('path', {
        d: 'M32.1 712.6l453.2-452.2c11-11 21-11 32 0l453.2 452.2c4 5 6 10 6 16 0 13-10 23-22 23-7 0-12-2-16-7L501.3 308.5 64.1 744.7c-4 5-9 7-15 7-7 0-12-2-17-7-9-11-9-21 0-32.1z'
      })
    );
  }

  return ChevronUp;
}();

ChevronUp.defaultProps = {
  viewBox: '0 0 1000 1000'
};
exports['default'] = ChevronUp;

/***/ }),

/***/ "./node_modules/react-dates/lib/components/CloseButton.js":
/*!****************************************************************!*\
  !*** ./node_modules/react-dates/lib/components/CloseButton.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(/*! react */ "./node_modules/react/index.js");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var CloseButton = function () {
  function CloseButton(props) {
    return _react2['default'].createElement(
      'svg',
      props,
      _react2['default'].createElement('path', {
        fillRule: 'evenodd',
        d: 'M11.53.47a.75.75 0 0 0-1.061 0l-4.47 4.47L1.529.47A.75.75 0 1 0 .468 1.531l4.47 4.47-4.47 4.47a.75.75 0 1 0 1.061 1.061l4.47-4.47 4.47 4.47a.75.75 0 1 0 1.061-1.061l-4.47-4.47 4.47-4.47a.75.75 0 0 0 0-1.061z'
      })
    );
  }

  return CloseButton;
}();

CloseButton.defaultProps = {
  viewBox: '0 0 12 12'
};
exports['default'] = CloseButton;

/***/ }),

/***/ "./node_modules/react-dates/lib/components/CustomizableCalendarDay.js":
/*!****************************************************************************!*\
  !*** ./node_modules/react-dates/lib/components/CustomizableCalendarDay.js ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.PureCustomizableCalendarDay = exports.selectedStyles = exports.lastInRangeStyles = exports.selectedSpanStyles = exports.hoveredSpanStyles = exports.blockedOutOfRangeStyles = exports.blockedCalendarStyles = exports.blockedMinNightsStyles = exports.highlightedCalendarStyles = exports.outsideStyles = exports.defaultStyles = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _object = __webpack_require__(/*! object.assign */ "./node_modules/object.assign/index.js");

var _object2 = _interopRequireDefault(_object);

var _react = __webpack_require__(/*! react */ "./node_modules/react/index.js");

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactAddonsShallowCompare = __webpack_require__(/*! react-addons-shallow-compare */ "./node_modules/react-addons-shallow-compare/index.js");

var _reactAddonsShallowCompare2 = _interopRequireDefault(_reactAddonsShallowCompare);

var _reactMomentProptypes = __webpack_require__(/*! react-moment-proptypes */ "./node_modules/react-moment-proptypes/src/index.js");

var _reactMomentProptypes2 = _interopRequireDefault(_reactMomentProptypes);

var _airbnbPropTypes = __webpack_require__(/*! airbnb-prop-types */ "./node_modules/airbnb-prop-types/index.js");

var _reactWithStyles = __webpack_require__(/*! react-with-styles */ "./node_modules/react-with-styles/lib/withStyles.js");

var _moment = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");

var _moment2 = _interopRequireDefault(_moment);

var _defaultPhrases = __webpack_require__(/*! ../defaultPhrases */ "./node_modules/react-dates/lib/defaultPhrases.js");

var _getPhrasePropTypes = __webpack_require__(/*! ../utils/getPhrasePropTypes */ "./node_modules/react-dates/lib/utils/getPhrasePropTypes.js");

var _getPhrasePropTypes2 = _interopRequireDefault(_getPhrasePropTypes);

var _getCalendarDaySettings = __webpack_require__(/*! ../utils/getCalendarDaySettings */ "./node_modules/react-dates/lib/utils/getCalendarDaySettings.js");

var _getCalendarDaySettings2 = _interopRequireDefault(_getCalendarDaySettings);

var _constants = __webpack_require__(/*! ../constants */ "./node_modules/react-dates/lib/constants.js");

var _DefaultTheme = __webpack_require__(/*! ../theme/DefaultTheme */ "./node_modules/react-dates/lib/theme/DefaultTheme.js");

var _DefaultTheme2 = _interopRequireDefault(_DefaultTheme);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var color = _DefaultTheme2['default'].reactDates.color;


function getStyles(stylesObj, isHovered) {
  if (!stylesObj) return null;

  var hover = stylesObj.hover;

  if (isHovered && hover) {
    return hover;
  }

  return stylesObj;
}

var DayStyleShape = _propTypes2['default'].shape({
  background: _propTypes2['default'].string,
  border: (0, _airbnbPropTypes.or)([_propTypes2['default'].string, _propTypes2['default'].number]),
  color: _propTypes2['default'].string,

  hover: _propTypes2['default'].shape({
    background: _propTypes2['default'].string,
    border: (0, _airbnbPropTypes.or)([_propTypes2['default'].string, _propTypes2['default'].number]),
    color: _propTypes2['default'].string
  })
});

var propTypes = (0, _airbnbPropTypes.forbidExtraProps)((0, _object2['default'])({}, _reactWithStyles.withStylesPropTypes, {
  day: _reactMomentProptypes2['default'].momentObj,
  daySize: _airbnbPropTypes.nonNegativeInteger,
  isOutsideDay: _propTypes2['default'].bool,
  modifiers: _propTypes2['default'].instanceOf(Set),
  isFocused: _propTypes2['default'].bool,
  tabIndex: _propTypes2['default'].oneOf([0, -1]),
  onDayClick: _propTypes2['default'].func,
  onDayMouseEnter: _propTypes2['default'].func,
  onDayMouseLeave: _propTypes2['default'].func,
  renderDayContents: _propTypes2['default'].func,
  ariaLabelFormat: _propTypes2['default'].string,

  // style overrides
  defaultStyles: DayStyleShape,
  outsideStyles: DayStyleShape,
  todayStyles: DayStyleShape,
  firstDayOfWeekStyles: DayStyleShape,
  lastDayOfWeekStyles: DayStyleShape,
  highlightedCalendarStyles: DayStyleShape,
  blockedMinNightsStyles: DayStyleShape,
  blockedCalendarStyles: DayStyleShape,
  blockedOutOfRangeStyles: DayStyleShape,
  hoveredSpanStyles: DayStyleShape,
  selectedSpanStyles: DayStyleShape,
  lastInRangeStyles: DayStyleShape,
  selectedStyles: DayStyleShape,
  selectedStartStyles: DayStyleShape,
  selectedEndStyles: DayStyleShape,
  afterHoveredStartStyles: DayStyleShape,

  // internationalization
  phrases: _propTypes2['default'].shape((0, _getPhrasePropTypes2['default'])(_defaultPhrases.CalendarDayPhrases))
}));

var defaultStyles = exports.defaultStyles = {
  border: '1px solid ' + String(color.core.borderLight),
  color: color.text,
  background: color.background,

  hover: {
    background: color.core.borderLight,
    border: '1px double ' + String(color.core.borderLight),
    color: 'inherit'
  }
};

var outsideStyles = exports.outsideStyles = {
  background: color.outside.backgroundColor,
  border: 0,
  color: color.outside.color
};

var highlightedCalendarStyles = exports.highlightedCalendarStyles = {
  background: color.highlighted.backgroundColor,
  color: color.highlighted.color,

  hover: {
    background: color.highlighted.backgroundColor_hover,
    color: color.highlighted.color_active
  }
};

var blockedMinNightsStyles = exports.blockedMinNightsStyles = {
  background: color.minimumNights.backgroundColor,
  border: '1px solid ' + String(color.minimumNights.borderColor),
  color: color.minimumNights.color,

  hover: {
    background: color.minimumNights.backgroundColor_hover,
    color: color.minimumNights.color_active
  }
};

var blockedCalendarStyles = exports.blockedCalendarStyles = {
  background: color.blocked_calendar.backgroundColor,
  border: '1px solid ' + String(color.blocked_calendar.borderColor),
  color: color.blocked_calendar.color,

  hover: {
    background: color.blocked_calendar.backgroundColor_hover,
    border: '1px solid ' + String(color.blocked_calendar.borderColor),
    color: color.blocked_calendar.color_active
  }
};

var blockedOutOfRangeStyles = exports.blockedOutOfRangeStyles = {
  background: color.blocked_out_of_range.backgroundColor,
  border: '1px solid ' + String(color.blocked_out_of_range.borderColor),
  color: color.blocked_out_of_range.color,

  hover: {
    background: color.blocked_out_of_range.backgroundColor_hover,
    border: '1px solid ' + String(color.blocked_out_of_range.borderColor),
    color: color.blocked_out_of_range.color_active
  }
};

var hoveredSpanStyles = exports.hoveredSpanStyles = {
  background: color.hoveredSpan.backgroundColor,
  border: '1px solid ' + String(color.hoveredSpan.borderColor),
  color: color.hoveredSpan.color,

  hover: {
    background: color.hoveredSpan.backgroundColor_hover,
    border: '1px solid ' + String(color.hoveredSpan.borderColor),
    color: color.hoveredSpan.color_active
  }
};

var selectedSpanStyles = exports.selectedSpanStyles = {
  background: color.selectedSpan.backgroundColor,
  border: '1px solid ' + String(color.selectedSpan.borderColor),
  color: color.selectedSpan.color,

  hover: {
    background: color.selectedSpan.backgroundColor_hover,
    border: '1px solid ' + String(color.selectedSpan.borderColor),
    color: color.selectedSpan.color_active
  }
};

var lastInRangeStyles = exports.lastInRangeStyles = {
  borderRight: color.core.primary
};

var selectedStyles = exports.selectedStyles = {
  background: color.selected.backgroundColor,
  border: '1px solid ' + String(color.selected.borderColor),
  color: color.selected.color,

  hover: {
    background: color.selected.backgroundColor_hover,
    border: '1px solid ' + String(color.selected.borderColor),
    color: color.selected.color_active
  }
};

var defaultProps = {
  day: (0, _moment2['default'])(),
  daySize: _constants.DAY_SIZE,
  isOutsideDay: false,
  modifiers: new Set(),
  isFocused: false,
  tabIndex: -1,
  onDayClick: function () {
    function onDayClick() {}

    return onDayClick;
  }(),
  onDayMouseEnter: function () {
    function onDayMouseEnter() {}

    return onDayMouseEnter;
  }(),
  onDayMouseLeave: function () {
    function onDayMouseLeave() {}

    return onDayMouseLeave;
  }(),

  renderDayContents: null,
  ariaLabelFormat: 'dddd, LL',

  // style defaults
  defaultStyles: defaultStyles,
  outsideStyles: outsideStyles,
  todayStyles: {},
  highlightedCalendarStyles: highlightedCalendarStyles,
  blockedMinNightsStyles: blockedMinNightsStyles,
  blockedCalendarStyles: blockedCalendarStyles,
  blockedOutOfRangeStyles: blockedOutOfRangeStyles,
  hoveredSpanStyles: hoveredSpanStyles,
  selectedSpanStyles: selectedSpanStyles,
  lastInRangeStyles: lastInRangeStyles,
  selectedStyles: selectedStyles,
  selectedStartStyles: {},
  selectedEndStyles: {},
  afterHoveredStartStyles: {},
  firstDayOfWeekStyles: {},
  lastDayOfWeekStyles: {},

  // internationalization
  phrases: _defaultPhrases.CalendarDayPhrases
};

var CustomizableCalendarDay = function (_React$Component) {
  _inherits(CustomizableCalendarDay, _React$Component);

  function CustomizableCalendarDay() {
    var _ref;

    _classCallCheck(this, CustomizableCalendarDay);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = CustomizableCalendarDay.__proto__ || Object.getPrototypeOf(CustomizableCalendarDay)).call.apply(_ref, [this].concat(args)));

    _this.state = {
      isHovered: false
    };

    _this.setButtonRef = _this.setButtonRef.bind(_this);
    return _this;
  }

  _createClass(CustomizableCalendarDay, [{
    key: 'shouldComponentUpdate',
    value: function () {
      function shouldComponentUpdate(nextProps, nextState) {
        return (0, _reactAddonsShallowCompare2['default'])(this, nextProps, nextState);
      }

      return shouldComponentUpdate;
    }()
  }, {
    key: 'componentDidUpdate',
    value: function () {
      function componentDidUpdate(prevProps) {
        var _props = this.props,
            isFocused = _props.isFocused,
            tabIndex = _props.tabIndex;

        if (tabIndex === 0) {
          if (isFocused || tabIndex !== prevProps.tabIndex) {
            this.buttonRef.focus();
          }
        }
      }

      return componentDidUpdate;
    }()
  }, {
    key: 'onDayClick',
    value: function () {
      function onDayClick(day, e) {
        var onDayClick = this.props.onDayClick;

        onDayClick(day, e);
      }

      return onDayClick;
    }()
  }, {
    key: 'onDayMouseEnter',
    value: function () {
      function onDayMouseEnter(day, e) {
        var onDayMouseEnter = this.props.onDayMouseEnter;

        this.setState({ isHovered: true });
        onDayMouseEnter(day, e);
      }

      return onDayMouseEnter;
    }()
  }, {
    key: 'onDayMouseLeave',
    value: function () {
      function onDayMouseLeave(day, e) {
        var onDayMouseLeave = this.props.onDayMouseLeave;

        this.setState({ isHovered: false });
        onDayMouseLeave(day, e);
      }

      return onDayMouseLeave;
    }()
  }, {
    key: 'onKeyDown',
    value: function () {
      function onKeyDown(day, e) {
        var onDayClick = this.props.onDayClick;
        var key = e.key;

        if (key === 'Enter' || key === ' ') {
          onDayClick(day, e);
        }
      }

      return onKeyDown;
    }()
  }, {
    key: 'setButtonRef',
    value: function () {
      function setButtonRef(ref) {
        this.buttonRef = ref;
      }

      return setButtonRef;
    }()
  }, {
    key: 'render',
    value: function () {
      function render() {
        var _this2 = this;

        var _props2 = this.props,
            day = _props2.day,
            ariaLabelFormat = _props2.ariaLabelFormat,
            daySize = _props2.daySize,
            isOutsideDay = _props2.isOutsideDay,
            modifiers = _props2.modifiers,
            tabIndex = _props2.tabIndex,
            renderDayContents = _props2.renderDayContents,
            styles = _props2.styles,
            phrases = _props2.phrases,
            defaultStylesWithHover = _props2.defaultStyles,
            outsideStylesWithHover = _props2.outsideStyles,
            todayStylesWithHover = _props2.todayStyles,
            firstDayOfWeekStylesWithHover = _props2.firstDayOfWeekStyles,
            lastDayOfWeekStylesWithHover = _props2.lastDayOfWeekStyles,
            highlightedCalendarStylesWithHover = _props2.highlightedCalendarStyles,
            blockedMinNightsStylesWithHover = _props2.blockedMinNightsStyles,
            blockedCalendarStylesWithHover = _props2.blockedCalendarStyles,
            blockedOutOfRangeStylesWithHover = _props2.blockedOutOfRangeStyles,
            hoveredSpanStylesWithHover = _props2.hoveredSpanStyles,
            selectedSpanStylesWithHover = _props2.selectedSpanStyles,
            lastInRangeStylesWithHover = _props2.lastInRangeStyles,
            selectedStylesWithHover = _props2.selectedStyles,
            selectedStartStylesWithHover = _props2.selectedStartStyles,
            selectedEndStylesWithHover = _props2.selectedEndStyles,
            afterHoveredStartStylesWithHover = _props2.afterHoveredStartStyles;
        var isHovered = this.state.isHovered;


        if (!day) return _react2['default'].createElement('td', null);

        var _getCalendarDaySettin = (0, _getCalendarDaySettings2['default'])(day, ariaLabelFormat, daySize, modifiers, phrases),
            daySizeStyles = _getCalendarDaySettin.daySizeStyles,
            useDefaultCursor = _getCalendarDaySettin.useDefaultCursor,
            selected = _getCalendarDaySettin.selected,
            hoveredSpan = _getCalendarDaySettin.hoveredSpan,
            isOutsideRange = _getCalendarDaySettin.isOutsideRange,
            ariaLabel = _getCalendarDaySettin.ariaLabel;

        return _react2['default'].createElement(
          'td',
          _extends({}, (0, _reactWithStyles.css)(styles.CalendarDay, useDefaultCursor && styles.CalendarDay__defaultCursor, daySizeStyles, getStyles(defaultStylesWithHover, isHovered), isOutsideDay && getStyles(outsideStylesWithHover, isHovered), modifiers.has('today') && getStyles(todayStylesWithHover, isHovered), modifiers.has('first-day-of-week') && getStyles(firstDayOfWeekStylesWithHover, isHovered), modifiers.has('last-day-of-week') && getStyles(lastDayOfWeekStylesWithHover, isHovered), modifiers.has('highlighted-calendar') && getStyles(highlightedCalendarStylesWithHover, isHovered), modifiers.has('blocked-minimum-nights') && getStyles(blockedMinNightsStylesWithHover, isHovered), modifiers.has('blocked-calendar') && getStyles(blockedCalendarStylesWithHover, isHovered), hoveredSpan && getStyles(hoveredSpanStylesWithHover, isHovered), modifiers.has('after-hovered-start') && getStyles(afterHoveredStartStylesWithHover, isHovered), modifiers.has('selected-span') && getStyles(selectedSpanStylesWithHover, isHovered), modifiers.has('last-in-range') && getStyles(lastInRangeStylesWithHover, isHovered), selected && getStyles(selectedStylesWithHover, isHovered), modifiers.has('selected-start') && getStyles(selectedStartStylesWithHover, isHovered), modifiers.has('selected-end') && getStyles(selectedEndStylesWithHover, isHovered), isOutsideRange && getStyles(blockedOutOfRangeStylesWithHover, isHovered)), {
            role: 'button' // eslint-disable-line jsx-a11y/no-noninteractive-element-to-interactive-role
            , ref: this.setButtonRef,
            'aria-label': ariaLabel,
            onMouseEnter: function () {
              function onMouseEnter(e) {
                _this2.onDayMouseEnter(day, e);
              }

              return onMouseEnter;
            }(),
            onMouseLeave: function () {
              function onMouseLeave(e) {
                _this2.onDayMouseLeave(day, e);
              }

              return onMouseLeave;
            }(),
            onMouseUp: function () {
              function onMouseUp(e) {
                e.currentTarget.blur();
              }

              return onMouseUp;
            }(),
            onClick: function () {
              function onClick(e) {
                _this2.onDayClick(day, e);
              }

              return onClick;
            }(),
            onKeyDown: function () {
              function onKeyDown(e) {
                _this2.onKeyDown(day, e);
              }

              return onKeyDown;
            }(),
            tabIndex: tabIndex
          }),
          renderDayContents ? renderDayContents(day, modifiers) : day.format('D')
        );
      }

      return render;
    }()
  }]);

  return CustomizableCalendarDay;
}(_react2['default'].Component);

CustomizableCalendarDay.propTypes = propTypes;
CustomizableCalendarDay.defaultProps = defaultProps;

exports.PureCustomizableCalendarDay = CustomizableCalendarDay;
exports['default'] = (0, _reactWithStyles.withStyles)(function (_ref2) {
  var font = _ref2.reactDates.font;
  return {
    CalendarDay: {
      boxSizing: 'border-box',
      cursor: 'pointer',
      fontSize: font.size,
      textAlign: 'center',

      ':active': {
        outline: 0
      }
    },

    CalendarDay__defaultCursor: {
      cursor: 'default'
    }
  };
})(CustomizableCalendarDay);

/***/ }),

/***/ "./node_modules/react-dates/lib/components/DateInput.js":
/*!**************************************************************!*\
  !*** ./node_modules/react-dates/lib/components/DateInput.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _object = __webpack_require__(/*! object.assign */ "./node_modules/object.assign/index.js");

var _object2 = _interopRequireDefault(_object);

var _react = __webpack_require__(/*! react */ "./node_modules/react/index.js");

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _airbnbPropTypes = __webpack_require__(/*! airbnb-prop-types */ "./node_modules/airbnb-prop-types/index.js");

var _reactWithStyles = __webpack_require__(/*! react-with-styles */ "./node_modules/react-with-styles/lib/withStyles.js");

var _throttle = __webpack_require__(/*! lodash/throttle */ "./node_modules/lodash/throttle.js");

var _throttle2 = _interopRequireDefault(_throttle);

var _isTouchDevice = __webpack_require__(/*! is-touch-device */ "./node_modules/is-touch-device/build/index.js");

var _isTouchDevice2 = _interopRequireDefault(_isTouchDevice);

var _getInputHeight = __webpack_require__(/*! ../utils/getInputHeight */ "./node_modules/react-dates/lib/utils/getInputHeight.js");

var _getInputHeight2 = _interopRequireDefault(_getInputHeight);

var _OpenDirectionShape = __webpack_require__(/*! ../shapes/OpenDirectionShape */ "./node_modules/react-dates/lib/shapes/OpenDirectionShape.js");

var _OpenDirectionShape2 = _interopRequireDefault(_OpenDirectionShape);

var _constants = __webpack_require__(/*! ../constants */ "./node_modules/react-dates/lib/constants.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var FANG_PATH_TOP = 'M0,' + String(_constants.FANG_HEIGHT_PX) + ' ' + String(_constants.FANG_WIDTH_PX) + ',' + String(_constants.FANG_HEIGHT_PX) + ' ' + _constants.FANG_WIDTH_PX / 2 + ',0z';
var FANG_STROKE_TOP = 'M0,' + String(_constants.FANG_HEIGHT_PX) + ' ' + _constants.FANG_WIDTH_PX / 2 + ',0 ' + String(_constants.FANG_WIDTH_PX) + ',' + String(_constants.FANG_HEIGHT_PX);
var FANG_PATH_BOTTOM = 'M0,0 ' + String(_constants.FANG_WIDTH_PX) + ',0 ' + _constants.FANG_WIDTH_PX / 2 + ',' + String(_constants.FANG_HEIGHT_PX) + 'z';
var FANG_STROKE_BOTTOM = 'M0,0 ' + _constants.FANG_WIDTH_PX / 2 + ',' + String(_constants.FANG_HEIGHT_PX) + ' ' + String(_constants.FANG_WIDTH_PX) + ',0';

var propTypes = (0, _airbnbPropTypes.forbidExtraProps)((0, _object2['default'])({}, _reactWithStyles.withStylesPropTypes, {
  id: _propTypes2['default'].string.isRequired,
  placeholder: _propTypes2['default'].string, // also used as label
  displayValue: _propTypes2['default'].string,
  screenReaderMessage: _propTypes2['default'].string,
  focused: _propTypes2['default'].bool,
  disabled: _propTypes2['default'].bool,
  required: _propTypes2['default'].bool,
  readOnly: _propTypes2['default'].bool,
  openDirection: _OpenDirectionShape2['default'],
  showCaret: _propTypes2['default'].bool,
  verticalSpacing: _airbnbPropTypes.nonNegativeInteger,
  small: _propTypes2['default'].bool,
  block: _propTypes2['default'].bool,
  regular: _propTypes2['default'].bool,

  onChange: _propTypes2['default'].func,
  onFocus: _propTypes2['default'].func,
  onKeyDownShiftTab: _propTypes2['default'].func,
  onKeyDownTab: _propTypes2['default'].func,

  onKeyDownArrowDown: _propTypes2['default'].func,
  onKeyDownQuestionMark: _propTypes2['default'].func,

  // accessibility
  isFocused: _propTypes2['default'].bool // describes actual DOM focus
}));

var defaultProps = {
  placeholder: 'Select Date',
  displayValue: '',
  screenReaderMessage: '',
  focused: false,
  disabled: false,
  required: false,
  readOnly: null,
  openDirection: _constants.OPEN_DOWN,
  showCaret: false,
  verticalSpacing: _constants.DEFAULT_VERTICAL_SPACING,
  small: false,
  block: false,
  regular: false,

  onChange: function () {
    function onChange() {}

    return onChange;
  }(),
  onFocus: function () {
    function onFocus() {}

    return onFocus;
  }(),
  onKeyDownShiftTab: function () {
    function onKeyDownShiftTab() {}

    return onKeyDownShiftTab;
  }(),
  onKeyDownTab: function () {
    function onKeyDownTab() {}

    return onKeyDownTab;
  }(),
  onKeyDownArrowDown: function () {
    function onKeyDownArrowDown() {}

    return onKeyDownArrowDown;
  }(),
  onKeyDownQuestionMark: function () {
    function onKeyDownQuestionMark() {}

    return onKeyDownQuestionMark;
  }(),


  // accessibility
  isFocused: false
};

var DateInput = function (_React$Component) {
  _inherits(DateInput, _React$Component);

  function DateInput(props) {
    _classCallCheck(this, DateInput);

    var _this = _possibleConstructorReturn(this, (DateInput.__proto__ || Object.getPrototypeOf(DateInput)).call(this, props));

    _this.state = {
      dateString: '',
      isTouchDevice: false
    };

    _this.onChange = _this.onChange.bind(_this);
    _this.onKeyDown = _this.onKeyDown.bind(_this);
    _this.setInputRef = _this.setInputRef.bind(_this);
    _this.throttledKeyDown = (0, _throttle2['default'])(_this.onFinalKeyDown, 300, { trailing: false });
    return _this;
  }

  _createClass(DateInput, [{
    key: 'componentDidMount',
    value: function () {
      function componentDidMount() {
        this.setState({ isTouchDevice: (0, _isTouchDevice2['default'])() });
      }

      return componentDidMount;
    }()
  }, {
    key: 'componentWillReceiveProps',
    value: function () {
      function componentWillReceiveProps(nextProps) {
        var dateString = this.state.dateString;

        if (dateString && nextProps.displayValue) {
          this.setState({
            dateString: ''
          });
        }
      }

      return componentWillReceiveProps;
    }()
  }, {
    key: 'componentDidUpdate',
    value: function () {
      function componentDidUpdate(prevProps) {
        var _props = this.props,
            focused = _props.focused,
            isFocused = _props.isFocused;

        if (prevProps.focused === focused && prevProps.isFocused === isFocused) return;

        if (focused && isFocused) {
          this.inputRef.focus();
        }
      }

      return componentDidUpdate;
    }()
  }, {
    key: 'onChange',
    value: function () {
      function onChange(e) {
        var _props2 = this.props,
            onChange = _props2.onChange,
            onKeyDownQuestionMark = _props2.onKeyDownQuestionMark;

        var dateString = e.target.value;

        // In Safari, onKeyDown does not consistently fire ahead of onChange. As a result, we need to
        // special case the `?` key so that it always triggers the appropriate callback, instead of
        // modifying the input value
        if (dateString[dateString.length - 1] === '?') {
          onKeyDownQuestionMark(e);
        } else {
          this.setState({ dateString: dateString }, function () {
            return onChange(dateString);
          });
        }
      }

      return onChange;
    }()
  }, {
    key: 'onKeyDown',
    value: function () {
      function onKeyDown(e) {
        e.stopPropagation();
        if (!_constants.MODIFIER_KEY_NAMES.has(e.key)) {
          this.throttledKeyDown(e);
        }
      }

      return onKeyDown;
    }()
  }, {
    key: 'onFinalKeyDown',
    value: function () {
      function onFinalKeyDown(e) {
        var _props3 = this.props,
            onKeyDownShiftTab = _props3.onKeyDownShiftTab,
            onKeyDownTab = _props3.onKeyDownTab,
            onKeyDownArrowDown = _props3.onKeyDownArrowDown,
            onKeyDownQuestionMark = _props3.onKeyDownQuestionMark;
        var key = e.key;


        if (key === 'Tab') {
          if (e.shiftKey) {
            onKeyDownShiftTab(e);
          } else {
            onKeyDownTab(e);
          }
        } else if (key === 'ArrowDown') {
          onKeyDownArrowDown(e);
        } else if (key === '?') {
          e.preventDefault();
          onKeyDownQuestionMark(e);
        }
      }

      return onFinalKeyDown;
    }()
  }, {
    key: 'setInputRef',
    value: function () {
      function setInputRef(ref) {
        this.inputRef = ref;
      }

      return setInputRef;
    }()
  }, {
    key: 'render',
    value: function () {
      function render() {
        var _state = this.state,
            dateString = _state.dateString,
            isTouch = _state.isTouchDevice;
        var _props4 = this.props,
            id = _props4.id,
            placeholder = _props4.placeholder,
            displayValue = _props4.displayValue,
            screenReaderMessage = _props4.screenReaderMessage,
            focused = _props4.focused,
            showCaret = _props4.showCaret,
            onFocus = _props4.onFocus,
            disabled = _props4.disabled,
            required = _props4.required,
            readOnly = _props4.readOnly,
            openDirection = _props4.openDirection,
            verticalSpacing = _props4.verticalSpacing,
            small = _props4.small,
            regular = _props4.regular,
            block = _props4.block,
            styles = _props4.styles,
            reactDates = _props4.theme.reactDates;


        var value = dateString || displayValue || '';
        var screenReaderMessageId = 'DateInput__screen-reader-message-' + String(id);

        var withFang = showCaret && focused;

        var inputHeight = (0, _getInputHeight2['default'])(reactDates, small);

        return _react2['default'].createElement(
          'div',
          (0, _reactWithStyles.css)(styles.DateInput, small && styles.DateInput__small, block && styles.DateInput__block, withFang && styles.DateInput__withFang, disabled && styles.DateInput__disabled, withFang && openDirection === _constants.OPEN_DOWN && styles.DateInput__openDown, withFang && openDirection === _constants.OPEN_UP && styles.DateInput__openUp),
          _react2['default'].createElement('input', _extends({}, (0, _reactWithStyles.css)(styles.DateInput_input, small && styles.DateInput_input__small, regular && styles.DateInput_input__regular, readOnly && styles.DateInput_input__readOnly, focused && styles.DateInput_input__focused, disabled && styles.DateInput_input__disabled), {
            'aria-label': placeholder,
            type: 'text',
            id: id,
            name: id,
            ref: this.setInputRef,
            value: value,
            onChange: this.onChange,
            onKeyDown: this.onKeyDown,
            onFocus: onFocus,
            placeholder: placeholder,
            autoComplete: 'off',
            disabled: disabled,
            readOnly: typeof readOnly === 'boolean' ? readOnly : isTouch,
            required: required,
            'aria-describedby': screenReaderMessage && screenReaderMessageId
          })),
          withFang && _react2['default'].createElement(
            'svg',
            _extends({
              role: 'presentation',
              focusable: 'false'
            }, (0, _reactWithStyles.css)(styles.DateInput_fang, openDirection === _constants.OPEN_DOWN && {
              top: inputHeight + verticalSpacing - _constants.FANG_HEIGHT_PX - 1
            }, openDirection === _constants.OPEN_UP && {
              bottom: inputHeight + verticalSpacing - _constants.FANG_HEIGHT_PX - 1
            })),
            _react2['default'].createElement('path', _extends({}, (0, _reactWithStyles.css)(styles.DateInput_fangShape), {
              d: openDirection === _constants.OPEN_DOWN ? FANG_PATH_TOP : FANG_PATH_BOTTOM
            })),
            _react2['default'].createElement('path', _extends({}, (0, _reactWithStyles.css)(styles.DateInput_fangStroke), {
              d: openDirection === _constants.OPEN_DOWN ? FANG_STROKE_TOP : FANG_STROKE_BOTTOM
            }))
          ),
          screenReaderMessage && _react2['default'].createElement(
            'p',
            _extends({}, (0, _reactWithStyles.css)(styles.DateInput_screenReaderMessage), { id: screenReaderMessageId }),
            screenReaderMessage
          )
        );
      }

      return render;
    }()
  }]);

  return DateInput;
}(_react2['default'].Component);

DateInput.propTypes = propTypes;
DateInput.defaultProps = defaultProps;

exports['default'] = (0, _reactWithStyles.withStyles)(function (_ref) {
  var _ref$reactDates = _ref.reactDates,
      border = _ref$reactDates.border,
      color = _ref$reactDates.color,
      sizing = _ref$reactDates.sizing,
      spacing = _ref$reactDates.spacing,
      font = _ref$reactDates.font,
      zIndex = _ref$reactDates.zIndex;
  return {
    DateInput: {
      margin: 0,
      padding: spacing.inputPadding,
      background: color.background,
      position: 'relative',
      display: 'inline-block',
      width: sizing.inputWidth,
      verticalAlign: 'middle'
    },

    DateInput__small: {
      width: sizing.inputWidth_small
    },

    DateInput__block: {
      width: '100%'
    },

    DateInput__disabled: {
      background: color.disabled,
      color: color.textDisabled
    },

    DateInput_input: {
      fontWeight: 200,
      fontSize: font.input.size,
      lineHeight: font.input.lineHeight,
      color: color.text,
      backgroundColor: color.background,
      width: '100%',
      padding: String(spacing.displayTextPaddingVertical) + 'px ' + String(spacing.displayTextPaddingHorizontal) + 'px',
      paddingTop: spacing.displayTextPaddingTop,
      paddingBottom: spacing.displayTextPaddingBottom,
      paddingLeft: spacing.displayTextPaddingLeft,
      paddingRight: spacing.displayTextPaddingRight,
      border: border.input.border,
      borderTop: border.input.borderTop,
      borderRight: border.input.borderRight,
      borderBottom: border.input.borderBottom,
      borderLeft: border.input.borderLeft,
      borderRadius: border.input.borderRadius
    },

    DateInput_input__small: {
      fontSize: font.input.size_small,
      lineHeight: font.input.lineHeight_small,
      letterSpacing: font.input.letterSpacing_small,
      padding: String(spacing.displayTextPaddingVertical_small) + 'px ' + String(spacing.displayTextPaddingHorizontal_small) + 'px',
      paddingTop: spacing.displayTextPaddingTop_small,
      paddingBottom: spacing.displayTextPaddingBottom_small,
      paddingLeft: spacing.displayTextPaddingLeft_small,
      paddingRight: spacing.displayTextPaddingRight_small
    },

    DateInput_input__regular: {
      fontWeight: 'auto'
    },

    DateInput_input__readOnly: {
      userSelect: 'none'
    },

    DateInput_input__focused: {
      outline: border.input.outlineFocused,
      background: color.backgroundFocused,
      border: border.input.borderFocused,
      borderTop: border.input.borderTopFocused,
      borderRight: border.input.borderRightFocused,
      borderBottom: border.input.borderBottomFocused,
      borderLeft: border.input.borderLeftFocused
    },

    DateInput_input__disabled: {
      background: color.disabled,
      fontStyle: font.input.styleDisabled
    },

    DateInput_screenReaderMessage: {
      border: 0,
      clip: 'rect(0, 0, 0, 0)',
      height: 1,
      margin: -1,
      overflow: 'hidden',
      padding: 0,
      position: 'absolute',
      width: 1
    },

    DateInput_fang: {
      position: 'absolute',
      width: _constants.FANG_WIDTH_PX,
      height: _constants.FANG_HEIGHT_PX,
      left: 22,
      zIndex: zIndex + 2
    },

    DateInput_fangShape: {
      fill: color.background
    },

    DateInput_fangStroke: {
      stroke: color.core.border,
      fill: 'transparent'
    }
  };
})(DateInput);

/***/ }),

/***/ "./node_modules/react-dates/lib/components/DateRangePicker.js":
/*!********************************************************************!*\
  !*** ./node_modules/react-dates/lib/components/DateRangePicker.js ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.PureDateRangePicker = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _object = __webpack_require__(/*! object.assign */ "./node_modules/object.assign/index.js");

var _object2 = _interopRequireDefault(_object);

var _react = __webpack_require__(/*! react */ "./node_modules/react/index.js");

var _react2 = _interopRequireDefault(_react);

var _reactAddonsShallowCompare = __webpack_require__(/*! react-addons-shallow-compare */ "./node_modules/react-addons-shallow-compare/index.js");

var _reactAddonsShallowCompare2 = _interopRequireDefault(_reactAddonsShallowCompare);

var _moment = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");

var _moment2 = _interopRequireDefault(_moment);

var _reactWithStyles = __webpack_require__(/*! react-with-styles */ "./node_modules/react-with-styles/lib/withStyles.js");

var _reactPortal = __webpack_require__(/*! react-portal */ "./node_modules/react-portal/es/index.js");

var _airbnbPropTypes = __webpack_require__(/*! airbnb-prop-types */ "./node_modules/airbnb-prop-types/index.js");

var _consolidatedEvents = __webpack_require__(/*! consolidated-events */ "./node_modules/consolidated-events/lib/index.esm.js");

var _isTouchDevice = __webpack_require__(/*! is-touch-device */ "./node_modules/is-touch-device/build/index.js");

var _isTouchDevice2 = _interopRequireDefault(_isTouchDevice);

var _reactOutsideClickHandler = __webpack_require__(/*! react-outside-click-handler */ "./node_modules/react-outside-click-handler/index.js");

var _reactOutsideClickHandler2 = _interopRequireDefault(_reactOutsideClickHandler);

var _DateRangePickerShape = __webpack_require__(/*! ../shapes/DateRangePickerShape */ "./node_modules/react-dates/lib/shapes/DateRangePickerShape.js");

var _DateRangePickerShape2 = _interopRequireDefault(_DateRangePickerShape);

var _defaultPhrases = __webpack_require__(/*! ../defaultPhrases */ "./node_modules/react-dates/lib/defaultPhrases.js");

var _getResponsiveContainerStyles = __webpack_require__(/*! ../utils/getResponsiveContainerStyles */ "./node_modules/react-dates/lib/utils/getResponsiveContainerStyles.js");

var _getResponsiveContainerStyles2 = _interopRequireDefault(_getResponsiveContainerStyles);

var _getDetachedContainerStyles = __webpack_require__(/*! ../utils/getDetachedContainerStyles */ "./node_modules/react-dates/lib/utils/getDetachedContainerStyles.js");

var _getDetachedContainerStyles2 = _interopRequireDefault(_getDetachedContainerStyles);

var _getInputHeight = __webpack_require__(/*! ../utils/getInputHeight */ "./node_modules/react-dates/lib/utils/getInputHeight.js");

var _getInputHeight2 = _interopRequireDefault(_getInputHeight);

var _isInclusivelyAfterDay = __webpack_require__(/*! ../utils/isInclusivelyAfterDay */ "./node_modules/react-dates/lib/utils/isInclusivelyAfterDay.js");

var _isInclusivelyAfterDay2 = _interopRequireDefault(_isInclusivelyAfterDay);

var _disableScroll2 = __webpack_require__(/*! ../utils/disableScroll */ "./node_modules/react-dates/lib/utils/disableScroll.js");

var _disableScroll3 = _interopRequireDefault(_disableScroll2);

var _DateRangePickerInputController = __webpack_require__(/*! ./DateRangePickerInputController */ "./node_modules/react-dates/lib/components/DateRangePickerInputController.js");

var _DateRangePickerInputController2 = _interopRequireDefault(_DateRangePickerInputController);

var _DayPickerRangeController = __webpack_require__(/*! ./DayPickerRangeController */ "./node_modules/react-dates/lib/components/DayPickerRangeController.js");

var _DayPickerRangeController2 = _interopRequireDefault(_DayPickerRangeController);

var _CloseButton = __webpack_require__(/*! ./CloseButton */ "./node_modules/react-dates/lib/components/CloseButton.js");

var _CloseButton2 = _interopRequireDefault(_CloseButton);

var _constants = __webpack_require__(/*! ../constants */ "./node_modules/react-dates/lib/constants.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var propTypes = (0, _airbnbPropTypes.forbidExtraProps)((0, _object2['default'])({}, _reactWithStyles.withStylesPropTypes, _DateRangePickerShape2['default']));

var defaultProps = {
  // required props for a functional interactive DateRangePicker
  startDate: null,
  endDate: null,
  focusedInput: null,

  // input related props
  startDatePlaceholderText: 'Start Date',
  endDatePlaceholderText: 'End Date',
  disabled: false,
  required: false,
  readOnly: false,
  screenReaderInputMessage: '',
  showClearDates: false,
  showDefaultInputIcon: false,
  inputIconPosition: _constants.ICON_BEFORE_POSITION,
  customInputIcon: null,
  customArrowIcon: null,
  customCloseIcon: null,
  noBorder: false,
  block: false,
  small: false,
  regular: false,
  keepFocusOnInput: false,

  // calendar presentation and interaction related props
  renderMonthText: null,
  orientation: _constants.HORIZONTAL_ORIENTATION,
  anchorDirection: _constants.ANCHOR_LEFT,
  openDirection: _constants.OPEN_DOWN,
  horizontalMargin: 0,
  withPortal: false,
  withFullScreenPortal: false,
  appendToBody: false,
  disableScroll: false,
  initialVisibleMonth: null,
  numberOfMonths: 2,
  keepOpenOnDateSelect: false,
  reopenPickerOnClearDates: false,
  renderCalendarInfo: null,
  calendarInfoPosition: _constants.INFO_POSITION_BOTTOM,
  hideKeyboardShortcutsPanel: false,
  daySize: _constants.DAY_SIZE,
  isRTL: false,
  firstDayOfWeek: null,
  verticalHeight: null,
  transitionDuration: undefined,
  verticalSpacing: _constants.DEFAULT_VERTICAL_SPACING,

  // navigation related props
  navPrev: null,
  navNext: null,

  onPrevMonthClick: function () {
    function onPrevMonthClick() {}

    return onPrevMonthClick;
  }(),
  onNextMonthClick: function () {
    function onNextMonthClick() {}

    return onNextMonthClick;
  }(),
  onClose: function () {
    function onClose() {}

    return onClose;
  }(),


  // day presentation and interaction related props
  renderCalendarDay: undefined,
  renderDayContents: null,
  renderMonthElement: null,
  minimumNights: 1,
  enableOutsideDays: false,
  isDayBlocked: function () {
    function isDayBlocked() {
      return false;
    }

    return isDayBlocked;
  }(),
  isOutsideRange: function () {
    function isOutsideRange(day) {
      return !(0, _isInclusivelyAfterDay2['default'])(day, (0, _moment2['default'])());
    }

    return isOutsideRange;
  }(),
  isDayHighlighted: function () {
    function isDayHighlighted() {
      return false;
    }

    return isDayHighlighted;
  }(),

  // internationalization
  displayFormat: function () {
    function displayFormat() {
      return _moment2['default'].localeData().longDateFormat('L');
    }

    return displayFormat;
  }(),
  monthFormat: 'MMMM YYYY',
  weekDayFormat: 'dd',
  phrases: _defaultPhrases.DateRangePickerPhrases,
  dayAriaLabelFormat: undefined
};

var DateRangePicker = function (_React$Component) {
  _inherits(DateRangePicker, _React$Component);

  function DateRangePicker(props) {
    _classCallCheck(this, DateRangePicker);

    var _this = _possibleConstructorReturn(this, (DateRangePicker.__proto__ || Object.getPrototypeOf(DateRangePicker)).call(this, props));

    _this.state = {
      dayPickerContainerStyles: {},
      isDateRangePickerInputFocused: false,
      isDayPickerFocused: false,
      showKeyboardShortcuts: false
    };

    _this.isTouchDevice = false;

    _this.onOutsideClick = _this.onOutsideClick.bind(_this);
    _this.onDateRangePickerInputFocus = _this.onDateRangePickerInputFocus.bind(_this);
    _this.onDayPickerFocus = _this.onDayPickerFocus.bind(_this);
    _this.onDayPickerBlur = _this.onDayPickerBlur.bind(_this);
    _this.showKeyboardShortcutsPanel = _this.showKeyboardShortcutsPanel.bind(_this);

    _this.responsivizePickerPosition = _this.responsivizePickerPosition.bind(_this);
    _this.disableScroll = _this.disableScroll.bind(_this);

    _this.setDayPickerContainerRef = _this.setDayPickerContainerRef.bind(_this);
    _this.setContainerRef = _this.setContainerRef.bind(_this);
    return _this;
  }

  _createClass(DateRangePicker, [{
    key: 'componentDidMount',
    value: function () {
      function componentDidMount() {
        this.removeEventListener = (0, _consolidatedEvents.addEventListener)(window, 'resize', this.responsivizePickerPosition, { passive: true });
        this.responsivizePickerPosition();
        this.disableScroll();

        var focusedInput = this.props.focusedInput;

        if (focusedInput) {
          this.setState({
            isDateRangePickerInputFocused: true
          });
        }

        this.isTouchDevice = (0, _isTouchDevice2['default'])();
      }

      return componentDidMount;
    }()
  }, {
    key: 'shouldComponentUpdate',
    value: function () {
      function shouldComponentUpdate(nextProps, nextState) {
        return (0, _reactAddonsShallowCompare2['default'])(this, nextProps, nextState);
      }

      return shouldComponentUpdate;
    }()
  }, {
    key: 'componentDidUpdate',
    value: function () {
      function componentDidUpdate(prevProps) {
        var focusedInput = this.props.focusedInput;

        if (!prevProps.focusedInput && focusedInput && this.isOpened()) {
          // The date picker just changed from being closed to being open.
          this.responsivizePickerPosition();
          this.disableScroll();
        } else if (prevProps.focusedInput && !focusedInput && !this.isOpened()) {
          // The date picker just changed from being open to being closed.
          if (this.enableScroll) this.enableScroll();
        }
      }

      return componentDidUpdate;
    }()
  }, {
    key: 'componentWillUnmount',
    value: function () {
      function componentWillUnmount() {
        if (this.removeEventListener) this.removeEventListener();
        if (this.enableScroll) this.enableScroll();
      }

      return componentWillUnmount;
    }()
  }, {
    key: 'onOutsideClick',
    value: function () {
      function onOutsideClick(event) {
        var _props = this.props,
            onFocusChange = _props.onFocusChange,
            onClose = _props.onClose,
            startDate = _props.startDate,
            endDate = _props.endDate,
            appendToBody = _props.appendToBody;

        if (!this.isOpened()) return;
        if (appendToBody && this.dayPickerContainer.contains(event.target)) return;

        this.setState({
          isDateRangePickerInputFocused: false,
          isDayPickerFocused: false,
          showKeyboardShortcuts: false
        });

        onFocusChange(null);
        onClose({ startDate: startDate, endDate: endDate });
      }

      return onOutsideClick;
    }()
  }, {
    key: 'onDateRangePickerInputFocus',
    value: function () {
      function onDateRangePickerInputFocus(focusedInput) {
        var _props2 = this.props,
            onFocusChange = _props2.onFocusChange,
            readOnly = _props2.readOnly,
            withPortal = _props2.withPortal,
            withFullScreenPortal = _props2.withFullScreenPortal,
            keepFocusOnInput = _props2.keepFocusOnInput;


        if (focusedInput) {
          var withAnyPortal = withPortal || withFullScreenPortal;
          var moveFocusToDayPicker = withAnyPortal || readOnly && !keepFocusOnInput || this.isTouchDevice && !keepFocusOnInput;

          if (moveFocusToDayPicker) {
            this.onDayPickerFocus();
          } else {
            this.onDayPickerBlur();
          }
        }

        onFocusChange(focusedInput);
      }

      return onDateRangePickerInputFocus;
    }()
  }, {
    key: 'onDayPickerFocus',
    value: function () {
      function onDayPickerFocus() {
        var _props3 = this.props,
            focusedInput = _props3.focusedInput,
            onFocusChange = _props3.onFocusChange;

        if (!focusedInput) onFocusChange(_constants.START_DATE);

        this.setState({
          isDateRangePickerInputFocused: false,
          isDayPickerFocused: true,
          showKeyboardShortcuts: false
        });
      }

      return onDayPickerFocus;
    }()
  }, {
    key: 'onDayPickerBlur',
    value: function () {
      function onDayPickerBlur() {
        this.setState({
          isDateRangePickerInputFocused: true,
          isDayPickerFocused: false,
          showKeyboardShortcuts: false
        });
      }

      return onDayPickerBlur;
    }()
  }, {
    key: 'setDayPickerContainerRef',
    value: function () {
      function setDayPickerContainerRef(ref) {
        this.dayPickerContainer = ref;
      }

      return setDayPickerContainerRef;
    }()
  }, {
    key: 'setContainerRef',
    value: function () {
      function setContainerRef(ref) {
        this.container = ref;
      }

      return setContainerRef;
    }()
  }, {
    key: 'isOpened',
    value: function () {
      function isOpened() {
        var focusedInput = this.props.focusedInput;

        return focusedInput === _constants.START_DATE || focusedInput === _constants.END_DATE;
      }

      return isOpened;
    }()
  }, {
    key: 'disableScroll',
    value: function () {
      function disableScroll() {
        var _props4 = this.props,
            appendToBody = _props4.appendToBody,
            propDisableScroll = _props4.disableScroll;

        if (!appendToBody && !propDisableScroll) return;
        if (!this.isOpened()) return;

        // Disable scroll for every ancestor of this DateRangePicker up to the
        // document level. This ensures the input and the picker never move. Other
        // sibling elements or the picker itself can scroll.
        this.enableScroll = (0, _disableScroll3['default'])(this.container);
      }

      return disableScroll;
    }()
  }, {
    key: 'responsivizePickerPosition',
    value: function () {
      function responsivizePickerPosition() {
        // It's possible the portal props have been changed in response to window resizes
        // So let's ensure we reset this back to the base state each time
        this.setState({ dayPickerContainerStyles: {} });

        if (!this.isOpened()) {
          return;
        }

        var _props5 = this.props,
            openDirection = _props5.openDirection,
            anchorDirection = _props5.anchorDirection,
            horizontalMargin = _props5.horizontalMargin,
            withPortal = _props5.withPortal,
            withFullScreenPortal = _props5.withFullScreenPortal,
            appendToBody = _props5.appendToBody;
        var dayPickerContainerStyles = this.state.dayPickerContainerStyles;


        var isAnchoredLeft = anchorDirection === _constants.ANCHOR_LEFT;
        if (!withPortal && !withFullScreenPortal) {
          var containerRect = this.dayPickerContainer.getBoundingClientRect();
          var currentOffset = dayPickerContainerStyles[anchorDirection] || 0;
          var containerEdge = isAnchoredLeft ? containerRect[_constants.ANCHOR_RIGHT] : containerRect[_constants.ANCHOR_LEFT];

          this.setState({
            dayPickerContainerStyles: (0, _object2['default'])({}, (0, _getResponsiveContainerStyles2['default'])(anchorDirection, currentOffset, containerEdge, horizontalMargin), appendToBody && (0, _getDetachedContainerStyles2['default'])(openDirection, anchorDirection, this.container))
          });
        }
      }

      return responsivizePickerPosition;
    }()
  }, {
    key: 'showKeyboardShortcutsPanel',
    value: function () {
      function showKeyboardShortcutsPanel() {
        this.setState({
          isDateRangePickerInputFocused: false,
          isDayPickerFocused: true,
          showKeyboardShortcuts: true
        });
      }

      return showKeyboardShortcutsPanel;
    }()
  }, {
    key: 'maybeRenderDayPickerWithPortal',
    value: function () {
      function maybeRenderDayPickerWithPortal() {
        var _props6 = this.props,
            withPortal = _props6.withPortal,
            withFullScreenPortal = _props6.withFullScreenPortal,
            appendToBody = _props6.appendToBody;


        if (!this.isOpened()) {
          return null;
        }

        if (withPortal || withFullScreenPortal || appendToBody) {
          return _react2['default'].createElement(
            _reactPortal.Portal,
            null,
            this.renderDayPicker()
          );
        }

        return this.renderDayPicker();
      }

      return maybeRenderDayPickerWithPortal;
    }()
  }, {
    key: 'renderDayPicker',
    value: function () {
      function renderDayPicker() {
        var _props7 = this.props,
            anchorDirection = _props7.anchorDirection,
            openDirection = _props7.openDirection,
            isDayBlocked = _props7.isDayBlocked,
            isDayHighlighted = _props7.isDayHighlighted,
            isOutsideRange = _props7.isOutsideRange,
            numberOfMonths = _props7.numberOfMonths,
            orientation = _props7.orientation,
            monthFormat = _props7.monthFormat,
            renderMonthText = _props7.renderMonthText,
            navPrev = _props7.navPrev,
            navNext = _props7.navNext,
            onPrevMonthClick = _props7.onPrevMonthClick,
            onNextMonthClick = _props7.onNextMonthClick,
            onDatesChange = _props7.onDatesChange,
            onFocusChange = _props7.onFocusChange,
            withPortal = _props7.withPortal,
            withFullScreenPortal = _props7.withFullScreenPortal,
            daySize = _props7.daySize,
            enableOutsideDays = _props7.enableOutsideDays,
            focusedInput = _props7.focusedInput,
            startDate = _props7.startDate,
            endDate = _props7.endDate,
            minimumNights = _props7.minimumNights,
            keepOpenOnDateSelect = _props7.keepOpenOnDateSelect,
            renderCalendarDay = _props7.renderCalendarDay,
            renderDayContents = _props7.renderDayContents,
            renderCalendarInfo = _props7.renderCalendarInfo,
            renderMonthElement = _props7.renderMonthElement,
            calendarInfoPosition = _props7.calendarInfoPosition,
            firstDayOfWeek = _props7.firstDayOfWeek,
            initialVisibleMonth = _props7.initialVisibleMonth,
            hideKeyboardShortcutsPanel = _props7.hideKeyboardShortcutsPanel,
            customCloseIcon = _props7.customCloseIcon,
            onClose = _props7.onClose,
            phrases = _props7.phrases,
            dayAriaLabelFormat = _props7.dayAriaLabelFormat,
            isRTL = _props7.isRTL,
            weekDayFormat = _props7.weekDayFormat,
            styles = _props7.styles,
            verticalHeight = _props7.verticalHeight,
            transitionDuration = _props7.transitionDuration,
            verticalSpacing = _props7.verticalSpacing,
            small = _props7.small,
            disabled = _props7.disabled,
            reactDates = _props7.theme.reactDates;
        var _state = this.state,
            dayPickerContainerStyles = _state.dayPickerContainerStyles,
            isDayPickerFocused = _state.isDayPickerFocused,
            showKeyboardShortcuts = _state.showKeyboardShortcuts;


        var onOutsideClick = !withFullScreenPortal && withPortal ? this.onOutsideClick : undefined;
        var initialVisibleMonthThunk = initialVisibleMonth || function () {
          return startDate || endDate || (0, _moment2['default'])();
        };

        var closeIcon = customCloseIcon || _react2['default'].createElement(_CloseButton2['default'], (0, _reactWithStyles.css)(styles.DateRangePicker_closeButton_svg));

        var inputHeight = (0, _getInputHeight2['default'])(reactDates, small);

        var withAnyPortal = withPortal || withFullScreenPortal;

        return _react2['default'].createElement(
          'div',
          _extends({ // eslint-disable-line jsx-a11y/no-static-element-interactions
            ref: this.setDayPickerContainerRef
          }, (0, _reactWithStyles.css)(styles.DateRangePicker_picker, anchorDirection === _constants.ANCHOR_LEFT && styles.DateRangePicker_picker__directionLeft, anchorDirection === _constants.ANCHOR_RIGHT && styles.DateRangePicker_picker__directionRight, orientation === _constants.HORIZONTAL_ORIENTATION && styles.DateRangePicker_picker__horizontal, orientation === _constants.VERTICAL_ORIENTATION && styles.DateRangePicker_picker__vertical, !withAnyPortal && openDirection === _constants.OPEN_DOWN && {
            top: inputHeight + verticalSpacing
          }, !withAnyPortal && openDirection === _constants.OPEN_UP && {
            bottom: inputHeight + verticalSpacing
          }, withAnyPortal && styles.DateRangePicker_picker__portal, withFullScreenPortal && styles.DateRangePicker_picker__fullScreenPortal, isRTL && styles.DateRangePicker_picker__rtl, dayPickerContainerStyles), {
            onClick: onOutsideClick
          }),
          _react2['default'].createElement(_DayPickerRangeController2['default'], {
            orientation: orientation,
            enableOutsideDays: enableOutsideDays,
            numberOfMonths: numberOfMonths,
            onPrevMonthClick: onPrevMonthClick,
            onNextMonthClick: onNextMonthClick,
            onDatesChange: onDatesChange,
            onFocusChange: onFocusChange,
            onClose: onClose,
            focusedInput: focusedInput,
            startDate: startDate,
            endDate: endDate,
            monthFormat: monthFormat,
            renderMonthText: renderMonthText,
            withPortal: withAnyPortal,
            daySize: daySize,
            initialVisibleMonth: initialVisibleMonthThunk,
            hideKeyboardShortcutsPanel: hideKeyboardShortcutsPanel,
            navPrev: navPrev,
            navNext: navNext,
            minimumNights: minimumNights,
            isOutsideRange: isOutsideRange,
            isDayHighlighted: isDayHighlighted,
            isDayBlocked: isDayBlocked,
            keepOpenOnDateSelect: keepOpenOnDateSelect,
            renderCalendarDay: renderCalendarDay,
            renderDayContents: renderDayContents,
            renderCalendarInfo: renderCalendarInfo,
            renderMonthElement: renderMonthElement,
            calendarInfoPosition: calendarInfoPosition,
            isFocused: isDayPickerFocused,
            showKeyboardShortcuts: showKeyboardShortcuts,
            onBlur: this.onDayPickerBlur,
            phrases: phrases,
            dayAriaLabelFormat: dayAriaLabelFormat,
            isRTL: isRTL,
            firstDayOfWeek: firstDayOfWeek,
            weekDayFormat: weekDayFormat,
            verticalHeight: verticalHeight,
            transitionDuration: transitionDuration,
            disabled: disabled
          }),
          withFullScreenPortal && _react2['default'].createElement(
            'button',
            _extends({}, (0, _reactWithStyles.css)(styles.DateRangePicker_closeButton), {
              type: 'button',
              onClick: this.onOutsideClick,
              'aria-label': phrases.closeDatePicker
            }),
            closeIcon
          )
        );
      }

      return renderDayPicker;
    }()
  }, {
    key: 'render',
    value: function () {
      function render() {
        var _props8 = this.props,
            startDate = _props8.startDate,
            startDateId = _props8.startDateId,
            startDatePlaceholderText = _props8.startDatePlaceholderText,
            endDate = _props8.endDate,
            endDateId = _props8.endDateId,
            endDatePlaceholderText = _props8.endDatePlaceholderText,
            focusedInput = _props8.focusedInput,
            screenReaderInputMessage = _props8.screenReaderInputMessage,
            showClearDates = _props8.showClearDates,
            showDefaultInputIcon = _props8.showDefaultInputIcon,
            inputIconPosition = _props8.inputIconPosition,
            customInputIcon = _props8.customInputIcon,
            customArrowIcon = _props8.customArrowIcon,
            customCloseIcon = _props8.customCloseIcon,
            disabled = _props8.disabled,
            required = _props8.required,
            readOnly = _props8.readOnly,
            openDirection = _props8.openDirection,
            phrases = _props8.phrases,
            isOutsideRange = _props8.isOutsideRange,
            minimumNights = _props8.minimumNights,
            withPortal = _props8.withPortal,
            withFullScreenPortal = _props8.withFullScreenPortal,
            displayFormat = _props8.displayFormat,
            reopenPickerOnClearDates = _props8.reopenPickerOnClearDates,
            keepOpenOnDateSelect = _props8.keepOpenOnDateSelect,
            onDatesChange = _props8.onDatesChange,
            onClose = _props8.onClose,
            isRTL = _props8.isRTL,
            noBorder = _props8.noBorder,
            block = _props8.block,
            verticalSpacing = _props8.verticalSpacing,
            small = _props8.small,
            regular = _props8.regular,
            styles = _props8.styles;
        var isDateRangePickerInputFocused = this.state.isDateRangePickerInputFocused;


        var enableOutsideClick = !withPortal && !withFullScreenPortal;

        var hideFang = verticalSpacing < _constants.FANG_HEIGHT_PX;

        var input = _react2['default'].createElement(_DateRangePickerInputController2['default'], {
          startDate: startDate,
          startDateId: startDateId,
          startDatePlaceholderText: startDatePlaceholderText,
          isStartDateFocused: focusedInput === _constants.START_DATE,
          endDate: endDate,
          endDateId: endDateId,
          endDatePlaceholderText: endDatePlaceholderText,
          isEndDateFocused: focusedInput === _constants.END_DATE,
          displayFormat: displayFormat,
          showClearDates: showClearDates,
          showCaret: !withPortal && !withFullScreenPortal && !hideFang,
          showDefaultInputIcon: showDefaultInputIcon,
          inputIconPosition: inputIconPosition,
          customInputIcon: customInputIcon,
          customArrowIcon: customArrowIcon,
          customCloseIcon: customCloseIcon,
          disabled: disabled,
          required: required,
          readOnly: readOnly,
          openDirection: openDirection,
          reopenPickerOnClearDates: reopenPickerOnClearDates,
          keepOpenOnDateSelect: keepOpenOnDateSelect,
          isOutsideRange: isOutsideRange,
          minimumNights: minimumNights,
          withFullScreenPortal: withFullScreenPortal,
          onDatesChange: onDatesChange,
          onFocusChange: this.onDateRangePickerInputFocus,
          onKeyDownArrowDown: this.onDayPickerFocus,
          onKeyDownQuestionMark: this.showKeyboardShortcutsPanel,
          onClose: onClose,
          phrases: phrases,
          screenReaderMessage: screenReaderInputMessage,
          isFocused: isDateRangePickerInputFocused,
          isRTL: isRTL,
          noBorder: noBorder,
          block: block,
          small: small,
          regular: regular,
          verticalSpacing: verticalSpacing
        });

        return _react2['default'].createElement(
          'div',
          _extends({
            ref: this.setContainerRef
          }, (0, _reactWithStyles.css)(styles.DateRangePicker, block && styles.DateRangePicker__block)),
          enableOutsideClick && _react2['default'].createElement(
            _reactOutsideClickHandler2['default'],
            { onOutsideClick: this.onOutsideClick },
            input,
            this.maybeRenderDayPickerWithPortal()
          ),
          !enableOutsideClick && input,
          !enableOutsideClick && this.maybeRenderDayPickerWithPortal()
        );
      }

      return render;
    }()
  }]);

  return DateRangePicker;
}(_react2['default'].Component);

DateRangePicker.propTypes = propTypes;
DateRangePicker.defaultProps = defaultProps;

exports.PureDateRangePicker = DateRangePicker;
exports['default'] = (0, _reactWithStyles.withStyles)(function (_ref) {
  var _ref$reactDates = _ref.reactDates,
      color = _ref$reactDates.color,
      zIndex = _ref$reactDates.zIndex;
  return {
    DateRangePicker: {
      position: 'relative',
      display: 'inline-block'
    },

    DateRangePicker__block: {
      display: 'block'
    },

    DateRangePicker_picker: {
      zIndex: zIndex + 1,
      backgroundColor: color.background,
      position: 'absolute'
    },

    DateRangePicker_picker__rtl: {
      direction: 'rtl'
    },

    DateRangePicker_picker__directionLeft: {
      left: 0
    },

    DateRangePicker_picker__directionRight: {
      right: 0
    },

    DateRangePicker_picker__portal: {
      backgroundColor: 'rgba(0, 0, 0, 0.3)',
      position: 'fixed',
      top: 0,
      left: 0,
      height: '100%',
      width: '100%'
    },

    DateRangePicker_picker__fullScreenPortal: {
      backgroundColor: color.background
    },

    DateRangePicker_closeButton: {
      background: 'none',
      border: 0,
      color: 'inherit',
      font: 'inherit',
      lineHeight: 'normal',
      overflow: 'visible',
      cursor: 'pointer',

      position: 'absolute',
      top: 0,
      right: 0,
      padding: 15,
      zIndex: zIndex + 2,

      ':hover': {
        color: 'darken(' + String(color.core.grayLighter) + ', 10%)',
        textDecoration: 'none'
      },

      ':focus': {
        color: 'darken(' + String(color.core.grayLighter) + ', 10%)',
        textDecoration: 'none'
      }
    },

    DateRangePicker_closeButton_svg: {
      height: 15,
      width: 15,
      fill: color.core.grayLighter
    }
  };
})(DateRangePicker);

/***/ }),

/***/ "./node_modules/react-dates/lib/components/DateRangePickerInput.js":
/*!*************************************************************************!*\
  !*** ./node_modules/react-dates/lib/components/DateRangePickerInput.js ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _object = __webpack_require__(/*! object.assign */ "./node_modules/object.assign/index.js");

var _object2 = _interopRequireDefault(_object);

var _react = __webpack_require__(/*! react */ "./node_modules/react/index.js");

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _airbnbPropTypes = __webpack_require__(/*! airbnb-prop-types */ "./node_modules/airbnb-prop-types/index.js");

var _reactWithStyles = __webpack_require__(/*! react-with-styles */ "./node_modules/react-with-styles/lib/withStyles.js");

var _defaultPhrases = __webpack_require__(/*! ../defaultPhrases */ "./node_modules/react-dates/lib/defaultPhrases.js");

var _getPhrasePropTypes = __webpack_require__(/*! ../utils/getPhrasePropTypes */ "./node_modules/react-dates/lib/utils/getPhrasePropTypes.js");

var _getPhrasePropTypes2 = _interopRequireDefault(_getPhrasePropTypes);

var _OpenDirectionShape = __webpack_require__(/*! ../shapes/OpenDirectionShape */ "./node_modules/react-dates/lib/shapes/OpenDirectionShape.js");

var _OpenDirectionShape2 = _interopRequireDefault(_OpenDirectionShape);

var _DateInput = __webpack_require__(/*! ./DateInput */ "./node_modules/react-dates/lib/components/DateInput.js");

var _DateInput2 = _interopRequireDefault(_DateInput);

var _IconPositionShape = __webpack_require__(/*! ../shapes/IconPositionShape */ "./node_modules/react-dates/lib/shapes/IconPositionShape.js");

var _IconPositionShape2 = _interopRequireDefault(_IconPositionShape);

var _DisabledShape = __webpack_require__(/*! ../shapes/DisabledShape */ "./node_modules/react-dates/lib/shapes/DisabledShape.js");

var _DisabledShape2 = _interopRequireDefault(_DisabledShape);

var _RightArrow = __webpack_require__(/*! ./RightArrow */ "./node_modules/react-dates/lib/components/RightArrow.js");

var _RightArrow2 = _interopRequireDefault(_RightArrow);

var _LeftArrow = __webpack_require__(/*! ./LeftArrow */ "./node_modules/react-dates/lib/components/LeftArrow.js");

var _LeftArrow2 = _interopRequireDefault(_LeftArrow);

var _CloseButton = __webpack_require__(/*! ./CloseButton */ "./node_modules/react-dates/lib/components/CloseButton.js");

var _CloseButton2 = _interopRequireDefault(_CloseButton);

var _CalendarIcon = __webpack_require__(/*! ./CalendarIcon */ "./node_modules/react-dates/lib/components/CalendarIcon.js");

var _CalendarIcon2 = _interopRequireDefault(_CalendarIcon);

var _constants = __webpack_require__(/*! ../constants */ "./node_modules/react-dates/lib/constants.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var propTypes = (0, _airbnbPropTypes.forbidExtraProps)((0, _object2['default'])({}, _reactWithStyles.withStylesPropTypes, {
  startDateId: _propTypes2['default'].string,
  startDatePlaceholderText: _propTypes2['default'].string,
  screenReaderMessage: _propTypes2['default'].string,

  endDateId: _propTypes2['default'].string,
  endDatePlaceholderText: _propTypes2['default'].string,

  onStartDateFocus: _propTypes2['default'].func,
  onEndDateFocus: _propTypes2['default'].func,
  onStartDateChange: _propTypes2['default'].func,
  onEndDateChange: _propTypes2['default'].func,
  onStartDateShiftTab: _propTypes2['default'].func,
  onEndDateTab: _propTypes2['default'].func,
  onClearDates: _propTypes2['default'].func,
  onKeyDownArrowDown: _propTypes2['default'].func,
  onKeyDownQuestionMark: _propTypes2['default'].func,

  startDate: _propTypes2['default'].string,
  endDate: _propTypes2['default'].string,

  isStartDateFocused: _propTypes2['default'].bool,
  isEndDateFocused: _propTypes2['default'].bool,
  showClearDates: _propTypes2['default'].bool,
  disabled: _DisabledShape2['default'],
  required: _propTypes2['default'].bool,
  readOnly: _propTypes2['default'].bool,
  openDirection: _OpenDirectionShape2['default'],
  showCaret: _propTypes2['default'].bool,
  showDefaultInputIcon: _propTypes2['default'].bool,
  inputIconPosition: _IconPositionShape2['default'],
  customInputIcon: _propTypes2['default'].node,
  customArrowIcon: _propTypes2['default'].node,
  customCloseIcon: _propTypes2['default'].node,
  noBorder: _propTypes2['default'].bool,
  block: _propTypes2['default'].bool,
  small: _propTypes2['default'].bool,
  regular: _propTypes2['default'].bool,
  verticalSpacing: _airbnbPropTypes.nonNegativeInteger,

  // accessibility
  isFocused: _propTypes2['default'].bool, // describes actual DOM focus

  // i18n
  phrases: _propTypes2['default'].shape((0, _getPhrasePropTypes2['default'])(_defaultPhrases.DateRangePickerInputPhrases)),

  isRTL: _propTypes2['default'].bool
}));

var defaultProps = {
  startDateId: _constants.START_DATE,
  endDateId: _constants.END_DATE,
  startDatePlaceholderText: 'Start Date',
  endDatePlaceholderText: 'End Date',
  screenReaderMessage: '',
  onStartDateFocus: function () {
    function onStartDateFocus() {}

    return onStartDateFocus;
  }(),
  onEndDateFocus: function () {
    function onEndDateFocus() {}

    return onEndDateFocus;
  }(),
  onStartDateChange: function () {
    function onStartDateChange() {}

    return onStartDateChange;
  }(),
  onEndDateChange: function () {
    function onEndDateChange() {}

    return onEndDateChange;
  }(),
  onStartDateShiftTab: function () {
    function onStartDateShiftTab() {}

    return onStartDateShiftTab;
  }(),
  onEndDateTab: function () {
    function onEndDateTab() {}

    return onEndDateTab;
  }(),
  onClearDates: function () {
    function onClearDates() {}

    return onClearDates;
  }(),
  onKeyDownArrowDown: function () {
    function onKeyDownArrowDown() {}

    return onKeyDownArrowDown;
  }(),
  onKeyDownQuestionMark: function () {
    function onKeyDownQuestionMark() {}

    return onKeyDownQuestionMark;
  }(),


  startDate: '',
  endDate: '',

  isStartDateFocused: false,
  isEndDateFocused: false,
  showClearDates: false,
  disabled: false,
  required: false,
  readOnly: false,
  openDirection: _constants.OPEN_DOWN,
  showCaret: false,
  showDefaultInputIcon: false,
  inputIconPosition: _constants.ICON_BEFORE_POSITION,
  customInputIcon: null,
  customArrowIcon: null,
  customCloseIcon: null,
  noBorder: false,
  block: false,
  small: false,
  regular: false,
  verticalSpacing: undefined,

  // accessibility
  isFocused: false,

  // i18n
  phrases: _defaultPhrases.DateRangePickerInputPhrases,

  isRTL: false
};

function DateRangePickerInput(_ref) {
  var startDate = _ref.startDate,
      startDateId = _ref.startDateId,
      startDatePlaceholderText = _ref.startDatePlaceholderText,
      screenReaderMessage = _ref.screenReaderMessage,
      isStartDateFocused = _ref.isStartDateFocused,
      onStartDateChange = _ref.onStartDateChange,
      onStartDateFocus = _ref.onStartDateFocus,
      onStartDateShiftTab = _ref.onStartDateShiftTab,
      endDate = _ref.endDate,
      endDateId = _ref.endDateId,
      endDatePlaceholderText = _ref.endDatePlaceholderText,
      isEndDateFocused = _ref.isEndDateFocused,
      onEndDateChange = _ref.onEndDateChange,
      onEndDateFocus = _ref.onEndDateFocus,
      onEndDateTab = _ref.onEndDateTab,
      onKeyDownArrowDown = _ref.onKeyDownArrowDown,
      onKeyDownQuestionMark = _ref.onKeyDownQuestionMark,
      onClearDates = _ref.onClearDates,
      showClearDates = _ref.showClearDates,
      disabled = _ref.disabled,
      required = _ref.required,
      readOnly = _ref.readOnly,
      showCaret = _ref.showCaret,
      openDirection = _ref.openDirection,
      showDefaultInputIcon = _ref.showDefaultInputIcon,
      inputIconPosition = _ref.inputIconPosition,
      customInputIcon = _ref.customInputIcon,
      customArrowIcon = _ref.customArrowIcon,
      customCloseIcon = _ref.customCloseIcon,
      isFocused = _ref.isFocused,
      phrases = _ref.phrases,
      isRTL = _ref.isRTL,
      noBorder = _ref.noBorder,
      block = _ref.block,
      verticalSpacing = _ref.verticalSpacing,
      small = _ref.small,
      regular = _ref.regular,
      styles = _ref.styles;

  var calendarIcon = customInputIcon || _react2['default'].createElement(_CalendarIcon2['default'], (0, _reactWithStyles.css)(styles.DateRangePickerInput_calendarIcon_svg));

  var arrowIcon = customArrowIcon || _react2['default'].createElement(_RightArrow2['default'], (0, _reactWithStyles.css)(styles.DateRangePickerInput_arrow_svg));
  if (isRTL) arrowIcon = _react2['default'].createElement(_LeftArrow2['default'], (0, _reactWithStyles.css)(styles.DateRangePickerInput_arrow_svg));
  if (small) arrowIcon = '-';

  var closeIcon = customCloseIcon || _react2['default'].createElement(_CloseButton2['default'], (0, _reactWithStyles.css)(styles.DateRangePickerInput_clearDates_svg, small && styles.DateRangePickerInput_clearDates_svg__small));
  var screenReaderText = screenReaderMessage || phrases.keyboardNavigationInstructions;
  var inputIcon = (showDefaultInputIcon || customInputIcon !== null) && _react2['default'].createElement(
    'button',
    _extends({}, (0, _reactWithStyles.css)(styles.DateRangePickerInput_calendarIcon), {
      type: 'button',
      disabled: disabled,
      'aria-label': phrases.focusStartDate,
      onClick: onKeyDownArrowDown
    }),
    calendarIcon
  );
  var startDateDisabled = disabled === _constants.START_DATE || disabled === true;
  var endDateDisabled = disabled === _constants.END_DATE || disabled === true;

  return _react2['default'].createElement(
    'div',
    (0, _reactWithStyles.css)(styles.DateRangePickerInput, disabled && styles.DateRangePickerInput__disabled, isRTL && styles.DateRangePickerInput__rtl, !noBorder && styles.DateRangePickerInput__withBorder, block && styles.DateRangePickerInput__block, showClearDates && styles.DateRangePickerInput__showClearDates),
    inputIconPosition === _constants.ICON_BEFORE_POSITION && inputIcon,
    _react2['default'].createElement(_DateInput2['default'], {
      id: startDateId,
      placeholder: startDatePlaceholderText,
      displayValue: startDate,
      screenReaderMessage: screenReaderText,
      focused: isStartDateFocused,
      isFocused: isFocused,
      disabled: startDateDisabled,
      required: required,
      readOnly: readOnly,
      showCaret: showCaret,
      openDirection: openDirection,
      onChange: onStartDateChange,
      onFocus: onStartDateFocus,
      onKeyDownShiftTab: onStartDateShiftTab,
      onKeyDownArrowDown: onKeyDownArrowDown,
      onKeyDownQuestionMark: onKeyDownQuestionMark,
      verticalSpacing: verticalSpacing,
      small: small,
      regular: regular
    }),
    _react2['default'].createElement(
      'div',
      _extends({}, (0, _reactWithStyles.css)(styles.DateRangePickerInput_arrow), {
        'aria-hidden': 'true',
        role: 'presentation'
      }),
      arrowIcon
    ),
    _react2['default'].createElement(_DateInput2['default'], {
      id: endDateId,
      placeholder: endDatePlaceholderText,
      displayValue: endDate,
      screenReaderMessage: screenReaderText,
      focused: isEndDateFocused,
      isFocused: isFocused,
      disabled: endDateDisabled,
      required: required,
      readOnly: readOnly,
      showCaret: showCaret,
      openDirection: openDirection,
      onChange: onEndDateChange,
      onFocus: onEndDateFocus,
      onKeyDownTab: onEndDateTab,
      onKeyDownArrowDown: onKeyDownArrowDown,
      onKeyDownQuestionMark: onKeyDownQuestionMark,
      verticalSpacing: verticalSpacing,
      small: small,
      regular: regular
    }),
    showClearDates && _react2['default'].createElement(
      'button',
      _extends({
        type: 'button',
        'aria-label': phrases.clearDates
      }, (0, _reactWithStyles.css)(styles.DateRangePickerInput_clearDates, small && styles.DateRangePickerInput_clearDates__small, !customCloseIcon && styles.DateRangePickerInput_clearDates_default, !(startDate || endDate) && styles.DateRangePickerInput_clearDates__hide), {
        onClick: onClearDates,
        disabled: disabled
      }),
      closeIcon
    ),
    inputIconPosition === _constants.ICON_AFTER_POSITION && inputIcon
  );
}

DateRangePickerInput.propTypes = propTypes;
DateRangePickerInput.defaultProps = defaultProps;

exports['default'] = (0, _reactWithStyles.withStyles)(function (_ref2) {
  var _ref2$reactDates = _ref2.reactDates,
      border = _ref2$reactDates.border,
      color = _ref2$reactDates.color,
      sizing = _ref2$reactDates.sizing;
  return {
    DateRangePickerInput: {
      backgroundColor: color.background,
      display: 'inline-block'
    },

    DateRangePickerInput__disabled: {
      background: color.disabled
    },

    DateRangePickerInput__withBorder: {
      borderColor: color.border,
      borderWidth: border.pickerInput.borderWidth,
      borderStyle: border.pickerInput.borderStyle,
      borderRadius: border.pickerInput.borderRadius
    },

    DateRangePickerInput__rtl: {
      direction: 'rtl'
    },

    DateRangePickerInput__block: {
      display: 'block'
    },

    DateRangePickerInput__showClearDates: {
      paddingRight: 30
    },

    DateRangePickerInput_arrow: {
      display: 'inline-block',
      verticalAlign: 'middle',
      color: color.text
    },

    DateRangePickerInput_arrow_svg: {
      verticalAlign: 'middle',
      fill: color.text,
      height: sizing.arrowWidth,
      width: sizing.arrowWidth
    },

    DateRangePickerInput_clearDates: {
      background: 'none',
      border: 0,
      color: 'inherit',
      font: 'inherit',
      lineHeight: 'normal',
      overflow: 'visible',

      cursor: 'pointer',
      padding: 10,
      margin: '0 10px 0 5px',
      position: 'absolute',
      right: 0,
      top: '50%',
      transform: 'translateY(-50%)'
    },

    DateRangePickerInput_clearDates__small: {
      padding: 6
    },

    DateRangePickerInput_clearDates_default: {
      ':focus': {
        background: color.core.border,
        borderRadius: '50%'
      },

      ':hover': {
        background: color.core.border,
        borderRadius: '50%'
      }
    },

    DateRangePickerInput_clearDates__hide: {
      visibility: 'hidden'
    },

    DateRangePickerInput_clearDates_svg: {
      fill: color.core.grayLight,
      height: 12,
      width: 15,
      verticalAlign: 'middle'
    },

    DateRangePickerInput_clearDates_svg__small: {
      height: 9
    },

    DateRangePickerInput_calendarIcon: {
      background: 'none',
      border: 0,
      color: 'inherit',
      font: 'inherit',
      lineHeight: 'normal',
      overflow: 'visible',

      cursor: 'pointer',
      display: 'inline-block',
      verticalAlign: 'middle',
      padding: 10,
      margin: '0 5px 0 10px'
    },

    DateRangePickerInput_calendarIcon_svg: {
      fill: color.core.grayLight,
      height: 15,
      width: 14,
      verticalAlign: 'middle'
    }
  };
})(DateRangePickerInput);

/***/ }),

/***/ "./node_modules/react-dates/lib/components/DateRangePickerInputController.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/react-dates/lib/components/DateRangePickerInputController.js ***!
  \***********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "./node_modules/react/index.js");

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _moment = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");

var _moment2 = _interopRequireDefault(_moment);

var _reactMomentProptypes = __webpack_require__(/*! react-moment-proptypes */ "./node_modules/react-moment-proptypes/src/index.js");

var _reactMomentProptypes2 = _interopRequireDefault(_reactMomentProptypes);

var _airbnbPropTypes = __webpack_require__(/*! airbnb-prop-types */ "./node_modules/airbnb-prop-types/index.js");

var _OpenDirectionShape = __webpack_require__(/*! ../shapes/OpenDirectionShape */ "./node_modules/react-dates/lib/shapes/OpenDirectionShape.js");

var _OpenDirectionShape2 = _interopRequireDefault(_OpenDirectionShape);

var _defaultPhrases = __webpack_require__(/*! ../defaultPhrases */ "./node_modules/react-dates/lib/defaultPhrases.js");

var _getPhrasePropTypes = __webpack_require__(/*! ../utils/getPhrasePropTypes */ "./node_modules/react-dates/lib/utils/getPhrasePropTypes.js");

var _getPhrasePropTypes2 = _interopRequireDefault(_getPhrasePropTypes);

var _DateRangePickerInput = __webpack_require__(/*! ./DateRangePickerInput */ "./node_modules/react-dates/lib/components/DateRangePickerInput.js");

var _DateRangePickerInput2 = _interopRequireDefault(_DateRangePickerInput);

var _IconPositionShape = __webpack_require__(/*! ../shapes/IconPositionShape */ "./node_modules/react-dates/lib/shapes/IconPositionShape.js");

var _IconPositionShape2 = _interopRequireDefault(_IconPositionShape);

var _DisabledShape = __webpack_require__(/*! ../shapes/DisabledShape */ "./node_modules/react-dates/lib/shapes/DisabledShape.js");

var _DisabledShape2 = _interopRequireDefault(_DisabledShape);

var _toMomentObject = __webpack_require__(/*! ../utils/toMomentObject */ "./node_modules/react-dates/lib/utils/toMomentObject.js");

var _toMomentObject2 = _interopRequireDefault(_toMomentObject);

var _toLocalizedDateString = __webpack_require__(/*! ../utils/toLocalizedDateString */ "./node_modules/react-dates/lib/utils/toLocalizedDateString.js");

var _toLocalizedDateString2 = _interopRequireDefault(_toLocalizedDateString);

var _isInclusivelyAfterDay = __webpack_require__(/*! ../utils/isInclusivelyAfterDay */ "./node_modules/react-dates/lib/utils/isInclusivelyAfterDay.js");

var _isInclusivelyAfterDay2 = _interopRequireDefault(_isInclusivelyAfterDay);

var _isBeforeDay = __webpack_require__(/*! ../utils/isBeforeDay */ "./node_modules/react-dates/lib/utils/isBeforeDay.js");

var _isBeforeDay2 = _interopRequireDefault(_isBeforeDay);

var _constants = __webpack_require__(/*! ../constants */ "./node_modules/react-dates/lib/constants.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var propTypes = (0, _airbnbPropTypes.forbidExtraProps)({
  startDate: _reactMomentProptypes2['default'].momentObj,
  startDateId: _propTypes2['default'].string,
  startDatePlaceholderText: _propTypes2['default'].string,
  isStartDateFocused: _propTypes2['default'].bool,

  endDate: _reactMomentProptypes2['default'].momentObj,
  endDateId: _propTypes2['default'].string,
  endDatePlaceholderText: _propTypes2['default'].string,
  isEndDateFocused: _propTypes2['default'].bool,

  screenReaderMessage: _propTypes2['default'].string,
  showClearDates: _propTypes2['default'].bool,
  showCaret: _propTypes2['default'].bool,
  showDefaultInputIcon: _propTypes2['default'].bool,
  inputIconPosition: _IconPositionShape2['default'],
  disabled: _DisabledShape2['default'],
  required: _propTypes2['default'].bool,
  readOnly: _propTypes2['default'].bool,
  openDirection: _OpenDirectionShape2['default'],
  noBorder: _propTypes2['default'].bool,
  block: _propTypes2['default'].bool,
  small: _propTypes2['default'].bool,
  regular: _propTypes2['default'].bool,
  verticalSpacing: _airbnbPropTypes.nonNegativeInteger,

  keepOpenOnDateSelect: _propTypes2['default'].bool,
  reopenPickerOnClearDates: _propTypes2['default'].bool,
  withFullScreenPortal: _propTypes2['default'].bool,
  minimumNights: _airbnbPropTypes.nonNegativeInteger,
  isOutsideRange: _propTypes2['default'].func,
  displayFormat: _propTypes2['default'].oneOfType([_propTypes2['default'].string, _propTypes2['default'].func]),

  onFocusChange: _propTypes2['default'].func,
  onClose: _propTypes2['default'].func,
  onDatesChange: _propTypes2['default'].func,
  onKeyDownArrowDown: _propTypes2['default'].func,
  onKeyDownQuestionMark: _propTypes2['default'].func,

  customInputIcon: _propTypes2['default'].node,
  customArrowIcon: _propTypes2['default'].node,
  customCloseIcon: _propTypes2['default'].node,

  // accessibility
  isFocused: _propTypes2['default'].bool,

  // i18n
  phrases: _propTypes2['default'].shape((0, _getPhrasePropTypes2['default'])(_defaultPhrases.DateRangePickerInputPhrases)),

  isRTL: _propTypes2['default'].bool
});

var defaultProps = {
  startDate: null,
  startDateId: _constants.START_DATE,
  startDatePlaceholderText: 'Start Date',
  isStartDateFocused: false,

  endDate: null,
  endDateId: _constants.END_DATE,
  endDatePlaceholderText: 'End Date',
  isEndDateFocused: false,

  screenReaderMessage: '',
  showClearDates: false,
  showCaret: false,
  showDefaultInputIcon: false,
  inputIconPosition: _constants.ICON_BEFORE_POSITION,
  disabled: false,
  required: false,
  readOnly: false,
  openDirection: _constants.OPEN_DOWN,
  noBorder: false,
  block: false,
  small: false,
  regular: false,
  verticalSpacing: undefined,

  keepOpenOnDateSelect: false,
  reopenPickerOnClearDates: false,
  withFullScreenPortal: false,
  minimumNights: 1,
  isOutsideRange: function () {
    function isOutsideRange(day) {
      return !(0, _isInclusivelyAfterDay2['default'])(day, (0, _moment2['default'])());
    }

    return isOutsideRange;
  }(),
  displayFormat: function () {
    function displayFormat() {
      return _moment2['default'].localeData().longDateFormat('L');
    }

    return displayFormat;
  }(),

  onFocusChange: function () {
    function onFocusChange() {}

    return onFocusChange;
  }(),
  onClose: function () {
    function onClose() {}

    return onClose;
  }(),
  onDatesChange: function () {
    function onDatesChange() {}

    return onDatesChange;
  }(),
  onKeyDownArrowDown: function () {
    function onKeyDownArrowDown() {}

    return onKeyDownArrowDown;
  }(),
  onKeyDownQuestionMark: function () {
    function onKeyDownQuestionMark() {}

    return onKeyDownQuestionMark;
  }(),


  customInputIcon: null,
  customArrowIcon: null,
  customCloseIcon: null,

  // accessibility
  isFocused: false,

  // i18n
  phrases: _defaultPhrases.DateRangePickerInputPhrases,

  isRTL: false
};

var DateRangePickerInputController = function (_React$Component) {
  _inherits(DateRangePickerInputController, _React$Component);

  function DateRangePickerInputController(props) {
    _classCallCheck(this, DateRangePickerInputController);

    var _this = _possibleConstructorReturn(this, (DateRangePickerInputController.__proto__ || Object.getPrototypeOf(DateRangePickerInputController)).call(this, props));

    _this.onClearFocus = _this.onClearFocus.bind(_this);
    _this.onStartDateChange = _this.onStartDateChange.bind(_this);
    _this.onStartDateFocus = _this.onStartDateFocus.bind(_this);
    _this.onEndDateChange = _this.onEndDateChange.bind(_this);
    _this.onEndDateFocus = _this.onEndDateFocus.bind(_this);
    _this.clearDates = _this.clearDates.bind(_this);
    return _this;
  }

  _createClass(DateRangePickerInputController, [{
    key: 'onClearFocus',
    value: function () {
      function onClearFocus() {
        var _props = this.props,
            onFocusChange = _props.onFocusChange,
            onClose = _props.onClose,
            startDate = _props.startDate,
            endDate = _props.endDate;


        onFocusChange(null);
        onClose({ startDate: startDate, endDate: endDate });
      }

      return onClearFocus;
    }()
  }, {
    key: 'onEndDateChange',
    value: function () {
      function onEndDateChange(endDateString) {
        var _props2 = this.props,
            startDate = _props2.startDate,
            isOutsideRange = _props2.isOutsideRange,
            minimumNights = _props2.minimumNights,
            keepOpenOnDateSelect = _props2.keepOpenOnDateSelect,
            onDatesChange = _props2.onDatesChange;


        var endDate = (0, _toMomentObject2['default'])(endDateString, this.getDisplayFormat());

        var isEndDateValid = endDate && !isOutsideRange(endDate) && !(startDate && (0, _isBeforeDay2['default'])(endDate, startDate.clone().add(minimumNights, 'days')));
        if (isEndDateValid) {
          onDatesChange({ startDate: startDate, endDate: endDate });
          if (!keepOpenOnDateSelect) this.onClearFocus();
        } else {
          onDatesChange({
            startDate: startDate,
            endDate: null
          });
        }
      }

      return onEndDateChange;
    }()
  }, {
    key: 'onEndDateFocus',
    value: function () {
      function onEndDateFocus() {
        var _props3 = this.props,
            startDate = _props3.startDate,
            onFocusChange = _props3.onFocusChange,
            withFullScreenPortal = _props3.withFullScreenPortal,
            disabled = _props3.disabled;


        if (!startDate && withFullScreenPortal && (!disabled || disabled === _constants.END_DATE)) {
          // When the datepicker is full screen, we never want to focus the end date first
          // because there's no indication that that is the case once the datepicker is open and it
          // might confuse the user
          onFocusChange(_constants.START_DATE);
        } else if (!disabled || disabled === _constants.START_DATE) {
          onFocusChange(_constants.END_DATE);
        }
      }

      return onEndDateFocus;
    }()
  }, {
    key: 'onStartDateChange',
    value: function () {
      function onStartDateChange(startDateString) {
        var endDate = this.props.endDate;
        var _props4 = this.props,
            isOutsideRange = _props4.isOutsideRange,
            minimumNights = _props4.minimumNights,
            onDatesChange = _props4.onDatesChange,
            onFocusChange = _props4.onFocusChange,
            disabled = _props4.disabled;


        var startDate = (0, _toMomentObject2['default'])(startDateString, this.getDisplayFormat());
        var isEndDateBeforeStartDate = startDate && (0, _isBeforeDay2['default'])(endDate, startDate.clone().add(minimumNights, 'days'));
        var isStartDateValid = startDate && !isOutsideRange(startDate) && !(disabled === _constants.END_DATE && isEndDateBeforeStartDate);

        if (isStartDateValid) {
          if (isEndDateBeforeStartDate) {
            endDate = null;
          }

          onDatesChange({ startDate: startDate, endDate: endDate });
          onFocusChange(_constants.END_DATE);
        } else {
          onDatesChange({
            startDate: null,
            endDate: endDate
          });
        }
      }

      return onStartDateChange;
    }()
  }, {
    key: 'onStartDateFocus',
    value: function () {
      function onStartDateFocus() {
        var _props5 = this.props,
            disabled = _props5.disabled,
            onFocusChange = _props5.onFocusChange;

        if (!disabled || disabled === _constants.END_DATE) {
          onFocusChange(_constants.START_DATE);
        }
      }

      return onStartDateFocus;
    }()
  }, {
    key: 'getDisplayFormat',
    value: function () {
      function getDisplayFormat() {
        var displayFormat = this.props.displayFormat;

        return typeof displayFormat === 'string' ? displayFormat : displayFormat();
      }

      return getDisplayFormat;
    }()
  }, {
    key: 'getDateString',
    value: function () {
      function getDateString(date) {
        var displayFormat = this.getDisplayFormat();
        if (date && displayFormat) {
          return date && date.format(displayFormat);
        }
        return (0, _toLocalizedDateString2['default'])(date);
      }

      return getDateString;
    }()
  }, {
    key: 'clearDates',
    value: function () {
      function clearDates() {
        var _props6 = this.props,
            onDatesChange = _props6.onDatesChange,
            reopenPickerOnClearDates = _props6.reopenPickerOnClearDates,
            onFocusChange = _props6.onFocusChange;

        onDatesChange({ startDate: null, endDate: null });
        if (reopenPickerOnClearDates) {
          onFocusChange(_constants.START_DATE);
        }
      }

      return clearDates;
    }()
  }, {
    key: 'render',
    value: function () {
      function render() {
        var _props7 = this.props,
            startDate = _props7.startDate,
            startDateId = _props7.startDateId,
            startDatePlaceholderText = _props7.startDatePlaceholderText,
            isStartDateFocused = _props7.isStartDateFocused,
            endDate = _props7.endDate,
            endDateId = _props7.endDateId,
            endDatePlaceholderText = _props7.endDatePlaceholderText,
            isEndDateFocused = _props7.isEndDateFocused,
            screenReaderMessage = _props7.screenReaderMessage,
            showClearDates = _props7.showClearDates,
            showCaret = _props7.showCaret,
            showDefaultInputIcon = _props7.showDefaultInputIcon,
            inputIconPosition = _props7.inputIconPosition,
            customInputIcon = _props7.customInputIcon,
            customArrowIcon = _props7.customArrowIcon,
            customCloseIcon = _props7.customCloseIcon,
            disabled = _props7.disabled,
            required = _props7.required,
            readOnly = _props7.readOnly,
            openDirection = _props7.openDirection,
            isFocused = _props7.isFocused,
            phrases = _props7.phrases,
            onKeyDownArrowDown = _props7.onKeyDownArrowDown,
            onKeyDownQuestionMark = _props7.onKeyDownQuestionMark,
            isRTL = _props7.isRTL,
            noBorder = _props7.noBorder,
            block = _props7.block,
            small = _props7.small,
            regular = _props7.regular,
            verticalSpacing = _props7.verticalSpacing;


        var startDateString = this.getDateString(startDate);
        var endDateString = this.getDateString(endDate);

        return _react2['default'].createElement(_DateRangePickerInput2['default'], {
          startDate: startDateString,
          startDateId: startDateId,
          startDatePlaceholderText: startDatePlaceholderText,
          isStartDateFocused: isStartDateFocused,
          endDate: endDateString,
          endDateId: endDateId,
          endDatePlaceholderText: endDatePlaceholderText,
          isEndDateFocused: isEndDateFocused,
          isFocused: isFocused,
          disabled: disabled,
          required: required,
          readOnly: readOnly,
          openDirection: openDirection,
          showCaret: showCaret,
          showDefaultInputIcon: showDefaultInputIcon,
          inputIconPosition: inputIconPosition,
          customInputIcon: customInputIcon,
          customArrowIcon: customArrowIcon,
          customCloseIcon: customCloseIcon,
          phrases: phrases,
          onStartDateChange: this.onStartDateChange,
          onStartDateFocus: this.onStartDateFocus,
          onStartDateShiftTab: this.onClearFocus,
          onEndDateChange: this.onEndDateChange,
          onEndDateFocus: this.onEndDateFocus,
          onEndDateTab: this.onClearFocus,
          showClearDates: showClearDates,
          onClearDates: this.clearDates,
          screenReaderMessage: screenReaderMessage,
          onKeyDownArrowDown: onKeyDownArrowDown,
          onKeyDownQuestionMark: onKeyDownQuestionMark,
          isRTL: isRTL,
          noBorder: noBorder,
          block: block,
          small: small,
          regular: regular,
          verticalSpacing: verticalSpacing
        });
      }

      return render;
    }()
  }]);

  return DateRangePickerInputController;
}(_react2['default'].Component);

exports['default'] = DateRangePickerInputController;


DateRangePickerInputController.propTypes = propTypes;
DateRangePickerInputController.defaultProps = defaultProps;

/***/ }),

/***/ "./node_modules/react-dates/lib/components/DayPicker.js":
/*!**************************************************************!*\
  !*** ./node_modules/react-dates/lib/components/DayPicker.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.PureDayPicker = exports.defaultProps = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _object = __webpack_require__(/*! object.assign */ "./node_modules/object.assign/index.js");

var _object2 = _interopRequireDefault(_object);

var _react = __webpack_require__(/*! react */ "./node_modules/react/index.js");

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactAddonsShallowCompare = __webpack_require__(/*! react-addons-shallow-compare */ "./node_modules/react-addons-shallow-compare/index.js");

var _reactAddonsShallowCompare2 = _interopRequireDefault(_reactAddonsShallowCompare);

var _airbnbPropTypes = __webpack_require__(/*! airbnb-prop-types */ "./node_modules/airbnb-prop-types/index.js");

var _reactWithStyles = __webpack_require__(/*! react-with-styles */ "./node_modules/react-with-styles/lib/withStyles.js");

var _moment = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");

var _moment2 = _interopRequireDefault(_moment);

var _throttle = __webpack_require__(/*! lodash/throttle */ "./node_modules/lodash/throttle.js");

var _throttle2 = _interopRequireDefault(_throttle);

var _isTouchDevice = __webpack_require__(/*! is-touch-device */ "./node_modules/is-touch-device/build/index.js");

var _isTouchDevice2 = _interopRequireDefault(_isTouchDevice);

var _reactOutsideClickHandler = __webpack_require__(/*! react-outside-click-handler */ "./node_modules/react-outside-click-handler/index.js");

var _reactOutsideClickHandler2 = _interopRequireDefault(_reactOutsideClickHandler);

var _defaultPhrases = __webpack_require__(/*! ../defaultPhrases */ "./node_modules/react-dates/lib/defaultPhrases.js");

var _getPhrasePropTypes = __webpack_require__(/*! ../utils/getPhrasePropTypes */ "./node_modules/react-dates/lib/utils/getPhrasePropTypes.js");

var _getPhrasePropTypes2 = _interopRequireDefault(_getPhrasePropTypes);

var _CalendarMonthGrid = __webpack_require__(/*! ./CalendarMonthGrid */ "./node_modules/react-dates/lib/components/CalendarMonthGrid.js");

var _CalendarMonthGrid2 = _interopRequireDefault(_CalendarMonthGrid);

var _DayPickerNavigation = __webpack_require__(/*! ./DayPickerNavigation */ "./node_modules/react-dates/lib/components/DayPickerNavigation.js");

var _DayPickerNavigation2 = _interopRequireDefault(_DayPickerNavigation);

var _DayPickerKeyboardShortcuts = __webpack_require__(/*! ./DayPickerKeyboardShortcuts */ "./node_modules/react-dates/lib/components/DayPickerKeyboardShortcuts.js");

var _DayPickerKeyboardShortcuts2 = _interopRequireDefault(_DayPickerKeyboardShortcuts);

var _getNumberOfCalendarMonthWeeks = __webpack_require__(/*! ../utils/getNumberOfCalendarMonthWeeks */ "./node_modules/react-dates/lib/utils/getNumberOfCalendarMonthWeeks.js");

var _getNumberOfCalendarMonthWeeks2 = _interopRequireDefault(_getNumberOfCalendarMonthWeeks);

var _getCalendarMonthWidth = __webpack_require__(/*! ../utils/getCalendarMonthWidth */ "./node_modules/react-dates/lib/utils/getCalendarMonthWidth.js");

var _getCalendarMonthWidth2 = _interopRequireDefault(_getCalendarMonthWidth);

var _calculateDimension = __webpack_require__(/*! ../utils/calculateDimension */ "./node_modules/react-dates/lib/utils/calculateDimension.js");

var _calculateDimension2 = _interopRequireDefault(_calculateDimension);

var _getActiveElement = __webpack_require__(/*! ../utils/getActiveElement */ "./node_modules/react-dates/lib/utils/getActiveElement.js");

var _getActiveElement2 = _interopRequireDefault(_getActiveElement);

var _isDayVisible = __webpack_require__(/*! ../utils/isDayVisible */ "./node_modules/react-dates/lib/utils/isDayVisible.js");

var _isDayVisible2 = _interopRequireDefault(_isDayVisible);

var _ModifiersShape = __webpack_require__(/*! ../shapes/ModifiersShape */ "./node_modules/react-dates/lib/shapes/ModifiersShape.js");

var _ModifiersShape2 = _interopRequireDefault(_ModifiersShape);

var _ScrollableOrientationShape = __webpack_require__(/*! ../shapes/ScrollableOrientationShape */ "./node_modules/react-dates/lib/shapes/ScrollableOrientationShape.js");

var _ScrollableOrientationShape2 = _interopRequireDefault(_ScrollableOrientationShape);

var _DayOfWeekShape = __webpack_require__(/*! ../shapes/DayOfWeekShape */ "./node_modules/react-dates/lib/shapes/DayOfWeekShape.js");

var _DayOfWeekShape2 = _interopRequireDefault(_DayOfWeekShape);

var _CalendarInfoPositionShape = __webpack_require__(/*! ../shapes/CalendarInfoPositionShape */ "./node_modules/react-dates/lib/shapes/CalendarInfoPositionShape.js");

var _CalendarInfoPositionShape2 = _interopRequireDefault(_CalendarInfoPositionShape);

var _constants = __webpack_require__(/*! ../constants */ "./node_modules/react-dates/lib/constants.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var MONTH_PADDING = 23;
var PREV_TRANSITION = 'prev';
var NEXT_TRANSITION = 'next';
var MONTH_SELECTION_TRANSITION = 'month_selection';
var YEAR_SELECTION_TRANSITION = 'year_selection';

var propTypes = (0, _airbnbPropTypes.forbidExtraProps)((0, _object2['default'])({}, _reactWithStyles.withStylesPropTypes, {

  // calendar presentation props
  enableOutsideDays: _propTypes2['default'].bool,
  numberOfMonths: _propTypes2['default'].number,
  orientation: _ScrollableOrientationShape2['default'],
  withPortal: _propTypes2['default'].bool,
  onOutsideClick: _propTypes2['default'].func,
  hidden: _propTypes2['default'].bool,
  initialVisibleMonth: _propTypes2['default'].func,
  firstDayOfWeek: _DayOfWeekShape2['default'],
  renderCalendarInfo: _propTypes2['default'].func,
  calendarInfoPosition: _CalendarInfoPositionShape2['default'],
  hideKeyboardShortcutsPanel: _propTypes2['default'].bool,
  daySize: _airbnbPropTypes.nonNegativeInteger,
  isRTL: _propTypes2['default'].bool,
  verticalHeight: _airbnbPropTypes.nonNegativeInteger,
  noBorder: _propTypes2['default'].bool,
  transitionDuration: _airbnbPropTypes.nonNegativeInteger,
  verticalBorderSpacing: _airbnbPropTypes.nonNegativeInteger,
  horizontalMonthPadding: _airbnbPropTypes.nonNegativeInteger,

  // navigation props
  navPrev: _propTypes2['default'].node,
  navNext: _propTypes2['default'].node,
  noNavButtons: _propTypes2['default'].bool,
  onPrevMonthClick: _propTypes2['default'].func,
  onNextMonthClick: _propTypes2['default'].func,
  onMonthChange: _propTypes2['default'].func,
  onYearChange: _propTypes2['default'].func,
  onMultiplyScrollableMonths: _propTypes2['default'].func, // VERTICAL_SCROLLABLE daypickers only

  // month props
  renderMonthText: (0, _airbnbPropTypes.mutuallyExclusiveProps)(_propTypes2['default'].func, 'renderMonthText', 'renderMonthElement'),
  renderMonthElement: (0, _airbnbPropTypes.mutuallyExclusiveProps)(_propTypes2['default'].func, 'renderMonthText', 'renderMonthElement'),

  // day props
  modifiers: _propTypes2['default'].objectOf(_propTypes2['default'].objectOf(_ModifiersShape2['default'])),
  renderCalendarDay: _propTypes2['default'].func,
  renderDayContents: _propTypes2['default'].func,
  onDayClick: _propTypes2['default'].func,
  onDayMouseEnter: _propTypes2['default'].func,
  onDayMouseLeave: _propTypes2['default'].func,

  // accessibility props
  isFocused: _propTypes2['default'].bool,
  getFirstFocusableDay: _propTypes2['default'].func,
  onBlur: _propTypes2['default'].func,
  showKeyboardShortcuts: _propTypes2['default'].bool,

  // internationalization
  monthFormat: _propTypes2['default'].string,
  weekDayFormat: _propTypes2['default'].string,
  phrases: _propTypes2['default'].shape((0, _getPhrasePropTypes2['default'])(_defaultPhrases.DayPickerPhrases)),
  dayAriaLabelFormat: _propTypes2['default'].string
}));

var defaultProps = exports.defaultProps = {
  // calendar presentation props
  enableOutsideDays: false,
  numberOfMonths: 2,
  orientation: _constants.HORIZONTAL_ORIENTATION,
  withPortal: false,
  onOutsideClick: function () {
    function onOutsideClick() {}

    return onOutsideClick;
  }(),

  hidden: false,
  initialVisibleMonth: function () {
    function initialVisibleMonth() {
      return (0, _moment2['default'])();
    }

    return initialVisibleMonth;
  }(),
  firstDayOfWeek: null,
  renderCalendarInfo: null,
  calendarInfoPosition: _constants.INFO_POSITION_BOTTOM,
  hideKeyboardShortcutsPanel: false,
  daySize: _constants.DAY_SIZE,
  isRTL: false,
  verticalHeight: null,
  noBorder: false,
  transitionDuration: undefined,
  verticalBorderSpacing: undefined,
  horizontalMonthPadding: 13,

  // navigation props
  navPrev: null,
  navNext: null,
  noNavButtons: false,
  onPrevMonthClick: function () {
    function onPrevMonthClick() {}

    return onPrevMonthClick;
  }(),
  onNextMonthClick: function () {
    function onNextMonthClick() {}

    return onNextMonthClick;
  }(),
  onMonthChange: function () {
    function onMonthChange() {}

    return onMonthChange;
  }(),
  onYearChange: function () {
    function onYearChange() {}

    return onYearChange;
  }(),
  onMultiplyScrollableMonths: function () {
    function onMultiplyScrollableMonths() {}

    return onMultiplyScrollableMonths;
  }(),


  // month props
  renderMonthText: null,
  renderMonthElement: null,

  // day props
  modifiers: {},
  renderCalendarDay: undefined,
  renderDayContents: null,
  onDayClick: function () {
    function onDayClick() {}

    return onDayClick;
  }(),
  onDayMouseEnter: function () {
    function onDayMouseEnter() {}

    return onDayMouseEnter;
  }(),
  onDayMouseLeave: function () {
    function onDayMouseLeave() {}

    return onDayMouseLeave;
  }(),


  // accessibility props
  isFocused: false,
  getFirstFocusableDay: null,
  onBlur: function () {
    function onBlur() {}

    return onBlur;
  }(),

  showKeyboardShortcuts: false,

  // internationalization
  monthFormat: 'MMMM YYYY',
  weekDayFormat: 'dd',
  phrases: _defaultPhrases.DayPickerPhrases,
  dayAriaLabelFormat: undefined
};

var DayPicker = function (_React$Component) {
  _inherits(DayPicker, _React$Component);

  function DayPicker(props) {
    _classCallCheck(this, DayPicker);

    var _this = _possibleConstructorReturn(this, (DayPicker.__proto__ || Object.getPrototypeOf(DayPicker)).call(this, props));

    var currentMonth = props.hidden ? (0, _moment2['default'])() : props.initialVisibleMonth();

    var focusedDate = currentMonth.clone().startOf('month');
    if (props.getFirstFocusableDay) {
      focusedDate = props.getFirstFocusableDay(currentMonth);
    }

    var horizontalMonthPadding = props.horizontalMonthPadding;


    var translationValue = props.isRTL && _this.isHorizontal() ? -(0, _getCalendarMonthWidth2['default'])(props.daySize, horizontalMonthPadding) : 0;

    _this.hasSetInitialVisibleMonth = !props.hidden;
    _this.state = {
      currentMonth: currentMonth,
      monthTransition: null,
      translationValue: translationValue,
      scrollableMonthMultiple: 1,
      calendarMonthWidth: (0, _getCalendarMonthWidth2['default'])(props.daySize, horizontalMonthPadding),
      focusedDate: !props.hidden || props.isFocused ? focusedDate : null,
      nextFocusedDate: null,
      showKeyboardShortcuts: props.showKeyboardShortcuts,
      onKeyboardShortcutsPanelClose: function () {
        function onKeyboardShortcutsPanelClose() {}

        return onKeyboardShortcutsPanelClose;
      }(),

      isTouchDevice: (0, _isTouchDevice2['default'])(),
      withMouseInteractions: true,
      calendarInfoWidth: 0,
      monthTitleHeight: null,
      hasSetHeight: false
    };

    _this.setCalendarMonthWeeks(currentMonth);

    _this.calendarMonthGridHeight = 0;
    _this.setCalendarInfoWidthTimeout = null;

    _this.onKeyDown = _this.onKeyDown.bind(_this);
    _this.throttledKeyDown = (0, _throttle2['default'])(_this.onFinalKeyDown, 200, { trailing: false });
    _this.onPrevMonthClick = _this.onPrevMonthClick.bind(_this);
    _this.onNextMonthClick = _this.onNextMonthClick.bind(_this);
    _this.onMonthChange = _this.onMonthChange.bind(_this);
    _this.onYearChange = _this.onYearChange.bind(_this);

    _this.multiplyScrollableMonths = _this.multiplyScrollableMonths.bind(_this);
    _this.updateStateAfterMonthTransition = _this.updateStateAfterMonthTransition.bind(_this);

    _this.openKeyboardShortcutsPanel = _this.openKeyboardShortcutsPanel.bind(_this);
    _this.closeKeyboardShortcutsPanel = _this.closeKeyboardShortcutsPanel.bind(_this);

    _this.setCalendarInfoRef = _this.setCalendarInfoRef.bind(_this);
    _this.setContainerRef = _this.setContainerRef.bind(_this);
    _this.setTransitionContainerRef = _this.setTransitionContainerRef.bind(_this);
    _this.setMonthTitleHeight = _this.setMonthTitleHeight.bind(_this);
    return _this;
  }

  _createClass(DayPicker, [{
    key: 'componentDidMount',
    value: function () {
      function componentDidMount() {
        var currentMonth = this.state.currentMonth;

        if (this.calendarInfo) {
          this.setState({
            isTouchDevice: (0, _isTouchDevice2['default'])(),
            calendarInfoWidth: (0, _calculateDimension2['default'])(this.calendarInfo, 'width', true, true)
          });
        } else {
          this.setState({ isTouchDevice: (0, _isTouchDevice2['default'])() });
        }

        this.setCalendarMonthWeeks(currentMonth);
      }

      return componentDidMount;
    }()
  }, {
    key: 'componentWillReceiveProps',
    value: function () {
      function componentWillReceiveProps(nextProps) {
        var hidden = nextProps.hidden,
            isFocused = nextProps.isFocused,
            showKeyboardShortcuts = nextProps.showKeyboardShortcuts,
            onBlur = nextProps.onBlur,
            renderMonthText = nextProps.renderMonthText,
            horizontalMonthPadding = nextProps.horizontalMonthPadding;
        var currentMonth = this.state.currentMonth;


        if (!hidden) {
          if (!this.hasSetInitialVisibleMonth) {
            this.hasSetInitialVisibleMonth = true;
            this.setState({
              currentMonth: nextProps.initialVisibleMonth()
            });
          }
        }

        var _props = this.props,
            daySize = _props.daySize,
            prevIsFocused = _props.isFocused,
            prevRenderMonthText = _props.renderMonthText;


        if (nextProps.daySize !== daySize) {
          this.setState({
            calendarMonthWidth: (0, _getCalendarMonthWidth2['default'])(nextProps.daySize, horizontalMonthPadding)
          });
        }

        if (isFocused !== prevIsFocused) {
          if (isFocused) {
            var focusedDate = this.getFocusedDay(currentMonth);

            var onKeyboardShortcutsPanelClose = this.state.onKeyboardShortcutsPanelClose;

            if (nextProps.showKeyboardShortcuts) {
              // the ? shortcut came from the input and we should return input there once it is close
              onKeyboardShortcutsPanelClose = onBlur;
            }

            this.setState({
              showKeyboardShortcuts: showKeyboardShortcuts,
              onKeyboardShortcutsPanelClose: onKeyboardShortcutsPanelClose,
              focusedDate: focusedDate,
              withMouseInteractions: false
            });
          } else {
            this.setState({ focusedDate: null });
          }
        }

        if (renderMonthText !== prevRenderMonthText) {
          this.setState({
            monthTitleHeight: null
          });
        }
      }

      return componentWillReceiveProps;
    }()
  }, {
    key: 'shouldComponentUpdate',
    value: function () {
      function shouldComponentUpdate(nextProps, nextState) {
        return (0, _reactAddonsShallowCompare2['default'])(this, nextProps, nextState);
      }

      return shouldComponentUpdate;
    }()
  }, {
    key: 'componentWillUpdate',
    value: function () {
      function componentWillUpdate() {
        var _this2 = this;

        var transitionDuration = this.props.transitionDuration;

        // Calculating the dimensions trigger a DOM repaint which
        // breaks the CSS transition.
        // The setTimeout will wait until the transition ends.

        if (this.calendarInfo) {
          this.setCalendarInfoWidthTimeout = setTimeout(function () {
            var calendarInfoWidth = _this2.state.calendarInfoWidth;

            var calendarInfoPanelWidth = (0, _calculateDimension2['default'])(_this2.calendarInfo, 'width', true, true);
            if (calendarInfoWidth !== calendarInfoPanelWidth) {
              _this2.setState({
                calendarInfoWidth: calendarInfoPanelWidth
              });
            }
          }, transitionDuration);
        }
      }

      return componentWillUpdate;
    }()
  }, {
    key: 'componentDidUpdate',
    value: function () {
      function componentDidUpdate(prevProps) {
        var _props2 = this.props,
            orientation = _props2.orientation,
            daySize = _props2.daySize,
            isFocused = _props2.isFocused,
            numberOfMonths = _props2.numberOfMonths;
        var _state = this.state,
            focusedDate = _state.focusedDate,
            monthTitleHeight = _state.monthTitleHeight;


        if (this.isHorizontal() && (orientation !== prevProps.orientation || daySize !== prevProps.daySize)) {
          var visibleCalendarWeeks = this.calendarMonthWeeks.slice(1, numberOfMonths + 1);
          var calendarMonthWeeksHeight = Math.max.apply(Math, [0].concat(_toConsumableArray(visibleCalendarWeeks))) * (daySize - 1);
          var newMonthHeight = monthTitleHeight + calendarMonthWeeksHeight + 1;
          this.adjustDayPickerHeight(newMonthHeight);
        }

        if (!prevProps.isFocused && isFocused && !focusedDate) {
          this.container.focus();
        }
      }

      return componentDidUpdate;
    }()
  }, {
    key: 'componentWillUnmount',
    value: function () {
      function componentWillUnmount() {
        clearTimeout(this.setCalendarInfoWidthTimeout);
      }

      return componentWillUnmount;
    }()
  }, {
    key: 'onKeyDown',
    value: function () {
      function onKeyDown(e) {
        e.stopPropagation();
        if (!_constants.MODIFIER_KEY_NAMES.has(e.key)) {
          this.throttledKeyDown(e);
        }
      }

      return onKeyDown;
    }()
  }, {
    key: 'onFinalKeyDown',
    value: function () {
      function onFinalKeyDown(e) {
        this.setState({ withMouseInteractions: false });

        var _props3 = this.props,
            onBlur = _props3.onBlur,
            isRTL = _props3.isRTL;
        var _state2 = this.state,
            focusedDate = _state2.focusedDate,
            showKeyboardShortcuts = _state2.showKeyboardShortcuts;

        if (!focusedDate) return;

        var newFocusedDate = focusedDate.clone();

        var didTransitionMonth = false;

        // focus might be anywhere when the keyboard shortcuts panel is opened so we want to
        // return it to wherever it was before when the panel was opened
        var activeElement = (0, _getActiveElement2['default'])();
        var onKeyboardShortcutsPanelClose = function () {
          function onKeyboardShortcutsPanelClose() {
            if (activeElement) activeElement.focus();
          }

          return onKeyboardShortcutsPanelClose;
        }();

        switch (e.key) {
          case 'ArrowUp':
            e.preventDefault();
            newFocusedDate.subtract(1, 'week');
            didTransitionMonth = this.maybeTransitionPrevMonth(newFocusedDate);
            break;
          case 'ArrowLeft':
            e.preventDefault();
            if (isRTL) {
              newFocusedDate.add(1, 'day');
            } else {
              newFocusedDate.subtract(1, 'day');
            }
            didTransitionMonth = this.maybeTransitionPrevMonth(newFocusedDate);
            break;
          case 'Home':
            e.preventDefault();
            newFocusedDate.startOf('week');
            didTransitionMonth = this.maybeTransitionPrevMonth(newFocusedDate);
            break;
          case 'PageUp':
            e.preventDefault();
            newFocusedDate.subtract(1, 'month');
            didTransitionMonth = this.maybeTransitionPrevMonth(newFocusedDate);
            break;

          case 'ArrowDown':
            e.preventDefault();
            newFocusedDate.add(1, 'week');
            didTransitionMonth = this.maybeTransitionNextMonth(newFocusedDate);
            break;
          case 'ArrowRight':
            e.preventDefault();
            if (isRTL) {
              newFocusedDate.subtract(1, 'day');
            } else {
              newFocusedDate.add(1, 'day');
            }
            didTransitionMonth = this.maybeTransitionNextMonth(newFocusedDate);
            break;
          case 'End':
            e.preventDefault();
            newFocusedDate.endOf('week');
            didTransitionMonth = this.maybeTransitionNextMonth(newFocusedDate);
            break;
          case 'PageDown':
            e.preventDefault();
            newFocusedDate.add(1, 'month');
            didTransitionMonth = this.maybeTransitionNextMonth(newFocusedDate);
            break;

          case '?':
            this.openKeyboardShortcutsPanel(onKeyboardShortcutsPanelClose);
            break;

          case 'Escape':
            if (showKeyboardShortcuts) {
              this.closeKeyboardShortcutsPanel();
            } else {
              onBlur();
            }
            break;

          default:
            break;
        }

        // If there was a month transition, do not update the focused date until the transition has
        // completed. Otherwise, attempting to focus on a DOM node may interrupt the CSS animation. If
        // didTransitionMonth is true, the focusedDate gets updated in #updateStateAfterMonthTransition
        if (!didTransitionMonth) {
          this.setState({
            focusedDate: newFocusedDate
          });
        }
      }

      return onFinalKeyDown;
    }()
  }, {
    key: 'onPrevMonthClick',
    value: function () {
      function onPrevMonthClick(nextFocusedDate, e) {
        var _props4 = this.props,
            daySize = _props4.daySize,
            isRTL = _props4.isRTL,
            numberOfMonths = _props4.numberOfMonths;
        var _state3 = this.state,
            calendarMonthWidth = _state3.calendarMonthWidth,
            monthTitleHeight = _state3.monthTitleHeight;


        if (e) e.preventDefault();

        var translationValue = void 0;
        if (this.isVertical()) {
          var calendarMonthWeeksHeight = this.calendarMonthWeeks[0] * (daySize - 1);
          translationValue = monthTitleHeight + calendarMonthWeeksHeight + 1;
        } else if (this.isHorizontal()) {
          translationValue = calendarMonthWidth;
          if (isRTL) {
            translationValue = -2 * calendarMonthWidth;
          }

          var visibleCalendarWeeks = this.calendarMonthWeeks.slice(0, numberOfMonths);
          var _calendarMonthWeeksHeight = Math.max.apply(Math, [0].concat(_toConsumableArray(visibleCalendarWeeks))) * (daySize - 1);
          var newMonthHeight = monthTitleHeight + _calendarMonthWeeksHeight + 1;
          this.adjustDayPickerHeight(newMonthHeight);
        }

        this.setState({
          monthTransition: PREV_TRANSITION,
          translationValue: translationValue,
          focusedDate: null,
          nextFocusedDate: nextFocusedDate
        });
      }

      return onPrevMonthClick;
    }()
  }, {
    key: 'onMonthChange',
    value: function () {
      function onMonthChange(currentMonth) {
        this.setCalendarMonthWeeks(currentMonth);
        this.calculateAndSetDayPickerHeight();

        // Translation value is a hack to force an invisible transition that
        // properly rerenders the CalendarMonthGrid
        this.setState({
          monthTransition: MONTH_SELECTION_TRANSITION,
          translationValue: 0.00001,
          focusedDate: null,
          nextFocusedDate: currentMonth,
          currentMonth: currentMonth
        });
      }

      return onMonthChange;
    }()
  }, {
    key: 'onYearChange',
    value: function () {
      function onYearChange(currentMonth) {
        this.setCalendarMonthWeeks(currentMonth);
        this.calculateAndSetDayPickerHeight();

        // Translation value is a hack to force an invisible transition that
        // properly rerenders the CalendarMonthGrid
        this.setState({
          monthTransition: YEAR_SELECTION_TRANSITION,
          translationValue: 0.0001,
          focusedDate: null,
          nextFocusedDate: currentMonth,
          currentMonth: currentMonth
        });
      }

      return onYearChange;
    }()
  }, {
    key: 'onNextMonthClick',
    value: function () {
      function onNextMonthClick(nextFocusedDate, e) {
        var _props5 = this.props,
            isRTL = _props5.isRTL,
            numberOfMonths = _props5.numberOfMonths,
            daySize = _props5.daySize;
        var _state4 = this.state,
            calendarMonthWidth = _state4.calendarMonthWidth,
            monthTitleHeight = _state4.monthTitleHeight;


        if (e) e.preventDefault();

        var translationValue = void 0;

        if (this.isVertical()) {
          var firstVisibleMonthWeeks = this.calendarMonthWeeks[1];
          var calendarMonthWeeksHeight = firstVisibleMonthWeeks * (daySize - 1);
          translationValue = -(monthTitleHeight + calendarMonthWeeksHeight + 1);
        }

        if (this.isHorizontal()) {
          translationValue = -calendarMonthWidth;
          if (isRTL) {
            translationValue = 0;
          }

          var visibleCalendarWeeks = this.calendarMonthWeeks.slice(2, numberOfMonths + 2);
          var _calendarMonthWeeksHeight2 = Math.max.apply(Math, [0].concat(_toConsumableArray(visibleCalendarWeeks))) * (daySize - 1);
          var newMonthHeight = monthTitleHeight + _calendarMonthWeeksHeight2 + 1;
          this.adjustDayPickerHeight(newMonthHeight);
        }

        this.setState({
          monthTransition: NEXT_TRANSITION,
          translationValue: translationValue,
          focusedDate: null,
          nextFocusedDate: nextFocusedDate
        });
      }

      return onNextMonthClick;
    }()
  }, {
    key: 'getFirstDayOfWeek',
    value: function () {
      function getFirstDayOfWeek() {
        var firstDayOfWeek = this.props.firstDayOfWeek;

        if (firstDayOfWeek == null) {
          return _moment2['default'].localeData().firstDayOfWeek();
        }

        return firstDayOfWeek;
      }

      return getFirstDayOfWeek;
    }()
  }, {
    key: 'getFirstVisibleIndex',
    value: function () {
      function getFirstVisibleIndex() {
        var orientation = this.props.orientation;
        var monthTransition = this.state.monthTransition;


        if (orientation === _constants.VERTICAL_SCROLLABLE) return 0;

        var firstVisibleMonthIndex = 1;
        if (monthTransition === PREV_TRANSITION) {
          firstVisibleMonthIndex -= 1;
        } else if (monthTransition === NEXT_TRANSITION) {
          firstVisibleMonthIndex += 1;
        }

        return firstVisibleMonthIndex;
      }

      return getFirstVisibleIndex;
    }()
  }, {
    key: 'getFocusedDay',
    value: function () {
      function getFocusedDay(newMonth) {
        var _props6 = this.props,
            getFirstFocusableDay = _props6.getFirstFocusableDay,
            numberOfMonths = _props6.numberOfMonths;


        var focusedDate = void 0;
        if (getFirstFocusableDay) {
          focusedDate = getFirstFocusableDay(newMonth);
        }

        if (newMonth && (!focusedDate || !(0, _isDayVisible2['default'])(focusedDate, newMonth, numberOfMonths))) {
          focusedDate = newMonth.clone().startOf('month');
        }

        return focusedDate;
      }

      return getFocusedDay;
    }()
  }, {
    key: 'setMonthTitleHeight',
    value: function () {
      function setMonthTitleHeight(monthTitleHeight) {
        var _this3 = this;

        this.setState({
          monthTitleHeight: monthTitleHeight
        }, function () {
          _this3.calculateAndSetDayPickerHeight();
        });
      }

      return setMonthTitleHeight;
    }()
  }, {
    key: 'setCalendarMonthWeeks',
    value: function () {
      function setCalendarMonthWeeks(currentMonth) {
        var numberOfMonths = this.props.numberOfMonths;


        this.calendarMonthWeeks = [];
        var month = currentMonth.clone().subtract(1, 'months');
        var firstDayOfWeek = this.getFirstDayOfWeek();
        for (var i = 0; i < numberOfMonths + 2; i += 1) {
          var numberOfWeeks = (0, _getNumberOfCalendarMonthWeeks2['default'])(month, firstDayOfWeek);
          this.calendarMonthWeeks.push(numberOfWeeks);
          month = month.add(1, 'months');
        }
      }

      return setCalendarMonthWeeks;
    }()
  }, {
    key: 'setContainerRef',
    value: function () {
      function setContainerRef(ref) {
        this.container = ref;
      }

      return setContainerRef;
    }()
  }, {
    key: 'setCalendarInfoRef',
    value: function () {
      function setCalendarInfoRef(ref) {
        this.calendarInfo = ref;
      }

      return setCalendarInfoRef;
    }()
  }, {
    key: 'setTransitionContainerRef',
    value: function () {
      function setTransitionContainerRef(ref) {
        this.transitionContainer = ref;
      }

      return setTransitionContainerRef;
    }()
  }, {
    key: 'maybeTransitionNextMonth',
    value: function () {
      function maybeTransitionNextMonth(newFocusedDate) {
        var numberOfMonths = this.props.numberOfMonths;
        var _state5 = this.state,
            currentMonth = _state5.currentMonth,
            focusedDate = _state5.focusedDate;


        var newFocusedDateMonth = newFocusedDate.month();
        var focusedDateMonth = focusedDate.month();
        var isNewFocusedDateVisible = (0, _isDayVisible2['default'])(newFocusedDate, currentMonth, numberOfMonths);
        if (newFocusedDateMonth !== focusedDateMonth && !isNewFocusedDateVisible) {
          this.onNextMonthClick(newFocusedDate);
          return true;
        }

        return false;
      }

      return maybeTransitionNextMonth;
    }()
  }, {
    key: 'maybeTransitionPrevMonth',
    value: function () {
      function maybeTransitionPrevMonth(newFocusedDate) {
        var numberOfMonths = this.props.numberOfMonths;
        var _state6 = this.state,
            currentMonth = _state6.currentMonth,
            focusedDate = _state6.focusedDate;


        var newFocusedDateMonth = newFocusedDate.month();
        var focusedDateMonth = focusedDate.month();
        var isNewFocusedDateVisible = (0, _isDayVisible2['default'])(newFocusedDate, currentMonth, numberOfMonths);
        if (newFocusedDateMonth !== focusedDateMonth && !isNewFocusedDateVisible) {
          this.onPrevMonthClick(newFocusedDate);
          return true;
        }

        return false;
      }

      return maybeTransitionPrevMonth;
    }()
  }, {
    key: 'multiplyScrollableMonths',
    value: function () {
      function multiplyScrollableMonths(e) {
        var onMultiplyScrollableMonths = this.props.onMultiplyScrollableMonths;

        if (e) e.preventDefault();

        if (onMultiplyScrollableMonths) onMultiplyScrollableMonths(e);

        this.setState(function (_ref) {
          var scrollableMonthMultiple = _ref.scrollableMonthMultiple;
          return {
            scrollableMonthMultiple: scrollableMonthMultiple + 1
          };
        });
      }

      return multiplyScrollableMonths;
    }()
  }, {
    key: 'isHorizontal',
    value: function () {
      function isHorizontal() {
        var orientation = this.props.orientation;

        return orientation === _constants.HORIZONTAL_ORIENTATION;
      }

      return isHorizontal;
    }()
  }, {
    key: 'isVertical',
    value: function () {
      function isVertical() {
        var orientation = this.props.orientation;

        return orientation === _constants.VERTICAL_ORIENTATION || orientation === _constants.VERTICAL_SCROLLABLE;
      }

      return isVertical;
    }()
  }, {
    key: 'updateStateAfterMonthTransition',
    value: function () {
      function updateStateAfterMonthTransition() {
        var _this4 = this;

        var _props7 = this.props,
            onPrevMonthClick = _props7.onPrevMonthClick,
            onNextMonthClick = _props7.onNextMonthClick,
            numberOfMonths = _props7.numberOfMonths,
            onMonthChange = _props7.onMonthChange,
            onYearChange = _props7.onYearChange,
            isRTL = _props7.isRTL;
        var _state7 = this.state,
            currentMonth = _state7.currentMonth,
            monthTransition = _state7.monthTransition,
            focusedDate = _state7.focusedDate,
            nextFocusedDate = _state7.nextFocusedDate,
            withMouseInteractions = _state7.withMouseInteractions,
            calendarMonthWidth = _state7.calendarMonthWidth;


        if (!monthTransition) return;

        var newMonth = currentMonth.clone();
        var firstDayOfWeek = this.getFirstDayOfWeek();
        if (monthTransition === PREV_TRANSITION) {
          newMonth.subtract(1, 'month');
          if (onPrevMonthClick) onPrevMonthClick(newMonth);
          var newInvisibleMonth = newMonth.clone().subtract(1, 'month');
          var numberOfWeeks = (0, _getNumberOfCalendarMonthWeeks2['default'])(newInvisibleMonth, firstDayOfWeek);
          this.calendarMonthWeeks = [numberOfWeeks].concat(_toConsumableArray(this.calendarMonthWeeks.slice(0, -1)));
        } else if (monthTransition === NEXT_TRANSITION) {
          newMonth.add(1, 'month');
          if (onNextMonthClick) onNextMonthClick(newMonth);
          var _newInvisibleMonth = newMonth.clone().add(numberOfMonths, 'month');
          var _numberOfWeeks = (0, _getNumberOfCalendarMonthWeeks2['default'])(_newInvisibleMonth, firstDayOfWeek);
          this.calendarMonthWeeks = [].concat(_toConsumableArray(this.calendarMonthWeeks.slice(1)), [_numberOfWeeks]);
        } else if (monthTransition === MONTH_SELECTION_TRANSITION) {
          if (onMonthChange) onMonthChange(newMonth);
        } else if (monthTransition === YEAR_SELECTION_TRANSITION) {
          if (onYearChange) onYearChange(newMonth);
        }

        var newFocusedDate = null;
        if (nextFocusedDate) {
          newFocusedDate = nextFocusedDate;
        } else if (!focusedDate && !withMouseInteractions) {
          newFocusedDate = this.getFocusedDay(newMonth);
        }

        this.setState({
          currentMonth: newMonth,
          monthTransition: null,
          translationValue: isRTL && this.isHorizontal() ? -calendarMonthWidth : 0,
          nextFocusedDate: null,
          focusedDate: newFocusedDate
        }, function () {
          // we don't want to focus on the relevant calendar day after a month transition
          // if the user is navigating around using a mouse
          if (withMouseInteractions) {
            var activeElement = (0, _getActiveElement2['default'])();
            if (activeElement && activeElement !== document.body && _this4.container.contains(activeElement)) {
              activeElement.blur();
            }
          }
        });
      }

      return updateStateAfterMonthTransition;
    }()
  }, {
    key: 'adjustDayPickerHeight',
    value: function () {
      function adjustDayPickerHeight(newMonthHeight) {
        var _this5 = this;

        var monthHeight = newMonthHeight + MONTH_PADDING;
        if (monthHeight !== this.calendarMonthGridHeight) {
          this.transitionContainer.style.height = String(monthHeight) + 'px';
          if (!this.calendarMonthGridHeight) {
            setTimeout(function () {
              _this5.setState({ hasSetHeight: true });
            }, 0);
          }
          this.calendarMonthGridHeight = monthHeight;
        }
      }

      return adjustDayPickerHeight;
    }()
  }, {
    key: 'calculateAndSetDayPickerHeight',
    value: function () {
      function calculateAndSetDayPickerHeight() {
        var _props8 = this.props,
            daySize = _props8.daySize,
            numberOfMonths = _props8.numberOfMonths;
        var monthTitleHeight = this.state.monthTitleHeight;


        var visibleCalendarWeeks = this.calendarMonthWeeks.slice(1, numberOfMonths + 1);
        var calendarMonthWeeksHeight = Math.max.apply(Math, [0].concat(_toConsumableArray(visibleCalendarWeeks))) * (daySize - 1);
        var newMonthHeight = monthTitleHeight + calendarMonthWeeksHeight + 1;

        if (this.isHorizontal()) {
          this.adjustDayPickerHeight(newMonthHeight);
        }
      }

      return calculateAndSetDayPickerHeight;
    }()
  }, {
    key: 'openKeyboardShortcutsPanel',
    value: function () {
      function openKeyboardShortcutsPanel(onCloseCallBack) {
        this.setState({
          showKeyboardShortcuts: true,
          onKeyboardShortcutsPanelClose: onCloseCallBack
        });
      }

      return openKeyboardShortcutsPanel;
    }()
  }, {
    key: 'closeKeyboardShortcutsPanel',
    value: function () {
      function closeKeyboardShortcutsPanel() {
        var onKeyboardShortcutsPanelClose = this.state.onKeyboardShortcutsPanelClose;


        if (onKeyboardShortcutsPanelClose) {
          onKeyboardShortcutsPanelClose();
        }

        this.setState({
          onKeyboardShortcutsPanelClose: null,
          showKeyboardShortcuts: false
        });
      }

      return closeKeyboardShortcutsPanel;
    }()
  }, {
    key: 'renderNavigation',
    value: function () {
      function renderNavigation() {
        var _this6 = this;

        var _props9 = this.props,
            navPrev = _props9.navPrev,
            navNext = _props9.navNext,
            noNavButtons = _props9.noNavButtons,
            orientation = _props9.orientation,
            phrases = _props9.phrases,
            isRTL = _props9.isRTL;


        if (noNavButtons) {
          return null;
        }

        var onNextMonthClick = void 0;
        if (orientation === _constants.VERTICAL_SCROLLABLE) {
          onNextMonthClick = this.multiplyScrollableMonths;
        } else {
          onNextMonthClick = function () {
            function onNextMonthClick(e) {
              _this6.onNextMonthClick(null, e);
            }

            return onNextMonthClick;
          }();
        }

        return _react2['default'].createElement(_DayPickerNavigation2['default'], {
          onPrevMonthClick: function () {
            function onPrevMonthClick(e) {
              _this6.onPrevMonthClick(null, e);
            }

            return onPrevMonthClick;
          }(),
          onNextMonthClick: onNextMonthClick,
          navPrev: navPrev,
          navNext: navNext,
          orientation: orientation,
          phrases: phrases,
          isRTL: isRTL
        });
      }

      return renderNavigation;
    }()
  }, {
    key: 'renderWeekHeader',
    value: function () {
      function renderWeekHeader(index) {
        var _props10 = this.props,
            daySize = _props10.daySize,
            horizontalMonthPadding = _props10.horizontalMonthPadding,
            orientation = _props10.orientation,
            weekDayFormat = _props10.weekDayFormat,
            styles = _props10.styles;
        var calendarMonthWidth = this.state.calendarMonthWidth;

        var verticalScrollable = orientation === _constants.VERTICAL_SCROLLABLE;
        var horizontalStyle = {
          left: index * calendarMonthWidth
        };
        var verticalStyle = {
          marginLeft: -calendarMonthWidth / 2
        };

        var weekHeaderStyle = {}; // no styles applied to the vertical-scrollable orientation
        if (this.isHorizontal()) {
          weekHeaderStyle = horizontalStyle;
        } else if (this.isVertical() && !verticalScrollable) {
          weekHeaderStyle = verticalStyle;
        }

        var firstDayOfWeek = this.getFirstDayOfWeek();

        var header = [];
        for (var i = 0; i < 7; i += 1) {
          header.push(_react2['default'].createElement(
            'li',
            _extends({ key: i }, (0, _reactWithStyles.css)(styles.DayPicker_weekHeader_li, { width: daySize })),
            _react2['default'].createElement(
              'small',
              null,
              (0, _moment2['default'])().day((i + firstDayOfWeek) % 7).format(weekDayFormat)
            )
          ));
        }

        return _react2['default'].createElement(
          'div',
          _extends({}, (0, _reactWithStyles.css)(styles.DayPicker_weekHeader, this.isVertical() && styles.DayPicker_weekHeader__vertical, verticalScrollable && styles.DayPicker_weekHeader__verticalScrollable, weekHeaderStyle, { padding: '0 ' + String(horizontalMonthPadding) + 'px' }), {
            key: 'week-' + String(index)
          }),
          _react2['default'].createElement(
            'ul',
            (0, _reactWithStyles.css)(styles.DayPicker_weekHeader_ul),
            header
          )
        );
      }

      return renderWeekHeader;
    }()
  }, {
    key: 'render',
    value: function () {
      function render() {
        var _this7 = this;

        var _state8 = this.state,
            calendarMonthWidth = _state8.calendarMonthWidth,
            currentMonth = _state8.currentMonth,
            monthTransition = _state8.monthTransition,
            translationValue = _state8.translationValue,
            scrollableMonthMultiple = _state8.scrollableMonthMultiple,
            focusedDate = _state8.focusedDate,
            showKeyboardShortcuts = _state8.showKeyboardShortcuts,
            isTouch = _state8.isTouchDevice,
            hasSetHeight = _state8.hasSetHeight,
            calendarInfoWidth = _state8.calendarInfoWidth,
            monthTitleHeight = _state8.monthTitleHeight;
        var _props11 = this.props,
            enableOutsideDays = _props11.enableOutsideDays,
            numberOfMonths = _props11.numberOfMonths,
            orientation = _props11.orientation,
            modifiers = _props11.modifiers,
            withPortal = _props11.withPortal,
            onDayClick = _props11.onDayClick,
            onDayMouseEnter = _props11.onDayMouseEnter,
            onDayMouseLeave = _props11.onDayMouseLeave,
            firstDayOfWeek = _props11.firstDayOfWeek,
            renderMonthText = _props11.renderMonthText,
            renderCalendarDay = _props11.renderCalendarDay,
            renderDayContents = _props11.renderDayContents,
            renderCalendarInfo = _props11.renderCalendarInfo,
            renderMonthElement = _props11.renderMonthElement,
            calendarInfoPosition = _props11.calendarInfoPosition,
            hideKeyboardShortcutsPanel = _props11.hideKeyboardShortcutsPanel,
            onOutsideClick = _props11.onOutsideClick,
            monthFormat = _props11.monthFormat,
            daySize = _props11.daySize,
            isFocused = _props11.isFocused,
            isRTL = _props11.isRTL,
            styles = _props11.styles,
            theme = _props11.theme,
            phrases = _props11.phrases,
            verticalHeight = _props11.verticalHeight,
            dayAriaLabelFormat = _props11.dayAriaLabelFormat,
            noBorder = _props11.noBorder,
            transitionDuration = _props11.transitionDuration,
            verticalBorderSpacing = _props11.verticalBorderSpacing,
            horizontalMonthPadding = _props11.horizontalMonthPadding;
        var dayPickerHorizontalPadding = theme.reactDates.spacing.dayPickerHorizontalPadding;


        var isHorizontal = this.isHorizontal();

        var numOfWeekHeaders = this.isVertical() ? 1 : numberOfMonths;
        var weekHeaders = [];
        for (var i = 0; i < numOfWeekHeaders; i += 1) {
          weekHeaders.push(this.renderWeekHeader(i));
        }

        var verticalScrollable = orientation === _constants.VERTICAL_SCROLLABLE;
        var height = void 0;
        if (isHorizontal) {
          height = this.calendarMonthGridHeight;
        } else if (this.isVertical() && !verticalScrollable && !withPortal) {
          // If the user doesn't set a desired height,
          // we default back to this kind of made-up value that generally looks good
          height = verticalHeight || 1.75 * calendarMonthWidth;
        }

        var isCalendarMonthGridAnimating = monthTransition !== null;

        var shouldFocusDate = !isCalendarMonthGridAnimating && isFocused;

        var keyboardShortcutButtonLocation = _DayPickerKeyboardShortcuts.BOTTOM_RIGHT;
        if (this.isVertical()) {
          keyboardShortcutButtonLocation = withPortal ? _DayPickerKeyboardShortcuts.TOP_LEFT : _DayPickerKeyboardShortcuts.TOP_RIGHT;
        }

        var shouldAnimateHeight = isHorizontal && hasSetHeight;

        var calendarInfoPositionTop = calendarInfoPosition === _constants.INFO_POSITION_TOP;
        var calendarInfoPositionBottom = calendarInfoPosition === _constants.INFO_POSITION_BOTTOM;
        var calendarInfoPositionBefore = calendarInfoPosition === _constants.INFO_POSITION_BEFORE;
        var calendarInfoPositionAfter = calendarInfoPosition === _constants.INFO_POSITION_AFTER;
        var calendarInfoIsInline = calendarInfoPositionBefore || calendarInfoPositionAfter;

        var calendarInfo = renderCalendarInfo && _react2['default'].createElement(
          'div',
          _extends({
            ref: this.setCalendarInfoRef
          }, (0, _reactWithStyles.css)(calendarInfoIsInline && styles.DayPicker_calendarInfo__horizontal)),
          renderCalendarInfo()
        );

        var calendarInfoPanelWidth = renderCalendarInfo && calendarInfoIsInline ? calendarInfoWidth : 0;

        var firstVisibleMonthIndex = this.getFirstVisibleIndex();
        var wrapperHorizontalWidth = calendarMonthWidth * numberOfMonths + 2 * dayPickerHorizontalPadding;
        // Adding `1px` because of whitespace between 2 inline-block
        var fullHorizontalWidth = wrapperHorizontalWidth + calendarInfoPanelWidth + 1;

        var transitionContainerStyle = {
          width: isHorizontal && wrapperHorizontalWidth,
          height: height
        };

        var dayPickerWrapperStyle = {
          width: isHorizontal && wrapperHorizontalWidth
        };

        var dayPickerStyle = {
          width: isHorizontal && fullHorizontalWidth,

          // These values are to center the datepicker (approximately) on the page
          marginLeft: isHorizontal && withPortal ? -fullHorizontalWidth / 2 : null,
          marginTop: isHorizontal && withPortal ? -calendarMonthWidth / 2 : null
        };

        return _react2['default'].createElement(
          'div',
          _extends({
            role: 'application',
            'aria-label': phrases.calendarLabel
          }, (0, _reactWithStyles.css)(styles.DayPicker, isHorizontal && styles.DayPicker__horizontal, verticalScrollable && styles.DayPicker__verticalScrollable, isHorizontal && withPortal && styles.DayPicker_portal__horizontal, this.isVertical() && withPortal && styles.DayPicker_portal__vertical, dayPickerStyle, !monthTitleHeight && styles.DayPicker__hidden, !noBorder && styles.DayPicker__withBorder)),
          _react2['default'].createElement(
            _reactOutsideClickHandler2['default'],
            { onOutsideClick: onOutsideClick },
            (calendarInfoPositionTop || calendarInfoPositionBefore) && calendarInfo,
            _react2['default'].createElement(
              'div',
              (0, _reactWithStyles.css)(dayPickerWrapperStyle, calendarInfoIsInline && isHorizontal && styles.DayPicker_wrapper__horizontal),
              _react2['default'].createElement(
                'div',
                _extends({}, (0, _reactWithStyles.css)(styles.DayPicker_weekHeaders, isHorizontal && styles.DayPicker_weekHeaders__horizontal), {
                  'aria-hidden': 'true',
                  role: 'presentation'
                }),
                weekHeaders
              ),
              _react2['default'].createElement(
                'div',
                _extends({}, (0, _reactWithStyles.css)(styles.DayPicker_focusRegion), {
                  ref: this.setContainerRef,
                  onClick: function () {
                    function onClick(e) {
                      e.stopPropagation();
                    }

                    return onClick;
                  }(),
                  onKeyDown: this.onKeyDown,
                  onMouseUp: function () {
                    function onMouseUp() {
                      _this7.setState({ withMouseInteractions: true });
                    }

                    return onMouseUp;
                  }(),
                  role: 'region',
                  tabIndex: -1
                }),
                !verticalScrollable && this.renderNavigation(),
                _react2['default'].createElement(
                  'div',
                  _extends({}, (0, _reactWithStyles.css)(styles.DayPicker_transitionContainer, shouldAnimateHeight && styles.DayPicker_transitionContainer__horizontal, this.isVertical() && styles.DayPicker_transitionContainer__vertical, verticalScrollable && styles.DayPicker_transitionContainer__verticalScrollable, transitionContainerStyle), {
                    ref: this.setTransitionContainerRef
                  }),
                  _react2['default'].createElement(_CalendarMonthGrid2['default'], {
                    setMonthTitleHeight: !monthTitleHeight ? this.setMonthTitleHeight : undefined,
                    translationValue: translationValue,
                    enableOutsideDays: enableOutsideDays,
                    firstVisibleMonthIndex: firstVisibleMonthIndex,
                    initialMonth: currentMonth,
                    isAnimating: isCalendarMonthGridAnimating,
                    modifiers: modifiers,
                    orientation: orientation,
                    numberOfMonths: numberOfMonths * scrollableMonthMultiple,
                    onDayClick: onDayClick,
                    onDayMouseEnter: onDayMouseEnter,
                    onDayMouseLeave: onDayMouseLeave,
                    onMonthChange: this.onMonthChange,
                    onYearChange: this.onYearChange,
                    renderMonthText: renderMonthText,
                    renderCalendarDay: renderCalendarDay,
                    renderDayContents: renderDayContents,
                    renderMonthElement: renderMonthElement,
                    onMonthTransitionEnd: this.updateStateAfterMonthTransition,
                    monthFormat: monthFormat,
                    daySize: daySize,
                    firstDayOfWeek: firstDayOfWeek,
                    isFocused: shouldFocusDate,
                    focusedDate: focusedDate,
                    phrases: phrases,
                    isRTL: isRTL,
                    dayAriaLabelFormat: dayAriaLabelFormat,
                    transitionDuration: transitionDuration,
                    verticalBorderSpacing: verticalBorderSpacing,
                    horizontalMonthPadding: horizontalMonthPadding
                  }),
                  verticalScrollable && this.renderNavigation()
                ),
                !isTouch && !hideKeyboardShortcutsPanel && _react2['default'].createElement(_DayPickerKeyboardShortcuts2['default'], {
                  block: this.isVertical() && !withPortal,
                  buttonLocation: keyboardShortcutButtonLocation,
                  showKeyboardShortcutsPanel: showKeyboardShortcuts,
                  openKeyboardShortcutsPanel: this.openKeyboardShortcutsPanel,
                  closeKeyboardShortcutsPanel: this.closeKeyboardShortcutsPanel,
                  phrases: phrases
                })
              )
            ),
            (calendarInfoPositionBottom || calendarInfoPositionAfter) && calendarInfo
          )
        );
      }

      return render;
    }()
  }]);

  return DayPicker;
}(_react2['default'].Component);

DayPicker.propTypes = propTypes;
DayPicker.defaultProps = defaultProps;

exports.PureDayPicker = DayPicker;
exports['default'] = (0, _reactWithStyles.withStyles)(function (_ref2) {
  var _ref2$reactDates = _ref2.reactDates,
      color = _ref2$reactDates.color,
      font = _ref2$reactDates.font,
      noScrollBarOnVerticalScrollable = _ref2$reactDates.noScrollBarOnVerticalScrollable,
      spacing = _ref2$reactDates.spacing,
      zIndex = _ref2$reactDates.zIndex;
  return {
    DayPicker: {
      background: color.background,
      position: 'relative',
      textAlign: 'left'
    },

    DayPicker__horizontal: {
      background: color.background
    },

    DayPicker__verticalScrollable: {
      height: '100%'
    },

    DayPicker__hidden: {
      visibility: 'hidden'
    },

    DayPicker__withBorder: {
      boxShadow: '0 2px 6px rgba(0, 0, 0, 0.05), 0 0 0 1px rgba(0, 0, 0, 0.07)',
      borderRadius: 3
    },

    DayPicker_portal__horizontal: {
      boxShadow: 'none',
      position: 'absolute',
      left: '50%',
      top: '50%'
    },

    DayPicker_portal__vertical: {
      position: 'initial'
    },

    DayPicker_focusRegion: {
      outline: 'none'
    },

    DayPicker_calendarInfo__horizontal: {
      display: 'inline-block',
      verticalAlign: 'top'
    },

    DayPicker_wrapper__horizontal: {
      display: 'inline-block',
      verticalAlign: 'top'
    },

    DayPicker_weekHeaders: {
      position: 'relative'
    },

    DayPicker_weekHeaders__horizontal: {
      marginLeft: spacing.dayPickerHorizontalPadding
    },

    DayPicker_weekHeader: {
      color: color.placeholderText,
      position: 'absolute',
      top: 62,
      zIndex: zIndex + 2,
      textAlign: 'left'
    },

    DayPicker_weekHeader__vertical: {
      left: '50%'
    },

    DayPicker_weekHeader__verticalScrollable: {
      top: 0,
      display: 'table-row',
      borderBottom: '1px solid ' + String(color.core.border),
      background: color.background,
      marginLeft: 0,
      left: 0,
      width: '100%',
      textAlign: 'center'
    },

    DayPicker_weekHeader_ul: {
      listStyle: 'none',
      margin: '1px 0',
      paddingLeft: 0,
      paddingRight: 0,
      fontSize: font.size
    },

    DayPicker_weekHeader_li: {
      display: 'inline-block',
      textAlign: 'center'
    },

    DayPicker_transitionContainer: {
      position: 'relative',
      overflow: 'hidden',
      borderRadius: 3
    },

    DayPicker_transitionContainer__horizontal: {
      transition: 'height 0.2s ease-in-out'
    },

    DayPicker_transitionContainer__vertical: {
      width: '100%'
    },

    DayPicker_transitionContainer__verticalScrollable: (0, _object2['default'])({
      paddingTop: 20,
      height: '100%',
      position: 'absolute',
      top: 0,
      bottom: 0,
      right: 0,
      left: 0,
      overflowY: 'scroll'
    }, noScrollBarOnVerticalScrollable && {
      '-webkitOverflowScrolling': 'touch',
      '::-webkit-scrollbar': {
        '-webkit-appearance': 'none',
        display: 'none'
      }
    })
  };
})(DayPicker);

/***/ }),

/***/ "./node_modules/react-dates/lib/components/DayPickerKeyboardShortcuts.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/react-dates/lib/components/DayPickerKeyboardShortcuts.js ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.BOTTOM_RIGHT = exports.TOP_RIGHT = exports.TOP_LEFT = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _object = __webpack_require__(/*! object.assign */ "./node_modules/object.assign/index.js");

var _object2 = _interopRequireDefault(_object);

var _react = __webpack_require__(/*! react */ "./node_modules/react/index.js");

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _airbnbPropTypes = __webpack_require__(/*! airbnb-prop-types */ "./node_modules/airbnb-prop-types/index.js");

var _reactWithStyles = __webpack_require__(/*! react-with-styles */ "./node_modules/react-with-styles/lib/withStyles.js");

var _defaultPhrases = __webpack_require__(/*! ../defaultPhrases */ "./node_modules/react-dates/lib/defaultPhrases.js");

var _getPhrasePropTypes = __webpack_require__(/*! ../utils/getPhrasePropTypes */ "./node_modules/react-dates/lib/utils/getPhrasePropTypes.js");

var _getPhrasePropTypes2 = _interopRequireDefault(_getPhrasePropTypes);

var _KeyboardShortcutRow = __webpack_require__(/*! ./KeyboardShortcutRow */ "./node_modules/react-dates/lib/components/KeyboardShortcutRow.js");

var _KeyboardShortcutRow2 = _interopRequireDefault(_KeyboardShortcutRow);

var _CloseButton = __webpack_require__(/*! ./CloseButton */ "./node_modules/react-dates/lib/components/CloseButton.js");

var _CloseButton2 = _interopRequireDefault(_CloseButton);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var TOP_LEFT = exports.TOP_LEFT = 'top-left';
var TOP_RIGHT = exports.TOP_RIGHT = 'top-right';
var BOTTOM_RIGHT = exports.BOTTOM_RIGHT = 'bottom-right';

var propTypes = (0, _airbnbPropTypes.forbidExtraProps)((0, _object2['default'])({}, _reactWithStyles.withStylesPropTypes, {
  block: _propTypes2['default'].bool,
  buttonLocation: _propTypes2['default'].oneOf([TOP_LEFT, TOP_RIGHT, BOTTOM_RIGHT]),
  showKeyboardShortcutsPanel: _propTypes2['default'].bool,
  openKeyboardShortcutsPanel: _propTypes2['default'].func,
  closeKeyboardShortcutsPanel: _propTypes2['default'].func,
  phrases: _propTypes2['default'].shape((0, _getPhrasePropTypes2['default'])(_defaultPhrases.DayPickerKeyboardShortcutsPhrases))
}));

var defaultProps = {
  block: false,
  buttonLocation: BOTTOM_RIGHT,
  showKeyboardShortcutsPanel: false,
  openKeyboardShortcutsPanel: function () {
    function openKeyboardShortcutsPanel() {}

    return openKeyboardShortcutsPanel;
  }(),
  closeKeyboardShortcutsPanel: function () {
    function closeKeyboardShortcutsPanel() {}

    return closeKeyboardShortcutsPanel;
  }(),

  phrases: _defaultPhrases.DayPickerKeyboardShortcutsPhrases
};

function getKeyboardShortcuts(phrases) {
  return [{
    unicode: '↵',
    label: phrases.enterKey,
    action: phrases.selectFocusedDate
  }, {
    unicode: '←/→',
    label: phrases.leftArrowRightArrow,
    action: phrases.moveFocusByOneDay
  }, {
    unicode: '↑/↓',
    label: phrases.upArrowDownArrow,
    action: phrases.moveFocusByOneWeek
  }, {
    unicode: 'PgUp/PgDn',
    label: phrases.pageUpPageDown,
    action: phrases.moveFocusByOneMonth
  }, {
    unicode: 'Home/End',
    label: phrases.homeEnd,
    action: phrases.moveFocustoStartAndEndOfWeek
  }, {
    unicode: 'Esc',
    label: phrases.escape,
    action: phrases.returnFocusToInput
  }, {
    unicode: '?',
    label: phrases.questionMark,
    action: phrases.openThisPanel
  }];
}

var DayPickerKeyboardShortcuts = function (_React$Component) {
  _inherits(DayPickerKeyboardShortcuts, _React$Component);

  function DayPickerKeyboardShortcuts() {
    var _ref;

    _classCallCheck(this, DayPickerKeyboardShortcuts);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = DayPickerKeyboardShortcuts.__proto__ || Object.getPrototypeOf(DayPickerKeyboardShortcuts)).call.apply(_ref, [this].concat(args)));

    var phrases = _this.props.phrases;

    _this.keyboardShortcuts = getKeyboardShortcuts(phrases);

    _this.onShowKeyboardShortcutsButtonClick = _this.onShowKeyboardShortcutsButtonClick.bind(_this);
    _this.setShowKeyboardShortcutsButtonRef = _this.setShowKeyboardShortcutsButtonRef.bind(_this);
    _this.setHideKeyboardShortcutsButtonRef = _this.setHideKeyboardShortcutsButtonRef.bind(_this);
    _this.handleFocus = _this.handleFocus.bind(_this);
    _this.onKeyDown = _this.onKeyDown.bind(_this);
    return _this;
  }

  _createClass(DayPickerKeyboardShortcuts, [{
    key: 'componentWillReceiveProps',
    value: function () {
      function componentWillReceiveProps(nextProps) {
        var phrases = this.props.phrases;

        if (nextProps.phrases !== phrases) {
          this.keyboardShortcuts = getKeyboardShortcuts(nextProps.phrases);
        }
      }

      return componentWillReceiveProps;
    }()
  }, {
    key: 'componentDidUpdate',
    value: function () {
      function componentDidUpdate() {
        this.handleFocus();
      }

      return componentDidUpdate;
    }()
  }, {
    key: 'onKeyDown',
    value: function () {
      function onKeyDown(e) {
        e.stopPropagation();

        var closeKeyboardShortcutsPanel = this.props.closeKeyboardShortcutsPanel;
        // Because the close button is the only focusable element inside of the panel, this
        // amounts to a very basic focus trap. The user can exit the panel by "pressing" the
        // close button or hitting escape

        switch (e.key) {
          case 'Enter':
          case ' ':
          case 'Spacebar': // for older browsers
          case 'Escape':
            closeKeyboardShortcutsPanel();
            break;

          // do nothing - this allows the up and down arrows continue their
          // default behavior of scrolling the content of the Keyboard Shortcuts Panel
          // which is needed when only a single month is shown for instance.
          case 'ArrowUp':
          case 'ArrowDown':
            break;

          // completely block the rest of the keys that have functionality outside of this panel
          case 'Tab':
          case 'Home':
          case 'End':
          case 'PageUp':
          case 'PageDown':
          case 'ArrowLeft':
          case 'ArrowRight':
            e.preventDefault();
            break;

          default:
            break;
        }
      }

      return onKeyDown;
    }()
  }, {
    key: 'onShowKeyboardShortcutsButtonClick',
    value: function () {
      function onShowKeyboardShortcutsButtonClick() {
        var _this2 = this;

        var openKeyboardShortcutsPanel = this.props.openKeyboardShortcutsPanel;

        // we want to return focus to this button after closing the keyboard shortcuts panel

        openKeyboardShortcutsPanel(function () {
          _this2.showKeyboardShortcutsButton.focus();
        });
      }

      return onShowKeyboardShortcutsButtonClick;
    }()
  }, {
    key: 'setShowKeyboardShortcutsButtonRef',
    value: function () {
      function setShowKeyboardShortcutsButtonRef(ref) {
        this.showKeyboardShortcutsButton = ref;
      }

      return setShowKeyboardShortcutsButtonRef;
    }()
  }, {
    key: 'setHideKeyboardShortcutsButtonRef',
    value: function () {
      function setHideKeyboardShortcutsButtonRef(ref) {
        this.hideKeyboardShortcutsButton = ref;
      }

      return setHideKeyboardShortcutsButtonRef;
    }()
  }, {
    key: 'handleFocus',
    value: function () {
      function handleFocus() {
        if (this.hideKeyboardShortcutsButton) {
          // automatically move focus into the dialog by moving
          // to the only interactive element, the hide button
          this.hideKeyboardShortcutsButton.focus();
        }
      }

      return handleFocus;
    }()
  }, {
    key: 'render',
    value: function () {
      function render() {
        var _this3 = this;

        var _props = this.props,
            block = _props.block,
            buttonLocation = _props.buttonLocation,
            showKeyboardShortcutsPanel = _props.showKeyboardShortcutsPanel,
            closeKeyboardShortcutsPanel = _props.closeKeyboardShortcutsPanel,
            styles = _props.styles,
            phrases = _props.phrases;


        var toggleButtonText = showKeyboardShortcutsPanel ? phrases.hideKeyboardShortcutsPanel : phrases.showKeyboardShortcutsPanel;

        var bottomRight = buttonLocation === BOTTOM_RIGHT;
        var topRight = buttonLocation === TOP_RIGHT;
        var topLeft = buttonLocation === TOP_LEFT;

        return _react2['default'].createElement(
          'div',
          null,
          _react2['default'].createElement(
            'button',
            _extends({
              ref: this.setShowKeyboardShortcutsButtonRef
            }, (0, _reactWithStyles.css)(styles.DayPickerKeyboardShortcuts_buttonReset, styles.DayPickerKeyboardShortcuts_show, bottomRight && styles.DayPickerKeyboardShortcuts_show__bottomRight, topRight && styles.DayPickerKeyboardShortcuts_show__topRight, topLeft && styles.DayPickerKeyboardShortcuts_show__topLeft), {
              type: 'button',
              'aria-label': toggleButtonText,
              onClick: this.onShowKeyboardShortcutsButtonClick,
              onKeyDown: function () {
                function onKeyDown(e) {
                  if (e.key === 'Enter') {
                    e.preventDefault();
                  } else if (e.key === 'Space') {
                    _this3.onShowKeyboardShortcutsButtonClick(e);
                  }
                }

                return onKeyDown;
              }(),
              onMouseUp: function () {
                function onMouseUp(e) {
                  e.currentTarget.blur();
                }

                return onMouseUp;
              }()
            }),
            _react2['default'].createElement(
              'span',
              (0, _reactWithStyles.css)(styles.DayPickerKeyboardShortcuts_showSpan, bottomRight && styles.DayPickerKeyboardShortcuts_showSpan__bottomRight, topRight && styles.DayPickerKeyboardShortcuts_showSpan__topRight, topLeft && styles.DayPickerKeyboardShortcuts_showSpan__topLeft),
              '?'
            )
          ),
          showKeyboardShortcutsPanel && _react2['default'].createElement(
            'div',
            _extends({}, (0, _reactWithStyles.css)(styles.DayPickerKeyboardShortcuts_panel), {
              role: 'dialog',
              'aria-labelledby': 'DayPickerKeyboardShortcuts_title',
              'aria-describedby': 'DayPickerKeyboardShortcuts_description'
            }),
            _react2['default'].createElement(
              'div',
              _extends({}, (0, _reactWithStyles.css)(styles.DayPickerKeyboardShortcuts_title), {
                id: 'DayPickerKeyboardShortcuts_title'
              }),
              phrases.keyboardShortcuts
            ),
            _react2['default'].createElement(
              'button',
              _extends({
                ref: this.setHideKeyboardShortcutsButtonRef
              }, (0, _reactWithStyles.css)(styles.DayPickerKeyboardShortcuts_buttonReset, styles.DayPickerKeyboardShortcuts_close), {
                type: 'button',
                tabIndex: '0',
                'aria-label': phrases.hideKeyboardShortcutsPanel,
                onClick: closeKeyboardShortcutsPanel,
                onKeyDown: this.onKeyDown
              }),
              _react2['default'].createElement(_CloseButton2['default'], (0, _reactWithStyles.css)(styles.DayPickerKeyboardShortcuts_closeSvg))
            ),
            _react2['default'].createElement(
              'ul',
              _extends({}, (0, _reactWithStyles.css)(styles.DayPickerKeyboardShortcuts_list), {
                id: 'DayPickerKeyboardShortcuts_description'
              }),
              this.keyboardShortcuts.map(function (_ref2) {
                var unicode = _ref2.unicode,
                    label = _ref2.label,
                    action = _ref2.action;
                return _react2['default'].createElement(_KeyboardShortcutRow2['default'], {
                  key: label,
                  unicode: unicode,
                  label: label,
                  action: action,
                  block: block
                });
              })
            )
          )
        );
      }

      return render;
    }()
  }]);

  return DayPickerKeyboardShortcuts;
}(_react2['default'].Component);

DayPickerKeyboardShortcuts.propTypes = propTypes;
DayPickerKeyboardShortcuts.defaultProps = defaultProps;

exports['default'] = (0, _reactWithStyles.withStyles)(function (_ref3) {
  var _ref3$reactDates = _ref3.reactDates,
      color = _ref3$reactDates.color,
      font = _ref3$reactDates.font,
      zIndex = _ref3$reactDates.zIndex;
  return {
    DayPickerKeyboardShortcuts_buttonReset: {
      background: 'none',
      border: 0,
      borderRadius: 0,
      color: 'inherit',
      font: 'inherit',
      lineHeight: 'normal',
      overflow: 'visible',
      padding: 0,
      cursor: 'pointer',
      fontSize: font.size,

      ':active': {
        outline: 'none'
      }
    },

    DayPickerKeyboardShortcuts_show: {
      width: 22,
      position: 'absolute',
      zIndex: zIndex + 2
    },

    DayPickerKeyboardShortcuts_show__bottomRight: {
      borderTop: '26px solid transparent',
      borderRight: '33px solid ' + String(color.core.primary),
      bottom: 0,
      right: 0,

      ':hover': {
        borderRight: '33px solid ' + String(color.core.primary_dark)
      }
    },

    DayPickerKeyboardShortcuts_show__topRight: {
      borderBottom: '26px solid transparent',
      borderRight: '33px solid ' + String(color.core.primary),
      top: 0,
      right: 0,

      ':hover': {
        borderRight: '33px solid ' + String(color.core.primary_dark)
      }
    },

    DayPickerKeyboardShortcuts_show__topLeft: {
      borderBottom: '26px solid transparent',
      borderLeft: '33px solid ' + String(color.core.primary),
      top: 0,
      left: 0,

      ':hover': {
        borderLeft: '33px solid ' + String(color.core.primary_dark)
      }
    },

    DayPickerKeyboardShortcuts_showSpan: {
      color: color.core.white,
      position: 'absolute'
    },

    DayPickerKeyboardShortcuts_showSpan__bottomRight: {
      bottom: 0,
      right: -28
    },

    DayPickerKeyboardShortcuts_showSpan__topRight: {
      top: 1,
      right: -28
    },

    DayPickerKeyboardShortcuts_showSpan__topLeft: {
      top: 1,
      left: -28
    },

    DayPickerKeyboardShortcuts_panel: {
      overflow: 'auto',
      background: color.background,
      border: '1px solid ' + String(color.core.border),
      borderRadius: 2,
      position: 'absolute',
      top: 0,
      bottom: 0,
      right: 0,
      left: 0,
      zIndex: zIndex + 2,
      padding: 22,
      margin: 33
    },

    DayPickerKeyboardShortcuts_title: {
      fontSize: 16,
      fontWeight: 'bold',
      margin: 0
    },

    DayPickerKeyboardShortcuts_list: {
      listStyle: 'none',
      padding: 0,
      fontSize: font.size
    },

    DayPickerKeyboardShortcuts_close: {
      position: 'absolute',
      right: 22,
      top: 22,
      zIndex: zIndex + 2,

      ':active': {
        outline: 'none'
      }
    },

    DayPickerKeyboardShortcuts_closeSvg: {
      height: 15,
      width: 15,
      fill: color.core.grayLighter,

      ':hover': {
        fill: color.core.grayLight
      },

      ':focus': {
        fill: color.core.grayLight
      }
    }
  };
})(DayPickerKeyboardShortcuts);

/***/ }),

/***/ "./node_modules/react-dates/lib/components/DayPickerNavigation.js":
/*!************************************************************************!*\
  !*** ./node_modules/react-dates/lib/components/DayPickerNavigation.js ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _object = __webpack_require__(/*! object.assign */ "./node_modules/object.assign/index.js");

var _object2 = _interopRequireDefault(_object);

var _react = __webpack_require__(/*! react */ "./node_modules/react/index.js");

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _airbnbPropTypes = __webpack_require__(/*! airbnb-prop-types */ "./node_modules/airbnb-prop-types/index.js");

var _reactWithStyles = __webpack_require__(/*! react-with-styles */ "./node_modules/react-with-styles/lib/withStyles.js");

var _defaultPhrases = __webpack_require__(/*! ../defaultPhrases */ "./node_modules/react-dates/lib/defaultPhrases.js");

var _getPhrasePropTypes = __webpack_require__(/*! ../utils/getPhrasePropTypes */ "./node_modules/react-dates/lib/utils/getPhrasePropTypes.js");

var _getPhrasePropTypes2 = _interopRequireDefault(_getPhrasePropTypes);

var _LeftArrow = __webpack_require__(/*! ./LeftArrow */ "./node_modules/react-dates/lib/components/LeftArrow.js");

var _LeftArrow2 = _interopRequireDefault(_LeftArrow);

var _RightArrow = __webpack_require__(/*! ./RightArrow */ "./node_modules/react-dates/lib/components/RightArrow.js");

var _RightArrow2 = _interopRequireDefault(_RightArrow);

var _ChevronUp = __webpack_require__(/*! ./ChevronUp */ "./node_modules/react-dates/lib/components/ChevronUp.js");

var _ChevronUp2 = _interopRequireDefault(_ChevronUp);

var _ChevronDown = __webpack_require__(/*! ./ChevronDown */ "./node_modules/react-dates/lib/components/ChevronDown.js");

var _ChevronDown2 = _interopRequireDefault(_ChevronDown);

var _ScrollableOrientationShape = __webpack_require__(/*! ../shapes/ScrollableOrientationShape */ "./node_modules/react-dates/lib/shapes/ScrollableOrientationShape.js");

var _ScrollableOrientationShape2 = _interopRequireDefault(_ScrollableOrientationShape);

var _constants = __webpack_require__(/*! ../constants */ "./node_modules/react-dates/lib/constants.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

var propTypes = (0, _airbnbPropTypes.forbidExtraProps)((0, _object2['default'])({}, _reactWithStyles.withStylesPropTypes, {
  navPrev: _propTypes2['default'].node,
  navNext: _propTypes2['default'].node,
  orientation: _ScrollableOrientationShape2['default'],

  onPrevMonthClick: _propTypes2['default'].func,
  onNextMonthClick: _propTypes2['default'].func,

  // internationalization
  phrases: _propTypes2['default'].shape((0, _getPhrasePropTypes2['default'])(_defaultPhrases.DayPickerNavigationPhrases)),

  isRTL: _propTypes2['default'].bool
}));

var defaultProps = {
  navPrev: null,
  navNext: null,
  orientation: _constants.HORIZONTAL_ORIENTATION,

  onPrevMonthClick: function () {
    function onPrevMonthClick() {}

    return onPrevMonthClick;
  }(),
  onNextMonthClick: function () {
    function onNextMonthClick() {}

    return onNextMonthClick;
  }(),


  // internationalization
  phrases: _defaultPhrases.DayPickerNavigationPhrases,
  isRTL: false
};

function DayPickerNavigation(_ref) {
  var navPrev = _ref.navPrev,
      navNext = _ref.navNext,
      onPrevMonthClick = _ref.onPrevMonthClick,
      onNextMonthClick = _ref.onNextMonthClick,
      orientation = _ref.orientation,
      phrases = _ref.phrases,
      isRTL = _ref.isRTL,
      styles = _ref.styles;

  var isHorizontal = orientation === _constants.HORIZONTAL_ORIENTATION;
  var isVertical = orientation !== _constants.HORIZONTAL_ORIENTATION;
  var isVerticalScrollable = orientation === _constants.VERTICAL_SCROLLABLE;

  var navPrevIcon = navPrev;
  var navNextIcon = navNext;
  var isDefaultNavPrev = false;
  var isDefaultNavNext = false;
  if (!navPrevIcon) {
    isDefaultNavPrev = true;
    var Icon = isVertical ? _ChevronUp2['default'] : _LeftArrow2['default'];
    if (isRTL && !isVertical) {
      Icon = _RightArrow2['default'];
    }
    navPrevIcon = _react2['default'].createElement(Icon, (0, _reactWithStyles.css)(isHorizontal && styles.DayPickerNavigation_svg__horizontal, isVertical && styles.DayPickerNavigation_svg__vertical));
  }

  if (!navNextIcon) {
    isDefaultNavNext = true;
    var _Icon = isVertical ? _ChevronDown2['default'] : _RightArrow2['default'];
    if (isRTL && !isVertical) {
      _Icon = _LeftArrow2['default'];
    }
    navNextIcon = _react2['default'].createElement(_Icon, (0, _reactWithStyles.css)(isHorizontal && styles.DayPickerNavigation_svg__horizontal, isVertical && styles.DayPickerNavigation_svg__vertical));
  }

  var isDefaultNav = isVerticalScrollable ? isDefaultNavNext : isDefaultNavNext || isDefaultNavPrev;

  return _react2['default'].createElement(
    'div',
    _reactWithStyles.css.apply(undefined, [styles.DayPickerNavigation, isHorizontal && styles.DayPickerNavigation__horizontal].concat(_toConsumableArray(isVertical && [styles.DayPickerNavigation__vertical, isDefaultNav && styles.DayPickerNavigation__verticalDefault]), _toConsumableArray(isVerticalScrollable && [styles.DayPickerNavigation__verticalScrollable, isDefaultNav && styles.DayPickerNavigation__verticalScrollableDefault]))),
    !isVerticalScrollable && _react2['default'].createElement(
      'div',
      _extends({
        role: 'button',
        tabIndex: '0'
      }, _reactWithStyles.css.apply(undefined, [styles.DayPickerNavigation_button, isDefaultNavPrev && styles.DayPickerNavigation_button__default].concat(_toConsumableArray(isHorizontal && [styles.DayPickerNavigation_button__horizontal].concat(_toConsumableArray(isDefaultNavPrev && [styles.DayPickerNavigation_button__horizontalDefault, !isRTL && styles.DayPickerNavigation_leftButton__horizontalDefault, isRTL && styles.DayPickerNavigation_rightButton__horizontalDefault]))), _toConsumableArray(isVertical && [styles.DayPickerNavigation_button__vertical].concat(_toConsumableArray(isDefaultNavPrev && [styles.DayPickerNavigation_button__verticalDefault, styles.DayPickerNavigation_prevButton__verticalDefault]))))), {
        'aria-label': phrases.jumpToPrevMonth,
        onClick: onPrevMonthClick,
        onKeyUp: function () {
          function onKeyUp(e) {
            var key = e.key;

            if (key === 'Enter' || key === ' ') onPrevMonthClick(e);
          }

          return onKeyUp;
        }(),
        onMouseUp: function () {
          function onMouseUp(e) {
            e.currentTarget.blur();
          }

          return onMouseUp;
        }()
      }),
      navPrevIcon
    ),
    _react2['default'].createElement(
      'div',
      _extends({
        role: 'button',
        tabIndex: '0'
      }, _reactWithStyles.css.apply(undefined, [styles.DayPickerNavigation_button, isDefaultNavNext && styles.DayPickerNavigation_button__default].concat(_toConsumableArray(isHorizontal && [styles.DayPickerNavigation_button__horizontal].concat(_toConsumableArray(isDefaultNavNext && [styles.DayPickerNavigation_button__horizontalDefault, isRTL && styles.DayPickerNavigation_leftButton__horizontalDefault, !isRTL && styles.DayPickerNavigation_rightButton__horizontalDefault]))), _toConsumableArray(isVertical && [styles.DayPickerNavigation_button__vertical, styles.DayPickerNavigation_nextButton__vertical].concat(_toConsumableArray(isDefaultNavNext && [styles.DayPickerNavigation_button__verticalDefault, styles.DayPickerNavigation_nextButton__verticalDefault, isVerticalScrollable && styles.DayPickerNavigation_nextButton__verticalScrollableDefault]))))), {
        'aria-label': phrases.jumpToNextMonth,
        onClick: onNextMonthClick,
        onKeyUp: function () {
          function onKeyUp(e) {
            var key = e.key;

            if (key === 'Enter' || key === ' ') onNextMonthClick(e);
          }

          return onKeyUp;
        }(),
        onMouseUp: function () {
          function onMouseUp(e) {
            e.currentTarget.blur();
          }

          return onMouseUp;
        }()
      }),
      navNextIcon
    )
  );
}

DayPickerNavigation.propTypes = propTypes;
DayPickerNavigation.defaultProps = defaultProps;

exports['default'] = (0, _reactWithStyles.withStyles)(function (_ref2) {
  var _ref2$reactDates = _ref2.reactDates,
      color = _ref2$reactDates.color,
      zIndex = _ref2$reactDates.zIndex;
  return {
    DayPickerNavigation: {
      position: 'relative',
      zIndex: zIndex + 2
    },

    DayPickerNavigation__horizontal: {
      height: 0
    },

    DayPickerNavigation__vertical: {},
    DayPickerNavigation__verticalScrollable: {},

    DayPickerNavigation__verticalDefault: {
      position: 'absolute',
      width: '100%',
      height: 52,
      bottom: 0,
      left: 0
    },

    DayPickerNavigation__verticalScrollableDefault: {
      position: 'relative'
    },

    DayPickerNavigation_button: {
      cursor: 'pointer',
      userSelect: 'none',
      border: 0,
      padding: 0,
      margin: 0
    },

    DayPickerNavigation_button__default: {
      border: '1px solid ' + String(color.core.borderLight),
      backgroundColor: color.background,
      color: color.placeholderText,

      ':focus': {
        border: '1px solid ' + String(color.core.borderMedium)
      },

      ':hover': {
        border: '1px solid ' + String(color.core.borderMedium)
      },

      ':active': {
        background: color.backgroundDark
      }
    },

    DayPickerNavigation_button__horizontal: {},

    DayPickerNavigation_button__horizontalDefault: {
      position: 'absolute',
      top: 18,
      lineHeight: 0.78,
      borderRadius: 3,
      padding: '6px 9px'
    },

    DayPickerNavigation_leftButton__horizontalDefault: {
      left: 22
    },

    DayPickerNavigation_rightButton__horizontalDefault: {
      right: 22
    },

    DayPickerNavigation_button__vertical: {},

    DayPickerNavigation_button__verticalDefault: {
      padding: 5,
      background: color.background,
      boxShadow: '0 0 5px 2px rgba(0, 0, 0, 0.1)',
      position: 'relative',
      display: 'inline-block',
      height: '100%',
      width: '50%'
    },

    DayPickerNavigation_prevButton__verticalDefault: {},

    DayPickerNavigation_nextButton__verticalDefault: {
      borderLeft: 0
    },

    DayPickerNavigation_nextButton__verticalScrollableDefault: {
      width: '100%'
    },

    DayPickerNavigation_svg__horizontal: {
      height: 19,
      width: 19,
      fill: color.core.grayLight,
      display: 'block'
    },

    DayPickerNavigation_svg__vertical: {
      height: 42,
      width: 42,
      fill: color.text,
      display: 'block'
    }
  };
})(DayPickerNavigation);

/***/ }),

/***/ "./node_modules/react-dates/lib/components/DayPickerRangeController.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/react-dates/lib/components/DayPickerRangeController.js ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _object = __webpack_require__(/*! object.assign */ "./node_modules/object.assign/index.js");

var _object2 = _interopRequireDefault(_object);

var _react = __webpack_require__(/*! react */ "./node_modules/react/index.js");

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactMomentProptypes = __webpack_require__(/*! react-moment-proptypes */ "./node_modules/react-moment-proptypes/src/index.js");

var _reactMomentProptypes2 = _interopRequireDefault(_reactMomentProptypes);

var _airbnbPropTypes = __webpack_require__(/*! airbnb-prop-types */ "./node_modules/airbnb-prop-types/index.js");

var _moment = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");

var _moment2 = _interopRequireDefault(_moment);

var _object3 = __webpack_require__(/*! object.values */ "./node_modules/object.values/index.js");

var _object4 = _interopRequireDefault(_object3);

var _isTouchDevice = __webpack_require__(/*! is-touch-device */ "./node_modules/is-touch-device/build/index.js");

var _isTouchDevice2 = _interopRequireDefault(_isTouchDevice);

var _defaultPhrases = __webpack_require__(/*! ../defaultPhrases */ "./node_modules/react-dates/lib/defaultPhrases.js");

var _getPhrasePropTypes = __webpack_require__(/*! ../utils/getPhrasePropTypes */ "./node_modules/react-dates/lib/utils/getPhrasePropTypes.js");

var _getPhrasePropTypes2 = _interopRequireDefault(_getPhrasePropTypes);

var _isInclusivelyAfterDay = __webpack_require__(/*! ../utils/isInclusivelyAfterDay */ "./node_modules/react-dates/lib/utils/isInclusivelyAfterDay.js");

var _isInclusivelyAfterDay2 = _interopRequireDefault(_isInclusivelyAfterDay);

var _isNextDay = __webpack_require__(/*! ../utils/isNextDay */ "./node_modules/react-dates/lib/utils/isNextDay.js");

var _isNextDay2 = _interopRequireDefault(_isNextDay);

var _isSameDay = __webpack_require__(/*! ../utils/isSameDay */ "./node_modules/react-dates/lib/utils/isSameDay.js");

var _isSameDay2 = _interopRequireDefault(_isSameDay);

var _isAfterDay = __webpack_require__(/*! ../utils/isAfterDay */ "./node_modules/react-dates/lib/utils/isAfterDay.js");

var _isAfterDay2 = _interopRequireDefault(_isAfterDay);

var _isBeforeDay = __webpack_require__(/*! ../utils/isBeforeDay */ "./node_modules/react-dates/lib/utils/isBeforeDay.js");

var _isBeforeDay2 = _interopRequireDefault(_isBeforeDay);

var _getVisibleDays = __webpack_require__(/*! ../utils/getVisibleDays */ "./node_modules/react-dates/lib/utils/getVisibleDays.js");

var _getVisibleDays2 = _interopRequireDefault(_getVisibleDays);

var _isDayVisible = __webpack_require__(/*! ../utils/isDayVisible */ "./node_modules/react-dates/lib/utils/isDayVisible.js");

var _isDayVisible2 = _interopRequireDefault(_isDayVisible);

var _getSelectedDateOffset = __webpack_require__(/*! ../utils/getSelectedDateOffset */ "./node_modules/react-dates/lib/utils/getSelectedDateOffset.js");

var _getSelectedDateOffset2 = _interopRequireDefault(_getSelectedDateOffset);

var _toISODateString = __webpack_require__(/*! ../utils/toISODateString */ "./node_modules/react-dates/lib/utils/toISODateString.js");

var _toISODateString2 = _interopRequireDefault(_toISODateString);

var _toISOMonthString = __webpack_require__(/*! ../utils/toISOMonthString */ "./node_modules/react-dates/lib/utils/toISOMonthString.js");

var _toISOMonthString2 = _interopRequireDefault(_toISOMonthString);

var _DisabledShape = __webpack_require__(/*! ../shapes/DisabledShape */ "./node_modules/react-dates/lib/shapes/DisabledShape.js");

var _DisabledShape2 = _interopRequireDefault(_DisabledShape);

var _FocusedInputShape = __webpack_require__(/*! ../shapes/FocusedInputShape */ "./node_modules/react-dates/lib/shapes/FocusedInputShape.js");

var _FocusedInputShape2 = _interopRequireDefault(_FocusedInputShape);

var _ScrollableOrientationShape = __webpack_require__(/*! ../shapes/ScrollableOrientationShape */ "./node_modules/react-dates/lib/shapes/ScrollableOrientationShape.js");

var _ScrollableOrientationShape2 = _interopRequireDefault(_ScrollableOrientationShape);

var _DayOfWeekShape = __webpack_require__(/*! ../shapes/DayOfWeekShape */ "./node_modules/react-dates/lib/shapes/DayOfWeekShape.js");

var _DayOfWeekShape2 = _interopRequireDefault(_DayOfWeekShape);

var _CalendarInfoPositionShape = __webpack_require__(/*! ../shapes/CalendarInfoPositionShape */ "./node_modules/react-dates/lib/shapes/CalendarInfoPositionShape.js");

var _CalendarInfoPositionShape2 = _interopRequireDefault(_CalendarInfoPositionShape);

var _constants = __webpack_require__(/*! ../constants */ "./node_modules/react-dates/lib/constants.js");

var _DayPicker = __webpack_require__(/*! ./DayPicker */ "./node_modules/react-dates/lib/components/DayPicker.js");

var _DayPicker2 = _interopRequireDefault(_DayPicker);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var propTypes = (0, _airbnbPropTypes.forbidExtraProps)({
  startDate: _reactMomentProptypes2['default'].momentObj,
  endDate: _reactMomentProptypes2['default'].momentObj,
  onDatesChange: _propTypes2['default'].func,
  startDateOffset: _propTypes2['default'].func,
  endDateOffset: _propTypes2['default'].func,

  focusedInput: _FocusedInputShape2['default'],
  onFocusChange: _propTypes2['default'].func,
  onClose: _propTypes2['default'].func,

  keepOpenOnDateSelect: _propTypes2['default'].bool,
  minimumNights: _propTypes2['default'].number,
  disabled: _DisabledShape2['default'],
  isOutsideRange: _propTypes2['default'].func,
  isDayBlocked: _propTypes2['default'].func,
  isDayHighlighted: _propTypes2['default'].func,

  // DayPicker props
  renderMonthText: (0, _airbnbPropTypes.mutuallyExclusiveProps)(_propTypes2['default'].func, 'renderMonthText', 'renderMonthElement'),
  renderMonthElement: (0, _airbnbPropTypes.mutuallyExclusiveProps)(_propTypes2['default'].func, 'renderMonthText', 'renderMonthElement'),
  enableOutsideDays: _propTypes2['default'].bool,
  numberOfMonths: _propTypes2['default'].number,
  orientation: _ScrollableOrientationShape2['default'],
  withPortal: _propTypes2['default'].bool,
  initialVisibleMonth: _propTypes2['default'].func,
  hideKeyboardShortcutsPanel: _propTypes2['default'].bool,
  daySize: _airbnbPropTypes.nonNegativeInteger,
  noBorder: _propTypes2['default'].bool,
  verticalBorderSpacing: _airbnbPropTypes.nonNegativeInteger,
  horizontalMonthPadding: _airbnbPropTypes.nonNegativeInteger,

  navPrev: _propTypes2['default'].node,
  navNext: _propTypes2['default'].node,
  noNavButtons: _propTypes2['default'].bool,

  onPrevMonthClick: _propTypes2['default'].func,
  onNextMonthClick: _propTypes2['default'].func,
  onOutsideClick: _propTypes2['default'].func,
  renderCalendarDay: _propTypes2['default'].func,
  renderDayContents: _propTypes2['default'].func,
  renderCalendarInfo: _propTypes2['default'].func,
  calendarInfoPosition: _CalendarInfoPositionShape2['default'],
  firstDayOfWeek: _DayOfWeekShape2['default'],
  verticalHeight: _airbnbPropTypes.nonNegativeInteger,
  transitionDuration: _airbnbPropTypes.nonNegativeInteger,

  // accessibility
  onBlur: _propTypes2['default'].func,
  isFocused: _propTypes2['default'].bool,
  showKeyboardShortcuts: _propTypes2['default'].bool,

  // i18n
  monthFormat: _propTypes2['default'].string,
  weekDayFormat: _propTypes2['default'].string,
  phrases: _propTypes2['default'].shape((0, _getPhrasePropTypes2['default'])(_defaultPhrases.DayPickerPhrases)),
  dayAriaLabelFormat: _propTypes2['default'].string,

  isRTL: _propTypes2['default'].bool
});

var defaultProps = {
  startDate: undefined, // TODO: use null
  endDate: undefined, // TODO: use null
  onDatesChange: function () {
    function onDatesChange() {}

    return onDatesChange;
  }(),

  startDateOffset: undefined,
  endDateOffset: undefined,

  focusedInput: null,
  onFocusChange: function () {
    function onFocusChange() {}

    return onFocusChange;
  }(),
  onClose: function () {
    function onClose() {}

    return onClose;
  }(),


  keepOpenOnDateSelect: false,
  minimumNights: 1,
  disabled: false,
  isOutsideRange: function () {
    function isOutsideRange() {}

    return isOutsideRange;
  }(),
  isDayBlocked: function () {
    function isDayBlocked() {}

    return isDayBlocked;
  }(),
  isDayHighlighted: function () {
    function isDayHighlighted() {}

    return isDayHighlighted;
  }(),


  // DayPicker props
  renderMonthText: null,
  enableOutsideDays: false,
  numberOfMonths: 1,
  orientation: _constants.HORIZONTAL_ORIENTATION,
  withPortal: false,
  hideKeyboardShortcutsPanel: false,
  initialVisibleMonth: null,
  daySize: _constants.DAY_SIZE,

  navPrev: null,
  navNext: null,
  noNavButtons: false,

  onPrevMonthClick: function () {
    function onPrevMonthClick() {}

    return onPrevMonthClick;
  }(),
  onNextMonthClick: function () {
    function onNextMonthClick() {}

    return onNextMonthClick;
  }(),
  onOutsideClick: function () {
    function onOutsideClick() {}

    return onOutsideClick;
  }(),


  renderCalendarDay: undefined,
  renderDayContents: null,
  renderCalendarInfo: null,
  renderMonthElement: null,
  calendarInfoPosition: _constants.INFO_POSITION_BOTTOM,
  firstDayOfWeek: null,
  verticalHeight: null,
  noBorder: false,
  transitionDuration: undefined,
  verticalBorderSpacing: undefined,
  horizontalMonthPadding: 13,

  // accessibility
  onBlur: function () {
    function onBlur() {}

    return onBlur;
  }(),

  isFocused: false,
  showKeyboardShortcuts: false,

  // i18n
  monthFormat: 'MMMM YYYY',
  weekDayFormat: 'dd',
  phrases: _defaultPhrases.DayPickerPhrases,
  dayAriaLabelFormat: undefined,

  isRTL: false
};

var getChooseAvailableDatePhrase = function getChooseAvailableDatePhrase(phrases, focusedInput) {
  if (focusedInput === _constants.START_DATE) {
    return phrases.chooseAvailableStartDate;
  }
  if (focusedInput === _constants.END_DATE) {
    return phrases.chooseAvailableEndDate;
  }
  return phrases.chooseAvailableDate;
};

var DayPickerRangeController = function (_React$Component) {
  _inherits(DayPickerRangeController, _React$Component);

  function DayPickerRangeController(props) {
    _classCallCheck(this, DayPickerRangeController);

    var _this = _possibleConstructorReturn(this, (DayPickerRangeController.__proto__ || Object.getPrototypeOf(DayPickerRangeController)).call(this, props));

    _this.isTouchDevice = (0, _isTouchDevice2['default'])();
    _this.today = (0, _moment2['default'])();
    _this.modifiers = {
      today: function () {
        function today(day) {
          return _this.isToday(day);
        }

        return today;
      }(),
      blocked: function () {
        function blocked(day) {
          return _this.isBlocked(day);
        }

        return blocked;
      }(),
      'blocked-calendar': function () {
        function blockedCalendar(day) {
          return props.isDayBlocked(day);
        }

        return blockedCalendar;
      }(),
      'blocked-out-of-range': function () {
        function blockedOutOfRange(day) {
          return props.isOutsideRange(day);
        }

        return blockedOutOfRange;
      }(),
      'highlighted-calendar': function () {
        function highlightedCalendar(day) {
          return props.isDayHighlighted(day);
        }

        return highlightedCalendar;
      }(),
      valid: function () {
        function valid(day) {
          return !_this.isBlocked(day);
        }

        return valid;
      }(),
      'selected-start': function () {
        function selectedStart(day) {
          return _this.isStartDate(day);
        }

        return selectedStart;
      }(),
      'selected-end': function () {
        function selectedEnd(day) {
          return _this.isEndDate(day);
        }

        return selectedEnd;
      }(),
      'blocked-minimum-nights': function () {
        function blockedMinimumNights(day) {
          return _this.doesNotMeetMinimumNights(day);
        }

        return blockedMinimumNights;
      }(),
      'selected-span': function () {
        function selectedSpan(day) {
          return _this.isInSelectedSpan(day);
        }

        return selectedSpan;
      }(),
      'last-in-range': function () {
        function lastInRange(day) {
          return _this.isLastInRange(day);
        }

        return lastInRange;
      }(),
      hovered: function () {
        function hovered(day) {
          return _this.isHovered(day);
        }

        return hovered;
      }(),
      'hovered-span': function () {
        function hoveredSpan(day) {
          return _this.isInHoveredSpan(day);
        }

        return hoveredSpan;
      }(),
      'hovered-offset': function () {
        function hoveredOffset(day) {
          return _this.isInHoveredSpan(day);
        }

        return hoveredOffset;
      }(),
      'after-hovered-start': function () {
        function afterHoveredStart(day) {
          return _this.isDayAfterHoveredStartDate(day);
        }

        return afterHoveredStart;
      }(),
      'first-day-of-week': function () {
        function firstDayOfWeek(day) {
          return _this.isFirstDayOfWeek(day);
        }

        return firstDayOfWeek;
      }(),
      'last-day-of-week': function () {
        function lastDayOfWeek(day) {
          return _this.isLastDayOfWeek(day);
        }

        return lastDayOfWeek;
      }()
    };

    var _this$getStateForNewM = _this.getStateForNewMonth(props),
        currentMonth = _this$getStateForNewM.currentMonth,
        visibleDays = _this$getStateForNewM.visibleDays;

    // initialize phrases
    // set the appropriate CalendarDay phrase based on focusedInput


    var chooseAvailableDate = getChooseAvailableDatePhrase(props.phrases, props.focusedInput);

    _this.state = {
      hoverDate: null,
      currentMonth: currentMonth,
      phrases: (0, _object2['default'])({}, props.phrases, {
        chooseAvailableDate: chooseAvailableDate
      }),
      visibleDays: visibleDays
    };

    _this.onDayClick = _this.onDayClick.bind(_this);
    _this.onDayMouseEnter = _this.onDayMouseEnter.bind(_this);
    _this.onDayMouseLeave = _this.onDayMouseLeave.bind(_this);
    _this.onPrevMonthClick = _this.onPrevMonthClick.bind(_this);
    _this.onNextMonthClick = _this.onNextMonthClick.bind(_this);
    _this.onMonthChange = _this.onMonthChange.bind(_this);
    _this.onYearChange = _this.onYearChange.bind(_this);
    _this.onMultiplyScrollableMonths = _this.onMultiplyScrollableMonths.bind(_this);
    _this.getFirstFocusableDay = _this.getFirstFocusableDay.bind(_this);
    return _this;
  }

  _createClass(DayPickerRangeController, [{
    key: 'componentWillReceiveProps',
    value: function () {
      function componentWillReceiveProps(nextProps) {
        var _this2 = this;

        var startDate = nextProps.startDate,
            endDate = nextProps.endDate,
            focusedInput = nextProps.focusedInput,
            minimumNights = nextProps.minimumNights,
            isOutsideRange = nextProps.isOutsideRange,
            isDayBlocked = nextProps.isDayBlocked,
            isDayHighlighted = nextProps.isDayHighlighted,
            phrases = nextProps.phrases,
            initialVisibleMonth = nextProps.initialVisibleMonth,
            numberOfMonths = nextProps.numberOfMonths,
            enableOutsideDays = nextProps.enableOutsideDays;
        var _props = this.props,
            prevStartDate = _props.startDate,
            prevEndDate = _props.endDate,
            prevFocusedInput = _props.focusedInput,
            prevMinimumNights = _props.minimumNights,
            prevIsOutsideRange = _props.isOutsideRange,
            prevIsDayBlocked = _props.isDayBlocked,
            prevIsDayHighlighted = _props.isDayHighlighted,
            prevPhrases = _props.phrases,
            prevInitialVisibleMonth = _props.initialVisibleMonth,
            prevNumberOfMonths = _props.numberOfMonths,
            prevEnableOutsideDays = _props.enableOutsideDays;
        var visibleDays = this.state.visibleDays;


        var recomputeOutsideRange = false;
        var recomputeDayBlocked = false;
        var recomputeDayHighlighted = false;

        if (isOutsideRange !== prevIsOutsideRange) {
          this.modifiers['blocked-out-of-range'] = function (day) {
            return isOutsideRange(day);
          };
          recomputeOutsideRange = true;
        }

        if (isDayBlocked !== prevIsDayBlocked) {
          this.modifiers['blocked-calendar'] = function (day) {
            return isDayBlocked(day);
          };
          recomputeDayBlocked = true;
        }

        if (isDayHighlighted !== prevIsDayHighlighted) {
          this.modifiers['highlighted-calendar'] = function (day) {
            return isDayHighlighted(day);
          };
          recomputeDayHighlighted = true;
        }

        var recomputePropModifiers = recomputeOutsideRange || recomputeDayBlocked || recomputeDayHighlighted;

        var didStartDateChange = startDate !== prevStartDate;
        var didEndDateChange = endDate !== prevEndDate;
        var didFocusChange = focusedInput !== prevFocusedInput;

        if (numberOfMonths !== prevNumberOfMonths || enableOutsideDays !== prevEnableOutsideDays || initialVisibleMonth !== prevInitialVisibleMonth && !prevFocusedInput && didFocusChange) {
          var newMonthState = this.getStateForNewMonth(nextProps);
          var currentMonth = newMonthState.currentMonth;
          visibleDays = newMonthState.visibleDays;

          this.setState({
            currentMonth: currentMonth,
            visibleDays: visibleDays
          });
        }

        var modifiers = {};

        if (didStartDateChange) {
          modifiers = this.deleteModifier(modifiers, prevStartDate, 'selected-start');
          modifiers = this.addModifier(modifiers, startDate, 'selected-start');

          if (prevStartDate) {
            var startSpan = prevStartDate.clone().add(1, 'day');
            var endSpan = prevStartDate.clone().add(prevMinimumNights + 1, 'days');
            modifiers = this.deleteModifierFromRange(modifiers, startSpan, endSpan, 'after-hovered-start');
          }
        }

        if (didEndDateChange) {
          modifiers = this.deleteModifier(modifiers, prevEndDate, 'selected-end');
          modifiers = this.addModifier(modifiers, endDate, 'selected-end');
        }

        if (didStartDateChange || didEndDateChange) {
          if (prevStartDate && prevEndDate) {
            modifiers = this.deleteModifierFromRange(modifiers, prevStartDate, prevEndDate.clone().add(1, 'day'), 'selected-span');
          }

          if (startDate && endDate) {
            modifiers = this.deleteModifierFromRange(modifiers, startDate, endDate.clone().add(1, 'day'), 'hovered-span');

            modifiers = this.addModifierToRange(modifiers, startDate.clone().add(1, 'day'), endDate, 'selected-span');
          }
        }

        if (!this.isTouchDevice && didStartDateChange && startDate && !endDate) {
          var _startSpan = startDate.clone().add(1, 'day');
          var _endSpan = startDate.clone().add(minimumNights + 1, 'days');
          modifiers = this.addModifierToRange(modifiers, _startSpan, _endSpan, 'after-hovered-start');
        }

        if (prevMinimumNights > 0) {
          if (didFocusChange || didStartDateChange || minimumNights !== prevMinimumNights) {
            var _startSpan2 = prevStartDate || this.today;
            modifiers = this.deleteModifierFromRange(modifiers, _startSpan2, _startSpan2.clone().add(prevMinimumNights, 'days'), 'blocked-minimum-nights');

            modifiers = this.deleteModifierFromRange(modifiers, _startSpan2, _startSpan2.clone().add(prevMinimumNights, 'days'), 'blocked');
          }
        }

        if (didFocusChange || recomputePropModifiers) {
          (0, _object4['default'])(visibleDays).forEach(function (days) {
            Object.keys(days).forEach(function (day) {
              var momentObj = (0, _moment2['default'])(day);
              var isBlocked = false;

              if (didFocusChange || recomputeOutsideRange) {
                if (isOutsideRange(momentObj)) {
                  modifiers = _this2.addModifier(modifiers, momentObj, 'blocked-out-of-range');
                  isBlocked = true;
                } else {
                  modifiers = _this2.deleteModifier(modifiers, momentObj, 'blocked-out-of-range');
                }
              }

              if (didFocusChange || recomputeDayBlocked) {
                if (isDayBlocked(momentObj)) {
                  modifiers = _this2.addModifier(modifiers, momentObj, 'blocked-calendar');
                  isBlocked = true;
                } else {
                  modifiers = _this2.deleteModifier(modifiers, momentObj, 'blocked-calendar');
                }
              }

              if (isBlocked) {
                modifiers = _this2.addModifier(modifiers, momentObj, 'blocked');
              } else {
                modifiers = _this2.deleteModifier(modifiers, momentObj, 'blocked');
              }

              if (didFocusChange || recomputeDayHighlighted) {
                if (isDayHighlighted(momentObj)) {
                  modifiers = _this2.addModifier(modifiers, momentObj, 'highlighted-calendar');
                } else {
                  modifiers = _this2.deleteModifier(modifiers, momentObj, 'highlighted-calendar');
                }
              }
            });
          });
        }

        if (minimumNights > 0 && startDate && focusedInput === _constants.END_DATE) {
          modifiers = this.addModifierToRange(modifiers, startDate, startDate.clone().add(minimumNights, 'days'), 'blocked-minimum-nights');

          modifiers = this.addModifierToRange(modifiers, startDate, startDate.clone().add(minimumNights, 'days'), 'blocked');
        }

        var today = (0, _moment2['default'])();
        if (!(0, _isSameDay2['default'])(this.today, today)) {
          modifiers = this.deleteModifier(modifiers, this.today, 'today');
          modifiers = this.addModifier(modifiers, today, 'today');
          this.today = today;
        }

        if (Object.keys(modifiers).length > 0) {
          this.setState({
            visibleDays: (0, _object2['default'])({}, visibleDays, modifiers)
          });
        }

        if (didFocusChange || phrases !== prevPhrases) {
          // set the appropriate CalendarDay phrase based on focusedInput
          var chooseAvailableDate = getChooseAvailableDatePhrase(phrases, focusedInput);

          this.setState({
            phrases: (0, _object2['default'])({}, phrases, {
              chooseAvailableDate: chooseAvailableDate
            })
          });
        }
      }

      return componentWillReceiveProps;
    }()
  }, {
    key: 'onDayClick',
    value: function () {
      function onDayClick(day, e) {
        var _props2 = this.props,
            keepOpenOnDateSelect = _props2.keepOpenOnDateSelect,
            minimumNights = _props2.minimumNights,
            onBlur = _props2.onBlur,
            focusedInput = _props2.focusedInput,
            onFocusChange = _props2.onFocusChange,
            onClose = _props2.onClose,
            onDatesChange = _props2.onDatesChange,
            startDateOffset = _props2.startDateOffset,
            endDateOffset = _props2.endDateOffset,
            disabled = _props2.disabled;


        if (e) e.preventDefault();
        if (this.isBlocked(day)) return;

        var _props3 = this.props,
            startDate = _props3.startDate,
            endDate = _props3.endDate;


        if (startDateOffset || endDateOffset) {
          startDate = (0, _getSelectedDateOffset2['default'])(startDateOffset, day);
          endDate = (0, _getSelectedDateOffset2['default'])(endDateOffset, day);

          if (!keepOpenOnDateSelect) {
            onFocusChange(null);
            onClose({ startDate: startDate, endDate: endDate });
          }
        } else if (focusedInput === _constants.START_DATE) {
          var lastAllowedStartDate = endDate && endDate.clone().subtract(minimumNights, 'days');
          var isStartDateAfterEndDate = (0, _isBeforeDay2['default'])(lastAllowedStartDate, day) || (0, _isAfterDay2['default'])(startDate, endDate);
          var isEndDateDisabled = disabled === _constants.END_DATE;

          if (!isEndDateDisabled || !isStartDateAfterEndDate) {
            startDate = day;
            if (isStartDateAfterEndDate) {
              endDate = null;
            }
          }

          if (isEndDateDisabled && !isStartDateAfterEndDate) {
            onFocusChange(null);
            onClose({ startDate: startDate, endDate: endDate });
          } else if (!isEndDateDisabled) {
            onFocusChange(_constants.END_DATE);
          }
        } else if (focusedInput === _constants.END_DATE) {
          var firstAllowedEndDate = startDate && startDate.clone().add(minimumNights, 'days');

          if (!startDate) {
            endDate = day;
            onFocusChange(_constants.START_DATE);
          } else if ((0, _isInclusivelyAfterDay2['default'])(day, firstAllowedEndDate)) {
            endDate = day;
            if (!keepOpenOnDateSelect) {
              onFocusChange(null);
              onClose({ startDate: startDate, endDate: endDate });
            }
          } else if (disabled !== _constants.START_DATE) {
            startDate = day;
            endDate = null;
          }
        }

        onDatesChange({ startDate: startDate, endDate: endDate });
        onBlur();
      }

      return onDayClick;
    }()
  }, {
    key: 'onDayMouseEnter',
    value: function () {
      function onDayMouseEnter(day) {
        /* eslint react/destructuring-assignment: 1 */
        if (this.isTouchDevice) return;
        var _props4 = this.props,
            startDate = _props4.startDate,
            endDate = _props4.endDate,
            focusedInput = _props4.focusedInput,
            minimumNights = _props4.minimumNights,
            startDateOffset = _props4.startDateOffset,
            endDateOffset = _props4.endDateOffset;
        var _state = this.state,
            hoverDate = _state.hoverDate,
            visibleDays = _state.visibleDays;

        var dateOffset = null;

        if (focusedInput) {
          var hasOffset = startDateOffset || endDateOffset;
          var modifiers = {};

          if (hasOffset) {
            var start = (0, _getSelectedDateOffset2['default'])(startDateOffset, day);
            var end = (0, _getSelectedDateOffset2['default'])(endDateOffset, day, function (rangeDay) {
              return rangeDay.add(1, 'day');
            });

            dateOffset = {
              start: start,
              end: end
            };

            // eslint-disable-next-line react/destructuring-assignment
            if (this.state.dateOffset && this.state.dateOffset.start && this.state.dateOffset.end) {
              modifiers = this.deleteModifierFromRange(modifiers, this.state.dateOffset.start, this.state.dateOffset.end, 'hovered-offset');
            }
            modifiers = this.addModifierToRange(modifiers, start, end, 'hovered-offset');
          }

          if (!hasOffset) {
            modifiers = this.deleteModifier(modifiers, hoverDate, 'hovered');
            modifiers = this.addModifier(modifiers, day, 'hovered');

            if (startDate && !endDate && focusedInput === _constants.END_DATE) {
              if ((0, _isAfterDay2['default'])(hoverDate, startDate)) {
                var endSpan = hoverDate.clone().add(1, 'day');
                modifiers = this.deleteModifierFromRange(modifiers, startDate, endSpan, 'hovered-span');
              }

              if (!this.isBlocked(day) && (0, _isAfterDay2['default'])(day, startDate)) {
                var _endSpan2 = day.clone().add(1, 'day');
                modifiers = this.addModifierToRange(modifiers, startDate, _endSpan2, 'hovered-span');
              }
            }

            if (!startDate && endDate && focusedInput === _constants.START_DATE) {
              if ((0, _isBeforeDay2['default'])(hoverDate, endDate)) {
                modifiers = this.deleteModifierFromRange(modifiers, hoverDate, endDate, 'hovered-span');
              }

              if (!this.isBlocked(day) && (0, _isBeforeDay2['default'])(day, endDate)) {
                modifiers = this.addModifierToRange(modifiers, day, endDate, 'hovered-span');
              }
            }

            if (startDate) {
              var startSpan = startDate.clone().add(1, 'day');
              var _endSpan3 = startDate.clone().add(minimumNights + 1, 'days');
              modifiers = this.deleteModifierFromRange(modifiers, startSpan, _endSpan3, 'after-hovered-start');

              if ((0, _isSameDay2['default'])(day, startDate)) {
                var newStartSpan = startDate.clone().add(1, 'day');
                var newEndSpan = startDate.clone().add(minimumNights + 1, 'days');
                modifiers = this.addModifierToRange(modifiers, newStartSpan, newEndSpan, 'after-hovered-start');
              }
            }
          }

          this.setState({
            hoverDate: day,
            dateOffset: dateOffset,
            visibleDays: (0, _object2['default'])({}, visibleDays, modifiers)
          });
        }
      }

      return onDayMouseEnter;
    }()
  }, {
    key: 'onDayMouseLeave',
    value: function () {
      function onDayMouseLeave(day) {
        var _props5 = this.props,
            startDate = _props5.startDate,
            endDate = _props5.endDate,
            minimumNights = _props5.minimumNights;
        var _state2 = this.state,
            hoverDate = _state2.hoverDate,
            visibleDays = _state2.visibleDays,
            dateOffset = _state2.dateOffset;

        if (this.isTouchDevice || !hoverDate) return;

        var modifiers = {};
        modifiers = this.deleteModifier(modifiers, hoverDate, 'hovered');

        if (dateOffset) {
          modifiers = this.deleteModifierFromRange(modifiers, this.state.dateOffset.start, this.state.dateOffset.end, 'hovered-offset');
        }

        if (startDate && !endDate && (0, _isAfterDay2['default'])(hoverDate, startDate)) {
          var endSpan = hoverDate.clone().add(1, 'day');
          modifiers = this.deleteModifierFromRange(modifiers, startDate, endSpan, 'hovered-span');
        }

        if (!startDate && endDate && (0, _isAfterDay2['default'])(endDate, hoverDate)) {
          modifiers = this.deleteModifierFromRange(modifiers, hoverDate, endDate, 'hovered-span');
        }

        if (startDate && (0, _isSameDay2['default'])(day, startDate)) {
          var startSpan = startDate.clone().add(1, 'day');
          var _endSpan4 = startDate.clone().add(minimumNights + 1, 'days');
          modifiers = this.deleteModifierFromRange(modifiers, startSpan, _endSpan4, 'after-hovered-start');
        }

        this.setState({
          hoverDate: null,
          visibleDays: (0, _object2['default'])({}, visibleDays, modifiers)
        });
      }

      return onDayMouseLeave;
    }()
  }, {
    key: 'onPrevMonthClick',
    value: function () {
      function onPrevMonthClick() {
        var _props6 = this.props,
            onPrevMonthClick = _props6.onPrevMonthClick,
            numberOfMonths = _props6.numberOfMonths,
            enableOutsideDays = _props6.enableOutsideDays;
        var _state3 = this.state,
            currentMonth = _state3.currentMonth,
            visibleDays = _state3.visibleDays;


        var newVisibleDays = {};
        Object.keys(visibleDays).sort().slice(0, numberOfMonths + 1).forEach(function (month) {
          newVisibleDays[month] = visibleDays[month];
        });

        var prevMonth = currentMonth.clone().subtract(2, 'months');
        var prevMonthVisibleDays = (0, _getVisibleDays2['default'])(prevMonth, 1, enableOutsideDays, true);

        var newCurrentMonth = currentMonth.clone().subtract(1, 'month');
        this.setState({
          currentMonth: newCurrentMonth,
          visibleDays: (0, _object2['default'])({}, newVisibleDays, this.getModifiers(prevMonthVisibleDays))
        }, function () {
          onPrevMonthClick(newCurrentMonth.clone());
        });
      }

      return onPrevMonthClick;
    }()
  }, {
    key: 'onNextMonthClick',
    value: function () {
      function onNextMonthClick() {
        var _props7 = this.props,
            onNextMonthClick = _props7.onNextMonthClick,
            numberOfMonths = _props7.numberOfMonths,
            enableOutsideDays = _props7.enableOutsideDays;
        var _state4 = this.state,
            currentMonth = _state4.currentMonth,
            visibleDays = _state4.visibleDays;


        var newVisibleDays = {};
        Object.keys(visibleDays).sort().slice(1).forEach(function (month) {
          newVisibleDays[month] = visibleDays[month];
        });

        var nextMonth = currentMonth.clone().add(numberOfMonths + 1, 'month');
        var nextMonthVisibleDays = (0, _getVisibleDays2['default'])(nextMonth, 1, enableOutsideDays, true);

        var newCurrentMonth = currentMonth.clone().add(1, 'month');
        this.setState({
          currentMonth: newCurrentMonth,
          visibleDays: (0, _object2['default'])({}, newVisibleDays, this.getModifiers(nextMonthVisibleDays))
        }, function () {
          onNextMonthClick(newCurrentMonth.clone());
        });
      }

      return onNextMonthClick;
    }()
  }, {
    key: 'onMonthChange',
    value: function () {
      function onMonthChange(newMonth) {
        var _props8 = this.props,
            numberOfMonths = _props8.numberOfMonths,
            enableOutsideDays = _props8.enableOutsideDays,
            orientation = _props8.orientation;

        var withoutTransitionMonths = orientation === _constants.VERTICAL_SCROLLABLE;
        var newVisibleDays = (0, _getVisibleDays2['default'])(newMonth, numberOfMonths, enableOutsideDays, withoutTransitionMonths);

        this.setState({
          currentMonth: newMonth.clone(),
          visibleDays: this.getModifiers(newVisibleDays)
        });
      }

      return onMonthChange;
    }()
  }, {
    key: 'onYearChange',
    value: function () {
      function onYearChange(newMonth) {
        var _props9 = this.props,
            numberOfMonths = _props9.numberOfMonths,
            enableOutsideDays = _props9.enableOutsideDays,
            orientation = _props9.orientation;

        var withoutTransitionMonths = orientation === _constants.VERTICAL_SCROLLABLE;
        var newVisibleDays = (0, _getVisibleDays2['default'])(newMonth, numberOfMonths, enableOutsideDays, withoutTransitionMonths);

        this.setState({
          currentMonth: newMonth.clone(),
          visibleDays: this.getModifiers(newVisibleDays)
        });
      }

      return onYearChange;
    }()
  }, {
    key: 'onMultiplyScrollableMonths',
    value: function () {
      function onMultiplyScrollableMonths() {
        var _props10 = this.props,
            numberOfMonths = _props10.numberOfMonths,
            enableOutsideDays = _props10.enableOutsideDays;
        var _state5 = this.state,
            currentMonth = _state5.currentMonth,
            visibleDays = _state5.visibleDays;


        var numberOfVisibleMonths = Object.keys(visibleDays).length;
        var nextMonth = currentMonth.clone().add(numberOfVisibleMonths, 'month');
        var newVisibleDays = (0, _getVisibleDays2['default'])(nextMonth, numberOfMonths, enableOutsideDays, true);

        this.setState({
          visibleDays: (0, _object2['default'])({}, visibleDays, this.getModifiers(newVisibleDays))
        });
      }

      return onMultiplyScrollableMonths;
    }()
  }, {
    key: 'getFirstFocusableDay',
    value: function () {
      function getFirstFocusableDay(newMonth) {
        var _this3 = this;

        var _props11 = this.props,
            startDate = _props11.startDate,
            endDate = _props11.endDate,
            focusedInput = _props11.focusedInput,
            minimumNights = _props11.minimumNights,
            numberOfMonths = _props11.numberOfMonths;


        var focusedDate = newMonth.clone().startOf('month');
        if (focusedInput === _constants.START_DATE && startDate) {
          focusedDate = startDate.clone();
        } else if (focusedInput === _constants.END_DATE && !endDate && startDate) {
          focusedDate = startDate.clone().add(minimumNights, 'days');
        } else if (focusedInput === _constants.END_DATE && endDate) {
          focusedDate = endDate.clone();
        }

        if (this.isBlocked(focusedDate)) {
          var days = [];
          var lastVisibleDay = newMonth.clone().add(numberOfMonths - 1, 'months').endOf('month');
          var currentDay = focusedDate.clone();
          while (!(0, _isAfterDay2['default'])(currentDay, lastVisibleDay)) {
            currentDay = currentDay.clone().add(1, 'day');
            days.push(currentDay);
          }

          var viableDays = days.filter(function (day) {
            return !_this3.isBlocked(day);
          });

          if (viableDays.length > 0) {
            var _viableDays = _slicedToArray(viableDays, 1);

            focusedDate = _viableDays[0];
          }
        }

        return focusedDate;
      }

      return getFirstFocusableDay;
    }()
  }, {
    key: 'getModifiers',
    value: function () {
      function getModifiers(visibleDays) {
        var _this4 = this;

        var modifiers = {};
        Object.keys(visibleDays).forEach(function (month) {
          modifiers[month] = {};
          visibleDays[month].forEach(function (day) {
            modifiers[month][(0, _toISODateString2['default'])(day)] = _this4.getModifiersForDay(day);
          });
        });

        return modifiers;
      }

      return getModifiers;
    }()
  }, {
    key: 'getModifiersForDay',
    value: function () {
      function getModifiersForDay(day) {
        var _this5 = this;

        return new Set(Object.keys(this.modifiers).filter(function (modifier) {
          return _this5.modifiers[modifier](day);
        }));
      }

      return getModifiersForDay;
    }()
  }, {
    key: 'getStateForNewMonth',
    value: function () {
      function getStateForNewMonth(nextProps) {
        var _this6 = this;

        var initialVisibleMonth = nextProps.initialVisibleMonth,
            numberOfMonths = nextProps.numberOfMonths,
            enableOutsideDays = nextProps.enableOutsideDays,
            orientation = nextProps.orientation,
            startDate = nextProps.startDate;

        var initialVisibleMonthThunk = initialVisibleMonth || (startDate ? function () {
          return startDate;
        } : function () {
          return _this6.today;
        });
        var currentMonth = initialVisibleMonthThunk();
        var withoutTransitionMonths = orientation === _constants.VERTICAL_SCROLLABLE;
        var visibleDays = this.getModifiers((0, _getVisibleDays2['default'])(currentMonth, numberOfMonths, enableOutsideDays, withoutTransitionMonths));
        return { currentMonth: currentMonth, visibleDays: visibleDays };
      }

      return getStateForNewMonth;
    }()
  }, {
    key: 'addModifier',
    value: function () {
      function addModifier(updatedDays, day, modifier) {
        var _props12 = this.props,
            numberOfVisibleMonths = _props12.numberOfMonths,
            enableOutsideDays = _props12.enableOutsideDays,
            orientation = _props12.orientation;
        var _state6 = this.state,
            firstVisibleMonth = _state6.currentMonth,
            visibleDays = _state6.visibleDays;


        var currentMonth = firstVisibleMonth;
        var numberOfMonths = numberOfVisibleMonths;
        if (orientation === _constants.VERTICAL_SCROLLABLE) {
          numberOfMonths = Object.keys(visibleDays).length;
        } else {
          currentMonth = currentMonth.clone().subtract(1, 'month');
          numberOfMonths += 2;
        }
        if (!day || !(0, _isDayVisible2['default'])(day, currentMonth, numberOfMonths, enableOutsideDays)) {
          return updatedDays;
        }

        var iso = (0, _toISODateString2['default'])(day);

        var updatedDaysAfterAddition = (0, _object2['default'])({}, updatedDays);
        if (enableOutsideDays) {
          var monthsToUpdate = Object.keys(visibleDays).filter(function (monthKey) {
            return Object.keys(visibleDays[monthKey]).indexOf(iso) > -1;
          });

          updatedDaysAfterAddition = monthsToUpdate.reduce(function (days, monthIso) {
            var month = updatedDays[monthIso] || visibleDays[monthIso];
            var modifiers = new Set(month[iso]);
            modifiers.add(modifier);
            return (0, _object2['default'])({}, days, _defineProperty({}, monthIso, (0, _object2['default'])({}, month, _defineProperty({}, iso, modifiers))));
          }, updatedDaysAfterAddition);
        } else {
          var monthIso = (0, _toISOMonthString2['default'])(day);
          var month = updatedDays[monthIso] || visibleDays[monthIso];

          var modifiers = new Set(month[iso]);
          modifiers.add(modifier);
          updatedDaysAfterAddition = (0, _object2['default'])({}, updatedDaysAfterAddition, _defineProperty({}, monthIso, (0, _object2['default'])({}, month, _defineProperty({}, iso, modifiers))));
        }

        return updatedDaysAfterAddition;
      }

      return addModifier;
    }()
  }, {
    key: 'addModifierToRange',
    value: function () {
      function addModifierToRange(updatedDays, start, end, modifier) {
        var days = updatedDays;

        var spanStart = start.clone();
        while ((0, _isBeforeDay2['default'])(spanStart, end)) {
          days = this.addModifier(days, spanStart, modifier);
          spanStart = spanStart.clone().add(1, 'day');
        }

        return days;
      }

      return addModifierToRange;
    }()
  }, {
    key: 'deleteModifier',
    value: function () {
      function deleteModifier(updatedDays, day, modifier) {
        var _props13 = this.props,
            numberOfVisibleMonths = _props13.numberOfMonths,
            enableOutsideDays = _props13.enableOutsideDays,
            orientation = _props13.orientation;
        var _state7 = this.state,
            firstVisibleMonth = _state7.currentMonth,
            visibleDays = _state7.visibleDays;

        var currentMonth = firstVisibleMonth;
        var numberOfMonths = numberOfVisibleMonths;
        if (orientation === _constants.VERTICAL_SCROLLABLE) {
          numberOfMonths = Object.keys(visibleDays).length;
        } else {
          currentMonth = currentMonth.clone().subtract(1, 'month');
          numberOfMonths += 2;
        }
        if (!day || !(0, _isDayVisible2['default'])(day, currentMonth, numberOfMonths, enableOutsideDays)) {
          return updatedDays;
        }

        var iso = (0, _toISODateString2['default'])(day);

        var updatedDaysAfterDeletion = (0, _object2['default'])({}, updatedDays);
        if (enableOutsideDays) {
          var monthsToUpdate = Object.keys(visibleDays).filter(function (monthKey) {
            return Object.keys(visibleDays[monthKey]).indexOf(iso) > -1;
          });

          updatedDaysAfterDeletion = monthsToUpdate.reduce(function (days, monthIso) {
            var month = updatedDays[monthIso] || visibleDays[monthIso];
            var modifiers = new Set(month[iso]);
            modifiers['delete'](modifier);
            return (0, _object2['default'])({}, days, _defineProperty({}, monthIso, (0, _object2['default'])({}, month, _defineProperty({}, iso, modifiers))));
          }, updatedDaysAfterDeletion);
        } else {
          var monthIso = (0, _toISOMonthString2['default'])(day);
          var month = updatedDays[monthIso] || visibleDays[monthIso];

          var modifiers = new Set(month[iso]);
          modifiers['delete'](modifier);
          updatedDaysAfterDeletion = (0, _object2['default'])({}, updatedDaysAfterDeletion, _defineProperty({}, monthIso, (0, _object2['default'])({}, month, _defineProperty({}, iso, modifiers))));
        }

        return updatedDaysAfterDeletion;
      }

      return deleteModifier;
    }()
  }, {
    key: 'deleteModifierFromRange',
    value: function () {
      function deleteModifierFromRange(updatedDays, start, end, modifier) {
        var days = updatedDays;

        var spanStart = start.clone();
        while ((0, _isBeforeDay2['default'])(spanStart, end)) {
          days = this.deleteModifier(days, spanStart, modifier);
          spanStart = spanStart.clone().add(1, 'day');
        }

        return days;
      }

      return deleteModifierFromRange;
    }()
  }, {
    key: 'doesNotMeetMinimumNights',
    value: function () {
      function doesNotMeetMinimumNights(day) {
        var _props14 = this.props,
            startDate = _props14.startDate,
            isOutsideRange = _props14.isOutsideRange,
            focusedInput = _props14.focusedInput,
            minimumNights = _props14.minimumNights;

        if (focusedInput !== _constants.END_DATE) return false;

        if (startDate) {
          var dayDiff = day.diff(startDate.clone().startOf('day').hour(12), 'days');
          return dayDiff < minimumNights && dayDiff >= 0;
        }
        return isOutsideRange((0, _moment2['default'])(day).subtract(minimumNights, 'days'));
      }

      return doesNotMeetMinimumNights;
    }()
  }, {
    key: 'isDayAfterHoveredStartDate',
    value: function () {
      function isDayAfterHoveredStartDate(day) {
        var _props15 = this.props,
            startDate = _props15.startDate,
            endDate = _props15.endDate,
            minimumNights = _props15.minimumNights;

        var _ref = this.state || {},
            hoverDate = _ref.hoverDate;

        return !!startDate && !endDate && !this.isBlocked(day) && (0, _isNextDay2['default'])(hoverDate, day) && minimumNights > 0 && (0, _isSameDay2['default'])(hoverDate, startDate);
      }

      return isDayAfterHoveredStartDate;
    }()
  }, {
    key: 'isEndDate',
    value: function () {
      function isEndDate(day) {
        var endDate = this.props.endDate;

        return (0, _isSameDay2['default'])(day, endDate);
      }

      return isEndDate;
    }()
  }, {
    key: 'isHovered',
    value: function () {
      function isHovered(day) {
        var _ref2 = this.state || {},
            hoverDate = _ref2.hoverDate;

        var focusedInput = this.props.focusedInput;

        return !!focusedInput && (0, _isSameDay2['default'])(day, hoverDate);
      }

      return isHovered;
    }()
  }, {
    key: 'isInHoveredSpan',
    value: function () {
      function isInHoveredSpan(day) {
        var _props16 = this.props,
            startDate = _props16.startDate,
            endDate = _props16.endDate;

        var _ref3 = this.state || {},
            hoverDate = _ref3.hoverDate;

        var isForwardRange = !!startDate && !endDate && (day.isBetween(startDate, hoverDate) || (0, _isSameDay2['default'])(hoverDate, day));
        var isBackwardRange = !!endDate && !startDate && (day.isBetween(hoverDate, endDate) || (0, _isSameDay2['default'])(hoverDate, day));

        var isValidDayHovered = hoverDate && !this.isBlocked(hoverDate);

        return (isForwardRange || isBackwardRange) && isValidDayHovered;
      }

      return isInHoveredSpan;
    }()
  }, {
    key: 'isInSelectedSpan',
    value: function () {
      function isInSelectedSpan(day) {
        var _props17 = this.props,
            startDate = _props17.startDate,
            endDate = _props17.endDate;

        return day.isBetween(startDate, endDate);
      }

      return isInSelectedSpan;
    }()
  }, {
    key: 'isLastInRange',
    value: function () {
      function isLastInRange(day) {
        var endDate = this.props.endDate;

        return this.isInSelectedSpan(day) && (0, _isNextDay2['default'])(day, endDate);
      }

      return isLastInRange;
    }()
  }, {
    key: 'isStartDate',
    value: function () {
      function isStartDate(day) {
        var startDate = this.props.startDate;

        return (0, _isSameDay2['default'])(day, startDate);
      }

      return isStartDate;
    }()
  }, {
    key: 'isBlocked',
    value: function () {
      function isBlocked(day) {
        var _props18 = this.props,
            isDayBlocked = _props18.isDayBlocked,
            isOutsideRange = _props18.isOutsideRange;

        return isDayBlocked(day) || isOutsideRange(day) || this.doesNotMeetMinimumNights(day);
      }

      return isBlocked;
    }()
  }, {
    key: 'isToday',
    value: function () {
      function isToday(day) {
        return (0, _isSameDay2['default'])(day, this.today);
      }

      return isToday;
    }()
  }, {
    key: 'isFirstDayOfWeek',
    value: function () {
      function isFirstDayOfWeek(day) {
        var firstDayOfWeek = this.props.firstDayOfWeek;

        return day.day() === (firstDayOfWeek || _moment2['default'].localeData().firstDayOfWeek());
      }

      return isFirstDayOfWeek;
    }()
  }, {
    key: 'isLastDayOfWeek',
    value: function () {
      function isLastDayOfWeek(day) {
        var firstDayOfWeek = this.props.firstDayOfWeek;

        return day.day() === ((firstDayOfWeek || _moment2['default'].localeData().firstDayOfWeek()) + 6) % 7;
      }

      return isLastDayOfWeek;
    }()
  }, {
    key: 'render',
    value: function () {
      function render() {
        var _props19 = this.props,
            numberOfMonths = _props19.numberOfMonths,
            orientation = _props19.orientation,
            monthFormat = _props19.monthFormat,
            renderMonthText = _props19.renderMonthText,
            navPrev = _props19.navPrev,
            navNext = _props19.navNext,
            noNavButtons = _props19.noNavButtons,
            onOutsideClick = _props19.onOutsideClick,
            withPortal = _props19.withPortal,
            enableOutsideDays = _props19.enableOutsideDays,
            firstDayOfWeek = _props19.firstDayOfWeek,
            hideKeyboardShortcutsPanel = _props19.hideKeyboardShortcutsPanel,
            daySize = _props19.daySize,
            focusedInput = _props19.focusedInput,
            renderCalendarDay = _props19.renderCalendarDay,
            renderDayContents = _props19.renderDayContents,
            renderCalendarInfo = _props19.renderCalendarInfo,
            renderMonthElement = _props19.renderMonthElement,
            calendarInfoPosition = _props19.calendarInfoPosition,
            onBlur = _props19.onBlur,
            isFocused = _props19.isFocused,
            showKeyboardShortcuts = _props19.showKeyboardShortcuts,
            isRTL = _props19.isRTL,
            weekDayFormat = _props19.weekDayFormat,
            dayAriaLabelFormat = _props19.dayAriaLabelFormat,
            verticalHeight = _props19.verticalHeight,
            noBorder = _props19.noBorder,
            transitionDuration = _props19.transitionDuration,
            verticalBorderSpacing = _props19.verticalBorderSpacing,
            horizontalMonthPadding = _props19.horizontalMonthPadding;
        var _state8 = this.state,
            currentMonth = _state8.currentMonth,
            phrases = _state8.phrases,
            visibleDays = _state8.visibleDays;


        return _react2['default'].createElement(_DayPicker2['default'], {
          orientation: orientation,
          enableOutsideDays: enableOutsideDays,
          modifiers: visibleDays,
          numberOfMonths: numberOfMonths,
          onDayClick: this.onDayClick,
          onDayMouseEnter: this.onDayMouseEnter,
          onDayMouseLeave: this.onDayMouseLeave,
          onPrevMonthClick: this.onPrevMonthClick,
          onNextMonthClick: this.onNextMonthClick,
          onMonthChange: this.onMonthChange,
          onYearChange: this.onYearChange,
          onMultiplyScrollableMonths: this.onMultiplyScrollableMonths,
          monthFormat: monthFormat,
          renderMonthText: renderMonthText,
          withPortal: withPortal,
          hidden: !focusedInput,
          initialVisibleMonth: function () {
            function initialVisibleMonth() {
              return currentMonth;
            }

            return initialVisibleMonth;
          }(),
          daySize: daySize,
          onOutsideClick: onOutsideClick,
          navPrev: navPrev,
          navNext: navNext,
          noNavButtons: noNavButtons,
          renderCalendarDay: renderCalendarDay,
          renderDayContents: renderDayContents,
          renderCalendarInfo: renderCalendarInfo,
          renderMonthElement: renderMonthElement,
          calendarInfoPosition: calendarInfoPosition,
          firstDayOfWeek: firstDayOfWeek,
          hideKeyboardShortcutsPanel: hideKeyboardShortcutsPanel,
          isFocused: isFocused,
          getFirstFocusableDay: this.getFirstFocusableDay,
          onBlur: onBlur,
          showKeyboardShortcuts: showKeyboardShortcuts,
          phrases: phrases,
          isRTL: isRTL,
          weekDayFormat: weekDayFormat,
          dayAriaLabelFormat: dayAriaLabelFormat,
          verticalHeight: verticalHeight,
          verticalBorderSpacing: verticalBorderSpacing,
          noBorder: noBorder,
          transitionDuration: transitionDuration,
          horizontalMonthPadding: horizontalMonthPadding
        });
      }

      return render;
    }()
  }]);

  return DayPickerRangeController;
}(_react2['default'].Component);

exports['default'] = DayPickerRangeController;


DayPickerRangeController.propTypes = propTypes;
DayPickerRangeController.defaultProps = defaultProps;

/***/ }),

/***/ "./node_modules/react-dates/lib/components/DayPickerSingleDateController.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/react-dates/lib/components/DayPickerSingleDateController.js ***!
  \**********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _object = __webpack_require__(/*! object.assign */ "./node_modules/object.assign/index.js");

var _object2 = _interopRequireDefault(_object);

var _react = __webpack_require__(/*! react */ "./node_modules/react/index.js");

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactMomentProptypes = __webpack_require__(/*! react-moment-proptypes */ "./node_modules/react-moment-proptypes/src/index.js");

var _reactMomentProptypes2 = _interopRequireDefault(_reactMomentProptypes);

var _airbnbPropTypes = __webpack_require__(/*! airbnb-prop-types */ "./node_modules/airbnb-prop-types/index.js");

var _moment = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");

var _moment2 = _interopRequireDefault(_moment);

var _object3 = __webpack_require__(/*! object.values */ "./node_modules/object.values/index.js");

var _object4 = _interopRequireDefault(_object3);

var _isTouchDevice = __webpack_require__(/*! is-touch-device */ "./node_modules/is-touch-device/build/index.js");

var _isTouchDevice2 = _interopRequireDefault(_isTouchDevice);

var _defaultPhrases = __webpack_require__(/*! ../defaultPhrases */ "./node_modules/react-dates/lib/defaultPhrases.js");

var _getPhrasePropTypes = __webpack_require__(/*! ../utils/getPhrasePropTypes */ "./node_modules/react-dates/lib/utils/getPhrasePropTypes.js");

var _getPhrasePropTypes2 = _interopRequireDefault(_getPhrasePropTypes);

var _isSameDay = __webpack_require__(/*! ../utils/isSameDay */ "./node_modules/react-dates/lib/utils/isSameDay.js");

var _isSameDay2 = _interopRequireDefault(_isSameDay);

var _isAfterDay = __webpack_require__(/*! ../utils/isAfterDay */ "./node_modules/react-dates/lib/utils/isAfterDay.js");

var _isAfterDay2 = _interopRequireDefault(_isAfterDay);

var _getVisibleDays = __webpack_require__(/*! ../utils/getVisibleDays */ "./node_modules/react-dates/lib/utils/getVisibleDays.js");

var _getVisibleDays2 = _interopRequireDefault(_getVisibleDays);

var _isDayVisible = __webpack_require__(/*! ../utils/isDayVisible */ "./node_modules/react-dates/lib/utils/isDayVisible.js");

var _isDayVisible2 = _interopRequireDefault(_isDayVisible);

var _toISODateString = __webpack_require__(/*! ../utils/toISODateString */ "./node_modules/react-dates/lib/utils/toISODateString.js");

var _toISODateString2 = _interopRequireDefault(_toISODateString);

var _toISOMonthString = __webpack_require__(/*! ../utils/toISOMonthString */ "./node_modules/react-dates/lib/utils/toISOMonthString.js");

var _toISOMonthString2 = _interopRequireDefault(_toISOMonthString);

var _ScrollableOrientationShape = __webpack_require__(/*! ../shapes/ScrollableOrientationShape */ "./node_modules/react-dates/lib/shapes/ScrollableOrientationShape.js");

var _ScrollableOrientationShape2 = _interopRequireDefault(_ScrollableOrientationShape);

var _DayOfWeekShape = __webpack_require__(/*! ../shapes/DayOfWeekShape */ "./node_modules/react-dates/lib/shapes/DayOfWeekShape.js");

var _DayOfWeekShape2 = _interopRequireDefault(_DayOfWeekShape);

var _CalendarInfoPositionShape = __webpack_require__(/*! ../shapes/CalendarInfoPositionShape */ "./node_modules/react-dates/lib/shapes/CalendarInfoPositionShape.js");

var _CalendarInfoPositionShape2 = _interopRequireDefault(_CalendarInfoPositionShape);

var _constants = __webpack_require__(/*! ../constants */ "./node_modules/react-dates/lib/constants.js");

var _DayPicker = __webpack_require__(/*! ./DayPicker */ "./node_modules/react-dates/lib/components/DayPicker.js");

var _DayPicker2 = _interopRequireDefault(_DayPicker);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var propTypes = (0, _airbnbPropTypes.forbidExtraProps)({
  date: _reactMomentProptypes2['default'].momentObj,
  onDateChange: _propTypes2['default'].func,

  focused: _propTypes2['default'].bool,
  onFocusChange: _propTypes2['default'].func,
  onClose: _propTypes2['default'].func,

  keepOpenOnDateSelect: _propTypes2['default'].bool,
  isOutsideRange: _propTypes2['default'].func,
  isDayBlocked: _propTypes2['default'].func,
  isDayHighlighted: _propTypes2['default'].func,

  // DayPicker props
  renderMonthText: (0, _airbnbPropTypes.mutuallyExclusiveProps)(_propTypes2['default'].func, 'renderMonthText', 'renderMonthElement'),
  renderMonthElement: (0, _airbnbPropTypes.mutuallyExclusiveProps)(_propTypes2['default'].func, 'renderMonthText', 'renderMonthElement'),
  enableOutsideDays: _propTypes2['default'].bool,
  numberOfMonths: _propTypes2['default'].number,
  orientation: _ScrollableOrientationShape2['default'],
  withPortal: _propTypes2['default'].bool,
  initialVisibleMonth: _propTypes2['default'].func,
  firstDayOfWeek: _DayOfWeekShape2['default'],
  hideKeyboardShortcutsPanel: _propTypes2['default'].bool,
  daySize: _airbnbPropTypes.nonNegativeInteger,
  verticalHeight: _airbnbPropTypes.nonNegativeInteger,
  noBorder: _propTypes2['default'].bool,
  verticalBorderSpacing: _airbnbPropTypes.nonNegativeInteger,
  transitionDuration: _airbnbPropTypes.nonNegativeInteger,
  horizontalMonthPadding: _airbnbPropTypes.nonNegativeInteger,

  navPrev: _propTypes2['default'].node,
  navNext: _propTypes2['default'].node,

  onPrevMonthClick: _propTypes2['default'].func,
  onNextMonthClick: _propTypes2['default'].func,
  onOutsideClick: _propTypes2['default'].func,
  renderCalendarDay: _propTypes2['default'].func,
  renderDayContents: _propTypes2['default'].func,
  renderCalendarInfo: _propTypes2['default'].func,
  calendarInfoPosition: _CalendarInfoPositionShape2['default'],

  // accessibility
  onBlur: _propTypes2['default'].func,
  isFocused: _propTypes2['default'].bool,
  showKeyboardShortcuts: _propTypes2['default'].bool,

  // i18n
  monthFormat: _propTypes2['default'].string,
  weekDayFormat: _propTypes2['default'].string,
  phrases: _propTypes2['default'].shape((0, _getPhrasePropTypes2['default'])(_defaultPhrases.DayPickerPhrases)),
  dayAriaLabelFormat: _propTypes2['default'].string,

  isRTL: _propTypes2['default'].bool
});

var defaultProps = {
  date: undefined, // TODO: use null
  onDateChange: function () {
    function onDateChange() {}

    return onDateChange;
  }(),


  focused: false,
  onFocusChange: function () {
    function onFocusChange() {}

    return onFocusChange;
  }(),
  onClose: function () {
    function onClose() {}

    return onClose;
  }(),


  keepOpenOnDateSelect: false,
  isOutsideRange: function () {
    function isOutsideRange() {}

    return isOutsideRange;
  }(),
  isDayBlocked: function () {
    function isDayBlocked() {}

    return isDayBlocked;
  }(),
  isDayHighlighted: function () {
    function isDayHighlighted() {}

    return isDayHighlighted;
  }(),


  // DayPicker props
  renderMonthText: null,
  enableOutsideDays: false,
  numberOfMonths: 1,
  orientation: _constants.HORIZONTAL_ORIENTATION,
  withPortal: false,
  hideKeyboardShortcutsPanel: false,
  initialVisibleMonth: null,
  firstDayOfWeek: null,
  daySize: _constants.DAY_SIZE,
  verticalHeight: null,
  noBorder: false,
  verticalBorderSpacing: undefined,
  transitionDuration: undefined,
  horizontalMonthPadding: 13,

  navPrev: null,
  navNext: null,

  onPrevMonthClick: function () {
    function onPrevMonthClick() {}

    return onPrevMonthClick;
  }(),
  onNextMonthClick: function () {
    function onNextMonthClick() {}

    return onNextMonthClick;
  }(),
  onOutsideClick: function () {
    function onOutsideClick() {}

    return onOutsideClick;
  }(),


  renderCalendarDay: undefined,
  renderDayContents: null,
  renderCalendarInfo: null,
  renderMonthElement: null,
  calendarInfoPosition: _constants.INFO_POSITION_BOTTOM,

  // accessibility
  onBlur: function () {
    function onBlur() {}

    return onBlur;
  }(),

  isFocused: false,
  showKeyboardShortcuts: false,

  // i18n
  monthFormat: 'MMMM YYYY',
  weekDayFormat: 'dd',
  phrases: _defaultPhrases.DayPickerPhrases,
  dayAriaLabelFormat: undefined,

  isRTL: false
};

var DayPickerSingleDateController = function (_React$Component) {
  _inherits(DayPickerSingleDateController, _React$Component);

  function DayPickerSingleDateController(props) {
    _classCallCheck(this, DayPickerSingleDateController);

    var _this = _possibleConstructorReturn(this, (DayPickerSingleDateController.__proto__ || Object.getPrototypeOf(DayPickerSingleDateController)).call(this, props));

    _this.isTouchDevice = false;
    _this.today = (0, _moment2['default'])();

    _this.modifiers = {
      today: function () {
        function today(day) {
          return _this.isToday(day);
        }

        return today;
      }(),
      blocked: function () {
        function blocked(day) {
          return _this.isBlocked(day);
        }

        return blocked;
      }(),
      'blocked-calendar': function () {
        function blockedCalendar(day) {
          return props.isDayBlocked(day);
        }

        return blockedCalendar;
      }(),
      'blocked-out-of-range': function () {
        function blockedOutOfRange(day) {
          return props.isOutsideRange(day);
        }

        return blockedOutOfRange;
      }(),
      'highlighted-calendar': function () {
        function highlightedCalendar(day) {
          return props.isDayHighlighted(day);
        }

        return highlightedCalendar;
      }(),
      valid: function () {
        function valid(day) {
          return !_this.isBlocked(day);
        }

        return valid;
      }(),
      hovered: function () {
        function hovered(day) {
          return _this.isHovered(day);
        }

        return hovered;
      }(),
      selected: function () {
        function selected(day) {
          return _this.isSelected(day);
        }

        return selected;
      }(),
      'first-day-of-week': function () {
        function firstDayOfWeek(day) {
          return _this.isFirstDayOfWeek(day);
        }

        return firstDayOfWeek;
      }(),
      'last-day-of-week': function () {
        function lastDayOfWeek(day) {
          return _this.isLastDayOfWeek(day);
        }

        return lastDayOfWeek;
      }()
    };

    var _this$getStateForNewM = _this.getStateForNewMonth(props),
        currentMonth = _this$getStateForNewM.currentMonth,
        visibleDays = _this$getStateForNewM.visibleDays;

    _this.state = {
      hoverDate: null,
      currentMonth: currentMonth,
      visibleDays: visibleDays
    };

    _this.onDayMouseEnter = _this.onDayMouseEnter.bind(_this);
    _this.onDayMouseLeave = _this.onDayMouseLeave.bind(_this);
    _this.onDayClick = _this.onDayClick.bind(_this);

    _this.onPrevMonthClick = _this.onPrevMonthClick.bind(_this);
    _this.onNextMonthClick = _this.onNextMonthClick.bind(_this);
    _this.onMonthChange = _this.onMonthChange.bind(_this);
    _this.onYearChange = _this.onYearChange.bind(_this);

    _this.getFirstFocusableDay = _this.getFirstFocusableDay.bind(_this);
    return _this;
  }

  _createClass(DayPickerSingleDateController, [{
    key: 'componentDidMount',
    value: function () {
      function componentDidMount() {
        this.isTouchDevice = (0, _isTouchDevice2['default'])();
      }

      return componentDidMount;
    }()
  }, {
    key: 'componentWillReceiveProps',
    value: function () {
      function componentWillReceiveProps(nextProps) {
        var _this2 = this;

        var date = nextProps.date,
            focused = nextProps.focused,
            isOutsideRange = nextProps.isOutsideRange,
            isDayBlocked = nextProps.isDayBlocked,
            isDayHighlighted = nextProps.isDayHighlighted,
            initialVisibleMonth = nextProps.initialVisibleMonth,
            numberOfMonths = nextProps.numberOfMonths,
            enableOutsideDays = nextProps.enableOutsideDays;
        var _props = this.props,
            prevIsOutsideRange = _props.isOutsideRange,
            prevIsDayBlocked = _props.isDayBlocked,
            prevIsDayHighlighted = _props.isDayHighlighted,
            prevNumberOfMonths = _props.numberOfMonths,
            prevEnableOutsideDays = _props.enableOutsideDays,
            prevInitialVisibleMonth = _props.initialVisibleMonth,
            prevFocused = _props.focused,
            prevDate = _props.date;
        var visibleDays = this.state.visibleDays;


        var recomputeOutsideRange = false;
        var recomputeDayBlocked = false;
        var recomputeDayHighlighted = false;

        if (isOutsideRange !== prevIsOutsideRange) {
          this.modifiers['blocked-out-of-range'] = function (day) {
            return isOutsideRange(day);
          };
          recomputeOutsideRange = true;
        }

        if (isDayBlocked !== prevIsDayBlocked) {
          this.modifiers['blocked-calendar'] = function (day) {
            return isDayBlocked(day);
          };
          recomputeDayBlocked = true;
        }

        if (isDayHighlighted !== prevIsDayHighlighted) {
          this.modifiers['highlighted-calendar'] = function (day) {
            return isDayHighlighted(day);
          };
          recomputeDayHighlighted = true;
        }

        var recomputePropModifiers = recomputeOutsideRange || recomputeDayBlocked || recomputeDayHighlighted;

        if (numberOfMonths !== prevNumberOfMonths || enableOutsideDays !== prevEnableOutsideDays || initialVisibleMonth !== prevInitialVisibleMonth && !prevFocused && focused) {
          var newMonthState = this.getStateForNewMonth(nextProps);
          var currentMonth = newMonthState.currentMonth;
          visibleDays = newMonthState.visibleDays;

          this.setState({
            currentMonth: currentMonth,
            visibleDays: visibleDays
          });
        }

        var didDateChange = date !== prevDate;
        var didFocusChange = focused !== prevFocused;

        var modifiers = {};

        if (didDateChange) {
          modifiers = this.deleteModifier(modifiers, prevDate, 'selected');
          modifiers = this.addModifier(modifiers, date, 'selected');
        }

        if (didFocusChange || recomputePropModifiers) {
          (0, _object4['default'])(visibleDays).forEach(function (days) {
            Object.keys(days).forEach(function (day) {
              var momentObj = (0, _moment2['default'])(day);
              if (_this2.isBlocked(momentObj)) {
                modifiers = _this2.addModifier(modifiers, momentObj, 'blocked');
              } else {
                modifiers = _this2.deleteModifier(modifiers, momentObj, 'blocked');
              }

              if (didFocusChange || recomputeOutsideRange) {
                if (isOutsideRange(momentObj)) {
                  modifiers = _this2.addModifier(modifiers, momentObj, 'blocked-out-of-range');
                } else {
                  modifiers = _this2.deleteModifier(modifiers, momentObj, 'blocked-out-of-range');
                }
              }

              if (didFocusChange || recomputeDayBlocked) {
                if (isDayBlocked(momentObj)) {
                  modifiers = _this2.addModifier(modifiers, momentObj, 'blocked-calendar');
                } else {
                  modifiers = _this2.deleteModifier(modifiers, momentObj, 'blocked-calendar');
                }
              }

              if (didFocusChange || recomputeDayHighlighted) {
                if (isDayHighlighted(momentObj)) {
                  modifiers = _this2.addModifier(modifiers, momentObj, 'highlighted-calendar');
                } else {
                  modifiers = _this2.deleteModifier(modifiers, momentObj, 'highlighted-calendar');
                }
              }
            });
          });
        }

        var today = (0, _moment2['default'])();
        if (!(0, _isSameDay2['default'])(this.today, today)) {
          modifiers = this.deleteModifier(modifiers, this.today, 'today');
          modifiers = this.addModifier(modifiers, today, 'today');
          this.today = today;
        }

        if (Object.keys(modifiers).length > 0) {
          this.setState({
            visibleDays: (0, _object2['default'])({}, visibleDays, modifiers)
          });
        }
      }

      return componentWillReceiveProps;
    }()
  }, {
    key: 'componentWillUpdate',
    value: function () {
      function componentWillUpdate() {
        this.today = (0, _moment2['default'])();
      }

      return componentWillUpdate;
    }()
  }, {
    key: 'onDayClick',
    value: function () {
      function onDayClick(day, e) {
        if (e) e.preventDefault();
        if (this.isBlocked(day)) return;
        var _props2 = this.props,
            onDateChange = _props2.onDateChange,
            keepOpenOnDateSelect = _props2.keepOpenOnDateSelect,
            onFocusChange = _props2.onFocusChange,
            onClose = _props2.onClose;


        onDateChange(day);
        if (!keepOpenOnDateSelect) {
          onFocusChange({ focused: false });
          onClose({ date: day });
        }
      }

      return onDayClick;
    }()
  }, {
    key: 'onDayMouseEnter',
    value: function () {
      function onDayMouseEnter(day) {
        if (this.isTouchDevice) return;
        var _state = this.state,
            hoverDate = _state.hoverDate,
            visibleDays = _state.visibleDays;


        var modifiers = this.deleteModifier({}, hoverDate, 'hovered');
        modifiers = this.addModifier(modifiers, day, 'hovered');

        this.setState({
          hoverDate: day,
          visibleDays: (0, _object2['default'])({}, visibleDays, modifiers)
        });
      }

      return onDayMouseEnter;
    }()
  }, {
    key: 'onDayMouseLeave',
    value: function () {
      function onDayMouseLeave() {
        var _state2 = this.state,
            hoverDate = _state2.hoverDate,
            visibleDays = _state2.visibleDays;

        if (this.isTouchDevice || !hoverDate) return;

        var modifiers = this.deleteModifier({}, hoverDate, 'hovered');

        this.setState({
          hoverDate: null,
          visibleDays: (0, _object2['default'])({}, visibleDays, modifiers)
        });
      }

      return onDayMouseLeave;
    }()
  }, {
    key: 'onPrevMonthClick',
    value: function () {
      function onPrevMonthClick() {
        var _props3 = this.props,
            onPrevMonthClick = _props3.onPrevMonthClick,
            numberOfMonths = _props3.numberOfMonths,
            enableOutsideDays = _props3.enableOutsideDays;
        var _state3 = this.state,
            currentMonth = _state3.currentMonth,
            visibleDays = _state3.visibleDays;


        var newVisibleDays = {};
        Object.keys(visibleDays).sort().slice(0, numberOfMonths + 1).forEach(function (month) {
          newVisibleDays[month] = visibleDays[month];
        });

        var prevMonth = currentMonth.clone().subtract(1, 'month');
        var prevMonthVisibleDays = (0, _getVisibleDays2['default'])(prevMonth, 1, enableOutsideDays);

        this.setState({
          currentMonth: prevMonth,
          visibleDays: (0, _object2['default'])({}, newVisibleDays, this.getModifiers(prevMonthVisibleDays))
        }, function () {
          onPrevMonthClick(prevMonth.clone());
        });
      }

      return onPrevMonthClick;
    }()
  }, {
    key: 'onNextMonthClick',
    value: function () {
      function onNextMonthClick() {
        var _props4 = this.props,
            onNextMonthClick = _props4.onNextMonthClick,
            numberOfMonths = _props4.numberOfMonths,
            enableOutsideDays = _props4.enableOutsideDays;
        var _state4 = this.state,
            currentMonth = _state4.currentMonth,
            visibleDays = _state4.visibleDays;


        var newVisibleDays = {};
        Object.keys(visibleDays).sort().slice(1).forEach(function (month) {
          newVisibleDays[month] = visibleDays[month];
        });

        var nextMonth = currentMonth.clone().add(numberOfMonths, 'month');
        var nextMonthVisibleDays = (0, _getVisibleDays2['default'])(nextMonth, 1, enableOutsideDays);

        var newCurrentMonth = currentMonth.clone().add(1, 'month');
        this.setState({
          currentMonth: newCurrentMonth,
          visibleDays: (0, _object2['default'])({}, newVisibleDays, this.getModifiers(nextMonthVisibleDays))
        }, function () {
          onNextMonthClick(newCurrentMonth.clone());
        });
      }

      return onNextMonthClick;
    }()
  }, {
    key: 'onMonthChange',
    value: function () {
      function onMonthChange(newMonth) {
        var _props5 = this.props,
            numberOfMonths = _props5.numberOfMonths,
            enableOutsideDays = _props5.enableOutsideDays,
            orientation = _props5.orientation;

        var withoutTransitionMonths = orientation === _constants.VERTICAL_SCROLLABLE;
        var newVisibleDays = (0, _getVisibleDays2['default'])(newMonth, numberOfMonths, enableOutsideDays, withoutTransitionMonths);

        this.setState({
          currentMonth: newMonth.clone(),
          visibleDays: this.getModifiers(newVisibleDays)
        });
      }

      return onMonthChange;
    }()
  }, {
    key: 'onYearChange',
    value: function () {
      function onYearChange(newMonth) {
        var _props6 = this.props,
            numberOfMonths = _props6.numberOfMonths,
            enableOutsideDays = _props6.enableOutsideDays,
            orientation = _props6.orientation;

        var withoutTransitionMonths = orientation === _constants.VERTICAL_SCROLLABLE;
        var newVisibleDays = (0, _getVisibleDays2['default'])(newMonth, numberOfMonths, enableOutsideDays, withoutTransitionMonths);

        this.setState({
          currentMonth: newMonth.clone(),
          visibleDays: this.getModifiers(newVisibleDays)
        });
      }

      return onYearChange;
    }()
  }, {
    key: 'getFirstFocusableDay',
    value: function () {
      function getFirstFocusableDay(newMonth) {
        var _this3 = this;

        var _props7 = this.props,
            date = _props7.date,
            numberOfMonths = _props7.numberOfMonths;


        var focusedDate = newMonth.clone().startOf('month');
        if (date) {
          focusedDate = date.clone();
        }

        if (this.isBlocked(focusedDate)) {
          var days = [];
          var lastVisibleDay = newMonth.clone().add(numberOfMonths - 1, 'months').endOf('month');
          var currentDay = focusedDate.clone();
          while (!(0, _isAfterDay2['default'])(currentDay, lastVisibleDay)) {
            currentDay = currentDay.clone().add(1, 'day');
            days.push(currentDay);
          }

          var viableDays = days.filter(function (day) {
            return !_this3.isBlocked(day) && (0, _isAfterDay2['default'])(day, focusedDate);
          });
          if (viableDays.length > 0) {
            var _viableDays = _slicedToArray(viableDays, 1);

            focusedDate = _viableDays[0];
          }
        }

        return focusedDate;
      }

      return getFirstFocusableDay;
    }()
  }, {
    key: 'getModifiers',
    value: function () {
      function getModifiers(visibleDays) {
        var _this4 = this;

        var modifiers = {};
        Object.keys(visibleDays).forEach(function (month) {
          modifiers[month] = {};
          visibleDays[month].forEach(function (day) {
            modifiers[month][(0, _toISODateString2['default'])(day)] = _this4.getModifiersForDay(day);
          });
        });

        return modifiers;
      }

      return getModifiers;
    }()
  }, {
    key: 'getModifiersForDay',
    value: function () {
      function getModifiersForDay(day) {
        var _this5 = this;

        return new Set(Object.keys(this.modifiers).filter(function (modifier) {
          return _this5.modifiers[modifier](day);
        }));
      }

      return getModifiersForDay;
    }()
  }, {
    key: 'getStateForNewMonth',
    value: function () {
      function getStateForNewMonth(nextProps) {
        var _this6 = this;

        var initialVisibleMonth = nextProps.initialVisibleMonth,
            date = nextProps.date,
            numberOfMonths = nextProps.numberOfMonths,
            enableOutsideDays = nextProps.enableOutsideDays;

        var initialVisibleMonthThunk = initialVisibleMonth || (date ? function () {
          return date;
        } : function () {
          return _this6.today;
        });
        var currentMonth = initialVisibleMonthThunk();
        var visibleDays = this.getModifiers((0, _getVisibleDays2['default'])(currentMonth, numberOfMonths, enableOutsideDays));
        return { currentMonth: currentMonth, visibleDays: visibleDays };
      }

      return getStateForNewMonth;
    }()
  }, {
    key: 'addModifier',
    value: function () {
      function addModifier(updatedDays, day, modifier) {
        var _props8 = this.props,
            numberOfVisibleMonths = _props8.numberOfMonths,
            enableOutsideDays = _props8.enableOutsideDays,
            orientation = _props8.orientation;
        var _state5 = this.state,
            firstVisibleMonth = _state5.currentMonth,
            visibleDays = _state5.visibleDays;


        var currentMonth = firstVisibleMonth;
        var numberOfMonths = numberOfVisibleMonths;
        if (orientation === _constants.VERTICAL_SCROLLABLE) {
          numberOfMonths = Object.keys(visibleDays).length;
        } else {
          currentMonth = currentMonth.clone().subtract(1, 'month');
          numberOfMonths += 2;
        }
        if (!day || !(0, _isDayVisible2['default'])(day, currentMonth, numberOfMonths, enableOutsideDays)) {
          return updatedDays;
        }

        var iso = (0, _toISODateString2['default'])(day);

        var updatedDaysAfterAddition = (0, _object2['default'])({}, updatedDays);
        if (enableOutsideDays) {
          var monthsToUpdate = Object.keys(visibleDays).filter(function (monthKey) {
            return Object.keys(visibleDays[monthKey]).indexOf(iso) > -1;
          });

          updatedDaysAfterAddition = monthsToUpdate.reduce(function (days, monthIso) {
            var month = updatedDays[monthIso] || visibleDays[monthIso];
            var modifiers = new Set(month[iso]);
            modifiers.add(modifier);
            return (0, _object2['default'])({}, days, _defineProperty({}, monthIso, (0, _object2['default'])({}, month, _defineProperty({}, iso, modifiers))));
          }, updatedDaysAfterAddition);
        } else {
          var monthIso = (0, _toISOMonthString2['default'])(day);
          var month = updatedDays[monthIso] || visibleDays[monthIso];

          var modifiers = new Set(month[iso]);
          modifiers.add(modifier);
          updatedDaysAfterAddition = (0, _object2['default'])({}, updatedDaysAfterAddition, _defineProperty({}, monthIso, (0, _object2['default'])({}, month, _defineProperty({}, iso, modifiers))));
        }

        return updatedDaysAfterAddition;
      }

      return addModifier;
    }()
  }, {
    key: 'deleteModifier',
    value: function () {
      function deleteModifier(updatedDays, day, modifier) {
        var _props9 = this.props,
            numberOfVisibleMonths = _props9.numberOfMonths,
            enableOutsideDays = _props9.enableOutsideDays,
            orientation = _props9.orientation;
        var _state6 = this.state,
            firstVisibleMonth = _state6.currentMonth,
            visibleDays = _state6.visibleDays;


        var currentMonth = firstVisibleMonth;
        var numberOfMonths = numberOfVisibleMonths;
        if (orientation === _constants.VERTICAL_SCROLLABLE) {
          numberOfMonths = Object.keys(visibleDays).length;
        } else {
          currentMonth = currentMonth.clone().subtract(1, 'month');
          numberOfMonths += 2;
        }
        if (!day || !(0, _isDayVisible2['default'])(day, currentMonth, numberOfMonths, enableOutsideDays)) {
          return updatedDays;
        }

        var iso = (0, _toISODateString2['default'])(day);

        var updatedDaysAfterDeletion = (0, _object2['default'])({}, updatedDays);
        if (enableOutsideDays) {
          var monthsToUpdate = Object.keys(visibleDays).filter(function (monthKey) {
            return Object.keys(visibleDays[monthKey]).indexOf(iso) > -1;
          });

          updatedDaysAfterDeletion = monthsToUpdate.reduce(function (days, monthIso) {
            var month = updatedDays[monthIso] || visibleDays[monthIso];
            var modifiers = new Set(month[iso]);
            modifiers['delete'](modifier);
            return (0, _object2['default'])({}, days, _defineProperty({}, monthIso, (0, _object2['default'])({}, month, _defineProperty({}, iso, modifiers))));
          }, updatedDaysAfterDeletion);
        } else {
          var monthIso = (0, _toISOMonthString2['default'])(day);
          var month = updatedDays[monthIso] || visibleDays[monthIso];

          var modifiers = new Set(month[iso]);
          modifiers['delete'](modifier);
          updatedDaysAfterDeletion = (0, _object2['default'])({}, updatedDaysAfterDeletion, _defineProperty({}, monthIso, (0, _object2['default'])({}, month, _defineProperty({}, iso, modifiers))));
        }

        return updatedDaysAfterDeletion;
      }

      return deleteModifier;
    }()
  }, {
    key: 'isBlocked',
    value: function () {
      function isBlocked(day) {
        var _props10 = this.props,
            isDayBlocked = _props10.isDayBlocked,
            isOutsideRange = _props10.isOutsideRange;

        return isDayBlocked(day) || isOutsideRange(day);
      }

      return isBlocked;
    }()
  }, {
    key: 'isHovered',
    value: function () {
      function isHovered(day) {
        var _ref = this.state || {},
            hoverDate = _ref.hoverDate;

        return (0, _isSameDay2['default'])(day, hoverDate);
      }

      return isHovered;
    }()
  }, {
    key: 'isSelected',
    value: function () {
      function isSelected(day) {
        var date = this.props.date;

        return (0, _isSameDay2['default'])(day, date);
      }

      return isSelected;
    }()
  }, {
    key: 'isToday',
    value: function () {
      function isToday(day) {
        return (0, _isSameDay2['default'])(day, this.today);
      }

      return isToday;
    }()
  }, {
    key: 'isFirstDayOfWeek',
    value: function () {
      function isFirstDayOfWeek(day) {
        var firstDayOfWeek = this.props.firstDayOfWeek;

        return day.day() === (firstDayOfWeek || _moment2['default'].localeData().firstDayOfWeek());
      }

      return isFirstDayOfWeek;
    }()
  }, {
    key: 'isLastDayOfWeek',
    value: function () {
      function isLastDayOfWeek(day) {
        var firstDayOfWeek = this.props.firstDayOfWeek;

        return day.day() === ((firstDayOfWeek || _moment2['default'].localeData().firstDayOfWeek()) + 6) % 7;
      }

      return isLastDayOfWeek;
    }()
  }, {
    key: 'render',
    value: function () {
      function render() {
        var _props11 = this.props,
            numberOfMonths = _props11.numberOfMonths,
            orientation = _props11.orientation,
            monthFormat = _props11.monthFormat,
            renderMonthText = _props11.renderMonthText,
            navPrev = _props11.navPrev,
            navNext = _props11.navNext,
            onOutsideClick = _props11.onOutsideClick,
            withPortal = _props11.withPortal,
            focused = _props11.focused,
            enableOutsideDays = _props11.enableOutsideDays,
            hideKeyboardShortcutsPanel = _props11.hideKeyboardShortcutsPanel,
            daySize = _props11.daySize,
            firstDayOfWeek = _props11.firstDayOfWeek,
            renderCalendarDay = _props11.renderCalendarDay,
            renderDayContents = _props11.renderDayContents,
            renderCalendarInfo = _props11.renderCalendarInfo,
            renderMonthElement = _props11.renderMonthElement,
            calendarInfoPosition = _props11.calendarInfoPosition,
            isFocused = _props11.isFocused,
            isRTL = _props11.isRTL,
            phrases = _props11.phrases,
            dayAriaLabelFormat = _props11.dayAriaLabelFormat,
            onBlur = _props11.onBlur,
            showKeyboardShortcuts = _props11.showKeyboardShortcuts,
            weekDayFormat = _props11.weekDayFormat,
            verticalHeight = _props11.verticalHeight,
            noBorder = _props11.noBorder,
            transitionDuration = _props11.transitionDuration,
            verticalBorderSpacing = _props11.verticalBorderSpacing,
            horizontalMonthPadding = _props11.horizontalMonthPadding;
        var _state7 = this.state,
            currentMonth = _state7.currentMonth,
            visibleDays = _state7.visibleDays;


        return _react2['default'].createElement(_DayPicker2['default'], {
          orientation: orientation,
          enableOutsideDays: enableOutsideDays,
          modifiers: visibleDays,
          numberOfMonths: numberOfMonths,
          onDayClick: this.onDayClick,
          onDayMouseEnter: this.onDayMouseEnter,
          onDayMouseLeave: this.onDayMouseLeave,
          onPrevMonthClick: this.onPrevMonthClick,
          onNextMonthClick: this.onNextMonthClick,
          onMonthChange: this.onMonthChange,
          onYearChange: this.onYearChange,
          monthFormat: monthFormat,
          withPortal: withPortal,
          hidden: !focused,
          hideKeyboardShortcutsPanel: hideKeyboardShortcutsPanel,
          initialVisibleMonth: function () {
            function initialVisibleMonth() {
              return currentMonth;
            }

            return initialVisibleMonth;
          }(),
          firstDayOfWeek: firstDayOfWeek,
          onOutsideClick: onOutsideClick,
          navPrev: navPrev,
          navNext: navNext,
          renderMonthText: renderMonthText,
          renderCalendarDay: renderCalendarDay,
          renderDayContents: renderDayContents,
          renderCalendarInfo: renderCalendarInfo,
          renderMonthElement: renderMonthElement,
          calendarInfoPosition: calendarInfoPosition,
          isFocused: isFocused,
          getFirstFocusableDay: this.getFirstFocusableDay,
          onBlur: onBlur,
          phrases: phrases,
          daySize: daySize,
          isRTL: isRTL,
          showKeyboardShortcuts: showKeyboardShortcuts,
          weekDayFormat: weekDayFormat,
          dayAriaLabelFormat: dayAriaLabelFormat,
          verticalHeight: verticalHeight,
          noBorder: noBorder,
          transitionDuration: transitionDuration,
          verticalBorderSpacing: verticalBorderSpacing,
          horizontalMonthPadding: horizontalMonthPadding
        });
      }

      return render;
    }()
  }]);

  return DayPickerSingleDateController;
}(_react2['default'].Component);

exports['default'] = DayPickerSingleDateController;


DayPickerSingleDateController.propTypes = propTypes;
DayPickerSingleDateController.defaultProps = defaultProps;

/***/ }),

/***/ "./node_modules/react-dates/lib/components/KeyboardShortcutRow.js":
/*!************************************************************************!*\
  !*** ./node_modules/react-dates/lib/components/KeyboardShortcutRow.js ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _object = __webpack_require__(/*! object.assign */ "./node_modules/object.assign/index.js");

var _object2 = _interopRequireDefault(_object);

var _react = __webpack_require__(/*! react */ "./node_modules/react/index.js");

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _airbnbPropTypes = __webpack_require__(/*! airbnb-prop-types */ "./node_modules/airbnb-prop-types/index.js");

var _reactWithStyles = __webpack_require__(/*! react-with-styles */ "./node_modules/react-with-styles/lib/withStyles.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var propTypes = (0, _airbnbPropTypes.forbidExtraProps)((0, _object2['default'])({}, _reactWithStyles.withStylesPropTypes, {
  unicode: _propTypes2['default'].string.isRequired,
  label: _propTypes2['default'].string.isRequired,
  action: _propTypes2['default'].string.isRequired,
  block: _propTypes2['default'].bool
}));

var defaultProps = {
  block: false
};

function KeyboardShortcutRow(_ref) {
  var unicode = _ref.unicode,
      label = _ref.label,
      action = _ref.action,
      block = _ref.block,
      styles = _ref.styles;

  return _react2['default'].createElement(
    'li',
    (0, _reactWithStyles.css)(styles.KeyboardShortcutRow, block && styles.KeyboardShortcutRow__block),
    _react2['default'].createElement(
      'div',
      (0, _reactWithStyles.css)(styles.KeyboardShortcutRow_keyContainer, block && styles.KeyboardShortcutRow_keyContainer__block),
      _react2['default'].createElement(
        'span',
        _extends({}, (0, _reactWithStyles.css)(styles.KeyboardShortcutRow_key), {
          role: 'img',
          'aria-label': String(label) + ',' // add comma so screen readers will pause before reading action
        }),
        unicode
      )
    ),
    _react2['default'].createElement(
      'div',
      (0, _reactWithStyles.css)(styles.KeyboardShortcutRow_action),
      action
    )
  );
}

KeyboardShortcutRow.propTypes = propTypes;
KeyboardShortcutRow.defaultProps = defaultProps;

exports['default'] = (0, _reactWithStyles.withStyles)(function (_ref2) {
  var color = _ref2.reactDates.color;
  return {
    KeyboardShortcutRow: {
      listStyle: 'none',
      margin: '6px 0'
    },

    KeyboardShortcutRow__block: {
      marginBottom: 16
    },

    KeyboardShortcutRow_keyContainer: {
      display: 'inline-block',
      whiteSpace: 'nowrap',
      textAlign: 'right',
      marginRight: 6
    },

    KeyboardShortcutRow_keyContainer__block: {
      textAlign: 'left',
      display: 'inline'
    },

    KeyboardShortcutRow_key: {
      fontFamily: 'monospace',
      fontSize: 12,
      textTransform: 'uppercase',
      background: color.core.grayLightest,
      padding: '2px 6px'
    },

    KeyboardShortcutRow_action: {
      display: 'inline',
      wordBreak: 'break-word',
      marginLeft: 8
    }
  };
})(KeyboardShortcutRow);

/***/ }),

/***/ "./node_modules/react-dates/lib/components/LeftArrow.js":
/*!**************************************************************!*\
  !*** ./node_modules/react-dates/lib/components/LeftArrow.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(/*! react */ "./node_modules/react/index.js");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var LeftArrow = function () {
  function LeftArrow(props) {
    return _react2['default'].createElement(
      'svg',
      props,
      _react2['default'].createElement('path', {
        d: 'M336.2 274.5l-210.1 210h805.4c13 0 23 10 23 23s-10 23-23 23H126.1l210.1 210.1c11 11 11 21 0 32-5 5-10 7-16 7s-11-2-16-7l-249.1-249c-11-11-11-21 0-32l249.1-249.1c21-21.1 53 10.9 32 32z'
      })
    );
  }

  return LeftArrow;
}();

LeftArrow.defaultProps = {
  viewBox: '0 0 1000 1000'
};
exports['default'] = LeftArrow;

/***/ }),

/***/ "./node_modules/react-dates/lib/components/RightArrow.js":
/*!***************************************************************!*\
  !*** ./node_modules/react-dates/lib/components/RightArrow.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _react = __webpack_require__(/*! react */ "./node_modules/react/index.js");

var _react2 = _interopRequireDefault(_react);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var RightArrow = function () {
  function RightArrow(props) {
    return _react2['default'].createElement(
      'svg',
      props,
      _react2['default'].createElement('path', {
        d: 'M694.4 242.4l249.1 249.1c11 11 11 21 0 32L694.4 772.7c-5 5-10 7-16 7s-11-2-16-7c-11-11-11-21 0-32l210.1-210.1H67.1c-13 0-23-10-23-23s10-23 23-23h805.4L662.4 274.5c-21-21.1 11-53.1 32-32.1z'
      })
    );
  }

  return RightArrow;
}();

RightArrow.defaultProps = {
  viewBox: '0 0 1000 1000'
};
exports['default'] = RightArrow;

/***/ }),

/***/ "./node_modules/react-dates/lib/components/SingleDatePicker.js":
/*!*********************************************************************!*\
  !*** ./node_modules/react-dates/lib/components/SingleDatePicker.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.PureSingleDatePicker = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _object = __webpack_require__(/*! object.assign */ "./node_modules/object.assign/index.js");

var _object2 = _interopRequireDefault(_object);

var _react = __webpack_require__(/*! react */ "./node_modules/react/index.js");

var _react2 = _interopRequireDefault(_react);

var _moment = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");

var _moment2 = _interopRequireDefault(_moment);

var _reactWithStyles = __webpack_require__(/*! react-with-styles */ "./node_modules/react-with-styles/lib/withStyles.js");

var _reactPortal = __webpack_require__(/*! react-portal */ "./node_modules/react-portal/es/index.js");

var _airbnbPropTypes = __webpack_require__(/*! airbnb-prop-types */ "./node_modules/airbnb-prop-types/index.js");

var _consolidatedEvents = __webpack_require__(/*! consolidated-events */ "./node_modules/consolidated-events/lib/index.esm.js");

var _isTouchDevice = __webpack_require__(/*! is-touch-device */ "./node_modules/is-touch-device/build/index.js");

var _isTouchDevice2 = _interopRequireDefault(_isTouchDevice);

var _reactOutsideClickHandler = __webpack_require__(/*! react-outside-click-handler */ "./node_modules/react-outside-click-handler/index.js");

var _reactOutsideClickHandler2 = _interopRequireDefault(_reactOutsideClickHandler);

var _SingleDatePickerShape = __webpack_require__(/*! ../shapes/SingleDatePickerShape */ "./node_modules/react-dates/lib/shapes/SingleDatePickerShape.js");

var _SingleDatePickerShape2 = _interopRequireDefault(_SingleDatePickerShape);

var _defaultPhrases = __webpack_require__(/*! ../defaultPhrases */ "./node_modules/react-dates/lib/defaultPhrases.js");

var _toMomentObject = __webpack_require__(/*! ../utils/toMomentObject */ "./node_modules/react-dates/lib/utils/toMomentObject.js");

var _toMomentObject2 = _interopRequireDefault(_toMomentObject);

var _toLocalizedDateString = __webpack_require__(/*! ../utils/toLocalizedDateString */ "./node_modules/react-dates/lib/utils/toLocalizedDateString.js");

var _toLocalizedDateString2 = _interopRequireDefault(_toLocalizedDateString);

var _getResponsiveContainerStyles = __webpack_require__(/*! ../utils/getResponsiveContainerStyles */ "./node_modules/react-dates/lib/utils/getResponsiveContainerStyles.js");

var _getResponsiveContainerStyles2 = _interopRequireDefault(_getResponsiveContainerStyles);

var _getDetachedContainerStyles = __webpack_require__(/*! ../utils/getDetachedContainerStyles */ "./node_modules/react-dates/lib/utils/getDetachedContainerStyles.js");

var _getDetachedContainerStyles2 = _interopRequireDefault(_getDetachedContainerStyles);

var _getInputHeight = __webpack_require__(/*! ../utils/getInputHeight */ "./node_modules/react-dates/lib/utils/getInputHeight.js");

var _getInputHeight2 = _interopRequireDefault(_getInputHeight);

var _isInclusivelyAfterDay = __webpack_require__(/*! ../utils/isInclusivelyAfterDay */ "./node_modules/react-dates/lib/utils/isInclusivelyAfterDay.js");

var _isInclusivelyAfterDay2 = _interopRequireDefault(_isInclusivelyAfterDay);

var _disableScroll2 = __webpack_require__(/*! ../utils/disableScroll */ "./node_modules/react-dates/lib/utils/disableScroll.js");

var _disableScroll3 = _interopRequireDefault(_disableScroll2);

var _SingleDatePickerInput = __webpack_require__(/*! ./SingleDatePickerInput */ "./node_modules/react-dates/lib/components/SingleDatePickerInput.js");

var _SingleDatePickerInput2 = _interopRequireDefault(_SingleDatePickerInput);

var _DayPickerSingleDateController = __webpack_require__(/*! ./DayPickerSingleDateController */ "./node_modules/react-dates/lib/components/DayPickerSingleDateController.js");

var _DayPickerSingleDateController2 = _interopRequireDefault(_DayPickerSingleDateController);

var _CloseButton = __webpack_require__(/*! ./CloseButton */ "./node_modules/react-dates/lib/components/CloseButton.js");

var _CloseButton2 = _interopRequireDefault(_CloseButton);

var _constants = __webpack_require__(/*! ../constants */ "./node_modules/react-dates/lib/constants.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var propTypes = (0, _airbnbPropTypes.forbidExtraProps)((0, _object2['default'])({}, _reactWithStyles.withStylesPropTypes, _SingleDatePickerShape2['default']));

var defaultProps = {
  // required props for a functional interactive SingleDatePicker
  date: null,
  focused: false,

  // input related props
  id: 'date',
  placeholder: 'Date',
  disabled: false,
  required: false,
  readOnly: false,
  screenReaderInputMessage: '',
  showClearDate: false,
  showDefaultInputIcon: false,
  inputIconPosition: _constants.ICON_BEFORE_POSITION,
  customInputIcon: null,
  customCloseIcon: null,
  noBorder: false,
  block: false,
  small: false,
  regular: false,
  verticalSpacing: _constants.DEFAULT_VERTICAL_SPACING,
  keepFocusOnInput: false,

  // calendar presentation and interaction related props
  orientation: _constants.HORIZONTAL_ORIENTATION,
  anchorDirection: _constants.ANCHOR_LEFT,
  openDirection: _constants.OPEN_DOWN,
  horizontalMargin: 0,
  withPortal: false,
  withFullScreenPortal: false,
  appendToBody: false,
  disableScroll: false,
  initialVisibleMonth: null,
  firstDayOfWeek: null,
  numberOfMonths: 2,
  keepOpenOnDateSelect: false,
  reopenPickerOnClearDate: false,
  renderCalendarInfo: null,
  calendarInfoPosition: _constants.INFO_POSITION_BOTTOM,
  hideKeyboardShortcutsPanel: false,
  daySize: _constants.DAY_SIZE,
  isRTL: false,
  verticalHeight: null,
  transitionDuration: undefined,
  horizontalMonthPadding: 13,

  // navigation related props
  navPrev: null,
  navNext: null,

  onPrevMonthClick: function () {
    function onPrevMonthClick() {}

    return onPrevMonthClick;
  }(),
  onNextMonthClick: function () {
    function onNextMonthClick() {}

    return onNextMonthClick;
  }(),
  onClose: function () {
    function onClose() {}

    return onClose;
  }(),


  // month presentation and interaction related props
  renderMonthText: null,

  // day presentation and interaction related props
  renderCalendarDay: undefined,
  renderDayContents: null,
  renderMonthElement: null,
  enableOutsideDays: false,
  isDayBlocked: function () {
    function isDayBlocked() {
      return false;
    }

    return isDayBlocked;
  }(),
  isOutsideRange: function () {
    function isOutsideRange(day) {
      return !(0, _isInclusivelyAfterDay2['default'])(day, (0, _moment2['default'])());
    }

    return isOutsideRange;
  }(),
  isDayHighlighted: function () {
    function isDayHighlighted() {}

    return isDayHighlighted;
  }(),

  // internationalization props
  displayFormat: function () {
    function displayFormat() {
      return _moment2['default'].localeData().longDateFormat('L');
    }

    return displayFormat;
  }(),
  monthFormat: 'MMMM YYYY',
  weekDayFormat: 'dd',
  phrases: _defaultPhrases.SingleDatePickerPhrases,
  dayAriaLabelFormat: undefined
};

var SingleDatePicker = function (_React$Component) {
  _inherits(SingleDatePicker, _React$Component);

  function SingleDatePicker(props) {
    _classCallCheck(this, SingleDatePicker);

    var _this = _possibleConstructorReturn(this, (SingleDatePicker.__proto__ || Object.getPrototypeOf(SingleDatePicker)).call(this, props));

    _this.isTouchDevice = false;

    _this.state = {
      dayPickerContainerStyles: {},
      isDayPickerFocused: false,
      isInputFocused: false,
      showKeyboardShortcuts: false
    };

    _this.onDayPickerFocus = _this.onDayPickerFocus.bind(_this);
    _this.onDayPickerBlur = _this.onDayPickerBlur.bind(_this);
    _this.showKeyboardShortcutsPanel = _this.showKeyboardShortcutsPanel.bind(_this);

    _this.onChange = _this.onChange.bind(_this);
    _this.onFocus = _this.onFocus.bind(_this);
    _this.onClearFocus = _this.onClearFocus.bind(_this);
    _this.clearDate = _this.clearDate.bind(_this);

    _this.responsivizePickerPosition = _this.responsivizePickerPosition.bind(_this);
    _this.disableScroll = _this.disableScroll.bind(_this);

    _this.setDayPickerContainerRef = _this.setDayPickerContainerRef.bind(_this);
    _this.setContainerRef = _this.setContainerRef.bind(_this);
    return _this;
  }

  /* istanbul ignore next */


  _createClass(SingleDatePicker, [{
    key: 'componentDidMount',
    value: function () {
      function componentDidMount() {
        this.removeEventListener = (0, _consolidatedEvents.addEventListener)(window, 'resize', this.responsivizePickerPosition, { passive: true });
        this.responsivizePickerPosition();
        this.disableScroll();

        var focused = this.props.focused;


        if (focused) {
          this.setState({
            isInputFocused: true
          });
        }

        this.isTouchDevice = (0, _isTouchDevice2['default'])();
      }

      return componentDidMount;
    }()
  }, {
    key: 'componentDidUpdate',
    value: function () {
      function componentDidUpdate(prevProps) {
        var focused = this.props.focused;

        if (!prevProps.focused && focused) {
          this.responsivizePickerPosition();
          this.disableScroll();
        } else if (prevProps.focused && !focused) {
          if (this.enableScroll) this.enableScroll();
        }
      }

      return componentDidUpdate;
    }()

    /* istanbul ignore next */

  }, {
    key: 'componentWillUnmount',
    value: function () {
      function componentWillUnmount() {
        if (this.removeEventListener) this.removeEventListener();
        if (this.enableScroll) this.enableScroll();
      }

      return componentWillUnmount;
    }()
  }, {
    key: 'onChange',
    value: function () {
      function onChange(dateString) {
        var _props = this.props,
            isOutsideRange = _props.isOutsideRange,
            keepOpenOnDateSelect = _props.keepOpenOnDateSelect,
            onDateChange = _props.onDateChange,
            onFocusChange = _props.onFocusChange,
            onClose = _props.onClose;

        var newDate = (0, _toMomentObject2['default'])(dateString, this.getDisplayFormat());

        var isValid = newDate && !isOutsideRange(newDate);
        if (isValid) {
          onDateChange(newDate);
          if (!keepOpenOnDateSelect) {
            onFocusChange({ focused: false });
            onClose({ date: newDate });
          }
        } else {
          onDateChange(null);
        }
      }

      return onChange;
    }()
  }, {
    key: 'onFocus',
    value: function () {
      function onFocus() {
        var _props2 = this.props,
            disabled = _props2.disabled,
            onFocusChange = _props2.onFocusChange,
            readOnly = _props2.readOnly,
            withPortal = _props2.withPortal,
            withFullScreenPortal = _props2.withFullScreenPortal,
            keepFocusOnInput = _props2.keepFocusOnInput;


        var withAnyPortal = withPortal || withFullScreenPortal;
        var moveFocusToDayPicker = withAnyPortal || readOnly && !keepFocusOnInput || this.isTouchDevice && !keepFocusOnInput;

        if (moveFocusToDayPicker) {
          this.onDayPickerFocus();
        } else {
          this.onDayPickerBlur();
        }

        if (!disabled) {
          onFocusChange({ focused: true });
        }
      }

      return onFocus;
    }()
  }, {
    key: 'onClearFocus',
    value: function () {
      function onClearFocus(event) {
        var _props3 = this.props,
            date = _props3.date,
            focused = _props3.focused,
            onFocusChange = _props3.onFocusChange,
            onClose = _props3.onClose,
            appendToBody = _props3.appendToBody;

        if (!focused) return;
        if (appendToBody && this.dayPickerContainer.contains(event.target)) return;

        this.setState({
          isInputFocused: false,
          isDayPickerFocused: false
        });

        onFocusChange({ focused: false });
        onClose({ date: date });
      }

      return onClearFocus;
    }()
  }, {
    key: 'onDayPickerFocus',
    value: function () {
      function onDayPickerFocus() {
        this.setState({
          isInputFocused: false,
          isDayPickerFocused: true,
          showKeyboardShortcuts: false
        });
      }

      return onDayPickerFocus;
    }()
  }, {
    key: 'onDayPickerBlur',
    value: function () {
      function onDayPickerBlur() {
        this.setState({
          isInputFocused: true,
          isDayPickerFocused: false,
          showKeyboardShortcuts: false
        });
      }

      return onDayPickerBlur;
    }()
  }, {
    key: 'getDateString',
    value: function () {
      function getDateString(date) {
        var displayFormat = this.getDisplayFormat();
        if (date && displayFormat) {
          return date && date.format(displayFormat);
        }
        return (0, _toLocalizedDateString2['default'])(date);
      }

      return getDateString;
    }()
  }, {
    key: 'getDisplayFormat',
    value: function () {
      function getDisplayFormat() {
        var displayFormat = this.props.displayFormat;

        return typeof displayFormat === 'string' ? displayFormat : displayFormat();
      }

      return getDisplayFormat;
    }()
  }, {
    key: 'setDayPickerContainerRef',
    value: function () {
      function setDayPickerContainerRef(ref) {
        this.dayPickerContainer = ref;
      }

      return setDayPickerContainerRef;
    }()
  }, {
    key: 'setContainerRef',
    value: function () {
      function setContainerRef(ref) {
        this.container = ref;
      }

      return setContainerRef;
    }()
  }, {
    key: 'clearDate',
    value: function () {
      function clearDate() {
        var _props4 = this.props,
            onDateChange = _props4.onDateChange,
            reopenPickerOnClearDate = _props4.reopenPickerOnClearDate,
            onFocusChange = _props4.onFocusChange;

        onDateChange(null);
        if (reopenPickerOnClearDate) {
          onFocusChange({ focused: true });
        }
      }

      return clearDate;
    }()
  }, {
    key: 'disableScroll',
    value: function () {
      function disableScroll() {
        var _props5 = this.props,
            appendToBody = _props5.appendToBody,
            propDisableScroll = _props5.disableScroll,
            focused = _props5.focused;

        if (!appendToBody && !propDisableScroll) return;
        if (!focused) return;

        // Disable scroll for every ancestor of this <SingleDatePicker> up to the
        // document level. This ensures the input and the picker never move. Other
        // sibling elements or the picker itself can scroll.
        this.enableScroll = (0, _disableScroll3['default'])(this.container);
      }

      return disableScroll;
    }()

    /* istanbul ignore next */

  }, {
    key: 'responsivizePickerPosition',
    value: function () {
      function responsivizePickerPosition() {
        // It's possible the portal props have been changed in response to window resizes
        // So let's ensure we reset this back to the base state each time
        this.setState({ dayPickerContainerStyles: {} });

        var _props6 = this.props,
            openDirection = _props6.openDirection,
            anchorDirection = _props6.anchorDirection,
            horizontalMargin = _props6.horizontalMargin,
            withPortal = _props6.withPortal,
            withFullScreenPortal = _props6.withFullScreenPortal,
            appendToBody = _props6.appendToBody,
            focused = _props6.focused;
        var dayPickerContainerStyles = this.state.dayPickerContainerStyles;


        if (!focused) {
          return;
        }

        var isAnchoredLeft = anchorDirection === _constants.ANCHOR_LEFT;

        if (!withPortal && !withFullScreenPortal) {
          var containerRect = this.dayPickerContainer.getBoundingClientRect();
          var currentOffset = dayPickerContainerStyles[anchorDirection] || 0;
          var containerEdge = isAnchoredLeft ? containerRect[_constants.ANCHOR_RIGHT] : containerRect[_constants.ANCHOR_LEFT];

          this.setState({
            dayPickerContainerStyles: (0, _object2['default'])({}, (0, _getResponsiveContainerStyles2['default'])(anchorDirection, currentOffset, containerEdge, horizontalMargin), appendToBody && (0, _getDetachedContainerStyles2['default'])(openDirection, anchorDirection, this.container))
          });
        }
      }

      return responsivizePickerPosition;
    }()
  }, {
    key: 'showKeyboardShortcutsPanel',
    value: function () {
      function showKeyboardShortcutsPanel() {
        this.setState({
          isInputFocused: false,
          isDayPickerFocused: true,
          showKeyboardShortcuts: true
        });
      }

      return showKeyboardShortcutsPanel;
    }()
  }, {
    key: 'maybeRenderDayPickerWithPortal',
    value: function () {
      function maybeRenderDayPickerWithPortal() {
        var _props7 = this.props,
            focused = _props7.focused,
            withPortal = _props7.withPortal,
            withFullScreenPortal = _props7.withFullScreenPortal,
            appendToBody = _props7.appendToBody;


        if (!focused) {
          return null;
        }

        if (withPortal || withFullScreenPortal || appendToBody) {
          return _react2['default'].createElement(
            _reactPortal.Portal,
            null,
            this.renderDayPicker()
          );
        }

        return this.renderDayPicker();
      }

      return maybeRenderDayPickerWithPortal;
    }()
  }, {
    key: 'renderDayPicker',
    value: function () {
      function renderDayPicker() {
        var _props8 = this.props,
            anchorDirection = _props8.anchorDirection,
            openDirection = _props8.openDirection,
            onDateChange = _props8.onDateChange,
            date = _props8.date,
            onFocusChange = _props8.onFocusChange,
            focused = _props8.focused,
            enableOutsideDays = _props8.enableOutsideDays,
            numberOfMonths = _props8.numberOfMonths,
            orientation = _props8.orientation,
            monthFormat = _props8.monthFormat,
            navPrev = _props8.navPrev,
            navNext = _props8.navNext,
            onPrevMonthClick = _props8.onPrevMonthClick,
            onNextMonthClick = _props8.onNextMonthClick,
            onClose = _props8.onClose,
            withPortal = _props8.withPortal,
            withFullScreenPortal = _props8.withFullScreenPortal,
            keepOpenOnDateSelect = _props8.keepOpenOnDateSelect,
            initialVisibleMonth = _props8.initialVisibleMonth,
            renderMonthText = _props8.renderMonthText,
            renderCalendarDay = _props8.renderCalendarDay,
            renderDayContents = _props8.renderDayContents,
            renderCalendarInfo = _props8.renderCalendarInfo,
            renderMonthElement = _props8.renderMonthElement,
            calendarInfoPosition = _props8.calendarInfoPosition,
            hideKeyboardShortcutsPanel = _props8.hideKeyboardShortcutsPanel,
            firstDayOfWeek = _props8.firstDayOfWeek,
            customCloseIcon = _props8.customCloseIcon,
            phrases = _props8.phrases,
            dayAriaLabelFormat = _props8.dayAriaLabelFormat,
            daySize = _props8.daySize,
            isRTL = _props8.isRTL,
            isOutsideRange = _props8.isOutsideRange,
            isDayBlocked = _props8.isDayBlocked,
            isDayHighlighted = _props8.isDayHighlighted,
            weekDayFormat = _props8.weekDayFormat,
            styles = _props8.styles,
            verticalHeight = _props8.verticalHeight,
            transitionDuration = _props8.transitionDuration,
            verticalSpacing = _props8.verticalSpacing,
            horizontalMonthPadding = _props8.horizontalMonthPadding,
            small = _props8.small,
            reactDates = _props8.theme.reactDates;
        var _state = this.state,
            dayPickerContainerStyles = _state.dayPickerContainerStyles,
            isDayPickerFocused = _state.isDayPickerFocused,
            showKeyboardShortcuts = _state.showKeyboardShortcuts;


        var onOutsideClick = !withFullScreenPortal && withPortal ? this.onClearFocus : undefined;
        var closeIcon = customCloseIcon || _react2['default'].createElement(_CloseButton2['default'], null);

        var inputHeight = (0, _getInputHeight2['default'])(reactDates, small);

        var withAnyPortal = withPortal || withFullScreenPortal;

        return _react2['default'].createElement(
          'div',
          _extends({ // eslint-disable-line jsx-a11y/no-static-element-interactions
            ref: this.setDayPickerContainerRef
          }, (0, _reactWithStyles.css)(styles.SingleDatePicker_picker, anchorDirection === _constants.ANCHOR_LEFT && styles.SingleDatePicker_picker__directionLeft, anchorDirection === _constants.ANCHOR_RIGHT && styles.SingleDatePicker_picker__directionRight, openDirection === _constants.OPEN_DOWN && styles.SingleDatePicker_picker__openDown, openDirection === _constants.OPEN_UP && styles.SingleDatePicker_picker__openUp, !withAnyPortal && openDirection === _constants.OPEN_DOWN && {
            top: inputHeight + verticalSpacing
          }, !withAnyPortal && openDirection === _constants.OPEN_UP && {
            bottom: inputHeight + verticalSpacing
          }, orientation === _constants.HORIZONTAL_ORIENTATION && styles.SingleDatePicker_picker__horizontal, orientation === _constants.VERTICAL_ORIENTATION && styles.SingleDatePicker_picker__vertical, withAnyPortal && styles.SingleDatePicker_picker__portal, withFullScreenPortal && styles.SingleDatePicker_picker__fullScreenPortal, isRTL && styles.SingleDatePicker_picker__rtl, dayPickerContainerStyles), {
            onClick: onOutsideClick
          }),
          _react2['default'].createElement(_DayPickerSingleDateController2['default'], {
            date: date,
            onDateChange: onDateChange,
            onFocusChange: onFocusChange,
            orientation: orientation,
            enableOutsideDays: enableOutsideDays,
            numberOfMonths: numberOfMonths,
            monthFormat: monthFormat,
            withPortal: withAnyPortal,
            focused: focused,
            keepOpenOnDateSelect: keepOpenOnDateSelect,
            hideKeyboardShortcutsPanel: hideKeyboardShortcutsPanel,
            initialVisibleMonth: initialVisibleMonth,
            navPrev: navPrev,
            navNext: navNext,
            onPrevMonthClick: onPrevMonthClick,
            onNextMonthClick: onNextMonthClick,
            onClose: onClose,
            renderMonthText: renderMonthText,
            renderCalendarDay: renderCalendarDay,
            renderDayContents: renderDayContents,
            renderCalendarInfo: renderCalendarInfo,
            renderMonthElement: renderMonthElement,
            calendarInfoPosition: calendarInfoPosition,
            isFocused: isDayPickerFocused,
            showKeyboardShortcuts: showKeyboardShortcuts,
            onBlur: this.onDayPickerBlur,
            phrases: phrases,
            dayAriaLabelFormat: dayAriaLabelFormat,
            daySize: daySize,
            isRTL: isRTL,
            isOutsideRange: isOutsideRange,
            isDayBlocked: isDayBlocked,
            isDayHighlighted: isDayHighlighted,
            firstDayOfWeek: firstDayOfWeek,
            weekDayFormat: weekDayFormat,
            verticalHeight: verticalHeight,
            transitionDuration: transitionDuration,
            horizontalMonthPadding: horizontalMonthPadding
          }),
          withFullScreenPortal && _react2['default'].createElement(
            'button',
            _extends({}, (0, _reactWithStyles.css)(styles.SingleDatePicker_closeButton), {
              'aria-label': phrases.closeDatePicker,
              type: 'button',
              onClick: this.onClearFocus
            }),
            _react2['default'].createElement(
              'div',
              (0, _reactWithStyles.css)(styles.SingleDatePicker_closeButton_svg),
              closeIcon
            )
          )
        );
      }

      return renderDayPicker;
    }()
  }, {
    key: 'render',
    value: function () {
      function render() {
        var _props9 = this.props,
            id = _props9.id,
            placeholder = _props9.placeholder,
            disabled = _props9.disabled,
            focused = _props9.focused,
            required = _props9.required,
            readOnly = _props9.readOnly,
            openDirection = _props9.openDirection,
            showClearDate = _props9.showClearDate,
            showDefaultInputIcon = _props9.showDefaultInputIcon,
            inputIconPosition = _props9.inputIconPosition,
            customCloseIcon = _props9.customCloseIcon,
            customInputIcon = _props9.customInputIcon,
            date = _props9.date,
            phrases = _props9.phrases,
            withPortal = _props9.withPortal,
            withFullScreenPortal = _props9.withFullScreenPortal,
            screenReaderInputMessage = _props9.screenReaderInputMessage,
            isRTL = _props9.isRTL,
            noBorder = _props9.noBorder,
            block = _props9.block,
            small = _props9.small,
            regular = _props9.regular,
            verticalSpacing = _props9.verticalSpacing,
            styles = _props9.styles;
        var isInputFocused = this.state.isInputFocused;


        var displayValue = this.getDateString(date);

        var enableOutsideClick = !withPortal && !withFullScreenPortal;

        var hideFang = verticalSpacing < _constants.FANG_HEIGHT_PX;

        var input = _react2['default'].createElement(_SingleDatePickerInput2['default'], {
          id: id,
          placeholder: placeholder,
          focused: focused,
          isFocused: isInputFocused,
          disabled: disabled,
          required: required,
          readOnly: readOnly,
          openDirection: openDirection,
          showCaret: !withPortal && !withFullScreenPortal && !hideFang,
          onClearDate: this.clearDate,
          showClearDate: showClearDate,
          showDefaultInputIcon: showDefaultInputIcon,
          inputIconPosition: inputIconPosition,
          customCloseIcon: customCloseIcon,
          customInputIcon: customInputIcon,
          displayValue: displayValue,
          onChange: this.onChange,
          onFocus: this.onFocus,
          onKeyDownShiftTab: this.onClearFocus,
          onKeyDownTab: this.onClearFocus,
          onKeyDownArrowDown: this.onDayPickerFocus,
          onKeyDownQuestionMark: this.showKeyboardShortcutsPanel,
          screenReaderMessage: screenReaderInputMessage,
          phrases: phrases,
          isRTL: isRTL,
          noBorder: noBorder,
          block: block,
          small: small,
          regular: regular,
          verticalSpacing: verticalSpacing
        });

        return _react2['default'].createElement(
          'div',
          _extends({
            ref: this.setContainerRef
          }, (0, _reactWithStyles.css)(styles.SingleDatePicker, block && styles.SingleDatePicker__block)),
          enableOutsideClick && _react2['default'].createElement(
            _reactOutsideClickHandler2['default'],
            { onOutsideClick: this.onClearFocus },
            input,
            this.maybeRenderDayPickerWithPortal()
          ),
          !enableOutsideClick && input,
          !enableOutsideClick && this.maybeRenderDayPickerWithPortal()
        );
      }

      return render;
    }()
  }]);

  return SingleDatePicker;
}(_react2['default'].Component);

SingleDatePicker.propTypes = propTypes;
SingleDatePicker.defaultProps = defaultProps;

exports.PureSingleDatePicker = SingleDatePicker;
exports['default'] = (0, _reactWithStyles.withStyles)(function (_ref) {
  var _ref$reactDates = _ref.reactDates,
      color = _ref$reactDates.color,
      zIndex = _ref$reactDates.zIndex;
  return {
    SingleDatePicker: {
      position: 'relative',
      display: 'inline-block'
    },

    SingleDatePicker__block: {
      display: 'block'
    },

    SingleDatePicker_picker: {
      zIndex: zIndex + 1,
      backgroundColor: color.background,
      position: 'absolute'
    },

    SingleDatePicker_picker__rtl: {
      direction: 'rtl'
    },

    SingleDatePicker_picker__directionLeft: {
      left: 0
    },

    SingleDatePicker_picker__directionRight: {
      right: 0
    },

    SingleDatePicker_picker__portal: {
      backgroundColor: 'rgba(0, 0, 0, 0.3)',
      position: 'fixed',
      top: 0,
      left: 0,
      height: '100%',
      width: '100%'
    },

    SingleDatePicker_picker__fullScreenPortal: {
      backgroundColor: color.background
    },

    SingleDatePicker_closeButton: {
      background: 'none',
      border: 0,
      color: 'inherit',
      font: 'inherit',
      lineHeight: 'normal',
      overflow: 'visible',
      cursor: 'pointer',

      position: 'absolute',
      top: 0,
      right: 0,
      padding: 15,
      zIndex: zIndex + 2,

      ':hover': {
        color: 'darken(' + String(color.core.grayLighter) + ', 10%)',
        textDecoration: 'none'
      },

      ':focus': {
        color: 'darken(' + String(color.core.grayLighter) + ', 10%)',
        textDecoration: 'none'
      }
    },

    SingleDatePicker_closeButton_svg: {
      height: 15,
      width: 15,
      fill: color.core.grayLighter
    }
  };
})(SingleDatePicker);

/***/ }),

/***/ "./node_modules/react-dates/lib/components/SingleDatePickerInput.js":
/*!**************************************************************************!*\
  !*** ./node_modules/react-dates/lib/components/SingleDatePickerInput.js ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _object = __webpack_require__(/*! object.assign */ "./node_modules/object.assign/index.js");

var _object2 = _interopRequireDefault(_object);

var _react = __webpack_require__(/*! react */ "./node_modules/react/index.js");

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _airbnbPropTypes = __webpack_require__(/*! airbnb-prop-types */ "./node_modules/airbnb-prop-types/index.js");

var _reactWithStyles = __webpack_require__(/*! react-with-styles */ "./node_modules/react-with-styles/lib/withStyles.js");

var _defaultPhrases = __webpack_require__(/*! ../defaultPhrases */ "./node_modules/react-dates/lib/defaultPhrases.js");

var _getPhrasePropTypes = __webpack_require__(/*! ../utils/getPhrasePropTypes */ "./node_modules/react-dates/lib/utils/getPhrasePropTypes.js");

var _getPhrasePropTypes2 = _interopRequireDefault(_getPhrasePropTypes);

var _DateInput = __webpack_require__(/*! ./DateInput */ "./node_modules/react-dates/lib/components/DateInput.js");

var _DateInput2 = _interopRequireDefault(_DateInput);

var _IconPositionShape = __webpack_require__(/*! ../shapes/IconPositionShape */ "./node_modules/react-dates/lib/shapes/IconPositionShape.js");

var _IconPositionShape2 = _interopRequireDefault(_IconPositionShape);

var _CloseButton = __webpack_require__(/*! ./CloseButton */ "./node_modules/react-dates/lib/components/CloseButton.js");

var _CloseButton2 = _interopRequireDefault(_CloseButton);

var _CalendarIcon = __webpack_require__(/*! ./CalendarIcon */ "./node_modules/react-dates/lib/components/CalendarIcon.js");

var _CalendarIcon2 = _interopRequireDefault(_CalendarIcon);

var _OpenDirectionShape = __webpack_require__(/*! ../shapes/OpenDirectionShape */ "./node_modules/react-dates/lib/shapes/OpenDirectionShape.js");

var _OpenDirectionShape2 = _interopRequireDefault(_OpenDirectionShape);

var _constants = __webpack_require__(/*! ../constants */ "./node_modules/react-dates/lib/constants.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var propTypes = (0, _airbnbPropTypes.forbidExtraProps)((0, _object2['default'])({}, _reactWithStyles.withStylesPropTypes, {
  id: _propTypes2['default'].string.isRequired,
  placeholder: _propTypes2['default'].string, // also used as label
  displayValue: _propTypes2['default'].string,
  screenReaderMessage: _propTypes2['default'].string,
  focused: _propTypes2['default'].bool,
  isFocused: _propTypes2['default'].bool, // describes actual DOM focus
  disabled: _propTypes2['default'].bool,
  required: _propTypes2['default'].bool,
  readOnly: _propTypes2['default'].bool,
  openDirection: _OpenDirectionShape2['default'],
  showCaret: _propTypes2['default'].bool,
  showClearDate: _propTypes2['default'].bool,
  customCloseIcon: _propTypes2['default'].node,
  showDefaultInputIcon: _propTypes2['default'].bool,
  inputIconPosition: _IconPositionShape2['default'],
  customInputIcon: _propTypes2['default'].node,
  isRTL: _propTypes2['default'].bool,
  noBorder: _propTypes2['default'].bool,
  block: _propTypes2['default'].bool,
  small: _propTypes2['default'].bool,
  regular: _propTypes2['default'].bool,
  verticalSpacing: _airbnbPropTypes.nonNegativeInteger,

  onChange: _propTypes2['default'].func,
  onClearDate: _propTypes2['default'].func,
  onFocus: _propTypes2['default'].func,
  onKeyDownShiftTab: _propTypes2['default'].func,
  onKeyDownTab: _propTypes2['default'].func,
  onKeyDownArrowDown: _propTypes2['default'].func,
  onKeyDownQuestionMark: _propTypes2['default'].func,

  // i18n
  phrases: _propTypes2['default'].shape((0, _getPhrasePropTypes2['default'])(_defaultPhrases.SingleDatePickerInputPhrases))
}));

var defaultProps = {
  placeholder: 'Select Date',
  displayValue: '',
  screenReaderMessage: '',
  focused: false,
  isFocused: false,
  disabled: false,
  required: false,
  readOnly: false,
  openDirection: _constants.OPEN_DOWN,
  showCaret: false,
  showClearDate: false,
  showDefaultInputIcon: false,
  inputIconPosition: _constants.ICON_BEFORE_POSITION,
  customCloseIcon: null,
  customInputIcon: null,
  isRTL: false,
  noBorder: false,
  block: false,
  small: false,
  regular: false,
  verticalSpacing: undefined,

  onChange: function () {
    function onChange() {}

    return onChange;
  }(),
  onClearDate: function () {
    function onClearDate() {}

    return onClearDate;
  }(),
  onFocus: function () {
    function onFocus() {}

    return onFocus;
  }(),
  onKeyDownShiftTab: function () {
    function onKeyDownShiftTab() {}

    return onKeyDownShiftTab;
  }(),
  onKeyDownTab: function () {
    function onKeyDownTab() {}

    return onKeyDownTab;
  }(),
  onKeyDownArrowDown: function () {
    function onKeyDownArrowDown() {}

    return onKeyDownArrowDown;
  }(),
  onKeyDownQuestionMark: function () {
    function onKeyDownQuestionMark() {}

    return onKeyDownQuestionMark;
  }(),


  // i18n
  phrases: _defaultPhrases.SingleDatePickerInputPhrases
};

/* eslint react/no-this-in-sfc: 1 */

function SingleDatePickerInput(_ref) {
  var id = _ref.id,
      placeholder = _ref.placeholder,
      displayValue = _ref.displayValue,
      focused = _ref.focused,
      isFocused = _ref.isFocused,
      disabled = _ref.disabled,
      required = _ref.required,
      readOnly = _ref.readOnly,
      showCaret = _ref.showCaret,
      showClearDate = _ref.showClearDate,
      showDefaultInputIcon = _ref.showDefaultInputIcon,
      inputIconPosition = _ref.inputIconPosition,
      phrases = _ref.phrases,
      onClearDate = _ref.onClearDate,
      onChange = _ref.onChange,
      onFocus = _ref.onFocus,
      onKeyDownShiftTab = _ref.onKeyDownShiftTab,
      onKeyDownTab = _ref.onKeyDownTab,
      onKeyDownArrowDown = _ref.onKeyDownArrowDown,
      onKeyDownQuestionMark = _ref.onKeyDownQuestionMark,
      screenReaderMessage = _ref.screenReaderMessage,
      customCloseIcon = _ref.customCloseIcon,
      customInputIcon = _ref.customInputIcon,
      openDirection = _ref.openDirection,
      isRTL = _ref.isRTL,
      noBorder = _ref.noBorder,
      block = _ref.block,
      small = _ref.small,
      regular = _ref.regular,
      verticalSpacing = _ref.verticalSpacing,
      styles = _ref.styles;

  var calendarIcon = customInputIcon || _react2['default'].createElement(_CalendarIcon2['default'], (0, _reactWithStyles.css)(styles.SingleDatePickerInput_calendarIcon_svg));
  var closeIcon = customCloseIcon || _react2['default'].createElement(_CloseButton2['default'], (0, _reactWithStyles.css)(styles.SingleDatePickerInput_clearDate_svg, small && styles.SingleDatePickerInput_clearDate_svg__small));

  var screenReaderText = screenReaderMessage || phrases.keyboardNavigationInstructions;
  var inputIcon = (showDefaultInputIcon || customInputIcon !== null) && _react2['default'].createElement(
    'button',
    _extends({}, (0, _reactWithStyles.css)(styles.SingleDatePickerInput_calendarIcon), {
      type: 'button',
      disabled: disabled,
      'aria-label': phrases.focusStartDate,
      onClick: onFocus
    }),
    calendarIcon
  );

  return _react2['default'].createElement(
    'div',
    (0, _reactWithStyles.css)(styles.SingleDatePickerInput, disabled && styles.SingleDatePickerInput__disabled, isRTL && styles.SingleDatePickerInput__rtl, !noBorder && styles.SingleDatePickerInput__withBorder, block && styles.SingleDatePickerInput__block, showClearDate && styles.SingleDatePickerInput__showClearDate),
    inputIconPosition === _constants.ICON_BEFORE_POSITION && inputIcon,
    _react2['default'].createElement(_DateInput2['default'], {
      id: id,
      placeholder: placeholder // also used as label
      , displayValue: displayValue,
      screenReaderMessage: screenReaderText,
      focused: focused,
      isFocused: isFocused,
      disabled: disabled,
      required: required,
      readOnly: readOnly,
      showCaret: showCaret,
      onChange: onChange,
      onFocus: onFocus,
      onKeyDownShiftTab: onKeyDownShiftTab,
      onKeyDownTab: onKeyDownTab,
      onKeyDownArrowDown: onKeyDownArrowDown,
      onKeyDownQuestionMark: onKeyDownQuestionMark,
      openDirection: openDirection,
      verticalSpacing: verticalSpacing,
      small: small,
      regular: regular,
      block: block
    }),
    showClearDate && _react2['default'].createElement(
      'button',
      _extends({}, (0, _reactWithStyles.css)(styles.SingleDatePickerInput_clearDate, small && styles.SingleDatePickerInput_clearDate__small, !customCloseIcon && styles.SingleDatePickerInput_clearDate__default, !displayValue && styles.SingleDatePickerInput_clearDate__hide), {
        type: 'button',
        'aria-label': phrases.clearDate,
        disabled: disabled,
        onMouseEnter: this && this.onClearDateMouseEnter,
        onMouseLeave: this && this.onClearDateMouseLeave,
        onClick: onClearDate
      }),
      closeIcon
    ),
    inputIconPosition === _constants.ICON_AFTER_POSITION && inputIcon
  );
}

SingleDatePickerInput.propTypes = propTypes;
SingleDatePickerInput.defaultProps = defaultProps;

exports['default'] = (0, _reactWithStyles.withStyles)(function (_ref2) {
  var _ref2$reactDates = _ref2.reactDates,
      border = _ref2$reactDates.border,
      color = _ref2$reactDates.color;
  return {
    SingleDatePickerInput: {
      display: 'inline-block',
      backgroundColor: color.background
    },

    SingleDatePickerInput__withBorder: {
      borderColor: color.border,
      borderWidth: border.pickerInput.borderWidth,
      borderStyle: border.pickerInput.borderStyle,
      borderRadius: border.pickerInput.borderRadius
    },

    SingleDatePickerInput__rtl: {
      direction: 'rtl'
    },

    SingleDatePickerInput__disabled: {
      backgroundColor: color.disabled
    },

    SingleDatePickerInput__block: {
      display: 'block'
    },

    SingleDatePickerInput__showClearDate: {
      paddingRight: 30
    },

    SingleDatePickerInput_clearDate: {
      background: 'none',
      border: 0,
      color: 'inherit',
      font: 'inherit',
      lineHeight: 'normal',
      overflow: 'visible',

      cursor: 'pointer',
      padding: 10,
      margin: '0 10px 0 5px',
      position: 'absolute',
      right: 0,
      top: '50%',
      transform: 'translateY(-50%)'
    },

    SingleDatePickerInput_clearDate__default: {
      ':focus': {
        background: color.core.border,
        borderRadius: '50%'
      },

      ':hover': {
        background: color.core.border,
        borderRadius: '50%'
      }
    },

    SingleDatePickerInput_clearDate__small: {
      padding: 6
    },

    SingleDatePickerInput_clearDate__hide: {
      visibility: 'hidden'
    },

    SingleDatePickerInput_clearDate_svg: {
      fill: color.core.grayLight,
      height: 12,
      width: 15,
      verticalAlign: 'middle'
    },

    SingleDatePickerInput_clearDate_svg__small: {
      height: 9
    },

    SingleDatePickerInput_calendarIcon: {
      background: 'none',
      border: 0,
      color: 'inherit',
      font: 'inherit',
      lineHeight: 'normal',
      overflow: 'visible',

      cursor: 'pointer',
      display: 'inline-block',
      verticalAlign: 'middle',
      padding: 10,
      margin: '0 5px 0 10px'
    },

    SingleDatePickerInput_calendarIcon_svg: {
      fill: color.core.grayLight,
      height: 15,
      width: 14,
      verticalAlign: 'middle'
    }
  };
})(SingleDatePickerInput);

/***/ }),

/***/ "./node_modules/react-dates/lib/constants.js":
/*!***************************************************!*\
  !*** ./node_modules/react-dates/lib/constants.js ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
var DISPLAY_FORMAT = exports.DISPLAY_FORMAT = 'L';
var ISO_FORMAT = exports.ISO_FORMAT = 'YYYY-MM-DD';
var ISO_MONTH_FORMAT = exports.ISO_MONTH_FORMAT = 'YYYY-MM';

var START_DATE = exports.START_DATE = 'startDate';
var END_DATE = exports.END_DATE = 'endDate';

var HORIZONTAL_ORIENTATION = exports.HORIZONTAL_ORIENTATION = 'horizontal';
var VERTICAL_ORIENTATION = exports.VERTICAL_ORIENTATION = 'vertical';
var VERTICAL_SCROLLABLE = exports.VERTICAL_SCROLLABLE = 'verticalScrollable';

var ICON_BEFORE_POSITION = exports.ICON_BEFORE_POSITION = 'before';
var ICON_AFTER_POSITION = exports.ICON_AFTER_POSITION = 'after';

var INFO_POSITION_TOP = exports.INFO_POSITION_TOP = 'top';
var INFO_POSITION_BOTTOM = exports.INFO_POSITION_BOTTOM = 'bottom';
var INFO_POSITION_BEFORE = exports.INFO_POSITION_BEFORE = 'before';
var INFO_POSITION_AFTER = exports.INFO_POSITION_AFTER = 'after';

var ANCHOR_LEFT = exports.ANCHOR_LEFT = 'left';
var ANCHOR_RIGHT = exports.ANCHOR_RIGHT = 'right';

var OPEN_DOWN = exports.OPEN_DOWN = 'down';
var OPEN_UP = exports.OPEN_UP = 'up';

var DAY_SIZE = exports.DAY_SIZE = 39;
var BLOCKED_MODIFIER = exports.BLOCKED_MODIFIER = 'blocked';
var WEEKDAYS = exports.WEEKDAYS = [0, 1, 2, 3, 4, 5, 6];

var FANG_WIDTH_PX = exports.FANG_WIDTH_PX = 20;
var FANG_HEIGHT_PX = exports.FANG_HEIGHT_PX = 10;
var DEFAULT_VERTICAL_SPACING = exports.DEFAULT_VERTICAL_SPACING = 22;

var MODIFIER_KEY_NAMES = exports.MODIFIER_KEY_NAMES = new Set(['Shift', 'Control', 'Alt', 'Meta']);

/***/ }),

/***/ "./node_modules/react-dates/lib/defaultPhrases.js":
/*!********************************************************!*\
  !*** ./node_modules/react-dates/lib/defaultPhrases.js ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
var calendarLabel = 'Calendar';
var closeDatePicker = 'Close';
var focusStartDate = 'Interact with the calendar and add the check-in date for your trip.';
var clearDate = 'Clear Date';
var clearDates = 'Clear Dates';
var jumpToPrevMonth = 'Move backward to switch to the previous month.';
var jumpToNextMonth = 'Move forward to switch to the next month.';
var keyboardShortcuts = 'Keyboard Shortcuts';
var showKeyboardShortcutsPanel = 'Open the keyboard shortcuts panel.';
var hideKeyboardShortcutsPanel = 'Close the shortcuts panel.';
var openThisPanel = 'Open this panel.';
var enterKey = 'Enter key';
var leftArrowRightArrow = 'Right and left arrow keys';
var upArrowDownArrow = 'up and down arrow keys';
var pageUpPageDown = 'page up and page down keys';
var homeEnd = 'Home and end keys';
var escape = 'Escape key';
var questionMark = 'Question mark';
var selectFocusedDate = 'Select the date in focus.';
var moveFocusByOneDay = 'Move backward (left) and forward (right) by one day.';
var moveFocusByOneWeek = 'Move backward (up) and forward (down) by one week.';
var moveFocusByOneMonth = 'Switch months.';
var moveFocustoStartAndEndOfWeek = 'Go to the first or last day of a week.';
var returnFocusToInput = 'Return to the date input field.';
var keyboardNavigationInstructions = 'Press the down arrow key to interact with the calendar and\n  select a date. Press the question mark key to get the keyboard shortcuts for changing dates.';

var chooseAvailableStartDate = function chooseAvailableStartDate(_ref) {
  var date = _ref.date;
  return 'Choose ' + String(date) + ' as your check-in date. It\u2019s available.';
};
var chooseAvailableEndDate = function chooseAvailableEndDate(_ref2) {
  var date = _ref2.date;
  return 'Choose ' + String(date) + ' as your check-out date. It\u2019s available.';
};
var chooseAvailableDate = function chooseAvailableDate(_ref3) {
  var date = _ref3.date;
  return date;
};
var dateIsUnavailable = function dateIsUnavailable(_ref4) {
  var date = _ref4.date;
  return 'Not available. ' + String(date);
};
var dateIsSelected = function dateIsSelected(_ref5) {
  var date = _ref5.date;
  return 'Selected. ' + String(date);
};

exports['default'] = {
  calendarLabel: calendarLabel,
  closeDatePicker: closeDatePicker,
  focusStartDate: focusStartDate,
  clearDate: clearDate,
  clearDates: clearDates,
  jumpToPrevMonth: jumpToPrevMonth,
  jumpToNextMonth: jumpToNextMonth,
  keyboardShortcuts: keyboardShortcuts,
  showKeyboardShortcutsPanel: showKeyboardShortcutsPanel,
  hideKeyboardShortcutsPanel: hideKeyboardShortcutsPanel,
  openThisPanel: openThisPanel,
  enterKey: enterKey,
  leftArrowRightArrow: leftArrowRightArrow,
  upArrowDownArrow: upArrowDownArrow,
  pageUpPageDown: pageUpPageDown,
  homeEnd: homeEnd,
  escape: escape,
  questionMark: questionMark,
  selectFocusedDate: selectFocusedDate,
  moveFocusByOneDay: moveFocusByOneDay,
  moveFocusByOneWeek: moveFocusByOneWeek,
  moveFocusByOneMonth: moveFocusByOneMonth,
  moveFocustoStartAndEndOfWeek: moveFocustoStartAndEndOfWeek,
  returnFocusToInput: returnFocusToInput,
  keyboardNavigationInstructions: keyboardNavigationInstructions,

  chooseAvailableStartDate: chooseAvailableStartDate,
  chooseAvailableEndDate: chooseAvailableEndDate,
  dateIsUnavailable: dateIsUnavailable,
  dateIsSelected: dateIsSelected
};
var DateRangePickerPhrases = exports.DateRangePickerPhrases = {
  calendarLabel: calendarLabel,
  closeDatePicker: closeDatePicker,
  clearDates: clearDates,
  focusStartDate: focusStartDate,
  jumpToPrevMonth: jumpToPrevMonth,
  jumpToNextMonth: jumpToNextMonth,
  keyboardShortcuts: keyboardShortcuts,
  showKeyboardShortcutsPanel: showKeyboardShortcutsPanel,
  hideKeyboardShortcutsPanel: hideKeyboardShortcutsPanel,
  openThisPanel: openThisPanel,
  enterKey: enterKey,
  leftArrowRightArrow: leftArrowRightArrow,
  upArrowDownArrow: upArrowDownArrow,
  pageUpPageDown: pageUpPageDown,
  homeEnd: homeEnd,
  escape: escape,
  questionMark: questionMark,
  selectFocusedDate: selectFocusedDate,
  moveFocusByOneDay: moveFocusByOneDay,
  moveFocusByOneWeek: moveFocusByOneWeek,
  moveFocusByOneMonth: moveFocusByOneMonth,
  moveFocustoStartAndEndOfWeek: moveFocustoStartAndEndOfWeek,
  returnFocusToInput: returnFocusToInput,
  keyboardNavigationInstructions: keyboardNavigationInstructions,
  chooseAvailableStartDate: chooseAvailableStartDate,
  chooseAvailableEndDate: chooseAvailableEndDate,
  dateIsUnavailable: dateIsUnavailable,
  dateIsSelected: dateIsSelected
};

var DateRangePickerInputPhrases = exports.DateRangePickerInputPhrases = {
  focusStartDate: focusStartDate,
  clearDates: clearDates,
  keyboardNavigationInstructions: keyboardNavigationInstructions
};

var SingleDatePickerPhrases = exports.SingleDatePickerPhrases = {
  calendarLabel: calendarLabel,
  closeDatePicker: closeDatePicker,
  clearDate: clearDate,
  jumpToPrevMonth: jumpToPrevMonth,
  jumpToNextMonth: jumpToNextMonth,
  keyboardShortcuts: keyboardShortcuts,
  showKeyboardShortcutsPanel: showKeyboardShortcutsPanel,
  hideKeyboardShortcutsPanel: hideKeyboardShortcutsPanel,
  openThisPanel: openThisPanel,
  enterKey: enterKey,
  leftArrowRightArrow: leftArrowRightArrow,
  upArrowDownArrow: upArrowDownArrow,
  pageUpPageDown: pageUpPageDown,
  homeEnd: homeEnd,
  escape: escape,
  questionMark: questionMark,
  selectFocusedDate: selectFocusedDate,
  moveFocusByOneDay: moveFocusByOneDay,
  moveFocusByOneWeek: moveFocusByOneWeek,
  moveFocusByOneMonth: moveFocusByOneMonth,
  moveFocustoStartAndEndOfWeek: moveFocustoStartAndEndOfWeek,
  returnFocusToInput: returnFocusToInput,
  keyboardNavigationInstructions: keyboardNavigationInstructions,
  chooseAvailableDate: chooseAvailableDate,
  dateIsUnavailable: dateIsUnavailable,
  dateIsSelected: dateIsSelected
};

var SingleDatePickerInputPhrases = exports.SingleDatePickerInputPhrases = {
  clearDate: clearDate,
  keyboardNavigationInstructions: keyboardNavigationInstructions
};

var DayPickerPhrases = exports.DayPickerPhrases = {
  calendarLabel: calendarLabel,
  jumpToPrevMonth: jumpToPrevMonth,
  jumpToNextMonth: jumpToNextMonth,
  keyboardShortcuts: keyboardShortcuts,
  showKeyboardShortcutsPanel: showKeyboardShortcutsPanel,
  hideKeyboardShortcutsPanel: hideKeyboardShortcutsPanel,
  openThisPanel: openThisPanel,
  enterKey: enterKey,
  leftArrowRightArrow: leftArrowRightArrow,
  upArrowDownArrow: upArrowDownArrow,
  pageUpPageDown: pageUpPageDown,
  homeEnd: homeEnd,
  escape: escape,
  questionMark: questionMark,
  selectFocusedDate: selectFocusedDate,
  moveFocusByOneDay: moveFocusByOneDay,
  moveFocusByOneWeek: moveFocusByOneWeek,
  moveFocusByOneMonth: moveFocusByOneMonth,
  moveFocustoStartAndEndOfWeek: moveFocustoStartAndEndOfWeek,
  returnFocusToInput: returnFocusToInput,
  chooseAvailableStartDate: chooseAvailableStartDate,
  chooseAvailableEndDate: chooseAvailableEndDate,
  chooseAvailableDate: chooseAvailableDate,
  dateIsUnavailable: dateIsUnavailable,
  dateIsSelected: dateIsSelected
};

var DayPickerKeyboardShortcutsPhrases = exports.DayPickerKeyboardShortcutsPhrases = {
  keyboardShortcuts: keyboardShortcuts,
  showKeyboardShortcutsPanel: showKeyboardShortcutsPanel,
  hideKeyboardShortcutsPanel: hideKeyboardShortcutsPanel,
  openThisPanel: openThisPanel,
  enterKey: enterKey,
  leftArrowRightArrow: leftArrowRightArrow,
  upArrowDownArrow: upArrowDownArrow,
  pageUpPageDown: pageUpPageDown,
  homeEnd: homeEnd,
  escape: escape,
  questionMark: questionMark,
  selectFocusedDate: selectFocusedDate,
  moveFocusByOneDay: moveFocusByOneDay,
  moveFocusByOneWeek: moveFocusByOneWeek,
  moveFocusByOneMonth: moveFocusByOneMonth,
  moveFocustoStartAndEndOfWeek: moveFocustoStartAndEndOfWeek,
  returnFocusToInput: returnFocusToInput
};

var DayPickerNavigationPhrases = exports.DayPickerNavigationPhrases = {
  jumpToPrevMonth: jumpToPrevMonth,
  jumpToNextMonth: jumpToNextMonth
};

var CalendarDayPhrases = exports.CalendarDayPhrases = {
  chooseAvailableDate: chooseAvailableDate,
  dateIsUnavailable: dateIsUnavailable,
  dateIsSelected: dateIsSelected
};

/***/ }),

/***/ "./node_modules/react-dates/lib/index.js":
/*!***********************************************!*\
  !*** ./node_modules/react-dates/lib/index.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _CalendarDay = __webpack_require__(/*! ./components/CalendarDay */ "./node_modules/react-dates/lib/components/CalendarDay.js");

Object.defineProperty(exports, 'CalendarDay', {
  enumerable: true,
  get: function () {
    function get() {
      return _interopRequireDefault(_CalendarDay)['default'];
    }

    return get;
  }()
});

var _CalendarMonth = __webpack_require__(/*! ./components/CalendarMonth */ "./node_modules/react-dates/lib/components/CalendarMonth.js");

Object.defineProperty(exports, 'CalendarMonth', {
  enumerable: true,
  get: function () {
    function get() {
      return _interopRequireDefault(_CalendarMonth)['default'];
    }

    return get;
  }()
});

var _CalendarMonthGrid = __webpack_require__(/*! ./components/CalendarMonthGrid */ "./node_modules/react-dates/lib/components/CalendarMonthGrid.js");

Object.defineProperty(exports, 'CalendarMonthGrid', {
  enumerable: true,
  get: function () {
    function get() {
      return _interopRequireDefault(_CalendarMonthGrid)['default'];
    }

    return get;
  }()
});

var _DateRangePicker = __webpack_require__(/*! ./components/DateRangePicker */ "./node_modules/react-dates/lib/components/DateRangePicker.js");

Object.defineProperty(exports, 'DateRangePicker', {
  enumerable: true,
  get: function () {
    function get() {
      return _interopRequireDefault(_DateRangePicker)['default'];
    }

    return get;
  }()
});

var _DateRangePickerInput = __webpack_require__(/*! ./components/DateRangePickerInput */ "./node_modules/react-dates/lib/components/DateRangePickerInput.js");

Object.defineProperty(exports, 'DateRangePickerInput', {
  enumerable: true,
  get: function () {
    function get() {
      return _interopRequireDefault(_DateRangePickerInput)['default'];
    }

    return get;
  }()
});

var _DateRangePickerInputController = __webpack_require__(/*! ./components/DateRangePickerInputController */ "./node_modules/react-dates/lib/components/DateRangePickerInputController.js");

Object.defineProperty(exports, 'DateRangePickerInputController', {
  enumerable: true,
  get: function () {
    function get() {
      return _interopRequireDefault(_DateRangePickerInputController)['default'];
    }

    return get;
  }()
});

var _DateRangePickerShape = __webpack_require__(/*! ./shapes/DateRangePickerShape */ "./node_modules/react-dates/lib/shapes/DateRangePickerShape.js");

Object.defineProperty(exports, 'DateRangePickerShape', {
  enumerable: true,
  get: function () {
    function get() {
      return _interopRequireDefault(_DateRangePickerShape)['default'];
    }

    return get;
  }()
});

var _DayPicker = __webpack_require__(/*! ./components/DayPicker */ "./node_modules/react-dates/lib/components/DayPicker.js");

Object.defineProperty(exports, 'DayPicker', {
  enumerable: true,
  get: function () {
    function get() {
      return _interopRequireDefault(_DayPicker)['default'];
    }

    return get;
  }()
});

var _DayPickerRangeController = __webpack_require__(/*! ./components/DayPickerRangeController */ "./node_modules/react-dates/lib/components/DayPickerRangeController.js");

Object.defineProperty(exports, 'DayPickerRangeController', {
  enumerable: true,
  get: function () {
    function get() {
      return _interopRequireDefault(_DayPickerRangeController)['default'];
    }

    return get;
  }()
});

var _DayPickerSingleDateController = __webpack_require__(/*! ./components/DayPickerSingleDateController */ "./node_modules/react-dates/lib/components/DayPickerSingleDateController.js");

Object.defineProperty(exports, 'DayPickerSingleDateController', {
  enumerable: true,
  get: function () {
    function get() {
      return _interopRequireDefault(_DayPickerSingleDateController)['default'];
    }

    return get;
  }()
});

var _SingleDatePicker = __webpack_require__(/*! ./components/SingleDatePicker */ "./node_modules/react-dates/lib/components/SingleDatePicker.js");

Object.defineProperty(exports, 'SingleDatePicker', {
  enumerable: true,
  get: function () {
    function get() {
      return _interopRequireDefault(_SingleDatePicker)['default'];
    }

    return get;
  }()
});

var _SingleDatePickerInput = __webpack_require__(/*! ./components/SingleDatePickerInput */ "./node_modules/react-dates/lib/components/SingleDatePickerInput.js");

Object.defineProperty(exports, 'SingleDatePickerInput', {
  enumerable: true,
  get: function () {
    function get() {
      return _interopRequireDefault(_SingleDatePickerInput)['default'];
    }

    return get;
  }()
});

var _SingleDatePickerShape = __webpack_require__(/*! ./shapes/SingleDatePickerShape */ "./node_modules/react-dates/lib/shapes/SingleDatePickerShape.js");

Object.defineProperty(exports, 'SingleDatePickerShape', {
  enumerable: true,
  get: function () {
    function get() {
      return _interopRequireDefault(_SingleDatePickerShape)['default'];
    }

    return get;
  }()
});

var _isInclusivelyAfterDay = __webpack_require__(/*! ./utils/isInclusivelyAfterDay */ "./node_modules/react-dates/lib/utils/isInclusivelyAfterDay.js");

Object.defineProperty(exports, 'isInclusivelyAfterDay', {
  enumerable: true,
  get: function () {
    function get() {
      return _interopRequireDefault(_isInclusivelyAfterDay)['default'];
    }

    return get;
  }()
});

var _isInclusivelyBeforeDay = __webpack_require__(/*! ./utils/isInclusivelyBeforeDay */ "./node_modules/react-dates/lib/utils/isInclusivelyBeforeDay.js");

Object.defineProperty(exports, 'isInclusivelyBeforeDay', {
  enumerable: true,
  get: function () {
    function get() {
      return _interopRequireDefault(_isInclusivelyBeforeDay)['default'];
    }

    return get;
  }()
});

var _isNextDay = __webpack_require__(/*! ./utils/isNextDay */ "./node_modules/react-dates/lib/utils/isNextDay.js");

Object.defineProperty(exports, 'isNextDay', {
  enumerable: true,
  get: function () {
    function get() {
      return _interopRequireDefault(_isNextDay)['default'];
    }

    return get;
  }()
});

var _isSameDay = __webpack_require__(/*! ./utils/isSameDay */ "./node_modules/react-dates/lib/utils/isSameDay.js");

Object.defineProperty(exports, 'isSameDay', {
  enumerable: true,
  get: function () {
    function get() {
      return _interopRequireDefault(_isSameDay)['default'];
    }

    return get;
  }()
});

var _toISODateString = __webpack_require__(/*! ./utils/toISODateString */ "./node_modules/react-dates/lib/utils/toISODateString.js");

Object.defineProperty(exports, 'toISODateString', {
  enumerable: true,
  get: function () {
    function get() {
      return _interopRequireDefault(_toISODateString)['default'];
    }

    return get;
  }()
});

var _toLocalizedDateString = __webpack_require__(/*! ./utils/toLocalizedDateString */ "./node_modules/react-dates/lib/utils/toLocalizedDateString.js");

Object.defineProperty(exports, 'toLocalizedDateString', {
  enumerable: true,
  get: function () {
    function get() {
      return _interopRequireDefault(_toLocalizedDateString)['default'];
    }

    return get;
  }()
});

var _toMomentObject = __webpack_require__(/*! ./utils/toMomentObject */ "./node_modules/react-dates/lib/utils/toMomentObject.js");

Object.defineProperty(exports, 'toMomentObject', {
  enumerable: true,
  get: function () {
    function get() {
      return _interopRequireDefault(_toMomentObject)['default'];
    }

    return get;
  }()
});

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

/***/ }),

/***/ "./node_modules/react-dates/lib/shapes/AnchorDirectionShape.js":
/*!*********************************************************************!*\
  !*** ./node_modules/react-dates/lib/shapes/AnchorDirectionShape.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _constants = __webpack_require__(/*! ../constants */ "./node_modules/react-dates/lib/constants.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

exports['default'] = _propTypes2['default'].oneOf([_constants.ANCHOR_LEFT, _constants.ANCHOR_RIGHT]);

/***/ }),

/***/ "./node_modules/react-dates/lib/shapes/CalendarInfoPositionShape.js":
/*!**************************************************************************!*\
  !*** ./node_modules/react-dates/lib/shapes/CalendarInfoPositionShape.js ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _constants = __webpack_require__(/*! ../constants */ "./node_modules/react-dates/lib/constants.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

exports['default'] = _propTypes2['default'].oneOf([_constants.INFO_POSITION_TOP, _constants.INFO_POSITION_BOTTOM, _constants.INFO_POSITION_BEFORE, _constants.INFO_POSITION_AFTER]);

/***/ }),

/***/ "./node_modules/react-dates/lib/shapes/DateRangePickerShape.js":
/*!*********************************************************************!*\
  !*** ./node_modules/react-dates/lib/shapes/DateRangePickerShape.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactMomentProptypes = __webpack_require__(/*! react-moment-proptypes */ "./node_modules/react-moment-proptypes/src/index.js");

var _reactMomentProptypes2 = _interopRequireDefault(_reactMomentProptypes);

var _airbnbPropTypes = __webpack_require__(/*! airbnb-prop-types */ "./node_modules/airbnb-prop-types/index.js");

var _defaultPhrases = __webpack_require__(/*! ../defaultPhrases */ "./node_modules/react-dates/lib/defaultPhrases.js");

var _getPhrasePropTypes = __webpack_require__(/*! ../utils/getPhrasePropTypes */ "./node_modules/react-dates/lib/utils/getPhrasePropTypes.js");

var _getPhrasePropTypes2 = _interopRequireDefault(_getPhrasePropTypes);

var _FocusedInputShape = __webpack_require__(/*! ./FocusedInputShape */ "./node_modules/react-dates/lib/shapes/FocusedInputShape.js");

var _FocusedInputShape2 = _interopRequireDefault(_FocusedInputShape);

var _IconPositionShape = __webpack_require__(/*! ./IconPositionShape */ "./node_modules/react-dates/lib/shapes/IconPositionShape.js");

var _IconPositionShape2 = _interopRequireDefault(_IconPositionShape);

var _OrientationShape = __webpack_require__(/*! ./OrientationShape */ "./node_modules/react-dates/lib/shapes/OrientationShape.js");

var _OrientationShape2 = _interopRequireDefault(_OrientationShape);

var _DisabledShape = __webpack_require__(/*! ./DisabledShape */ "./node_modules/react-dates/lib/shapes/DisabledShape.js");

var _DisabledShape2 = _interopRequireDefault(_DisabledShape);

var _AnchorDirectionShape = __webpack_require__(/*! ./AnchorDirectionShape */ "./node_modules/react-dates/lib/shapes/AnchorDirectionShape.js");

var _AnchorDirectionShape2 = _interopRequireDefault(_AnchorDirectionShape);

var _OpenDirectionShape = __webpack_require__(/*! ./OpenDirectionShape */ "./node_modules/react-dates/lib/shapes/OpenDirectionShape.js");

var _OpenDirectionShape2 = _interopRequireDefault(_OpenDirectionShape);

var _DayOfWeekShape = __webpack_require__(/*! ./DayOfWeekShape */ "./node_modules/react-dates/lib/shapes/DayOfWeekShape.js");

var _DayOfWeekShape2 = _interopRequireDefault(_DayOfWeekShape);

var _CalendarInfoPositionShape = __webpack_require__(/*! ./CalendarInfoPositionShape */ "./node_modules/react-dates/lib/shapes/CalendarInfoPositionShape.js");

var _CalendarInfoPositionShape2 = _interopRequireDefault(_CalendarInfoPositionShape);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

exports['default'] = {
  // required props for a functional interactive DateRangePicker
  startDate: _reactMomentProptypes2['default'].momentObj,
  endDate: _reactMomentProptypes2['default'].momentObj,
  onDatesChange: _propTypes2['default'].func.isRequired,

  focusedInput: _FocusedInputShape2['default'],
  onFocusChange: _propTypes2['default'].func.isRequired,

  onClose: _propTypes2['default'].func,

  // input related props
  startDateId: _propTypes2['default'].string.isRequired,
  startDatePlaceholderText: _propTypes2['default'].string,
  endDateId: _propTypes2['default'].string.isRequired,
  endDatePlaceholderText: _propTypes2['default'].string,
  disabled: _DisabledShape2['default'],
  required: _propTypes2['default'].bool,
  readOnly: _propTypes2['default'].bool,
  screenReaderInputMessage: _propTypes2['default'].string,
  showClearDates: _propTypes2['default'].bool,
  showDefaultInputIcon: _propTypes2['default'].bool,
  inputIconPosition: _IconPositionShape2['default'],
  customInputIcon: _propTypes2['default'].node,
  customArrowIcon: _propTypes2['default'].node,
  customCloseIcon: _propTypes2['default'].node,
  noBorder: _propTypes2['default'].bool,
  block: _propTypes2['default'].bool,
  small: _propTypes2['default'].bool,
  regular: _propTypes2['default'].bool,
  keepFocusOnInput: _propTypes2['default'].bool,

  // calendar presentation and interaction related props
  renderMonthText: (0, _airbnbPropTypes.mutuallyExclusiveProps)(_propTypes2['default'].func, 'renderMonthText', 'renderMonthElement'),
  renderMonthElement: (0, _airbnbPropTypes.mutuallyExclusiveProps)(_propTypes2['default'].func, 'renderMonthText', 'renderMonthElement'),
  orientation: _OrientationShape2['default'],
  anchorDirection: _AnchorDirectionShape2['default'],
  openDirection: _OpenDirectionShape2['default'],
  horizontalMargin: _propTypes2['default'].number,
  withPortal: _propTypes2['default'].bool,
  withFullScreenPortal: _propTypes2['default'].bool,
  appendToBody: _propTypes2['default'].bool,
  disableScroll: _propTypes2['default'].bool,
  daySize: _airbnbPropTypes.nonNegativeInteger,
  isRTL: _propTypes2['default'].bool,
  firstDayOfWeek: _DayOfWeekShape2['default'],
  initialVisibleMonth: _propTypes2['default'].func,
  numberOfMonths: _propTypes2['default'].number,
  keepOpenOnDateSelect: _propTypes2['default'].bool,
  reopenPickerOnClearDates: _propTypes2['default'].bool,
  renderCalendarInfo: _propTypes2['default'].func,
  calendarInfoPosition: _CalendarInfoPositionShape2['default'],
  hideKeyboardShortcutsPanel: _propTypes2['default'].bool,
  verticalHeight: _airbnbPropTypes.nonNegativeInteger,
  transitionDuration: _airbnbPropTypes.nonNegativeInteger,
  verticalSpacing: _airbnbPropTypes.nonNegativeInteger,

  // navigation related props
  navPrev: _propTypes2['default'].node,
  navNext: _propTypes2['default'].node,
  onPrevMonthClick: _propTypes2['default'].func,
  onNextMonthClick: _propTypes2['default'].func,

  // day presentation and interaction related props
  renderCalendarDay: _propTypes2['default'].func,
  renderDayContents: _propTypes2['default'].func,
  minimumNights: _propTypes2['default'].number,
  enableOutsideDays: _propTypes2['default'].bool,
  isDayBlocked: _propTypes2['default'].func,
  isOutsideRange: _propTypes2['default'].func,
  isDayHighlighted: _propTypes2['default'].func,

  // internationalization props
  displayFormat: _propTypes2['default'].oneOfType([_propTypes2['default'].string, _propTypes2['default'].func]),
  monthFormat: _propTypes2['default'].string,
  weekDayFormat: _propTypes2['default'].string,
  phrases: _propTypes2['default'].shape((0, _getPhrasePropTypes2['default'])(_defaultPhrases.DateRangePickerPhrases)),
  dayAriaLabelFormat: _propTypes2['default'].string
};

/***/ }),

/***/ "./node_modules/react-dates/lib/shapes/DayOfWeekShape.js":
/*!***************************************************************!*\
  !*** ./node_modules/react-dates/lib/shapes/DayOfWeekShape.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _constants = __webpack_require__(/*! ../constants */ "./node_modules/react-dates/lib/constants.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

exports['default'] = _propTypes2['default'].oneOf(_constants.WEEKDAYS);

/***/ }),

/***/ "./node_modules/react-dates/lib/shapes/DisabledShape.js":
/*!**************************************************************!*\
  !*** ./node_modules/react-dates/lib/shapes/DisabledShape.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _constants = __webpack_require__(/*! ../constants */ "./node_modules/react-dates/lib/constants.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

exports['default'] = _propTypes2['default'].oneOfType([_propTypes2['default'].bool, _propTypes2['default'].oneOf([_constants.START_DATE, _constants.END_DATE])]);

/***/ }),

/***/ "./node_modules/react-dates/lib/shapes/FocusedInputShape.js":
/*!******************************************************************!*\
  !*** ./node_modules/react-dates/lib/shapes/FocusedInputShape.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _constants = __webpack_require__(/*! ../constants */ "./node_modules/react-dates/lib/constants.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

exports['default'] = _propTypes2['default'].oneOf([_constants.START_DATE, _constants.END_DATE]);

/***/ }),

/***/ "./node_modules/react-dates/lib/shapes/IconPositionShape.js":
/*!******************************************************************!*\
  !*** ./node_modules/react-dates/lib/shapes/IconPositionShape.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _constants = __webpack_require__(/*! ../constants */ "./node_modules/react-dates/lib/constants.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

exports['default'] = _propTypes2['default'].oneOf([_constants.ICON_BEFORE_POSITION, _constants.ICON_AFTER_POSITION]);

/***/ }),

/***/ "./node_modules/react-dates/lib/shapes/ModifiersShape.js":
/*!***************************************************************!*\
  !*** ./node_modules/react-dates/lib/shapes/ModifiersShape.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _airbnbPropTypes = __webpack_require__(/*! airbnb-prop-types */ "./node_modules/airbnb-prop-types/index.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

exports['default'] = (0, _airbnbPropTypes.and)([_propTypes2['default'].instanceOf(Set), function () {
  function modifiers(props, propName) {
    for (var _len = arguments.length, rest = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {
      rest[_key - 2] = arguments[_key];
    }

    var propValue = props[propName];

    var firstError = void 0;
    [].concat(_toConsumableArray(propValue)).some(function (v, i) {
      var _PropTypes$string;

      var fakePropName = String(propName) + ': index ' + String(i);
      firstError = (_PropTypes$string = _propTypes2['default'].string).isRequired.apply(_PropTypes$string, [_defineProperty({}, fakePropName, v), fakePropName].concat(rest));
      return firstError != null;
    });
    return firstError == null ? null : firstError;
  }

  return modifiers;
}()], 'Modifiers (Set of Strings)');

/***/ }),

/***/ "./node_modules/react-dates/lib/shapes/OpenDirectionShape.js":
/*!*******************************************************************!*\
  !*** ./node_modules/react-dates/lib/shapes/OpenDirectionShape.js ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _constants = __webpack_require__(/*! ../constants */ "./node_modules/react-dates/lib/constants.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

exports['default'] = _propTypes2['default'].oneOf([_constants.OPEN_DOWN, _constants.OPEN_UP]);

/***/ }),

/***/ "./node_modules/react-dates/lib/shapes/OrientationShape.js":
/*!*****************************************************************!*\
  !*** ./node_modules/react-dates/lib/shapes/OrientationShape.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _constants = __webpack_require__(/*! ../constants */ "./node_modules/react-dates/lib/constants.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

exports['default'] = _propTypes2['default'].oneOf([_constants.HORIZONTAL_ORIENTATION, _constants.VERTICAL_ORIENTATION]);

/***/ }),

/***/ "./node_modules/react-dates/lib/shapes/ScrollableOrientationShape.js":
/*!***************************************************************************!*\
  !*** ./node_modules/react-dates/lib/shapes/ScrollableOrientationShape.js ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _constants = __webpack_require__(/*! ../constants */ "./node_modules/react-dates/lib/constants.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

exports['default'] = _propTypes2['default'].oneOf([_constants.HORIZONTAL_ORIENTATION, _constants.VERTICAL_ORIENTATION, _constants.VERTICAL_SCROLLABLE]);

/***/ }),

/***/ "./node_modules/react-dates/lib/shapes/SingleDatePickerShape.js":
/*!**********************************************************************!*\
  !*** ./node_modules/react-dates/lib/shapes/SingleDatePickerShape.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _reactMomentProptypes = __webpack_require__(/*! react-moment-proptypes */ "./node_modules/react-moment-proptypes/src/index.js");

var _reactMomentProptypes2 = _interopRequireDefault(_reactMomentProptypes);

var _airbnbPropTypes = __webpack_require__(/*! airbnb-prop-types */ "./node_modules/airbnb-prop-types/index.js");

var _defaultPhrases = __webpack_require__(/*! ../defaultPhrases */ "./node_modules/react-dates/lib/defaultPhrases.js");

var _getPhrasePropTypes = __webpack_require__(/*! ../utils/getPhrasePropTypes */ "./node_modules/react-dates/lib/utils/getPhrasePropTypes.js");

var _getPhrasePropTypes2 = _interopRequireDefault(_getPhrasePropTypes);

var _IconPositionShape = __webpack_require__(/*! ./IconPositionShape */ "./node_modules/react-dates/lib/shapes/IconPositionShape.js");

var _IconPositionShape2 = _interopRequireDefault(_IconPositionShape);

var _OrientationShape = __webpack_require__(/*! ./OrientationShape */ "./node_modules/react-dates/lib/shapes/OrientationShape.js");

var _OrientationShape2 = _interopRequireDefault(_OrientationShape);

var _AnchorDirectionShape = __webpack_require__(/*! ./AnchorDirectionShape */ "./node_modules/react-dates/lib/shapes/AnchorDirectionShape.js");

var _AnchorDirectionShape2 = _interopRequireDefault(_AnchorDirectionShape);

var _OpenDirectionShape = __webpack_require__(/*! ./OpenDirectionShape */ "./node_modules/react-dates/lib/shapes/OpenDirectionShape.js");

var _OpenDirectionShape2 = _interopRequireDefault(_OpenDirectionShape);

var _DayOfWeekShape = __webpack_require__(/*! ./DayOfWeekShape */ "./node_modules/react-dates/lib/shapes/DayOfWeekShape.js");

var _DayOfWeekShape2 = _interopRequireDefault(_DayOfWeekShape);

var _CalendarInfoPositionShape = __webpack_require__(/*! ./CalendarInfoPositionShape */ "./node_modules/react-dates/lib/shapes/CalendarInfoPositionShape.js");

var _CalendarInfoPositionShape2 = _interopRequireDefault(_CalendarInfoPositionShape);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

exports['default'] = {
  // required props for a functional interactive SingleDatePicker
  date: _reactMomentProptypes2['default'].momentObj,
  onDateChange: _propTypes2['default'].func.isRequired,

  focused: _propTypes2['default'].bool,
  onFocusChange: _propTypes2['default'].func.isRequired,

  // input related props
  id: _propTypes2['default'].string.isRequired,
  placeholder: _propTypes2['default'].string,
  disabled: _propTypes2['default'].bool,
  required: _propTypes2['default'].bool,
  readOnly: _propTypes2['default'].bool,
  screenReaderInputMessage: _propTypes2['default'].string,
  showClearDate: _propTypes2['default'].bool,
  customCloseIcon: _propTypes2['default'].node,
  showDefaultInputIcon: _propTypes2['default'].bool,
  inputIconPosition: _IconPositionShape2['default'],
  customInputIcon: _propTypes2['default'].node,
  noBorder: _propTypes2['default'].bool,
  block: _propTypes2['default'].bool,
  small: _propTypes2['default'].bool,
  regular: _propTypes2['default'].bool,
  verticalSpacing: _airbnbPropTypes.nonNegativeInteger,
  keepFocusOnInput: _propTypes2['default'].bool,

  // calendar presentation and interaction related props
  renderMonthText: (0, _airbnbPropTypes.mutuallyExclusiveProps)(_propTypes2['default'].func, 'renderMonthText', 'renderMonthElement'),
  renderMonthElement: (0, _airbnbPropTypes.mutuallyExclusiveProps)(_propTypes2['default'].func, 'renderMonthText', 'renderMonthElement'),
  orientation: _OrientationShape2['default'],
  anchorDirection: _AnchorDirectionShape2['default'],
  openDirection: _OpenDirectionShape2['default'],
  horizontalMargin: _propTypes2['default'].number,
  withPortal: _propTypes2['default'].bool,
  withFullScreenPortal: _propTypes2['default'].bool,
  appendToBody: _propTypes2['default'].bool,
  disableScroll: _propTypes2['default'].bool,
  initialVisibleMonth: _propTypes2['default'].func,
  firstDayOfWeek: _DayOfWeekShape2['default'],
  numberOfMonths: _propTypes2['default'].number,
  keepOpenOnDateSelect: _propTypes2['default'].bool,
  reopenPickerOnClearDate: _propTypes2['default'].bool,
  renderCalendarInfo: _propTypes2['default'].func,
  calendarInfoPosition: _CalendarInfoPositionShape2['default'],
  hideKeyboardShortcutsPanel: _propTypes2['default'].bool,
  daySize: _airbnbPropTypes.nonNegativeInteger,
  isRTL: _propTypes2['default'].bool,
  verticalHeight: _airbnbPropTypes.nonNegativeInteger,
  transitionDuration: _airbnbPropTypes.nonNegativeInteger,
  horizontalMonthPadding: _airbnbPropTypes.nonNegativeInteger,

  // navigation related props
  navPrev: _propTypes2['default'].node,
  navNext: _propTypes2['default'].node,

  onPrevMonthClick: _propTypes2['default'].func,
  onNextMonthClick: _propTypes2['default'].func,
  onClose: _propTypes2['default'].func,

  // day presentation and interaction related props
  renderCalendarDay: _propTypes2['default'].func,
  renderDayContents: _propTypes2['default'].func,
  enableOutsideDays: _propTypes2['default'].bool,
  isDayBlocked: _propTypes2['default'].func,
  isOutsideRange: _propTypes2['default'].func,
  isDayHighlighted: _propTypes2['default'].func,

  // internationalization props
  displayFormat: _propTypes2['default'].oneOfType([_propTypes2['default'].string, _propTypes2['default'].func]),
  monthFormat: _propTypes2['default'].string,
  weekDayFormat: _propTypes2['default'].string,
  phrases: _propTypes2['default'].shape((0, _getPhrasePropTypes2['default'])(_defaultPhrases.SingleDatePickerPhrases)),
  dayAriaLabelFormat: _propTypes2['default'].string
};

/***/ }),

/***/ "./node_modules/react-dates/lib/utils/calculateDimension.js":
/*!******************************************************************!*\
  !*** ./node_modules/react-dates/lib/utils/calculateDimension.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports['default'] = calculateDimension;
function calculateDimension(el, axis) {
  var borderBox = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  var withMargin = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;

  if (!el) {
    return 0;
  }

  var axisStart = axis === 'width' ? 'Left' : 'Top';
  var axisEnd = axis === 'width' ? 'Right' : 'Bottom';

  // Only read styles if we need to
  var style = !borderBox || withMargin ? window.getComputedStyle(el) : null;

  // Offset includes border and padding
  var offsetWidth = el.offsetWidth,
      offsetHeight = el.offsetHeight;

  var size = axis === 'width' ? offsetWidth : offsetHeight;

  // Get the inner size
  if (!borderBox) {
    size -= parseFloat(style['padding' + axisStart]) + parseFloat(style['padding' + axisEnd]) + parseFloat(style['border' + axisStart + 'Width']) + parseFloat(style['border' + axisEnd + 'Width']);
  }

  // Apply margin
  if (withMargin) {
    size += parseFloat(style['margin' + axisStart]) + parseFloat(style['margin' + axisEnd]);
  }

  return size;
}

/***/ }),

/***/ "./node_modules/react-dates/lib/utils/disableScroll.js":
/*!*************************************************************!*\
  !*** ./node_modules/react-dates/lib/utils/disableScroll.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getScrollParent = getScrollParent;
exports.getScrollAncestorsOverflowY = getScrollAncestorsOverflowY;
exports['default'] = disableScroll;
var getScrollingRoot = function getScrollingRoot() {
  return document.scrollingElement || document.documentElement;
};

/**
 * Recursively finds the scroll parent of a node. The scroll parrent of a node
 * is the closest node that is scrollable. A node is scrollable if:
 *  - it is allowed to scroll via CSS ('overflow-y' not visible or hidden);
 *  - and its children/content are "bigger" than the node's box height.
 *
 * The root of the document always scrolls by default.
 *
 * @param {HTMLElement} node Any DOM element.
 * @return {HTMLElement} The scroll parent element.
 */
function getScrollParent(node) {
  var parent = node.parentElement;

  if (parent == null) return getScrollingRoot();

  var _window$getComputedSt = window.getComputedStyle(parent),
      overflowY = _window$getComputedSt.overflowY;

  var canScroll = overflowY !== 'visible' && overflowY !== 'hidden';

  if (canScroll && parent.scrollHeight > parent.clientHeight) {
    return parent;
  }

  return getScrollParent(parent);
}

/**
 * Recursively traverses the tree upwards from the given node, capturing all
 * ancestor nodes that scroll along with their current 'overflow-y' CSS
 * property.
 *
 * @param {HTMLElement} node Any DOM element.
 * @param {Map<HTMLElement,string>} [acc] Accumulator map.
 * @return {Map<HTMLElement,string>} Map of ancestors with their 'overflow-y' value.
 */
function getScrollAncestorsOverflowY(node) {
  var acc = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new Map();

  var scrollingRoot = getScrollingRoot();
  var scrollParent = getScrollParent(node);
  acc.set(scrollParent, scrollParent.style.overflowY);

  if (scrollParent === scrollingRoot) return acc;
  return getScrollAncestorsOverflowY(scrollParent, acc);
}

/**
 * Disabling the scroll on a node involves finding all the scrollable ancestors
 * and set their 'overflow-y' CSS property to 'hidden'. When all ancestors have
 * 'overflow-y: hidden' (up to the document element) there is no scroll
 * container, thus all the scroll outside of the node is disabled. In order to
 * enable scroll again, we store the previous value of the 'overflow-y' for
 * every ancestor in a closure and reset it back.
 *
 * @param {HTMLElement} node Any DOM element.
 */
function disableScroll(node) {
  var scrollAncestorsOverflowY = getScrollAncestorsOverflowY(node);
  var toggle = function toggle(on) {
    return scrollAncestorsOverflowY.forEach(function (overflowY, ancestor) {
      ancestor.style.setProperty('overflow-y', on ? 'hidden' : overflowY);
    });
  };

  toggle(true);
  return function () {
    return toggle(false);
  };
}

/***/ }),

/***/ "./node_modules/react-dates/lib/utils/getActiveElement.js":
/*!****************************************************************!*\
  !*** ./node_modules/react-dates/lib/utils/getActiveElement.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports['default'] = getActiveElement;
function getActiveElement() {
  return typeof document !== 'undefined' && document.activeElement;
}

/***/ }),

/***/ "./node_modules/react-dates/lib/utils/getCalendarDaySettings.js":
/*!**********************************************************************!*\
  !*** ./node_modules/react-dates/lib/utils/getCalendarDaySettings.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports['default'] = getCalendarDaySettings;

var _getPhrase = __webpack_require__(/*! ./getPhrase */ "./node_modules/react-dates/lib/utils/getPhrase.js");

var _getPhrase2 = _interopRequireDefault(_getPhrase);

var _constants = __webpack_require__(/*! ../constants */ "./node_modules/react-dates/lib/constants.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function getCalendarDaySettings(day, ariaLabelFormat, daySize, modifiers, phrases) {
  var chooseAvailableDate = phrases.chooseAvailableDate,
      dateIsUnavailable = phrases.dateIsUnavailable,
      dateIsSelected = phrases.dateIsSelected;


  var daySizeStyles = {
    width: daySize,
    height: daySize - 1
  };

  var useDefaultCursor = modifiers.has('blocked-minimum-nights') || modifiers.has('blocked-calendar') || modifiers.has('blocked-out-of-range');

  var selected = modifiers.has('selected') || modifiers.has('selected-start') || modifiers.has('selected-end');

  var hoveredSpan = !selected && (modifiers.has('hovered-span') || modifiers.has('after-hovered-start'));

  var isOutsideRange = modifiers.has('blocked-out-of-range');

  var formattedDate = { date: day.format(ariaLabelFormat) };

  var ariaLabel = (0, _getPhrase2['default'])(chooseAvailableDate, formattedDate);
  if (modifiers.has(_constants.BLOCKED_MODIFIER)) {
    ariaLabel = (0, _getPhrase2['default'])(dateIsUnavailable, formattedDate);
  } else if (selected) {
    ariaLabel = (0, _getPhrase2['default'])(dateIsSelected, formattedDate);
  }

  return {
    daySizeStyles: daySizeStyles,
    useDefaultCursor: useDefaultCursor,
    selected: selected,
    hoveredSpan: hoveredSpan,
    isOutsideRange: isOutsideRange,
    ariaLabel: ariaLabel
  };
}

/***/ }),

/***/ "./node_modules/react-dates/lib/utils/getCalendarMonthWeeks.js":
/*!*********************************************************************!*\
  !*** ./node_modules/react-dates/lib/utils/getCalendarMonthWeeks.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports['default'] = getCalendarMonthWeeks;

var _moment = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");

var _moment2 = _interopRequireDefault(_moment);

var _constants = __webpack_require__(/*! ../constants */ "./node_modules/react-dates/lib/constants.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function getCalendarMonthWeeks(month, enableOutsideDays) {
  var firstDayOfWeek = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _moment2['default'].localeData().firstDayOfWeek();

  if (!_moment2['default'].isMoment(month) || !month.isValid()) {
    throw new TypeError('`month` must be a valid moment object');
  }
  if (_constants.WEEKDAYS.indexOf(firstDayOfWeek) === -1) {
    throw new TypeError('`firstDayOfWeek` must be an integer between 0 and 6');
  }

  // set utc offset to get correct dates in future (when timezone changes)
  var firstOfMonth = month.clone().startOf('month').hour(12);
  var lastOfMonth = month.clone().endOf('month').hour(12);

  // calculate the exact first and last days to fill the entire matrix
  // (considering days outside month)
  var prevDays = (firstOfMonth.day() + 7 - firstDayOfWeek) % 7;
  var nextDays = (firstDayOfWeek + 6 - lastOfMonth.day()) % 7;
  var firstDay = firstOfMonth.clone().subtract(prevDays, 'day');
  var lastDay = lastOfMonth.clone().add(nextDays, 'day');

  var totalDays = lastDay.diff(firstDay, 'days') + 1;

  var currentDay = firstDay.clone();
  var weeksInMonth = [];

  for (var i = 0; i < totalDays; i += 1) {
    if (i % 7 === 0) {
      weeksInMonth.push([]);
    }

    var day = null;
    if (i >= prevDays && i < totalDays - nextDays || enableOutsideDays) {
      day = currentDay.clone();
    }

    weeksInMonth[weeksInMonth.length - 1].push(day);

    currentDay.add(1, 'day');
  }

  return weeksInMonth;
}

/***/ }),

/***/ "./node_modules/react-dates/lib/utils/getCalendarMonthWidth.js":
/*!*********************************************************************!*\
  !*** ./node_modules/react-dates/lib/utils/getCalendarMonthWidth.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = getCalendarMonthWidth;
function getCalendarMonthWidth(daySize, calendarMonthPadding) {
  return 7 * daySize + 2 * calendarMonthPadding + 1;
}

/***/ }),

/***/ "./node_modules/react-dates/lib/utils/getDetachedContainerStyles.js":
/*!**************************************************************************!*\
  !*** ./node_modules/react-dates/lib/utils/getDetachedContainerStyles.js ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports['default'] = getDetachedContainerStyles;

var _constants = __webpack_require__(/*! ../constants */ "./node_modules/react-dates/lib/constants.js");

/**
 * Calculate and return a CSS transform style to position a detached element
 * next to a reference element. The open and anchor direction indicate wether
 * it should be positioned above/below and/or to the left/right of the
 * reference element.
 *
 * Assuming r(0,0), r(1,1), d(0,0), d(1,1) for the bottom-left and top-right
 * corners of the reference and detached elements, respectively:
 *  - openDirection = DOWN, anchorDirection = LEFT => d(0,1) == r(0,1)
 *  - openDirection = UP, anchorDirection = LEFT => d(0,0) == r(0,0)
 *  - openDirection = DOWN, anchorDirection = RIGHT => d(1,1) == r(1,1)
 *  - openDirection = UP, anchorDirection = RIGHT => d(1,0) == r(1,0)
 *
 * By using a CSS transform, we allow to further position it using
 * top/bottom CSS properties for the anchor gutter.
 *
 * @param {string} openDirection The vertical positioning of the popup
 * @param {string} anchorDirection The horizontal position of the popup
 * @param {HTMLElement} referenceEl The reference element
 */
function getDetachedContainerStyles(openDirection, anchorDirection, referenceEl) {
  var referenceRect = referenceEl.getBoundingClientRect();
  var offsetX = referenceRect.left;
  var offsetY = referenceRect.top;

  if (openDirection === _constants.OPEN_UP) {
    offsetY = -(window.innerHeight - referenceRect.bottom);
  }

  if (anchorDirection === _constants.ANCHOR_RIGHT) {
    offsetX = -(window.innerWidth - referenceRect.right);
  }

  return {
    transform: 'translate3d(' + String(Math.round(offsetX)) + 'px, ' + String(Math.round(offsetY)) + 'px, 0)'
  };
}

/***/ }),

/***/ "./node_modules/react-dates/lib/utils/getInputHeight.js":
/*!**************************************************************!*\
  !*** ./node_modules/react-dates/lib/utils/getInputHeight.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports['default'] = getInputHeight;
/* eslint-disable camelcase */

function getPadding(vertical, top, bottom) {
  var isTopDefined = typeof top === 'number';
  var isBottomDefined = typeof bottom === 'number';
  var isVerticalDefined = typeof vertical === 'number';

  if (isTopDefined && isBottomDefined) {
    return top + bottom;
  }

  if (isTopDefined && isVerticalDefined) {
    return top + vertical;
  }

  if (isTopDefined) {
    return top;
  }

  if (isBottomDefined && isVerticalDefined) {
    return bottom + vertical;
  }

  if (isBottomDefined) {
    return bottom;
  }

  if (isVerticalDefined) {
    return 2 * vertical;
  }

  return 0;
}

function getInputHeight(_ref, small) {
  var _ref$font$input = _ref.font.input,
      lineHeight = _ref$font$input.lineHeight,
      lineHeight_small = _ref$font$input.lineHeight_small,
      _ref$spacing = _ref.spacing,
      inputPadding = _ref$spacing.inputPadding,
      displayTextPaddingVertical = _ref$spacing.displayTextPaddingVertical,
      displayTextPaddingTop = _ref$spacing.displayTextPaddingTop,
      displayTextPaddingBottom = _ref$spacing.displayTextPaddingBottom,
      displayTextPaddingVertical_small = _ref$spacing.displayTextPaddingVertical_small,
      displayTextPaddingTop_small = _ref$spacing.displayTextPaddingTop_small,
      displayTextPaddingBottom_small = _ref$spacing.displayTextPaddingBottom_small;

  var calcLineHeight = small ? lineHeight_small : lineHeight;

  var padding = small ? getPadding(displayTextPaddingVertical_small, displayTextPaddingTop_small, displayTextPaddingBottom_small) : getPadding(displayTextPaddingVertical, displayTextPaddingTop, displayTextPaddingBottom);

  return parseInt(calcLineHeight, 10) + 2 * inputPadding + padding;
}

/***/ }),

/***/ "./node_modules/react-dates/lib/utils/getNumberOfCalendarMonthWeeks.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/react-dates/lib/utils/getNumberOfCalendarMonthWeeks.js ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports['default'] = getNumberOfCalendarMonthWeeks;

var _moment = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");

var _moment2 = _interopRequireDefault(_moment);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function getBlankDaysBeforeFirstDay(firstDayOfMonth, firstDayOfWeek) {
  var weekDayDiff = firstDayOfMonth.day() - firstDayOfWeek;
  return (weekDayDiff + 7) % 7;
}

function getNumberOfCalendarMonthWeeks(month) {
  var firstDayOfWeek = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _moment2['default'].localeData().firstDayOfWeek();

  var firstDayOfMonth = month.clone().startOf('month');
  var numBlankDays = getBlankDaysBeforeFirstDay(firstDayOfMonth, firstDayOfWeek);
  return Math.ceil((numBlankDays + month.daysInMonth()) / 7);
}

/***/ }),

/***/ "./node_modules/react-dates/lib/utils/getPhrase.js":
/*!*********************************************************!*\
  !*** ./node_modules/react-dates/lib/utils/getPhrase.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports['default'] = getPhrase;
function getPhrase(phrase, args) {
  if (typeof phrase === 'string') return phrase;

  if (typeof phrase === 'function') {
    return phrase(args);
  }

  return '';
}

/***/ }),

/***/ "./node_modules/react-dates/lib/utils/getPhrasePropTypes.js":
/*!******************************************************************!*\
  !*** ./node_modules/react-dates/lib/utils/getPhrasePropTypes.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports['default'] = getPhrasePropTypes;

var _object = __webpack_require__(/*! object.assign */ "./node_modules/object.assign/index.js");

var _object2 = _interopRequireDefault(_object);

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _propTypes2 = _interopRequireDefault(_propTypes);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function getPhrasePropTypes(defaultPhrases) {
  return Object.keys(defaultPhrases).reduce(function (phrases, key) {
    return (0, _object2['default'])({}, phrases, _defineProperty({}, key, _propTypes2['default'].oneOfType([_propTypes2['default'].string, _propTypes2['default'].func, _propTypes2['default'].node])));
  }, {});
}

/***/ }),

/***/ "./node_modules/react-dates/lib/utils/getResponsiveContainerStyles.js":
/*!****************************************************************************!*\
  !*** ./node_modules/react-dates/lib/utils/getResponsiveContainerStyles.js ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports['default'] = getResponsiveContainerStyles;

var _constants = __webpack_require__(/*! ../constants */ "./node_modules/react-dates/lib/constants.js");

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function getResponsiveContainerStyles(anchorDirection, currentOffset, containerEdge, margin) {
  var windowWidth = typeof window !== 'undefined' ? window.innerWidth : 0;
  var calculatedOffset = anchorDirection === _constants.ANCHOR_LEFT ? windowWidth - containerEdge : containerEdge;
  var calculatedMargin = margin || 0;

  return _defineProperty({}, anchorDirection, Math.min(currentOffset + calculatedOffset - calculatedMargin, 0));
}

/***/ }),

/***/ "./node_modules/react-dates/lib/utils/getSelectedDateOffset.js":
/*!*********************************************************************!*\
  !*** ./node_modules/react-dates/lib/utils/getSelectedDateOffset.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = getSelectedDateOffset;
var defaultModifier = function defaultModifier(day) {
  return day;
};

function getSelectedDateOffset(fn, day) {
  var modifier = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultModifier;

  if (!fn) return day;
  return modifier(fn(day.clone()));
}

/***/ }),

/***/ "./node_modules/react-dates/lib/utils/getTransformStyles.js":
/*!******************************************************************!*\
  !*** ./node_modules/react-dates/lib/utils/getTransformStyles.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = getTransformStyles;
function getTransformStyles(transformValue) {
  return {
    transform: transformValue,
    msTransform: transformValue,
    MozTransform: transformValue,
    WebkitTransform: transformValue
  };
}

/***/ }),

/***/ "./node_modules/react-dates/lib/utils/getVisibleDays.js":
/*!**************************************************************!*\
  !*** ./node_modules/react-dates/lib/utils/getVisibleDays.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports['default'] = getVisibleDays;

var _moment = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");

var _moment2 = _interopRequireDefault(_moment);

var _toISOMonthString = __webpack_require__(/*! ./toISOMonthString */ "./node_modules/react-dates/lib/utils/toISOMonthString.js");

var _toISOMonthString2 = _interopRequireDefault(_toISOMonthString);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function getVisibleDays(month, numberOfMonths, enableOutsideDays, withoutTransitionMonths) {
  if (!_moment2['default'].isMoment(month)) return {};

  var visibleDaysByMonth = {};
  var currentMonth = withoutTransitionMonths ? month.clone() : month.clone().subtract(1, 'month');
  for (var i = 0; i < (withoutTransitionMonths ? numberOfMonths : numberOfMonths + 2); i += 1) {
    var visibleDays = [];

    // set utc offset to get correct dates in future (when timezone changes)
    var baseDate = currentMonth.clone();
    var firstOfMonth = baseDate.clone().startOf('month').hour(12);
    var lastOfMonth = baseDate.clone().endOf('month').hour(12);

    var currentDay = firstOfMonth.clone();

    // days belonging to the previous month
    if (enableOutsideDays) {
      for (var j = 0; j < currentDay.weekday(); j += 1) {
        var prevDay = currentDay.clone().subtract(j + 1, 'day');
        visibleDays.unshift(prevDay);
      }
    }

    while (currentDay < lastOfMonth) {
      visibleDays.push(currentDay.clone());
      currentDay.add(1, 'day');
    }

    if (enableOutsideDays) {
      // weekday() returns the index of the day of the week according to the locale
      // this means if the week starts on Monday, weekday() will return 0 for a Monday date, not 1
      if (currentDay.weekday() !== 0) {
        // days belonging to the next month
        for (var k = currentDay.weekday(), count = 0; k < 7; k += 1, count += 1) {
          var nextDay = currentDay.clone().add(count, 'day');
          visibleDays.push(nextDay);
        }
      }
    }

    visibleDaysByMonth[(0, _toISOMonthString2['default'])(currentMonth)] = visibleDays;
    currentMonth = currentMonth.clone().add(1, 'month');
  }

  return visibleDaysByMonth;
}

/***/ }),

/***/ "./node_modules/react-dates/lib/utils/isAfterDay.js":
/*!**********************************************************!*\
  !*** ./node_modules/react-dates/lib/utils/isAfterDay.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports['default'] = isAfterDay;

var _moment = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");

var _moment2 = _interopRequireDefault(_moment);

var _isBeforeDay = __webpack_require__(/*! ./isBeforeDay */ "./node_modules/react-dates/lib/utils/isBeforeDay.js");

var _isBeforeDay2 = _interopRequireDefault(_isBeforeDay);

var _isSameDay = __webpack_require__(/*! ./isSameDay */ "./node_modules/react-dates/lib/utils/isSameDay.js");

var _isSameDay2 = _interopRequireDefault(_isSameDay);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function isAfterDay(a, b) {
  if (!_moment2['default'].isMoment(a) || !_moment2['default'].isMoment(b)) return false;
  return !(0, _isBeforeDay2['default'])(a, b) && !(0, _isSameDay2['default'])(a, b);
}

/***/ }),

/***/ "./node_modules/react-dates/lib/utils/isBeforeDay.js":
/*!***********************************************************!*\
  !*** ./node_modules/react-dates/lib/utils/isBeforeDay.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports['default'] = isBeforeDay;

var _moment = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");

var _moment2 = _interopRequireDefault(_moment);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function isBeforeDay(a, b) {
  if (!_moment2['default'].isMoment(a) || !_moment2['default'].isMoment(b)) return false;

  var aYear = a.year();
  var aMonth = a.month();

  var bYear = b.year();
  var bMonth = b.month();

  var isSameYear = aYear === bYear;
  var isSameMonth = aMonth === bMonth;

  if (isSameYear && isSameMonth) return a.date() < b.date();
  if (isSameYear) return aMonth < bMonth;
  return aYear < bYear;
}

/***/ }),

/***/ "./node_modules/react-dates/lib/utils/isDayVisible.js":
/*!************************************************************!*\
  !*** ./node_modules/react-dates/lib/utils/isDayVisible.js ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports['default'] = isDayVisible;

var _isBeforeDay = __webpack_require__(/*! ./isBeforeDay */ "./node_modules/react-dates/lib/utils/isBeforeDay.js");

var _isBeforeDay2 = _interopRequireDefault(_isBeforeDay);

var _isAfterDay = __webpack_require__(/*! ./isAfterDay */ "./node_modules/react-dates/lib/utils/isAfterDay.js");

var _isAfterDay2 = _interopRequireDefault(_isAfterDay);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function isDayVisible(day, month, numberOfMonths, enableOutsideDays) {
  var firstDayOfFirstMonth = month.clone().startOf('month');
  if (enableOutsideDays) firstDayOfFirstMonth = firstDayOfFirstMonth.startOf('week');
  if ((0, _isBeforeDay2['default'])(day, firstDayOfFirstMonth)) return false;

  var lastDayOfLastMonth = month.clone().add(numberOfMonths - 1, 'months').endOf('month');
  if (enableOutsideDays) lastDayOfLastMonth = lastDayOfLastMonth.endOf('week');
  return !(0, _isAfterDay2['default'])(day, lastDayOfLastMonth);
}

/***/ }),

/***/ "./node_modules/react-dates/lib/utils/isInclusivelyAfterDay.js":
/*!*********************************************************************!*\
  !*** ./node_modules/react-dates/lib/utils/isInclusivelyAfterDay.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports['default'] = isInclusivelyAfterDay;

var _moment = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");

var _moment2 = _interopRequireDefault(_moment);

var _isBeforeDay = __webpack_require__(/*! ./isBeforeDay */ "./node_modules/react-dates/lib/utils/isBeforeDay.js");

var _isBeforeDay2 = _interopRequireDefault(_isBeforeDay);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function isInclusivelyAfterDay(a, b) {
  if (!_moment2['default'].isMoment(a) || !_moment2['default'].isMoment(b)) return false;
  return !(0, _isBeforeDay2['default'])(a, b);
}

/***/ }),

/***/ "./node_modules/react-dates/lib/utils/isInclusivelyBeforeDay.js":
/*!**********************************************************************!*\
  !*** ./node_modules/react-dates/lib/utils/isInclusivelyBeforeDay.js ***!
  \**********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports['default'] = isInclusivelyBeforeDay;

var _moment = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");

var _moment2 = _interopRequireDefault(_moment);

var _isAfterDay = __webpack_require__(/*! ./isAfterDay */ "./node_modules/react-dates/lib/utils/isAfterDay.js");

var _isAfterDay2 = _interopRequireDefault(_isAfterDay);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function isInclusivelyBeforeDay(a, b) {
  if (!_moment2['default'].isMoment(a) || !_moment2['default'].isMoment(b)) return false;
  return !(0, _isAfterDay2['default'])(a, b);
}

/***/ }),

/***/ "./node_modules/react-dates/lib/utils/isNextDay.js":
/*!*********************************************************!*\
  !*** ./node_modules/react-dates/lib/utils/isNextDay.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports['default'] = isNextDay;

var _moment = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");

var _moment2 = _interopRequireDefault(_moment);

var _isSameDay = __webpack_require__(/*! ./isSameDay */ "./node_modules/react-dates/lib/utils/isSameDay.js");

var _isSameDay2 = _interopRequireDefault(_isSameDay);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function isNextDay(a, b) {
  if (!_moment2['default'].isMoment(a) || !_moment2['default'].isMoment(b)) return false;
  var nextDay = (0, _moment2['default'])(a).add(1, 'day');
  return (0, _isSameDay2['default'])(nextDay, b);
}

/***/ }),

/***/ "./node_modules/react-dates/lib/utils/isNextMonth.js":
/*!***********************************************************!*\
  !*** ./node_modules/react-dates/lib/utils/isNextMonth.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports['default'] = isNextMonth;

var _moment = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");

var _moment2 = _interopRequireDefault(_moment);

var _isSameMonth = __webpack_require__(/*! ./isSameMonth */ "./node_modules/react-dates/lib/utils/isSameMonth.js");

var _isSameMonth2 = _interopRequireDefault(_isSameMonth);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function isNextMonth(a, b) {
  if (!_moment2['default'].isMoment(a) || !_moment2['default'].isMoment(b)) return false;
  return (0, _isSameMonth2['default'])(a.clone().add(1, 'month'), b);
}

/***/ }),

/***/ "./node_modules/react-dates/lib/utils/isPrevMonth.js":
/*!***********************************************************!*\
  !*** ./node_modules/react-dates/lib/utils/isPrevMonth.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports['default'] = isPrevMonth;

var _moment = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");

var _moment2 = _interopRequireDefault(_moment);

var _isSameMonth = __webpack_require__(/*! ./isSameMonth */ "./node_modules/react-dates/lib/utils/isSameMonth.js");

var _isSameMonth2 = _interopRequireDefault(_isSameMonth);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function isPrevMonth(a, b) {
  if (!_moment2['default'].isMoment(a) || !_moment2['default'].isMoment(b)) return false;
  return (0, _isSameMonth2['default'])(a.clone().subtract(1, 'month'), b);
}

/***/ }),

/***/ "./node_modules/react-dates/lib/utils/isSameDay.js":
/*!*********************************************************!*\
  !*** ./node_modules/react-dates/lib/utils/isSameDay.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports['default'] = isSameDay;

var _moment = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");

var _moment2 = _interopRequireDefault(_moment);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function isSameDay(a, b) {
  if (!_moment2['default'].isMoment(a) || !_moment2['default'].isMoment(b)) return false;
  // Compare least significant, most likely to change units first
  // Moment's isSame clones moment inputs and is a tad slow
  return a.date() === b.date() && a.month() === b.month() && a.year() === b.year();
}

/***/ }),

/***/ "./node_modules/react-dates/lib/utils/isSameMonth.js":
/*!***********************************************************!*\
  !*** ./node_modules/react-dates/lib/utils/isSameMonth.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports['default'] = isSameMonth;

var _moment = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");

var _moment2 = _interopRequireDefault(_moment);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function isSameMonth(a, b) {
  if (!_moment2['default'].isMoment(a) || !_moment2['default'].isMoment(b)) return false;
  // Compare least significant, most likely to change units first
  // Moment's isSame clones moment inputs and is a tad slow
  return a.month() === b.month() && a.year() === b.year();
}

/***/ }),

/***/ "./node_modules/react-dates/lib/utils/isTransitionEndSupported.js":
/*!************************************************************************!*\
  !*** ./node_modules/react-dates/lib/utils/isTransitionEndSupported.js ***!
  \************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports['default'] = isTransitionEndSupported;
function isTransitionEndSupported() {
  return !!(typeof window !== 'undefined' && 'TransitionEvent' in window);
}

/***/ }),

/***/ "./node_modules/react-dates/lib/utils/toISODateString.js":
/*!***************************************************************!*\
  !*** ./node_modules/react-dates/lib/utils/toISODateString.js ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports['default'] = toISODateString;

var _moment = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");

var _moment2 = _interopRequireDefault(_moment);

var _toMomentObject = __webpack_require__(/*! ./toMomentObject */ "./node_modules/react-dates/lib/utils/toMomentObject.js");

var _toMomentObject2 = _interopRequireDefault(_toMomentObject);

var _constants = __webpack_require__(/*! ../constants */ "./node_modules/react-dates/lib/constants.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function toISODateString(date, currentFormat) {
  var dateObj = _moment2['default'].isMoment(date) ? date : (0, _toMomentObject2['default'])(date, currentFormat);
  if (!dateObj) return null;

  return dateObj.format(_constants.ISO_FORMAT);
}

/***/ }),

/***/ "./node_modules/react-dates/lib/utils/toISOMonthString.js":
/*!****************************************************************!*\
  !*** ./node_modules/react-dates/lib/utils/toISOMonthString.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports['default'] = toISOMonthString;

var _moment = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");

var _moment2 = _interopRequireDefault(_moment);

var _toMomentObject = __webpack_require__(/*! ./toMomentObject */ "./node_modules/react-dates/lib/utils/toMomentObject.js");

var _toMomentObject2 = _interopRequireDefault(_toMomentObject);

var _constants = __webpack_require__(/*! ../constants */ "./node_modules/react-dates/lib/constants.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function toISOMonthString(date, currentFormat) {
  var dateObj = _moment2['default'].isMoment(date) ? date : (0, _toMomentObject2['default'])(date, currentFormat);
  if (!dateObj) return null;

  return dateObj.format(_constants.ISO_MONTH_FORMAT);
}

/***/ }),

/***/ "./node_modules/react-dates/lib/utils/toLocalizedDateString.js":
/*!*********************************************************************!*\
  !*** ./node_modules/react-dates/lib/utils/toLocalizedDateString.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports['default'] = toLocalizedDateString;

var _moment = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");

var _moment2 = _interopRequireDefault(_moment);

var _toMomentObject = __webpack_require__(/*! ./toMomentObject */ "./node_modules/react-dates/lib/utils/toMomentObject.js");

var _toMomentObject2 = _interopRequireDefault(_toMomentObject);

var _constants = __webpack_require__(/*! ../constants */ "./node_modules/react-dates/lib/constants.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function toLocalizedDateString(date, currentFormat) {
  var dateObj = _moment2['default'].isMoment(date) ? date : (0, _toMomentObject2['default'])(date, currentFormat);
  if (!dateObj) return null;

  return dateObj.format(_constants.DISPLAY_FORMAT);
}

/***/ }),

/***/ "./node_modules/react-dates/lib/utils/toMomentObject.js":
/*!**************************************************************!*\
  !*** ./node_modules/react-dates/lib/utils/toMomentObject.js ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports['default'] = toMomentObject;

var _moment = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");

var _moment2 = _interopRequireDefault(_moment);

var _constants = __webpack_require__(/*! ../constants */ "./node_modules/react-dates/lib/constants.js");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function toMomentObject(dateString, customFormat) {
  var dateFormats = customFormat ? [customFormat, _constants.DISPLAY_FORMAT, _constants.ISO_FORMAT] : [_constants.DISPLAY_FORMAT, _constants.ISO_FORMAT];

  var date = (0, _moment2['default'])(dateString, dateFormats, true);
  return date.isValid() ? date.hour(12) : null;
}

/***/ }),

/***/ "./node_modules/react-moment-proptypes/src/core.js":
/*!*********************************************************!*\
  !*** ./node_modules/react-moment-proptypes/src/core.js ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

var messages = {
  invalidPredicate: '`predicate` must be a function',
  invalidPropValidator: '`propValidator` must be a function',
  requiredCore: 'is marked as required',
  invalidTypeCore: 'Invalid input type',
  predicateFailureCore: 'Failed to succeed with predicate',
  anonymousMessage: '<<anonymous>>',
  baseInvalidMessage: 'Invalid ',
};

function constructPropValidatorVariations(propValidator) {
  if (typeof propValidator !== 'function') {
    throw new Error(messages.invalidPropValidator);
  }

  var requiredPropValidator = propValidator.bind(null, false, null);
  requiredPropValidator.isRequired = propValidator.bind(null, true, null);

  requiredPropValidator.withPredicate = function predicateApplication(predicate) {
    if (typeof predicate !== 'function') {
      throw new Error(messages.invalidPredicate);
    }
    var basePropValidator = propValidator.bind(null, false, predicate);
    basePropValidator.isRequired = propValidator.bind(null, true, predicate);
    return basePropValidator;
  };

  return requiredPropValidator;
}

function createInvalidRequiredErrorMessage(propName, componentName, value) {
  return new Error(
    'The prop `' + propName + '` ' + messages.requiredCore +
    ' in `' + componentName + '`, but its value is `' + value + '`.'
  );
}

var independentGuardianValue = -1;

function preValidationRequireCheck(isRequired, componentName, propFullName, propValue) {
  var isPropValueUndefined = typeof propValue === 'undefined';
  var isPropValueNull = propValue === null;

  if (isRequired) {
    if (isPropValueUndefined) {
      return createInvalidRequiredErrorMessage(propFullName, componentName, 'undefined');
    } else if (isPropValueNull) {
      return createInvalidRequiredErrorMessage(propFullName, componentName, 'null');
    }
  }

  if (isPropValueUndefined || isPropValueNull) {
    return null;
  }

  return independentGuardianValue;
}

function createMomentChecker(type, typeValidator, validator, momentType) {

  function propValidator(
    isRequired, // Bound parameter to indicate with the propType is required
    predicate, // Bound parameter to allow user to add dynamic validation
    props,
    propName,
    componentName,
    location,
    propFullName
  ) {
    var propValue = props[ propName ];
    var propType = typeof propValue;

    componentName = componentName || messages.anonymousMessage;
    propFullName = propFullName || propName;

    var preValidationRequireCheckValue = preValidationRequireCheck(
      isRequired, componentName, propFullName, propValue
    );

    if (preValidationRequireCheckValue !== independentGuardianValue) {
      return preValidationRequireCheckValue;
    }

    if (typeValidator && !typeValidator(propValue)) {
      return new Error(
        messages.invalidTypeCore + ': `' + propName + '` of type `' + propType + '` ' +
        'supplied to `' + componentName + '`, expected `' + type + '`.'
      );
    }

    if (!validator(propValue)) {
      return new Error(
        messages.baseInvalidMessage + location + ' `' + propName + '` of type `' + propType + '` ' +
        'supplied to `' + componentName + '`, expected `' + momentType + '`.'
      );
    }

    if (predicate && !predicate(propValue)) {
      var predicateName = predicate.name || messages.anonymousMessage;
      return new Error(
        messages.baseInvalidMessage + location + ' `' + propName + '` of type `' + propType + '` ' +
        'supplied to `' + componentName + '`. ' + messages.predicateFailureCore + ' `' +
        predicateName + '`.'
      );
    }

    return null;

  }

  return constructPropValidatorVariations(propValidator);

}

module.exports = {
  constructPropValidatorVariations: constructPropValidatorVariations,
  createMomentChecker: createMomentChecker,
  messages: messages,
};


/***/ }),

/***/ "./node_modules/react-moment-proptypes/src/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/react-moment-proptypes/src/index.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var moment = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
var momentValidationWrapper = __webpack_require__(/*! ./moment-validation-wrapper */ "./node_modules/react-moment-proptypes/src/moment-validation-wrapper.js");
var core = __webpack_require__(/*! ./core */ "./node_modules/react-moment-proptypes/src/core.js");

module.exports = {

  momentObj : core.createMomentChecker(
    'object',
    function(obj) {
      return typeof obj === 'object';
    },
    function isValid(value) {
      return momentValidationWrapper.isValidMoment(value);
    },
    'Moment'
  ),

  momentString : core.createMomentChecker(
    'string',
    function(str) {
      return typeof str === 'string';
    },
    function isValid(value) {
      return momentValidationWrapper.isValidMoment(moment(value));
    },
    'Moment'
  ),

  momentDurationObj : core.createMomentChecker(
    'object',
    function(obj) {
      return typeof obj === 'object';
    },
    function isValid(value) {
      return moment.isDuration(value);
    },
    'Duration'
  ),

};


/***/ }),

/***/ "./node_modules/react-moment-proptypes/src/moment-validation-wrapper.js":
/*!******************************************************************************!*\
  !*** ./node_modules/react-moment-proptypes/src/moment-validation-wrapper.js ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var moment = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");

function isValidMoment(testMoment) {
  if (typeof moment.isMoment === 'function' && !moment.isMoment(testMoment)) {
    return false;
  }

  /* istanbul ignore else  */
  if (typeof testMoment.isValid === 'function') {
    // moment 1.7.0+
    return testMoment.isValid();
  }

  /* istanbul ignore next */
  return !isNaN(testMoment);
}

module.exports = {
  isValidMoment : isValidMoment,
};


/***/ }),

/***/ "./node_modules/react-outside-click-handler/build/OutsideClickHandler.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/react-outside-click-handler/build/OutsideClickHandler.js ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(/*! react */ "./node_modules/react/index.js");

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _airbnbPropTypes = __webpack_require__(/*! airbnb-prop-types */ "./node_modules/airbnb-prop-types/index.js");

var _consolidatedEvents = __webpack_require__(/*! consolidated-events */ "./node_modules/consolidated-events/lib/index.esm.js");

var _object = __webpack_require__(/*! object.values */ "./node_modules/object.values/index.js");

var _object2 = _interopRequireDefault(_object);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var DISPLAY = {
  BLOCK: 'block',
  FLEX: 'flex',
  INLINE_BLOCK: 'inline-block'
};

var propTypes = (0, _airbnbPropTypes.forbidExtraProps)({
  children: _propTypes2['default'].node.isRequired,
  onOutsideClick: _propTypes2['default'].func.isRequired,
  disabled: _propTypes2['default'].bool,
  useCapture: _propTypes2['default'].bool,
  display: _propTypes2['default'].oneOf((0, _object2['default'])(DISPLAY))
});

var defaultProps = {
  disabled: false,

  // `useCapture` is set to true by default so that a `stopPropagation` in the
  // children will not prevent all outside click handlers from firing - maja
  useCapture: true,
  display: DISPLAY.BLOCK
};

var OutsideClickHandler = function (_React$Component) {
  _inherits(OutsideClickHandler, _React$Component);

  function OutsideClickHandler() {
    var _ref;

    _classCallCheck(this, OutsideClickHandler);

    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }

    var _this = _possibleConstructorReturn(this, (_ref = OutsideClickHandler.__proto__ || Object.getPrototypeOf(OutsideClickHandler)).call.apply(_ref, [this].concat(args)));

    _this.onMouseDown = _this.onMouseDown.bind(_this);
    _this.onMouseUp = _this.onMouseUp.bind(_this);
    _this.setChildNodeRef = _this.setChildNodeRef.bind(_this);
    return _this;
  }

  _createClass(OutsideClickHandler, [{
    key: 'componentDidMount',
    value: function () {
      function componentDidMount() {
        var _props = this.props,
            disabled = _props.disabled,
            useCapture = _props.useCapture;


        if (!disabled) this.addMouseDownEventListener(useCapture);
      }

      return componentDidMount;
    }()
  }, {
    key: 'componentWillReceiveProps',
    value: function () {
      function componentWillReceiveProps(_ref2) {
        var disabled = _ref2.disabled,
            useCapture = _ref2.useCapture;
        var prevDisabled = this.props.disabled;

        if (prevDisabled !== disabled) {
          if (disabled) {
            this.removeEventListeners();
          } else {
            this.addMouseDownEventListener(useCapture);
          }
        }
      }

      return componentWillReceiveProps;
    }()
  }, {
    key: 'componentWillUnmount',
    value: function () {
      function componentWillUnmount() {
        this.removeEventListeners();
      }

      return componentWillUnmount;
    }()

    // Use mousedown/mouseup to enforce that clicks remain outside the root's
    // descendant tree, even when dragged. This should also get triggered on
    // touch devices.

  }, {
    key: 'onMouseDown',
    value: function () {
      function onMouseDown(e) {
        var useCapture = this.props.useCapture;


        var isDescendantOfRoot = this.childNode && this.childNode.contains(e.target);
        if (!isDescendantOfRoot) {
          this.removeMouseUp = (0, _consolidatedEvents.addEventListener)(document, 'mouseup', this.onMouseUp, { capture: useCapture });
        }
      }

      return onMouseDown;
    }()

    // Use mousedown/mouseup to enforce that clicks remain outside the root's
    // descendant tree, even when dragged. This should also get triggered on
    // touch devices.

  }, {
    key: 'onMouseUp',
    value: function () {
      function onMouseUp(e) {
        var onOutsideClick = this.props.onOutsideClick;


        var isDescendantOfRoot = this.childNode && this.childNode.contains(e.target);
        if (this.removeMouseUp) this.removeMouseUp();
        this.removeMouseUp = null;

        if (!isDescendantOfRoot) {
          onOutsideClick(e);
        }
      }

      return onMouseUp;
    }()
  }, {
    key: 'setChildNodeRef',
    value: function () {
      function setChildNodeRef(ref) {
        this.childNode = ref;
      }

      return setChildNodeRef;
    }()
  }, {
    key: 'addMouseDownEventListener',
    value: function () {
      function addMouseDownEventListener(useCapture) {
        this.removeMouseDown = (0, _consolidatedEvents.addEventListener)(document, 'mousedown', this.onMouseDown, { capture: useCapture });
      }

      return addMouseDownEventListener;
    }()
  }, {
    key: 'removeEventListeners',
    value: function () {
      function removeEventListeners() {
        if (this.removeMouseDown) this.removeMouseDown();
        if (this.removeMouseUp) this.removeMouseUp();
      }

      return removeEventListeners;
    }()
  }, {
    key: 'render',
    value: function () {
      function render() {
        var _props2 = this.props,
            children = _props2.children,
            display = _props2.display;


        return _react2['default'].createElement(
          'div',
          {
            ref: this.setChildNodeRef,
            style: display !== DISPLAY.BLOCK && (0, _object2['default'])(DISPLAY).includes(display) ? { display: display } : undefined
          },
          children
        );
      }

      return render;
    }()
  }]);

  return OutsideClickHandler;
}(_react2['default'].Component);

exports['default'] = OutsideClickHandler;


OutsideClickHandler.propTypes = propTypes;
OutsideClickHandler.defaultProps = defaultProps;

/***/ }),

/***/ "./node_modules/react-outside-click-handler/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/react-outside-click-handler/index.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// eslint-disable-next-line import/no-unresolved
module.exports = __webpack_require__(/*! ./build/OutsideClickHandler */ "./node_modules/react-outside-click-handler/build/OutsideClickHandler.js");


/***/ }),

/***/ "./node_modules/react-portal/es/LegacyPortal.js":
/*!******************************************************!*\
  !*** ./node_modules/react-portal/es/LegacyPortal.js ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_2__);
var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

// This file is a fallback for a consumer who is not yet on React 16
// as createPortal was introduced in React 16





var Portal = function (_React$Component) {
  _inherits(Portal, _React$Component);

  function Portal() {
    _classCallCheck(this, Portal);

    return _possibleConstructorReturn(this, (Portal.__proto__ || Object.getPrototypeOf(Portal)).apply(this, arguments));
  }

  _createClass(Portal, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      this.renderPortal();
    }
  }, {
    key: 'componentDidUpdate',
    value: function componentDidUpdate(props) {
      this.renderPortal();
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.unmountComponentAtNode(this.defaultNode || this.props.node);
      if (this.defaultNode) {
        document.body.removeChild(this.defaultNode);
      }
      this.defaultNode = null;
      this.portal = null;
    }
  }, {
    key: 'renderPortal',
    value: function renderPortal(props) {
      if (!this.props.node && !this.defaultNode) {
        this.defaultNode = document.createElement('div');
        document.body.appendChild(this.defaultNode);
      }

      var children = this.props.children;
      // https://gist.github.com/jimfb/d99e0678e9da715ccf6454961ef04d1b
      if (typeof this.props.children.type === 'function') {
        children = react__WEBPACK_IMPORTED_MODULE_0___default.a.cloneElement(this.props.children);
      }

      this.portal = react_dom__WEBPACK_IMPORTED_MODULE_1___default.a.unstable_renderSubtreeIntoContainer(this, children, this.props.node || this.defaultNode);
    }
  }, {
    key: 'render',
    value: function render() {
      return null;
    }
  }]);

  return Portal;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

/* harmony default export */ __webpack_exports__["default"] = (Portal);


Portal.propTypes = {
  children: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.node.isRequired,
  node: prop_types__WEBPACK_IMPORTED_MODULE_2___default.a.any
};

/***/ }),

/***/ "./node_modules/react-portal/es/Portal.js":
/*!************************************************!*\
  !*** ./node_modules/react-portal/es/Portal.js ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils */ "./node_modules/react-portal/es/utils.js");
var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }






var Portal = function (_React$Component) {
  _inherits(Portal, _React$Component);

  function Portal() {
    _classCallCheck(this, Portal);

    return _possibleConstructorReturn(this, (Portal.__proto__ || Object.getPrototypeOf(Portal)).apply(this, arguments));
  }

  _createClass(Portal, [{
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      if (this.defaultNode) {
        document.body.removeChild(this.defaultNode);
      }
      this.defaultNode = null;
    }
  }, {
    key: 'render',
    value: function render() {
      if (!_utils__WEBPACK_IMPORTED_MODULE_3__["canUseDOM"]) {
        return null;
      }
      if (!this.props.node && !this.defaultNode) {
        this.defaultNode = document.createElement('div');
        document.body.appendChild(this.defaultNode);
      }
      return react_dom__WEBPACK_IMPORTED_MODULE_2___default.a.createPortal(this.props.children, this.props.node || this.defaultNode);
    }
  }]);

  return Portal;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

Portal.propTypes = {
  children: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.node.isRequired,
  node: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.any
};

/* harmony default export */ __webpack_exports__["default"] = (Portal);

/***/ }),

/***/ "./node_modules/react-portal/es/PortalCompat.js":
/*!******************************************************!*\
  !*** ./node_modules/react-portal/es/PortalCompat.js ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Portal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Portal */ "./node_modules/react-portal/es/Portal.js");
/* harmony import */ var _LegacyPortal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./LegacyPortal */ "./node_modules/react-portal/es/LegacyPortal.js");





var Portal = void 0;

if (react_dom__WEBPACK_IMPORTED_MODULE_0___default.a.createPortal) {
  Portal = _Portal__WEBPACK_IMPORTED_MODULE_1__["default"];
} else {
  Portal = _LegacyPortal__WEBPACK_IMPORTED_MODULE_2__["default"];
}

/* harmony default export */ __webpack_exports__["default"] = (Portal);

/***/ }),

/***/ "./node_modules/react-portal/es/PortalWithState.js":
/*!*********************************************************!*\
  !*** ./node_modules/react-portal/es/PortalWithState.js ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _PortalCompat__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PortalCompat */ "./node_modules/react-portal/es/PortalCompat.js");
var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }





var KEYCODES = {
  ESCAPE: 27
};

var PortalWithState = function (_React$Component) {
  _inherits(PortalWithState, _React$Component);

  function PortalWithState(props) {
    _classCallCheck(this, PortalWithState);

    var _this = _possibleConstructorReturn(this, (PortalWithState.__proto__ || Object.getPrototypeOf(PortalWithState)).call(this, props));

    _this.portalNode = null;
    _this.state = { active: !!props.defaultOpen };
    _this.openPortal = _this.openPortal.bind(_this);
    _this.closePortal = _this.closePortal.bind(_this);
    _this.wrapWithPortal = _this.wrapWithPortal.bind(_this);
    _this.handleOutsideMouseClick = _this.handleOutsideMouseClick.bind(_this);
    _this.handleKeydown = _this.handleKeydown.bind(_this);
    return _this;
  }

  _createClass(PortalWithState, [{
    key: 'componentDidMount',
    value: function componentDidMount() {
      if (this.props.closeOnEsc) {
        document.addEventListener('keydown', this.handleKeydown);
      }
      if (this.props.closeOnOutsideClick) {
        document.addEventListener('click', this.handleOutsideMouseClick);
      }
    }
  }, {
    key: 'componentWillUnmount',
    value: function componentWillUnmount() {
      if (this.props.closeOnEsc) {
        document.removeEventListener('keydown', this.handleKeydown);
      }
      if (this.props.closeOnOutsideClick) {
        document.removeEventListener('click', this.handleOutsideMouseClick);
      }
    }
  }, {
    key: 'openPortal',
    value: function openPortal(e) {
      if (this.state.active) {
        return;
      }
      if (e && e.nativeEvent) {
        e.nativeEvent.stopImmediatePropagation();
      }
      this.setState({ active: true }, this.props.onOpen);
    }
  }, {
    key: 'closePortal',
    value: function closePortal() {
      if (!this.state.active) {
        return;
      }
      this.setState({ active: false }, this.props.onClose);
    }
  }, {
    key: 'wrapWithPortal',
    value: function wrapWithPortal(children) {
      var _this2 = this;

      if (!this.state.active) {
        return null;
      }
      return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(
        _PortalCompat__WEBPACK_IMPORTED_MODULE_2__["default"],
        {
          node: this.props.node,
          key: 'react-portal',
          ref: function ref(portalNode) {
            return _this2.portalNode = portalNode;
          }
        },
        children
      );
    }
  }, {
    key: 'handleOutsideMouseClick',
    value: function handleOutsideMouseClick(e) {
      if (!this.state.active) {
        return;
      }
      var root = this.portalNode.props.node || this.portalNode.defaultNode;
      if (!root || root.contains(e.target) || e.button && e.button !== 0) {
        return;
      }
      this.closePortal();
    }
  }, {
    key: 'handleKeydown',
    value: function handleKeydown(e) {
      if (e.keyCode === KEYCODES.ESCAPE && this.state.active) {
        this.closePortal();
      }
    }
  }, {
    key: 'render',
    value: function render() {
      return this.props.children({
        openPortal: this.openPortal,
        closePortal: this.closePortal,
        portal: this.wrapWithPortal,
        isOpen: this.state.active
      });
    }
  }]);

  return PortalWithState;
}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component);

PortalWithState.propTypes = {
  children: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func.isRequired,
  defaultOpen: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,
  node: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.any,
  openByClickOn: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.element,
  closeOnEsc: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,
  closeOnOutsideClick: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.bool,
  onOpen: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func,
  onClose: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.func
};

PortalWithState.defaultProps = {
  onOpen: function onOpen() {},
  onClose: function onClose() {}
};

/* harmony default export */ __webpack_exports__["default"] = (PortalWithState);

/***/ }),

/***/ "./node_modules/react-portal/es/index.js":
/*!***********************************************!*\
  !*** ./node_modules/react-portal/es/index.js ***!
  \***********************************************/
/*! exports provided: Portal, PortalWithState */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _PortalCompat__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PortalCompat */ "./node_modules/react-portal/es/PortalCompat.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Portal", function() { return _PortalCompat__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony import */ var _PortalWithState__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PortalWithState */ "./node_modules/react-portal/es/PortalWithState.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PortalWithState", function() { return _PortalWithState__WEBPACK_IMPORTED_MODULE_1__["default"]; });






/***/ }),

/***/ "./node_modules/react-portal/es/utils.js":
/*!***********************************************!*\
  !*** ./node_modules/react-portal/es/utils.js ***!
  \***********************************************/
/*! exports provided: canUseDOM */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "canUseDOM", function() { return canUseDOM; });
var canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);

/***/ }),

/***/ "./node_modules/react-with-direction/dist/constants.js":
/*!*************************************************************!*\
  !*** ./node_modules/react-with-direction/dist/constants.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
var CHANNEL = exports.CHANNEL = '__direction__';

var DIRECTIONS = exports.DIRECTIONS = {
  LTR: 'ltr',
  RTL: 'rtl'
};

/***/ }),

/***/ "./node_modules/react-with-direction/dist/proptypes/brcast.js":
/*!********************************************************************!*\
  !*** ./node_modules/react-with-direction/dist/proptypes/brcast.js ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _propTypes2 = _interopRequireDefault(_propTypes);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

exports['default'] = _propTypes2['default'].shape({
  getState: _propTypes2['default'].func,
  setState: _propTypes2['default'].func,
  subscribe: _propTypes2['default'].func
});

/***/ }),

/***/ "./node_modules/react-with-styles/lib/withStyles.js":
/*!**********************************************************!*\
  !*** ./node_modules/react-with-styles/lib/withStyles.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.withStylesPropTypes = exports.css = undefined;

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

exports.withStyles = withStyles;

var _react = __webpack_require__(/*! react */ "./node_modules/react/index.js");

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _hoistNonReactStatics = __webpack_require__(/*! hoist-non-react-statics */ "./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js");

var _hoistNonReactStatics2 = _interopRequireDefault(_hoistNonReactStatics);

var _deepmerge = __webpack_require__(/*! deepmerge */ "./node_modules/deepmerge/dist/cjs.js");

var _deepmerge2 = _interopRequireDefault(_deepmerge);

var _constants = __webpack_require__(/*! react-with-direction/dist/constants */ "./node_modules/react-with-direction/dist/constants.js");

var _brcast = __webpack_require__(/*! react-with-direction/dist/proptypes/brcast */ "./node_modules/react-with-direction/dist/proptypes/brcast.js");

var _brcast2 = _interopRequireDefault(_brcast);

var _ThemedStyleSheet = __webpack_require__(/*! ./ThemedStyleSheet */ "./node_modules/react-with-styles/lib/ThemedStyleSheet.js");

var _ThemedStyleSheet2 = _interopRequireDefault(_ThemedStyleSheet);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

// Add some named exports to assist in upgrading and for convenience
var css = exports.css = _ThemedStyleSheet2['default'].resolveLTR;
var withStylesPropTypes = exports.withStylesPropTypes = {
  styles: _propTypes2['default'].object.isRequired, // eslint-disable-line react/forbid-prop-types
  theme: _propTypes2['default'].object.isRequired, // eslint-disable-line react/forbid-prop-types
  css: _propTypes2['default'].func.isRequired
};

var EMPTY_STYLES = {};
var EMPTY_STYLES_FN = function EMPTY_STYLES_FN() {
  return EMPTY_STYLES;
};

function baseClass(pureComponent) {
  if (pureComponent) {
    if (!_react2['default'].PureComponent) {
      throw new ReferenceError('withStyles() pureComponent option requires React 15.3.0 or later');
    }

    return _react2['default'].PureComponent;
  }

  return _react2['default'].Component;
}

var contextTypes = _defineProperty({}, _constants.CHANNEL, _brcast2['default']);

var defaultDirection = _constants.DIRECTIONS.LTR;

function withStyles(styleFn) {
  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
      _ref$stylesPropName = _ref.stylesPropName,
      stylesPropName = _ref$stylesPropName === undefined ? 'styles' : _ref$stylesPropName,
      _ref$themePropName = _ref.themePropName,
      themePropName = _ref$themePropName === undefined ? 'theme' : _ref$themePropName,
      _ref$cssPropName = _ref.cssPropName,
      cssPropName = _ref$cssPropName === undefined ? 'css' : _ref$cssPropName,
      _ref$flushBefore = _ref.flushBefore,
      flushBefore = _ref$flushBefore === undefined ? false : _ref$flushBefore,
      _ref$pureComponent = _ref.pureComponent,
      pureComponent = _ref$pureComponent === undefined ? false : _ref$pureComponent;

  var styleDefLTR = void 0;
  var styleDefRTL = void 0;
  var currentThemeLTR = void 0;
  var currentThemeRTL = void 0;
  var BaseClass = baseClass(pureComponent);

  function getResolveMethod(direction) {
    return direction === _constants.DIRECTIONS.LTR ? _ThemedStyleSheet2['default'].resolveLTR : _ThemedStyleSheet2['default'].resolveRTL;
  }

  function getCurrentTheme(direction) {
    return direction === _constants.DIRECTIONS.LTR ? currentThemeLTR : currentThemeRTL;
  }

  function getStyleDef(direction, wrappedComponentName) {
    var currentTheme = getCurrentTheme(direction);
    var styleDef = direction === _constants.DIRECTIONS.LTR ? styleDefLTR : styleDefRTL;

    var registeredTheme = _ThemedStyleSheet2['default'].get();

    // Return the existing styles if they've already been defined
    // and if the theme used to create them corresponds to the theme
    // registered with ThemedStyleSheet
    if (styleDef && currentTheme === registeredTheme) {
      return styleDef;
    }

    if ( true && typeof performance !== 'undefined' && performance.mark !== undefined) {
      performance.mark('react-with-styles.createStyles.start');
    }

    var isRTL = direction === _constants.DIRECTIONS.RTL;

    if (isRTL) {
      styleDefRTL = styleFn ? _ThemedStyleSheet2['default'].createRTL(styleFn) : EMPTY_STYLES_FN;

      currentThemeRTL = registeredTheme;
      styleDef = styleDefRTL;
    } else {
      styleDefLTR = styleFn ? _ThemedStyleSheet2['default'].createLTR(styleFn) : EMPTY_STYLES_FN;

      currentThemeLTR = registeredTheme;
      styleDef = styleDefLTR;
    }

    if ( true && typeof performance !== 'undefined' && performance.mark !== undefined) {
      performance.mark('react-with-styles.createStyles.end');

      performance.measure('\uD83D\uDC69\u200D\uD83C\uDFA8 withStyles(' + String(wrappedComponentName) + ') [create styles]', 'react-with-styles.createStyles.start', 'react-with-styles.createStyles.end');
    }

    return styleDef;
  }

  function getState(direction, wrappedComponentName) {
    return {
      resolveMethod: getResolveMethod(direction),
      styleDef: getStyleDef(direction, wrappedComponentName)
    };
  }

  return function () {
    function withStylesHOC(WrappedComponent) {
      var wrappedComponentName = WrappedComponent.displayName || WrappedComponent.name || 'Component';

      // NOTE: Use a class here so components are ref-able if need be:
      // eslint-disable-next-line react/prefer-stateless-function

      var WithStyles = function (_BaseClass) {
        _inherits(WithStyles, _BaseClass);

        function WithStyles(props, context) {
          _classCallCheck(this, WithStyles);

          var _this = _possibleConstructorReturn(this, (WithStyles.__proto__ || Object.getPrototypeOf(WithStyles)).call(this, props, context));

          var direction = _this.context[_constants.CHANNEL] ? _this.context[_constants.CHANNEL].getState() : defaultDirection;

          _this.state = getState(direction, wrappedComponentName);
          return _this;
        }

        _createClass(WithStyles, [{
          key: 'componentDidMount',
          value: function () {
            function componentDidMount() {
              var _this2 = this;

              if (this.context[_constants.CHANNEL]) {
                // subscribe to future direction changes
                this.channelUnsubscribe = this.context[_constants.CHANNEL].subscribe(function (direction) {
                  _this2.setState(getState(direction, wrappedComponentName));
                });
              }
            }

            return componentDidMount;
          }()
        }, {
          key: 'componentWillUnmount',
          value: function () {
            function componentWillUnmount() {
              if (this.channelUnsubscribe) {
                this.channelUnsubscribe();
              }
            }

            return componentWillUnmount;
          }()
        }, {
          key: 'render',
          value: function () {
            function render() {
              var _ref2;

              // As some components will depend on previous styles in
              // the component tree, we provide the option of flushing the
              // buffered styles (i.e. to a style tag) **before** the rendering
              // cycle begins.
              //
              // The interfaces provide the optional "flush" method which
              // is run in turn by ThemedStyleSheet.flush.
              if (flushBefore) {
                _ThemedStyleSheet2['default'].flush();
              }

              var _state = this.state,
                  resolveMethod = _state.resolveMethod,
                  styleDef = _state.styleDef;


              return _react2['default'].createElement(WrappedComponent, _extends({}, this.props, (_ref2 = {}, _defineProperty(_ref2, themePropName, _ThemedStyleSheet2['default'].get()), _defineProperty(_ref2, stylesPropName, styleDef()), _defineProperty(_ref2, cssPropName, resolveMethod), _ref2)));
            }

            return render;
          }()
        }]);

        return WithStyles;
      }(BaseClass);

      WithStyles.WrappedComponent = WrappedComponent;
      WithStyles.displayName = 'withStyles(' + String(wrappedComponentName) + ')';
      WithStyles.contextTypes = contextTypes;
      if (WrappedComponent.propTypes) {
        WithStyles.propTypes = (0, _deepmerge2['default'])({}, WrappedComponent.propTypes);
        delete WithStyles.propTypes[stylesPropName];
        delete WithStyles.propTypes[themePropName];
        delete WithStyles.propTypes[cssPropName];
      }
      if (WrappedComponent.defaultProps) {
        WithStyles.defaultProps = (0, _deepmerge2['default'])({}, WrappedComponent.defaultProps);
      }

      return (0, _hoistNonReactStatics2['default'])(WithStyles, WrappedComponent);
    }

    return withStylesHOC;
  }();
}

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYWlyYm5iLXByb3AtdHlwZXMvYnVpbGQvYW5kLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9haXJibmItcHJvcC10eXBlcy9idWlsZC9iZXR3ZWVuLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9haXJibmItcHJvcC10eXBlcy9idWlsZC9ib29sZWFuU29tZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYWlyYm5iLXByb3AtdHlwZXMvYnVpbGQvY2hpbGRyZW5IYXZlUHJvcFhvckNoaWxkcmVuLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9haXJibmItcHJvcC10eXBlcy9idWlsZC9jaGlsZHJlbk9mLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9haXJibmItcHJvcC10eXBlcy9idWlsZC9jaGlsZHJlbk9mVHlwZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYWlyYm5iLXByb3AtdHlwZXMvYnVpbGQvY2hpbGRyZW5TZXF1ZW5jZU9mLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9haXJibmItcHJvcC10eXBlcy9idWlsZC9jb21wb25lbnRXaXRoTmFtZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYWlyYm5iLXByb3AtdHlwZXMvYnVpbGQvZGlzYWxsb3dlZElmLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9haXJibmItcHJvcC10eXBlcy9idWlsZC9lbGVtZW50VHlwZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYWlyYm5iLXByb3AtdHlwZXMvYnVpbGQvZXhwbGljaXROdWxsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9haXJibmItcHJvcC10eXBlcy9idWlsZC9oZWxwZXJzL2dldENvbXBvbmVudE5hbWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FpcmJuYi1wcm9wLXR5cGVzL2J1aWxkL2hlbHBlcnMvaXNJbnRlZ2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9haXJibmItcHJvcC10eXBlcy9idWlsZC9oZWxwZXJzL2lzUGxhaW5PYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FpcmJuYi1wcm9wLXR5cGVzL2J1aWxkL2hlbHBlcnMvaXNQcmltaXRpdmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FpcmJuYi1wcm9wLXR5cGVzL2J1aWxkL2hlbHBlcnMvcmVuZGVyYWJsZUNoaWxkcmVuLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9haXJibmItcHJvcC10eXBlcy9idWlsZC9oZWxwZXJzL3R5cGVPZi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYWlyYm5iLXByb3AtdHlwZXMvYnVpbGQvaGVscGVycy93cmFwVmFsaWRhdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9haXJibmItcHJvcC10eXBlcy9idWlsZC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYWlyYm5iLXByb3AtdHlwZXMvYnVpbGQvaW50ZWdlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYWlyYm5iLXByb3AtdHlwZXMvYnVpbGQva2V5c09mLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9haXJibmItcHJvcC10eXBlcy9idWlsZC9tdXR1YWxseUV4Y2x1c2l2ZVByb3BzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9haXJibmItcHJvcC10eXBlcy9idWlsZC9tdXR1YWxseUV4Y2x1c2l2ZVRydWVQcm9wcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYWlyYm5iLXByb3AtdHlwZXMvYnVpbGQvbkNoaWxkcmVuLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9haXJibmItcHJvcC10eXBlcy9idWlsZC9ub25OZWdhdGl2ZUludGVnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FpcmJuYi1wcm9wLXR5cGVzL2J1aWxkL25vbk5lZ2F0aXZlTnVtYmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9haXJibmItcHJvcC10eXBlcy9idWlsZC9udW1lcmljU3RyaW5nLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9haXJibmItcHJvcC10eXBlcy9idWlsZC9vYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FpcmJuYi1wcm9wLXR5cGVzL2J1aWxkL29yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9haXJibmItcHJvcC10eXBlcy9idWlsZC9yYW5nZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYWlyYm5iLXByb3AtdHlwZXMvYnVpbGQvcmVxdWlyZWRCeS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYWlyYm5iLXByb3AtdHlwZXMvYnVpbGQvcmVzdHJpY3RlZFByb3AuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FpcmJuYi1wcm9wLXR5cGVzL2J1aWxkL3NlcXVlbmNlT2YuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FpcmJuYi1wcm9wLXR5cGVzL2J1aWxkL3NoYXBlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9haXJibmItcHJvcC10eXBlcy9idWlsZC9zdHJpbmdTdGFydHNXaXRoLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9haXJibmItcHJvcC10eXBlcy9idWlsZC91bmlxdWVBcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYWlyYm5iLXByb3AtdHlwZXMvYnVpbGQvdW5pcXVlQXJyYXlPZi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYWlyYm5iLXByb3AtdHlwZXMvYnVpbGQvdmFsdWVzT2YuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FpcmJuYi1wcm9wLXR5cGVzL2J1aWxkL3dpdGhTaGFwZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYWlyYm5iLXByb3AtdHlwZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FycmF5LnByb3RvdHlwZS5maW5kL2ltcGxlbWVudGF0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hcnJheS5wcm90b3R5cGUuZmluZC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXJyYXkucHJvdG90eXBlLmZpbmQvcG9seWZpbGwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FycmF5LnByb3RvdHlwZS5maW5kL3NoaW0uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvbnNvbGlkYXRlZC1ldmVudHMvbGliL2luZGV4LmVzbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGVlcG1lcmdlL2Rpc3QvY2pzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9lcy1hYnN0cmFjdC9lczYuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2VzLWFic3RyYWN0L2VzNy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvc2hhbGxvd0VxdWFsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mdW5jdGlvbi5wcm90b3R5cGUubmFtZS9oZWxwZXJzL2Z1bmN0aW9uc0hhdmVOYW1lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnVuY3Rpb24ucHJvdG90eXBlLm5hbWUvaW1wbGVtZW50YXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Z1bmN0aW9uLnByb3RvdHlwZS5uYW1lL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mdW5jdGlvbi5wcm90b3R5cGUubmFtZS9wb2x5ZmlsbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZnVuY3Rpb24ucHJvdG90eXBlLm5hbWUvc2hpbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaXMtdG91Y2gtZGV2aWNlL2J1aWxkL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX1N5bWJvbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlR2V0VGFnLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2ZyZWVHbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZ2V0UmF3VGFnLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX29iamVjdFRvU3RyaW5nLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX3Jvb3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9kZWJvdW5jZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lzT2JqZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNPYmplY3RMaWtlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNTeW1ib2wuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9ub3cuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC90aHJvdHRsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL3RvTnVtYmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vYmplY3QtaXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29iamVjdC5hc3NpZ24vaW1wbGVtZW50YXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29iamVjdC5hc3NpZ24vaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29iamVjdC5hc3NpZ24vcG9seWZpbGwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29iamVjdC5hc3NpZ24vc2hpbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2JqZWN0LmVudHJpZXMvaW1wbGVtZW50YXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29iamVjdC5lbnRyaWVzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9vYmplY3QuZW50cmllcy9wb2x5ZmlsbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2JqZWN0LmVudHJpZXMvc2hpbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2JqZWN0LnZhbHVlcy9pbXBsZW1lbnRhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2JqZWN0LnZhbHVlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2JqZWN0LnZhbHVlcy9wb2x5ZmlsbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb2JqZWN0LnZhbHVlcy9zaGltLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzLWV4YWN0L2J1aWxkL2hlbHBlcnMvaXNQbGFpbk9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy1leGFjdC9idWlsZC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtYWRkb25zLXNoYWxsb3ctY29tcGFyZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZGF0ZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRhdGVzL2xpYi9jb21wb25lbnRzL0NhbGVuZGFyRGF5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kYXRlcy9saWIvY29tcG9uZW50cy9DYWxlbmRhckljb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRhdGVzL2xpYi9jb21wb25lbnRzL0NhbGVuZGFyTW9udGguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRhdGVzL2xpYi9jb21wb25lbnRzL0NhbGVuZGFyTW9udGhHcmlkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kYXRlcy9saWIvY29tcG9uZW50cy9DYWxlbmRhcldlZWsuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRhdGVzL2xpYi9jb21wb25lbnRzL0NoZXZyb25Eb3duLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kYXRlcy9saWIvY29tcG9uZW50cy9DaGV2cm9uVXAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRhdGVzL2xpYi9jb21wb25lbnRzL0Nsb3NlQnV0dG9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kYXRlcy9saWIvY29tcG9uZW50cy9DdXN0b21pemFibGVDYWxlbmRhckRheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZGF0ZXMvbGliL2NvbXBvbmVudHMvRGF0ZUlucHV0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kYXRlcy9saWIvY29tcG9uZW50cy9EYXRlUmFuZ2VQaWNrZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRhdGVzL2xpYi9jb21wb25lbnRzL0RhdGVSYW5nZVBpY2tlcklucHV0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kYXRlcy9saWIvY29tcG9uZW50cy9EYXRlUmFuZ2VQaWNrZXJJbnB1dENvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRhdGVzL2xpYi9jb21wb25lbnRzL0RheVBpY2tlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZGF0ZXMvbGliL2NvbXBvbmVudHMvRGF5UGlja2VyS2V5Ym9hcmRTaG9ydGN1dHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRhdGVzL2xpYi9jb21wb25lbnRzL0RheVBpY2tlck5hdmlnYXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRhdGVzL2xpYi9jb21wb25lbnRzL0RheVBpY2tlclJhbmdlQ29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZGF0ZXMvbGliL2NvbXBvbmVudHMvRGF5UGlja2VyU2luZ2xlRGF0ZUNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRhdGVzL2xpYi9jb21wb25lbnRzL0tleWJvYXJkU2hvcnRjdXRSb3cuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRhdGVzL2xpYi9jb21wb25lbnRzL0xlZnRBcnJvdy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZGF0ZXMvbGliL2NvbXBvbmVudHMvUmlnaHRBcnJvdy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZGF0ZXMvbGliL2NvbXBvbmVudHMvU2luZ2xlRGF0ZVBpY2tlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZGF0ZXMvbGliL2NvbXBvbmVudHMvU2luZ2xlRGF0ZVBpY2tlcklucHV0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kYXRlcy9saWIvY29uc3RhbnRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kYXRlcy9saWIvZGVmYXVsdFBocmFzZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRhdGVzL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZGF0ZXMvbGliL3NoYXBlcy9BbmNob3JEaXJlY3Rpb25TaGFwZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZGF0ZXMvbGliL3NoYXBlcy9DYWxlbmRhckluZm9Qb3NpdGlvblNoYXBlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kYXRlcy9saWIvc2hhcGVzL0RhdGVSYW5nZVBpY2tlclNoYXBlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kYXRlcy9saWIvc2hhcGVzL0RheU9mV2Vla1NoYXBlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kYXRlcy9saWIvc2hhcGVzL0Rpc2FibGVkU2hhcGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRhdGVzL2xpYi9zaGFwZXMvRm9jdXNlZElucHV0U2hhcGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRhdGVzL2xpYi9zaGFwZXMvSWNvblBvc2l0aW9uU2hhcGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRhdGVzL2xpYi9zaGFwZXMvTW9kaWZpZXJzU2hhcGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRhdGVzL2xpYi9zaGFwZXMvT3BlbkRpcmVjdGlvblNoYXBlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kYXRlcy9saWIvc2hhcGVzL09yaWVudGF0aW9uU2hhcGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRhdGVzL2xpYi9zaGFwZXMvU2Nyb2xsYWJsZU9yaWVudGF0aW9uU2hhcGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRhdGVzL2xpYi9zaGFwZXMvU2luZ2xlRGF0ZVBpY2tlclNoYXBlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kYXRlcy9saWIvdXRpbHMvY2FsY3VsYXRlRGltZW5zaW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kYXRlcy9saWIvdXRpbHMvZGlzYWJsZVNjcm9sbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZGF0ZXMvbGliL3V0aWxzL2dldEFjdGl2ZUVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRhdGVzL2xpYi91dGlscy9nZXRDYWxlbmRhckRheVNldHRpbmdzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kYXRlcy9saWIvdXRpbHMvZ2V0Q2FsZW5kYXJNb250aFdlZWtzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kYXRlcy9saWIvdXRpbHMvZ2V0Q2FsZW5kYXJNb250aFdpZHRoLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kYXRlcy9saWIvdXRpbHMvZ2V0RGV0YWNoZWRDb250YWluZXJTdHlsZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRhdGVzL2xpYi91dGlscy9nZXRJbnB1dEhlaWdodC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZGF0ZXMvbGliL3V0aWxzL2dldE51bWJlck9mQ2FsZW5kYXJNb250aFdlZWtzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kYXRlcy9saWIvdXRpbHMvZ2V0UGhyYXNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kYXRlcy9saWIvdXRpbHMvZ2V0UGhyYXNlUHJvcFR5cGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kYXRlcy9saWIvdXRpbHMvZ2V0UmVzcG9uc2l2ZUNvbnRhaW5lclN0eWxlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZGF0ZXMvbGliL3V0aWxzL2dldFNlbGVjdGVkRGF0ZU9mZnNldC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZGF0ZXMvbGliL3V0aWxzL2dldFRyYW5zZm9ybVN0eWxlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZGF0ZXMvbGliL3V0aWxzL2dldFZpc2libGVEYXlzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kYXRlcy9saWIvdXRpbHMvaXNBZnRlckRheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZGF0ZXMvbGliL3V0aWxzL2lzQmVmb3JlRGF5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kYXRlcy9saWIvdXRpbHMvaXNEYXlWaXNpYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kYXRlcy9saWIvdXRpbHMvaXNJbmNsdXNpdmVseUFmdGVyRGF5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kYXRlcy9saWIvdXRpbHMvaXNJbmNsdXNpdmVseUJlZm9yZURheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZGF0ZXMvbGliL3V0aWxzL2lzTmV4dERheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZGF0ZXMvbGliL3V0aWxzL2lzTmV4dE1vbnRoLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1kYXRlcy9saWIvdXRpbHMvaXNQcmV2TW9udGguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRhdGVzL2xpYi91dGlscy9pc1NhbWVEYXkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRhdGVzL2xpYi91dGlscy9pc1NhbWVNb250aC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZGF0ZXMvbGliL3V0aWxzL2lzVHJhbnNpdGlvbkVuZFN1cHBvcnRlZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZGF0ZXMvbGliL3V0aWxzL3RvSVNPRGF0ZVN0cmluZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtZGF0ZXMvbGliL3V0aWxzL3RvSVNPTW9udGhTdHJpbmcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRhdGVzL2xpYi91dGlscy90b0xvY2FsaXplZERhdGVTdHJpbmcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWRhdGVzL2xpYi91dGlscy90b01vbWVudE9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtbW9tZW50LXByb3B0eXBlcy9zcmMvY29yZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtbW9tZW50LXByb3B0eXBlcy9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LW1vbWVudC1wcm9wdHlwZXMvc3JjL21vbWVudC12YWxpZGF0aW9uLXdyYXBwZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LW91dHNpZGUtY2xpY2staGFuZGxlci9idWlsZC9PdXRzaWRlQ2xpY2tIYW5kbGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1vdXRzaWRlLWNsaWNrLWhhbmRsZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXBvcnRhbC9lcy9MZWdhY3lQb3J0YWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXBvcnRhbC9lcy9Qb3J0YWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXBvcnRhbC9lcy9Qb3J0YWxDb21wYXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXBvcnRhbC9lcy9Qb3J0YWxXaXRoU3RhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXBvcnRhbC9lcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtcG9ydGFsL2VzL3V0aWxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC13aXRoLWRpcmVjdGlvbi9kaXN0L2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3Qtd2l0aC1kaXJlY3Rpb24vZGlzdC9wcm9wdHlwZXMvYnJjYXN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC13aXRoLXN0eWxlcy9saWIvd2l0aFN0eWxlcy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOztBQUVBLHFCQUFxQixtQkFBTyxDQUFDLGdHQUF5Qjs7QUFFdEQ7O0FBRUEsc0NBQXNDLHVDQUF1QyxrQkFBa0I7O0FBRS9GO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxxRUFBcUUsYUFBYTtBQUNsRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSx3RUFBd0UsZUFBZTtBQUN2RjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSwrQjs7Ozs7Ozs7Ozs7QUN6REE7QUFDQTtBQUNBLENBQUM7O0FBRUQsb0dBQW9HLG1CQUFtQixFQUFFLG1CQUFtQiw4SEFBOEg7O0FBRTFRLGtDQUFrQyxpQ0FBaUMsZUFBZSxlQUFlLGdCQUFnQixvQkFBb0IsTUFBTSwwQ0FBMEMsK0JBQStCLGFBQWEscUJBQXFCLG1DQUFtQyxFQUFFLEVBQUUsY0FBYyxXQUFXLFVBQVUsRUFBRSxVQUFVLE1BQU0seUNBQXlDLEVBQUUsVUFBVSxrQkFBa0IsRUFBRSxFQUFFLGFBQWEsRUFBRSwyQkFBMkIsMEJBQTBCLFlBQVks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O0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxhQUFhO0FBQ2I7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtB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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxXQUFXLDZCQUE2QjtBQUN4QztBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBLFdBQVc7QUFDWDtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMLEdBQUc7O0FBRUg7QUFDQSxDQUFDOztBQUVEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxxQjs7Ozs7Ozs7Ozs7O0FDL2lCWTs7QUFFYjtBQUNBO0FBQ0EsQ0FBQztBQUNEOztBQUVBLGFBQWEs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QUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBLG1FQUFtRSxhQUFhO0FBQ2hGO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHVCQUF1QixrQkFBa0I7QUFDekM7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsdUJBQXVCLG1CQUFtQjtBQUMxQztBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxhQUFhO0FBQ2I7QUFD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QUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBLEdBQUc7OztBQUdIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlJQUFpSSxnQkFBZ0I7QUFDako7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0EsaUJBQWlCLHlDQUF5QztBQUMxRDs7QUFFQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qiw2QkFBNkIsRUFBRTs7QUFFdEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxpRUFBaUU7QUFDakUsV0FBVztBQUNYO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQSxXQUFXO0FBQ1g7QUFDQSxXQUFXO0FBQ1g7QUFDQSxXQUFXO0FBQ1g7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsYUFBYSxzQ0FBc0M7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBLENBQUM7O0FBRUQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsbUI7Ozs7Ozs7Ozs7OztBQy96Qlk7O0FBRWI7QUFDQTtBQUNBLENBQUM7O0FBRUQsbURBQW1ELGdCQUFnQixzQkFBc0IsT0FBTywyQkFBMkIsMEJBQTBCLHlEQUF5RCwyQkFBMkIsRUFBRSxFQUFFLEVBQUUsZUFBZTs7QUFFOVAsY0FBYyxtQkFBTyxDQUFDLDREQUFlOztBQUVyQzs7QUFFQSxhQUFhLG1CQUFPLENBQUMsNENBQU87O0FBRTVCOztBQUVBLGlCQUFpQixtQkFBTyxDQUFDLHNEQUFZOztBQUVyQzs7QUFFQSx1QkFBdUIsbUJBQU8sQ0FBQyxvRUFBbUI7O0FBRWxELHVCQUF1QixtQkFBTyxDQUFDLDZFQUFtQjs7QUFFbEQsc0JBQXNCLG1CQUFPLENBQUMsMkVBQW1COztBQUVqRCwwQkFBMEIsbUJBQU8sQ0FBQywrRkFBNkI7O0FBRS9EOztBQUVBLDBCQUEwQixtQkFBTyxDQUFDLGlHQUE4Qjs7QUFFaEU7O0FBRUEsaUJBQWlCLG1CQUFPLENBQUMsMkVBQWE7O0FBRXRDOztBQUVBLHlCQUF5QixtQkFBTyxDQUFDLCtGQUE2Qjs7QUFFOUQ7O0FBRUEscUJBQXFCLG1CQUFPLENBQUMsdUZBQXlCOztBQUV0RDs7QUFFQSxrQkFBa0IsbUJBQU8sQ0FBQyw2RUFBYzs7QUFFeEM7O0FBRUEsaUJBQWlCLG1CQUFPLENBQUMsMkVBQWE7O0FBRXRDOztBQUVBLG1CQUFtQixtQkFBTyxDQUFDLCtFQUFlOztBQUUxQzs7QUFFQSxvQkFBb0IsbUJBQU8sQ0FBQyxpRkFBZ0I7O0FBRTVDOztBQUVBLGlCQUFpQixtQkFBTyxDQUFDLGlFQUFjOztBQUV2QyxzQ0FBc0MsdUNBQXVDLGtCQUFrQjs7QUFFL0Ysa0ZBQWtGO0FBQ2xGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7O0FBR0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHdCOzs7Ozs7Ozs7Ozs7QUNqY1k7O0FBRWI7QUFDQTtBQUNBLENBQUM7O0FBRUQsZ0NBQWdDLDJDQUEyQyxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVELDJEQUEyRCxFQUFFLEVBQUUseURBQXlELHFFQUFxRSw2REFBNkQsb0JBQW9CLEdBQUcsRUFBRTs7QUFFampCLGFBQWEsbUJBQU8sQ0FBQyw0Q0FBTzs7QUFFNUI7O0FBRUEsaUJBQWlCLG1CQUFPLENBQUMsc0RBQVk7O0FBRXJDOztBQUVBLGNBQWMsbUJBQU8sQ0FBQywrQ0FBUTs7QUFFOUI7O0FBRUEsNEJBQTRCLG1CQUFPLENBQUMsa0ZBQXdCOztBQUU1RDs7QUFFQSx1QkFBdUIsbUJBQU8sQ0FBQyxvRUFBbUI7O0FBRWxELDBCQUEwQixtQkFBTyxDQUFDLGlHQUE4Qjs7QUFFaEU7O0FBRUEsc0JBQXNCLG1CQUFPLENBQUMsMkVBQW1COztBQUVqRCwwQkFBMEIsbUJBQU8sQ0FBQywrRkFBNkI7O0FBRS9EOztBQUVBLDRCQUE0QixtQkFBTyxDQUFDLGlHQUF3Qjs7QUFFNUQ7O0FBRUEseUJBQXlCLG1CQUFPLENBQUMsK0ZBQTZCOztBQUU5RDs7QUFFQSxxQkFBcUIsbUJBQU8sQ0FBQyx1RkFBeUI7O0FBRXREOztBQUVBLHNCQUFzQixtQkFBTyxDQUFDLHVGQUF5Qjs7QUFFdkQ7O0FBRUEsNkJBQTZCLG1CQUFPLENBQUMscUdBQWdDOztBQUVyRTs7QUFFQSw2QkFBNkIsbUJBQU8sQ0FBQyxxR0FBZ0M7O0FBRXJFOztBQUVBLG1CQUFtQixtQkFBTyxDQUFDLGlGQUFzQjs7QUFFakQ7O0FBRUEsaUJBQWlCLG1CQUFPLENBQUMsaUVBQWM7O0FBRXZDLHNDQUFzQyx1Q0FBdUMsa0JBQWtCOztBQUUvRixpREFBaUQsMENBQTBDLDBEQUEwRCxFQUFFOztBQUV2SixpREFBaUQsYUFBYSx1RkFBdUYsRUFBRSx1RkFBdUY7O0FBRTlPLDBDQUEwQywrREFBK0QscUdBQXFHLEVBQUUseUVBQXlFLGVBQWUseUVBQXlFLEVBQUUsRUFBRSx1SEFBdUg7O0FBRTVlO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7O0FBR0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQSxpQkFBaUIseUNBQXlDO0FBQzFEOztBQUVBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7QUFDQSx5QkFBeUIseUNBQXlDO0FBQ2xFO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx5QkFBeUIseUNBQXlDO0FBQ2xFO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsdUJBQXVCLGlDQUFpQztBQUN4RDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRDs7O0FBR0E7QUFDQSwyRDs7Ozs7Ozs7Ozs7O0FDOWRhOztBQUViO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7O0FBRUEsbURBQW1ELGdCQUFnQixzQkFBc0IsT0FBTywyQkFBMkIsMEJBQTBCLHlEQUF5RCwyQkFBMkIsRUFBRSxFQUFFLEVBQUUsZUFBZTs7QUFFOVAsZ0NBQWdDLDJDQUEyQyxnQkFBZ0Isa0JBQWtCLE9BQU8sMkJBQTJCLHdEQUF3RCxnQ0FBZ0MsdURBQXVELDJEQUEyRCxFQUFFLEVBQUUseURBQXlELHFFQUFxRSw2REFBNkQsb0JBQW9CLEdBQUcsRUFBRTs7QUFFampCLGNBQWMsbUJBQU8sQ0FBQyw0REFBZTs7QUFFckM7O0FBRUEsYUFBYSxtQkFBTyxDQUFDLDRDQUFPOztBQUU1Qjs7QUFFQSxpQkFBaUIsbUJBQU8sQ0FBQyxzREFBWTs7QUFFckM7O0FBRUEsaUNBQWlDLG1CQUFPLENBQUMsMEZBQThCOztBQUV2RTs7QUFFQSx1QkFBdUIsbUJBQU8sQ0FBQyxvRUFBbUI7O0FBRWxELHVCQUF1QixtQkFBTyxDQUFDLDZFQUFtQjs7QUFFbEQsY0FBYyxtQkFBTyxDQUFDLCtDQUFROztBQUU5Qjs7QUFFQSxnQkFBZ0IsbUJBQU8sQ0FBQywwREFBaUI7O0FBRXpDOztBQUVBLHFCQUFxQixtQkFBTyxDQUFDLHNFQUFpQjs7QUFFOUM7O0FBRUEsZ0NBQWdDLG1CQUFPLENBQUMsd0ZBQTZCOztBQUVyRTs7QUFFQSxzQkFBc0IsbUJBQU8sQ0FBQywyRUFBbUI7O0FBRWpELDBCQUEwQixtQkFBTyxDQUFDLCtGQUE2Qjs7QUFFL0Q7O0FBRUEseUJBQXlCLG1CQUFPLENBQUMsMkZBQXFCOztBQUV0RDs7QUFFQSwyQkFBMkIsbUJBQU8sQ0FBQywrRkFBdUI7O0FBRTFEOztBQUVBLGtDQUFrQyxtQkFBTyxDQUFDLDZHQUE4Qjs7QUFFeEU7O0FBRUEscUNBQXFDLG1CQUFPLENBQUMscUhBQXdDOztBQUVyRjs7QUFFQSw2QkFBNkIsbUJBQU8sQ0FBQyxxR0FBZ0M7O0FBRXJFOztBQUVBLDBCQUEwQixtQkFBTyxDQUFDLCtGQUE2Qjs7QUFFL0Q7O0FBRUEsd0JBQXdCLG1CQUFPLENBQUMsMkZBQTJCOztBQUUzRDs7QUFFQSxvQkFBb0IsbUJBQU8sQ0FBQyxtRkFBdUI7O0FBRW5EOztBQUVBLHNCQUFzQixtQkFBTyxDQUFDLHlGQUEwQjs7QUFFeEQ7O0FBRUEsa0NBQWtDLG1CQUFPLENBQUMsaUhBQXNDOztBQUVoRjs7QUFFQSxzQkFBc0IsbUJBQU8sQ0FBQyx5RkFBMEI7O0FBRXhEOztBQUVBLGlDQUFpQyxtQkFBTyxDQUFDLCtHQUFxQzs7QUFFOUU7O0FBRUEsaUJBQWlCLG1CQUFPLENBQUMsaUVBQWM7O0FBRXZDLHNDQUFzQyx1Q0FBdUMsa0JBQWtCOztBQUUvRixrQ0FBa0MsMEJBQTBCLDBDQUEwQyxnQkFBZ0IsT0FBTyxrQkFBa0IsRUFBRSxhQUFhLEVBQUUsT0FBTyx3QkFBd0IsRUFBRTs7QUFFak0saURBQWlELDBDQUEwQywwREFBMEQsRUFBRTs7QUFFdkosaURBQWlELGFBQWEsdUZBQXVGLEVBQUUsdUZBQXVGOztBQUU5TywwQ0FBMEMsK0RBQStELHFHQUFxRyxFQUFFLHlFQUF5RSxlQUFlLHlFQUF5RSxFQUFFLEVBQUUsdUhBQXVIOztBQUU1ZTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGtGQUFrRjs7QUFFbEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBLEdBQUc7OztBQUdIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOzs7QUFHSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esb0ZBQW9GLGtCQUFrQjtBQUN0RztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNULHlCQUF5QixtREFBbUQ7QUFDNUU7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFdBQVc7QUFDWCwyQkFBMkIsb0JBQW9CO0FBQy9DO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQSxXQUFXO0FBQ1g7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsK0JBQStCOztBQUV0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHdCQUF3QjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLHFCQUFxQjtBQUNwRCxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsV0FBVztBQUNYOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBOztBQUVBO0FBQ0EsdUJBQXVCLE9BQU87QUFDOUI7QUFDQTtBQUNBLHNCQUFzQixTQUFTLDZEQUE2RCxpQkFBaUI7QUFDN0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHFCQUFxQiw4TUFBOE0sd0RBQXdEO0FBQzNSO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxhQUFhLGlDQUFpQztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBLHVDQUF1Qyw4QkFBOEI7QUFDckU7O0FBRUE7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTCxHQUFHOztBQUVIO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLENBQUMsYTs7Ozs7Ozs7Ozs7O0FDdmlEWTs7QUFFYjtBQUNBO0FBQ0EsQ0FBQztBQUNEOztBQUVBLG1EQUFtRCxnQkFBZ0Isc0JBQXNCLE9BQU8sMkJBQTJCLDBCQUEwQix5REFBeUQsMkJBQTJCLEVBQUUsRUFBRSxFQUFFLGVBQWU7O0FBRTlQLGdDQUFnQywyQ0FBMkMsZ0JBQWdCLGtCQUFrQixPQUFPLDJCQUEyQix3REFBd0QsZ0NBQWdDLHVEQUF1RCwyREFBMkQsRUFBRSxFQUFFLHlEQUF5RCxxRUFBcUUsNkRBQTZELG9CQUFvQixHQUFHLEVBQUU7O0FBRWpqQixjQUFjLG1CQUFPLENBQUMsNERBQWU7O0FBRXJDOztBQUVBLGFBQWEsbUJBQU8sQ0FBQyw0Q0FBTzs7QUFFNUI7O0FBRUEsaUJBQWlCLG1CQUFPLENBQUMsc0RBQVk7O0FBRXJDOztBQUVBLHVCQUF1QixtQkFBTyxDQUFDLG9FQUFtQjs7QUFFbEQsdUJBQXVCLG1CQUFPLENBQUMsNkVBQW1COztBQUVsRCxzQkFBc0IsbUJBQU8sQ0FBQywyRUFBbUI7O0FBRWpELDBCQUEwQixtQkFBTyxDQUFDLCtGQUE2Qjs7QUFFL0Q7O0FBRUEsMkJBQTJCLG1CQUFPLENBQUMsK0ZBQXVCOztBQUUxRDs7QUFFQSxtQkFBbUIsbUJBQU8sQ0FBQywrRUFBZTs7QUFFMUM7O0FBRUEsc0NBQXNDLHVDQUF1QyxrQkFBa0I7O0FBRS9GLGlEQUFpRCwwQ0FBMEMsMERBQTBELEVBQUU7O0FBRXZKLGlEQUFpRCxhQUFhLHVGQUF1RixFQUFFLHVGQUF1Rjs7QUFFOU8sMENBQTBDLCtEQUErRCxxR0FBcUcsRUFBRSx5RUFBeUUsZUFBZSx5RUFBeUUsRUFBRSxFQUFFLHVIQUF1SDs7QUFFNWU7QUFDQTtBQUNBOztBQUVBLGtGQUFrRjtBQUNsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBLG1FQUFtRSxhQUFhO0FBQ2hGO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtB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SDtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7O0FBR0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOzs7QUFHSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7O0FBR0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQztBQUMxQztBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFdBQVc7QUFDWDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxvREFBb0Q7QUFDcEQsV0FBVztBQUNYOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdEQUFnRDtBQUNoRDtBQUNBLGFBQWE7QUFDYixXQUFXO0FBQ1g7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EscUJBQXFCLHlDQUF5QztBQUM5RDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxxQkFBcUIseUNBQXlDO0FBQzlELFdBQVc7QUFDWDtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIseUNBQXlDO0FBQ2hFO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHVCQUF1Qix5Q0FBeUM7QUFDaEU7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esb0RBQW9EO0FBQ3BELFdBQVc7QUFDWDtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxrREFBa0Q7QUFDbEQsU0FBUztBQUNUOztBQUVBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRDtBQUNsRCxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esa0RBQWtEO0FBQ2xELFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGtEQUFrRDtBQUNsRCxTQUFTO0FBQ1Q7O0FBRUE7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVzs7QUFFWDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFNBQVM7O0FBRVQ7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjs7QUFFQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxrRUFBa0U7QUFDbEU7QUFDQTtBQUNBO0FBQ0EsV0FBVzs7QUFFWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QywwQkFBMEIsdUNBQXVDLDJCQUEyQjtBQUMxSSxXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGdFQUFnRSw4Q0FBOEMsdUNBQXVDLDJCQUEyQjtBQUNoTDs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxrRUFBa0U7QUFDbEU7QUFDQTtBQUNBO0FBQ0EsV0FBVzs7QUFFWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QywwQkFBMEIsdUNBQXVDLDJCQUEyQjtBQUMxSSxXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGdFQUFnRSw4Q0FBOEMsdUNBQXVDLDJCQUEyQjtBQUNoTDs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxtQ0FBbUM7QUFDbkM7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxvQ0FBb0M7QUFDcEM7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOzs7QUFHSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBLEdBQUc7OztBQUdIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOzs7QUFHSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBLEdBQUc7OztBQUdIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsT0FB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOzs7QUFHSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlJQUFpSSxnQkFBZ0I7QUFDako7QUFDQTs7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFD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QUFDQSxXQUFXO0FBQ1g7QUFDQSxXQUFXO0FBQ1g7QUFDQSxXQUFXO0FBQ1g7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsYUFBYSxvQ0FBb0M7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSDtBQUNBLENBQUM7O0FBRUQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHlCOzs7Ozs7Ozs7Ozs7QUNqV1k7O0FBRWI7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxtRzs7Ozs7Ozs7Ozs7O0FDdENhOztBQUViO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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RVQ7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZEO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRUFBZ0U7QUFDaEU7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSCxDIiwiZmlsZSI6IjAuY2QxNmY1MzI1ZTFlZDEyYjhmM2IuanMiLCJzb3VyY2VzQ29udGVudCI6WyJPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1snZGVmYXVsdCddID0gYW5kVmFsaWRhdG9yO1xuXG52YXIgX3dyYXBWYWxpZGF0b3IgPSByZXF1aXJlKCcuL2hlbHBlcnMvd3JhcFZhbGlkYXRvcicpO1xuXG52YXIgX3dyYXBWYWxpZGF0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd3JhcFZhbGlkYXRvcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxuZnVuY3Rpb24gYW5kVmFsaWRhdG9yKHZhbGlkYXRvcnMpIHtcbiAgdmFyIG5hbWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICdhbmQnO1xuXG4gIGlmICghQXJyYXkuaXNBcnJheSh2YWxpZGF0b3JzKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2FuZDogMiBvciBtb3JlIHZhbGlkYXRvcnMgYXJlIHJlcXVpcmVkJyk7XG4gIH1cbiAgaWYgKHZhbGlkYXRvcnMubGVuZ3RoIDw9IDEpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignYW5kOiAyIG9yIG1vcmUgdmFsaWRhdG9ycyBhcmUgcmVxdWlyZWQnKTtcbiAgfVxuXG4gIHZhciB2YWxpZGF0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gYW5kKCkge1xuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cblxuICAgICAgdmFyIGZpcnN0RXJyb3IgPSBudWxsO1xuICAgICAgdmFsaWRhdG9ycy5zb21lKGZ1bmN0aW9uICh2YWxpZGF0b3JGbikge1xuICAgICAgICBmaXJzdEVycm9yID0gdmFsaWRhdG9yRm4uYXBwbHkodW5kZWZpbmVkLCBhcmdzKTtcbiAgICAgICAgcmV0dXJuIGZpcnN0RXJyb3IgIT0gbnVsbDtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGZpcnN0RXJyb3IgPT0gbnVsbCA/IG51bGwgOiBmaXJzdEVycm9yO1xuICAgIH1cblxuICAgIHJldHVybiBhbmQ7XG4gIH0oKTtcblxuICB2YWxpZGF0b3IuaXNSZXF1aXJlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBhbmRJc1JlcXVpcmVkKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgICAgYXJnc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgfVxuXG4gICAgICB2YXIgZmlyc3RFcnJvciA9IG51bGw7XG4gICAgICB2YWxpZGF0b3JzLnNvbWUoZnVuY3Rpb24gKHZhbGlkYXRvckZuKSB7XG4gICAgICAgIGZpcnN0RXJyb3IgPSB2YWxpZGF0b3JGbi5pc1JlcXVpcmVkLmFwcGx5KHZhbGlkYXRvckZuLCBhcmdzKTtcbiAgICAgICAgcmV0dXJuIGZpcnN0RXJyb3IgIT0gbnVsbDtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGZpcnN0RXJyb3IgPT0gbnVsbCA/IG51bGwgOiBmaXJzdEVycm9yO1xuICAgIH1cblxuICAgIHJldHVybiBhbmRJc1JlcXVpcmVkO1xuICB9KCk7XG5cbiAgcmV0dXJuICgwLCBfd3JhcFZhbGlkYXRvcjJbJ2RlZmF1bHQnXSkodmFsaWRhdG9yLCBuYW1lLCB2YWxpZGF0b3JzKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFuZC5qcy5tYXAiLCJPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbnZhciBfc2xpY2VkVG9BcnJheSA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gc2xpY2VJdGVyYXRvcihhcnIsIGkpIHsgdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfZSA9IHVuZGVmaW5lZDsgdHJ5IHsgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0pIF9pW1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfSByZXR1cm4gZnVuY3Rpb24gKGFyciwgaSkgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IHJldHVybiBhcnI7IH0gZWxzZSBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSB7IHJldHVybiBzbGljZUl0ZXJhdG9yKGFyciwgaSk7IH0gZWxzZSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpOyB9IH07IH0oKTtcblxuZXhwb3J0c1snZGVmYXVsdCddID0gYmV0d2VlblZhbGlkYXRvcjtcblxudmFyIF9vYmplY3QgPSByZXF1aXJlKCdvYmplY3QuYXNzaWduJyk7XG5cbnZhciBfb2JqZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdCk7XG5cbnZhciBfb2JqZWN0MyA9IHJlcXVpcmUoJ29iamVjdC5lbnRyaWVzJyk7XG5cbnZhciBfb2JqZWN0NCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdDMpO1xuXG52YXIgX3NoYXBlID0gcmVxdWlyZSgnLi9zaGFwZScpO1xuXG52YXIgX3NoYXBlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NoYXBlKTtcblxudmFyIF92YWx1ZXNPZiA9IHJlcXVpcmUoJy4vdmFsdWVzT2YnKTtcblxudmFyIF92YWx1ZXNPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF92YWx1ZXNPZik7XG5cbnZhciBfd3JhcFZhbGlkYXRvciA9IHJlcXVpcmUoJy4vaGVscGVycy93cmFwVmFsaWRhdG9yJyk7XG5cbnZhciBfd3JhcFZhbGlkYXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93cmFwVmFsaWRhdG9yKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBudW1iZXIocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lKSB7XG4gIHZhciB2YWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgIWlzTmFOKHZhbHVlKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoU3RyaW5nKGNvbXBvbmVudE5hbWUpICsgJzogJyArIFN0cmluZyhwcm9wTmFtZSkgKyAnIG11c3QgYmUgYSBub24tTmFOIG51bWJlci4nKTtcbn1cblxuZnVuY3Rpb24gbnVtYmVyT3JQcm9wc0Z1bmMocHJvcHMsIHByb3BOYW1lKSB7XG4gIHZhciB2YWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcblxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiAhaXNOYU4odmFsdWUpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gbmV3IFR5cGVFcnJvcihTdHJpbmcocHJvcE5hbWUpICsgJzogYSBmdW5jdGlvbiwgb3IgYSBub24tTmFOIG51bWJlciBpcyByZXF1aXJlZCcpO1xufVxuXG5mdW5jdGlvbiBsb3dlckNvbXBhcmUodmFsdWUsIF9yZWYpIHtcbiAgdmFyIGd0ID0gX3JlZi5ndCxcbiAgICAgIGd0ZSA9IF9yZWYuZ3RlO1xuXG4gIGlmICh0eXBlb2YgZ3QgPT09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIHZhbHVlID4gZ3Q7XG4gIH1cbiAgaWYgKHR5cGVvZiBndGUgPT09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIHZhbHVlID49IGd0ZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gdXBwZXJDb21wYXJlKHZhbHVlLCBfcmVmMikge1xuICB2YXIgbHQgPSBfcmVmMi5sdCxcbiAgICAgIGx0ZSA9IF9yZWYyLmx0ZTtcblxuICBpZiAodHlwZW9mIGx0ID09PSAnbnVtYmVyJykge1xuICAgIHJldHVybiB2YWx1ZSA8IGx0O1xuICB9XG4gIGlmICh0eXBlb2YgbHRlID09PSAnbnVtYmVyJykge1xuICAgIHJldHVybiB2YWx1ZSA8PSBsdGU7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGdyZWF0ZXJUaGFuRXJyb3IoX3JlZjMpIHtcbiAgdmFyIGd0ID0gX3JlZjMuZ3QsXG4gICAgICBndGUgPSBfcmVmMy5ndGU7XG5cbiAgaWYgKHR5cGVvZiBndCA9PT0gJ251bWJlcicpIHtcbiAgICByZXR1cm4gJ2dyZWF0ZXIgdGhhbiAnICsgZ3Q7XG4gIH1cbiAgaWYgKHR5cGVvZiBndGUgPT09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuICdncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gJyArIGd0ZTtcbiAgfVxuICByZXR1cm4gJyc7XG59XG5cbmZ1bmN0aW9uIGxlc3NUaGFuRXJyb3IoX3JlZjQpIHtcbiAgdmFyIGx0ID0gX3JlZjQubHQsXG4gICAgICBsdGUgPSBfcmVmNC5sdGU7XG5cbiAgaWYgKHR5cGVvZiBsdCA9PT0gJ251bWJlcicpIHtcbiAgICByZXR1cm4gJ2xlc3MgdGhhbiAnICsgbHQ7XG4gIH1cbiAgaWYgKHR5cGVvZiBsdGUgPT09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuICdsZXNzIHRoYW4gb3IgZXF1YWwgdG8gJyArIGx0ZTtcbiAgfVxuICByZXR1cm4gJyc7XG59XG5cbmZ1bmN0aW9uIGVycm9yTWVzc2FnZShjb21wb25lbnROYW1lLCBwcm9wTmFtZSwgb3B0cykge1xuICB2YXIgZXJyb3JzID0gW2dyZWF0ZXJUaGFuRXJyb3Iob3B0cyksIGxlc3NUaGFuRXJyb3Iob3B0cyldLmZpbHRlcihCb29sZWFuKS5qb2luKCcgYW5kICcpO1xuICByZXR1cm4gU3RyaW5nKGNvbXBvbmVudE5hbWUpICsgJzogJyArIFN0cmluZyhwcm9wTmFtZSkgKyAnIG11c3QgYmUgJyArIFN0cmluZyhlcnJvcnMpO1xufVxuXG5mdW5jdGlvbiBwcm9wc1RodW5raWZ5KG9wdHMpIHtcbiAgcmV0dXJuICgwLCBfb2JqZWN0NFsnZGVmYXVsdCddKShvcHRzKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgX3JlZjUpIHtcbiAgICB2YXIgX3JlZjYgPSBfc2xpY2VkVG9BcnJheShfcmVmNSwgMiksXG4gICAgICAgIGtleSA9IF9yZWY2WzBdLFxuICAgICAgICB2YWx1ZSA9IF9yZWY2WzFdO1xuXG4gICAgdmFyIG51bWJlclRodW5rID0gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyA/IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9IDogdmFsdWU7XG4gICAgcmV0dXJuICgwLCBfb2JqZWN0MlsnZGVmYXVsdCddKSh7fSwgYWNjLCBfZGVmaW5lUHJvcGVydHkoe30sIGtleSwgbnVtYmVyVGh1bmspKTtcbiAgfSwge30pO1xufVxuXG5mdW5jdGlvbiBpbnZva2VXaXRoUHJvcHMob3B0c1RodW5rcywgcHJvcHMpIHtcbiAgcmV0dXJuICgwLCBfb2JqZWN0NFsnZGVmYXVsdCddKShvcHRzVGh1bmtzKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgX3JlZjcpIHtcbiAgICB2YXIgX3JlZjggPSBfc2xpY2VkVG9BcnJheShfcmVmNywgMiksXG4gICAgICAgIGtleSA9IF9yZWY4WzBdLFxuICAgICAgICB0aHVuayA9IF9yZWY4WzFdO1xuXG4gICAgdmFyIHZhbHVlID0gdGh1bmsocHJvcHMpO1xuICAgIHJldHVybiAoMCwgX29iamVjdDJbJ2RlZmF1bHQnXSkoe30sIGFjYywgX2RlZmluZVByb3BlcnR5KHt9LCBrZXksIHZhbHVlKSk7XG4gIH0sIHt9KTtcbn1cblxudmFyIGFyZ1ZhbGlkYXRvcnMgPSBbKDAsIF9zaGFwZTJbJ2RlZmF1bHQnXSkoeyBsdDogbnVtYmVyT3JQcm9wc0Z1bmMsIGd0OiBudW1iZXJPclByb3BzRnVuYyB9KS5pc1JlcXVpcmVkLCAoMCwgX3NoYXBlMlsnZGVmYXVsdCddKSh7IGx0ZTogbnVtYmVyT3JQcm9wc0Z1bmMsIGd0OiBudW1iZXJPclByb3BzRnVuYyB9KS5pc1JlcXVpcmVkLCAoMCwgX3NoYXBlMlsnZGVmYXVsdCddKSh7IGx0OiBudW1iZXJPclByb3BzRnVuYywgZ3RlOiBudW1iZXJPclByb3BzRnVuYyB9KS5pc1JlcXVpcmVkLCAoMCwgX3NoYXBlMlsnZGVmYXVsdCddKSh7IGx0ZTogbnVtYmVyT3JQcm9wc0Z1bmMsIGd0ZTogbnVtYmVyT3JQcm9wc0Z1bmMgfSkuaXNSZXF1aXJlZCwgKDAsIF9zaGFwZTJbJ2RlZmF1bHQnXSkoeyBsdDogbnVtYmVyT3JQcm9wc0Z1bmMgfSkuaXNSZXF1aXJlZCwgKDAsIF9zaGFwZTJbJ2RlZmF1bHQnXSkoeyBsdGU6IG51bWJlck9yUHJvcHNGdW5jIH0pLmlzUmVxdWlyZWQsICgwLCBfc2hhcGUyWydkZWZhdWx0J10pKHsgZ3Q6IG51bWJlck9yUHJvcHNGdW5jIH0pLmlzUmVxdWlyZWQsICgwLCBfc2hhcGUyWydkZWZhdWx0J10pKHsgZ3RlOiBudW1iZXJPclByb3BzRnVuYyB9KS5pc1JlcXVpcmVkXTtcbmZ1bmN0aW9uIGFyZ1ZhbGlkYXRvcihwcm9wcywgcHJvcE5hbWUpIHtcbiAgcmV0dXJuIGFyZ1ZhbGlkYXRvcnMuZXZlcnkoZnVuY3Rpb24gKHZhbGlkYXRvcikge1xuICAgIHJldHVybiAhIXZhbGlkYXRvcihwcm9wcywgcHJvcE5hbWUpO1xuICB9KTtcbn1cblxudmFyIHRodW5rVmFsdWVWYWxpZGF0b3IgPSAoMCwgX3ZhbHVlc09mMlsnZGVmYXVsdCddKShudW1iZXIpLmlzUmVxdWlyZWQ7XG5cbmZ1bmN0aW9uIGJldHdlZW5WYWxpZGF0b3Iob3B0aW9ucykge1xuICB2YXIgYXJnRXJyb3IgPSBhcmdWYWxpZGF0b3IoeyBvcHRpb25zOiBvcHRpb25zIH0sICdvcHRpb25zJyk7XG4gIGlmIChhcmdFcnJvcikge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2JldHdlZW46IG9ubHkgb25lIG9mIHRoZSBwYWlycyBvZiBgbHRgL2BsdGVgLCBhbmQgYGd0YC9gZ3RlYCwgbWF5IGJlIHN1cHBsaWVkLCBhbmQgYXQgbGVhc3Qgb25lIHBhaXIgbXVzdCBiZSBwcm92aWRlZC4nKTtcbiAgfVxuXG4gIHZhciBvcHRzVGh1bmtzID0gcHJvcHNUaHVua2lmeShvcHRpb25zKTtcblxuICB2YXIgdmFsaWRhdG9yID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGJldHdlZW4ocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lKSB7XG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuXG4gICAgICBpZiAocHJvcFZhbHVlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgcHJvcFZhbHVlICE9PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gbmV3IFJhbmdlRXJyb3IoU3RyaW5nKGNvbXBvbmVudE5hbWUpICsgJzogJyArIFN0cmluZyhwcm9wTmFtZSkgKyAnIG11c3QgYmUgYSBudW1iZXIsIGdvdCBcIicgKyAodHlwZW9mIHByb3BWYWx1ZSA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YocHJvcFZhbHVlKSkgKyAnXCInKTtcbiAgICAgIH1cblxuICAgICAgdmFyIG9wdHMgPSBpbnZva2VXaXRoUHJvcHMob3B0c1RodW5rcywgcHJvcHMpO1xuXG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgcmVzdCA9IEFycmF5KF9sZW4gPiAzID8gX2xlbiAtIDMgOiAwKSwgX2tleSA9IDM7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgcmVzdFtfa2V5IC0gM10gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG5cbiAgICAgIHZhciB0aHVua1ZhbHVlc0Vycm9yID0gdGh1bmtWYWx1ZVZhbGlkYXRvci5hcHBseSh1bmRlZmluZWQsIFtfZGVmaW5lUHJvcGVydHkoe30sIHByb3BOYW1lLCBvcHRzKSwgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWVdLmNvbmNhdChyZXN0KSk7XG4gICAgICBpZiAodGh1bmtWYWx1ZXNFcnJvcikge1xuICAgICAgICByZXR1cm4gdGh1bmtWYWx1ZXNFcnJvcjtcbiAgICAgIH1cblxuICAgICAgaWYgKCFsb3dlckNvbXBhcmUocHJvcFZhbHVlLCBvcHRzKSB8fCAhdXBwZXJDb21wYXJlKHByb3BWYWx1ZSwgb3B0cykpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZUVycm9yKGVycm9yTWVzc2FnZShjb21wb25lbnROYW1lLCBwcm9wTmFtZSwgb3B0cykpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gYmV0d2VlbjtcbiAgfSgpO1xuICB2YWxpZGF0b3IuaXNSZXF1aXJlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBiZXR3ZWVuUmVxdWlyZWQocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lKSB7XG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuXG4gICAgICBpZiAodHlwZW9mIHByb3BWYWx1ZSAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZUVycm9yKFN0cmluZyhjb21wb25lbnROYW1lKSArICc6ICcgKyBTdHJpbmcocHJvcE5hbWUpICsgJyBtdXN0IGJlIGEgbnVtYmVyLCBnb3QgXCInICsgKHR5cGVvZiBwcm9wVmFsdWUgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHByb3BWYWx1ZSkpICsgJ1wiJyk7XG4gICAgICB9XG5cbiAgICAgIHZhciBvcHRzID0gaW52b2tlV2l0aFByb3BzKG9wdHNUaHVua3MsIHByb3BzKTtcblxuICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCByZXN0ID0gQXJyYXkoX2xlbjIgPiAzID8gX2xlbjIgLSAzIDogMCksIF9rZXkyID0gMzsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICByZXN0W19rZXkyIC0gM10gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgfVxuXG4gICAgICB2YXIgdGh1bmtWYWx1ZXNFcnJvciA9IHRodW5rVmFsdWVWYWxpZGF0b3IuYXBwbHkodW5kZWZpbmVkLCBbX2RlZmluZVByb3BlcnR5KHt9LCBwcm9wTmFtZSwgb3B0cyksIHByb3BOYW1lLCBjb21wb25lbnROYW1lXS5jb25jYXQocmVzdCkpO1xuICAgICAgaWYgKHRodW5rVmFsdWVzRXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIHRodW5rVmFsdWVzRXJyb3I7XG4gICAgICB9XG5cbiAgICAgIGlmICghbG93ZXJDb21wYXJlKHByb3BWYWx1ZSwgb3B0cykgfHwgIXVwcGVyQ29tcGFyZShwcm9wVmFsdWUsIG9wdHMpKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmFuZ2VFcnJvcihlcnJvck1lc3NhZ2UoY29tcG9uZW50TmFtZSwgcHJvcE5hbWUsIG9wdHMpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIGJldHdlZW5SZXF1aXJlZDtcbiAgfSgpO1xuXG4gIHJldHVybiAoMCwgX3dyYXBWYWxpZGF0b3IyWydkZWZhdWx0J10pKHZhbGlkYXRvciwgJ2JldHdlZW4nLCBvcHRpb25zKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJldHdlZW4uanMubWFwIiwiT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IGJvb2xlYW5Tb21lVmFsaWRhdG9yO1xuXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcblxudmFyIF93cmFwVmFsaWRhdG9yID0gcmVxdWlyZSgnLi9oZWxwZXJzL3dyYXBWYWxpZGF0b3InKTtcblxudmFyIF93cmFwVmFsaWRhdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dyYXBWYWxpZGF0b3IpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGJvb2xlYW5Tb21lVmFsaWRhdG9yKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgbm90QWxsUHJvcHNGYWxzZSA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIG5vdEFsbFByb3BzRmFsc2VbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICBpZiAobm90QWxsUHJvcHNGYWxzZS5sZW5ndGggPCAxKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYXQgbGVhc3Qgb25lIHByb3AgKG9uZSBvZiB3aGljaCBtdXN0IGJlIGB0cnVlYCkgaXMgcmVxdWlyZWQnKTtcbiAgfVxuICBpZiAoIW5vdEFsbFByb3BzRmFsc2UuZXZlcnkoZnVuY3Rpb24gKHgpIHtcbiAgICByZXR1cm4gdHlwZW9mIHggPT09ICdzdHJpbmcnO1xuICB9KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2FsbCBib29sZWFuU29tZSBwcm9wcyBtdXN0IGJlIHN0cmluZ3MnKTtcbiAgfVxuXG4gIHZhciBwcm9wc0xpc3QgPSBub3RBbGxQcm9wc0ZhbHNlLmpvaW4oJywgb3IgJyk7XG5cbiAgdmFyIHZhbGlkYXRvciA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBib29sZWFuU29tZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUpIHtcbiAgICAgIHZhciBjb3VudEZhbHNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBjb3VudEZhbHNlKGNvdW50LCBwcm9wKSB7XG4gICAgICAgICAgcmV0dXJuIGNvdW50ICsgKHByb3BzW3Byb3BdID09PSBmYWxzZSA/IDEgOiAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb3VudEZhbHNlO1xuICAgICAgfSgpO1xuXG4gICAgICB2YXIgZmFsc2VQcm9wQ291bnQgPSBub3RBbGxQcm9wc0ZhbHNlLnJlZHVjZShjb3VudEZhbHNlLCAwKTtcbiAgICAgIGlmIChmYWxzZVByb3BDb3VudCA9PT0gbm90QWxsUHJvcHNGYWxzZS5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignQSAnICsgU3RyaW5nKGNvbXBvbmVudE5hbWUpICsgJyBtdXN0IGhhdmUgYXQgbGVhc3Qgb25lIG9mIHRoZXNlIGJvb2xlYW4gcHJvcHMgYmUgYHRydWVgOiAnICsgU3RyaW5nKHByb3BzTGlzdCkpO1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIHJlc3QgPSBBcnJheShfbGVuMiA+IDMgPyBfbGVuMiAtIDMgOiAwKSwgX2tleTIgPSAzOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgIHJlc3RbX2tleTIgLSAzXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfcHJvcFR5cGVzLmJvb2wuYXBwbHkodW5kZWZpbmVkLCBbcHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lXS5jb25jYXQocmVzdCkpO1xuICAgIH1cblxuICAgIHJldHVybiBib29sZWFuU29tZTtcbiAgfSgpO1xuXG4gIHZhbGlkYXRvci5pc1JlcXVpcmVkID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGJvb2xlYW5Tb21lUmVxdWlyZWQocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lKSB7XG4gICAgICB2YXIgY291bnRGYWxzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gY291bnRGYWxzZShjb3VudCwgcHJvcCkge1xuICAgICAgICAgIHJldHVybiBjb3VudCArIChwcm9wc1twcm9wXSA9PT0gZmFsc2UgPyAxIDogMCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY291bnRGYWxzZTtcbiAgICAgIH0oKTtcblxuICAgICAgdmFyIGZhbHNlUHJvcENvdW50ID0gbm90QWxsUHJvcHNGYWxzZS5yZWR1Y2UoY291bnRGYWxzZSwgMCk7XG4gICAgICBpZiAoZmFsc2VQcm9wQ291bnQgPT09IG5vdEFsbFByb3BzRmFsc2UubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBuZXcgRXJyb3IoJ0EgJyArIFN0cmluZyhjb21wb25lbnROYW1lKSArICcgbXVzdCBoYXZlIGF0IGxlYXN0IG9uZSBvZiB0aGVzZSBib29sZWFuIHByb3BzIGJlIGB0cnVlYDogJyArIFN0cmluZyhwcm9wc0xpc3QpKTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgX2xlbjMgPSBhcmd1bWVudHMubGVuZ3RoLCByZXN0ID0gQXJyYXkoX2xlbjMgPiAzID8gX2xlbjMgLSAzIDogMCksIF9rZXkzID0gMzsgX2tleTMgPCBfbGVuMzsgX2tleTMrKykge1xuICAgICAgICByZXN0W19rZXkzIC0gM10gPSBhcmd1bWVudHNbX2tleTNdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX3Byb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQuYXBwbHkoX3Byb3BUeXBlcy5ib29sLCBbcHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lXS5jb25jYXQocmVzdCkpO1xuICAgIH1cblxuICAgIHJldHVybiBib29sZWFuU29tZVJlcXVpcmVkO1xuICB9KCk7XG5cbiAgcmV0dXJuICgwLCBfd3JhcFZhbGlkYXRvcjJbJ2RlZmF1bHQnXSkodmFsaWRhdG9yLCAnYm9vbGVhblNvbWU6ICcgKyBTdHJpbmcocHJvcHNMaXN0KSwgbm90QWxsUHJvcHNGYWxzZSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ib29sZWFuU29tZS5qcy5tYXAiLCJPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IGNoaWxkcmVuSGF2ZVByb3BYb3JDaGlsZHJlbjtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3dyYXBWYWxpZGF0b3IgPSByZXF1aXJlKCcuL2hlbHBlcnMvd3JhcFZhbGlkYXRvcicpO1xuXG52YXIgX3dyYXBWYWxpZGF0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd3JhcFZhbGlkYXRvcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxuZnVuY3Rpb24gY2hpbGRyZW5IYXZlUHJvcFhvckNoaWxkcmVuKHByb3ApIHtcbiAgaWYgKHR5cGVvZiBwcm9wICE9PSAnc3RyaW5nJyAmJiAodHlwZW9mIHByb3AgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHByb3ApKSAhPT0gJ3N5bWJvbCcpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdpbnZhbGlkIHByb3A6IG11c3QgYmUgc3RyaW5nIG9yIHN5bWJvbCcpO1xuICB9XG5cbiAgdmFyIHZhbGlkYXRvciA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBjaGlsZHJlbkhhdmVQcm9wWG9yQ2hpbGRyZW5XaXRoUHJvcChfcmVmLCBfLCBjb21wb25lbnROYW1lKSB7XG4gICAgICB2YXIgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuO1xuXG4gICAgICB2YXIgdHJ1dGh5Q2hpbGRyZW5Db3VudCA9IDA7XG4gICAgICB2YXIgcHJvcENvdW50ID0gMDtcbiAgICAgIHZhciBncmFuZGNoaWxkcmVuQ291bnQgPSAwO1xuXG4gICAgICBfcmVhY3QyWydkZWZhdWx0J10uQ2hpbGRyZW4uZm9yRWFjaChjaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgIGlmICghY2hpbGQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0cnV0aHlDaGlsZHJlbkNvdW50ICs9IDE7XG5cbiAgICAgICAgaWYgKGNoaWxkLnByb3BzW3Byb3BdKSB7XG4gICAgICAgICAgcHJvcENvdW50ICs9IDE7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoX3JlYWN0MlsnZGVmYXVsdCddLkNoaWxkcmVuLmNvdW50KGNoaWxkLnByb3BzLmNoaWxkcmVuKSkge1xuICAgICAgICAgIGdyYW5kY2hpbGRyZW5Db3VudCArPSAxO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaWYgKHByb3BDb3VudCA9PT0gdHJ1dGh5Q2hpbGRyZW5Db3VudCAmJiBncmFuZGNoaWxkcmVuQ291bnQgPT09IDAgfHwgcHJvcENvdW50ID09PSAwICYmIGdyYW5kY2hpbGRyZW5Db3VudCA9PT0gdHJ1dGh5Q2hpbGRyZW5Db3VudCB8fCBwcm9wQ291bnQgPT09IDAgJiYgZ3JhbmRjaGlsZHJlbkNvdW50ID09PSAwKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IFR5cGVFcnJvcignYCcgKyBTdHJpbmcoY29tcG9uZW50TmFtZSkgKyAnYCByZXF1aXJlcyBjaGlsZHJlbiB0byBhbGwgaGF2ZSBwcm9wIFxcdTIwMUMnICsgU3RyaW5nKHByb3ApICsgJ1xcdTIwMUQsIGFsbCBoYXZlIGNoaWxkcmVuLCBvciBhbGwgaGF2ZSBuZWl0aGVyLicpO1xuICAgIH1cblxuICAgIHJldHVybiBjaGlsZHJlbkhhdmVQcm9wWG9yQ2hpbGRyZW5XaXRoUHJvcDtcbiAgfSgpO1xuICB2YWxpZGF0b3IuaXNSZXF1aXJlZCA9IHZhbGlkYXRvcjtcblxuICByZXR1cm4gKDAsIF93cmFwVmFsaWRhdG9yMlsnZGVmYXVsdCddKSh2YWxpZGF0b3IsICdjaGlsZHJlbkhhdmVQcm9wWG9yQ2hpbGRyZW5XaXRoUHJvcDonICsgU3RyaW5nKHByb3ApLCBwcm9wKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNoaWxkcmVuSGF2ZVByb3BYb3JDaGlsZHJlbi5qcy5tYXAiLCJPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1snZGVmYXVsdCddID0gY2hpbGRyZW5PZjtcblxudmFyIF9vYmplY3QgPSByZXF1aXJlKCdvYmplY3QuYXNzaWduJyk7XG5cbnZhciBfb2JqZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdCk7XG5cbnZhciBfcmVuZGVyYWJsZUNoaWxkcmVuID0gcmVxdWlyZSgnLi9oZWxwZXJzL3JlbmRlcmFibGVDaGlsZHJlbicpO1xuXG52YXIgX3JlbmRlcmFibGVDaGlsZHJlbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZW5kZXJhYmxlQ2hpbGRyZW4pO1xuXG52YXIgX3dyYXBWYWxpZGF0b3IgPSByZXF1aXJlKCcuL2hlbHBlcnMvd3JhcFZhbGlkYXRvcicpO1xuXG52YXIgX3dyYXBWYWxpZGF0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd3JhcFZhbGlkYXRvcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxuZnVuY3Rpb24gdmFsaWRhdGVDaGlsZHJlbihwcm9wVHlwZSwgY2hpbGRyZW4sIHByb3BzKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCByZXN0ID0gQXJyYXkoX2xlbiA+IDMgPyBfbGVuIC0gMyA6IDApLCBfa2V5ID0gMzsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIHJlc3RbX2tleSAtIDNdID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgdmFyIGVycm9yID0gdm9pZCAwO1xuICBjaGlsZHJlbi5zb21lKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgIGVycm9yID0gcHJvcFR5cGUuYXBwbHkodW5kZWZpbmVkLCBbKDAsIF9vYmplY3QyWydkZWZhdWx0J10pKHt9LCBwcm9wcywgeyBjaGlsZHJlbjogY2hpbGQgfSksICdjaGlsZHJlbiddLmNvbmNhdChyZXN0KSk7XG4gICAgcmV0dXJuIGVycm9yO1xuICB9KTtcblxuICByZXR1cm4gZXJyb3IgfHwgbnVsbDtcbn1cblxuZnVuY3Rpb24gY2hpbGRyZW5PZihwcm9wVHlwZSkge1xuICBmdW5jdGlvbiBjaGlsZHJlbk9mUHJvcFR5cGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lKSB7XG4gICAgaWYgKHByb3BOYW1lICE9PSAnY2hpbGRyZW4nKSB7XG4gICAgICByZXR1cm4gbmV3IFR5cGVFcnJvcihTdHJpbmcoY29tcG9uZW50TmFtZSkgKyAnIGlzIHVzaW5nIHRoZSBjaGlsZHJlbk9mIHZhbGlkYXRvciBvbiBub24tY2hpbGRyZW4gcHJvcCBcIicgKyBTdHJpbmcocHJvcE5hbWUpICsgJ1wiJyk7XG4gICAgfVxuXG4gICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcblxuXG4gICAgaWYgKHByb3BWYWx1ZSA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIGNoaWxkcmVuID0gKDAsIF9yZW5kZXJhYmxlQ2hpbGRyZW4yWydkZWZhdWx0J10pKHByb3BWYWx1ZSk7XG4gICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCByZXN0ID0gQXJyYXkoX2xlbjIgPiAzID8gX2xlbjIgLSAzIDogMCksIF9rZXkyID0gMzsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgcmVzdFtfa2V5MiAtIDNdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsaWRhdGVDaGlsZHJlbi5hcHBseSh1bmRlZmluZWQsIFtwcm9wVHlwZSwgY2hpbGRyZW4sIHByb3BzLCBjb21wb25lbnROYW1lXS5jb25jYXQocmVzdCkpO1xuICB9XG5cbiAgY2hpbGRyZW5PZlByb3BUeXBlLmlzUmVxdWlyZWQgPSBmdW5jdGlvbiAocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lKSB7XG4gICAgZm9yICh2YXIgX2xlbjMgPSBhcmd1bWVudHMubGVuZ3RoLCByZXN0ID0gQXJyYXkoX2xlbjMgPiAzID8gX2xlbjMgLSAzIDogMCksIF9rZXkzID0gMzsgX2tleTMgPCBfbGVuMzsgX2tleTMrKykge1xuICAgICAgcmVzdFtfa2V5MyAtIDNdID0gYXJndW1lbnRzW19rZXkzXTtcbiAgICB9XG5cbiAgICBpZiAocHJvcE5hbWUgIT09ICdjaGlsZHJlbicpIHtcbiAgICAgIHJldHVybiBuZXcgVHlwZUVycm9yKFN0cmluZyhjb21wb25lbnROYW1lKSArICcgaXMgdXNpbmcgdGhlIGNoaWxkcmVuT2YgdmFsaWRhdG9yIG9uIG5vbi1jaGlsZHJlbiBwcm9wIFwiJyArIFN0cmluZyhwcm9wTmFtZSkgKyAnXCInKTtcbiAgICB9XG5cbiAgICB2YXIgY2hpbGRyZW4gPSAoMCwgX3JlbmRlcmFibGVDaGlsZHJlbjJbJ2RlZmF1bHQnXSkocHJvcHNbcHJvcE5hbWVdKTtcbiAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gbmV3IFR5cGVFcnJvcignYCcgKyBTdHJpbmcoY29tcG9uZW50TmFtZSkgKyAnYCByZXF1aXJlcyBhdCBsZWFzdCBvbmUgbm9kZSBvZiB0eXBlICcgKyBTdHJpbmcocHJvcFR5cGUudHlwZU5hbWUgfHwgcHJvcFR5cGUubmFtZSkpO1xuICAgIH1cblxuICAgIHJldHVybiB2YWxpZGF0ZUNoaWxkcmVuLmFwcGx5KHVuZGVmaW5lZCwgW3Byb3BUeXBlLCBjaGlsZHJlbiwgcHJvcHMsIGNvbXBvbmVudE5hbWVdLmNvbmNhdChyZXN0KSk7XG4gIH07XG5cbiAgcmV0dXJuICgwLCBfd3JhcFZhbGlkYXRvcjJbJ2RlZmF1bHQnXSkoY2hpbGRyZW5PZlByb3BUeXBlLCAnY2hpbGRyZW5PZicsIHByb3BUeXBlKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNoaWxkcmVuT2YuanMubWFwIiwiT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9hcnJheVByb3RvdHlwZSA9IHJlcXVpcmUoJ2FycmF5LnByb3RvdHlwZS5maW5kJyk7XG5cbnZhciBfYXJyYXlQcm90b3R5cGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYXJyYXlQcm90b3R5cGUpO1xuXG52YXIgX2dldENvbXBvbmVudE5hbWUgPSByZXF1aXJlKCcuL2hlbHBlcnMvZ2V0Q29tcG9uZW50TmFtZScpO1xuXG52YXIgX2dldENvbXBvbmVudE5hbWUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0Q29tcG9uZW50TmFtZSk7XG5cbnZhciBfcmVuZGVyYWJsZUNoaWxkcmVuID0gcmVxdWlyZSgnLi9oZWxwZXJzL3JlbmRlcmFibGVDaGlsZHJlbicpO1xuXG52YXIgX3JlbmRlcmFibGVDaGlsZHJlbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZW5kZXJhYmxlQ2hpbGRyZW4pO1xuXG52YXIgX3dyYXBWYWxpZGF0b3IgPSByZXF1aXJlKCcuL2hlbHBlcnMvd3JhcFZhbGlkYXRvcicpO1xuXG52YXIgX3dyYXBWYWxpZGF0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd3JhcFZhbGlkYXRvcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxuZnVuY3Rpb24gb25seVR5cGVzKHR5cGVzLCBjaGlsZHJlbiwgY29tcG9uZW50TmFtZSkge1xuICBpZiAoIWNoaWxkcmVuLmV2ZXJ5KGZ1bmN0aW9uIChjaGlsZCkge1xuICAgIHJldHVybiBjaGlsZCAmJiAoMCwgX2FycmF5UHJvdG90eXBlMlsnZGVmYXVsdCddKSh0eXBlcywgZnVuY3Rpb24gKFR5cGUpIHtcbiAgICAgIHJldHVybiBUeXBlID09PSAnKicgfHwgY2hpbGQudHlwZSA9PT0gVHlwZTtcbiAgICB9KTtcbiAgfSkpIHtcbiAgICB2YXIgdHlwZU5hbWVzID0gdHlwZXMubWFwKF9nZXRDb21wb25lbnROYW1lMlsnZGVmYXVsdCddKS5qb2luKCcsIG9yICcpO1xuICAgIHJldHVybiBuZXcgVHlwZUVycm9yKCdgJyArIFN0cmluZyhjb21wb25lbnROYW1lKSArICdgIG9ubHkgYWNjZXB0cyBjaGlsZHJlbiBvZiB0eXBlICcgKyBTdHJpbmcodHlwZU5hbWVzKSk7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIGlzUmVxdWlyZWQodHlwZXMsIGNoaWxkcmVuLCBjb21wb25lbnROYW1lKSB7XG4gIGlmIChjaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICB2YXIgdHlwZU5hbWVzID0gdHlwZXMubWFwKF9nZXRDb21wb25lbnROYW1lMlsnZGVmYXVsdCddKS5qb2luKCcsIG9yICcpO1xuICAgIHJldHVybiBuZXcgVHlwZUVycm9yKCdgJyArIFN0cmluZyhjb21wb25lbnROYW1lKSArICdgIHJlcXVpcmVzIGF0IGxlYXN0IG9uZSBub2RlIG9mIHR5cGUgJyArIFN0cmluZyh0eXBlTmFtZXMpKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gY2hpbGRyZW5PZlR5cGUoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCB0eXBlcyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIHR5cGVzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgaWYgKHR5cGVzLmxlbmd0aCA8IDEpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdjaGlsZHJlbk9mVHlwZTogYXQgbGVhc3QgMSB0eXBlIGlzIHJlcXVpcmVkJyk7XG4gIH1cblxuICBmdW5jdGlvbiB2YWxpZGF0b3IocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lKSB7XG4gICAgcmV0dXJuIG9ubHlUeXBlcyh0eXBlcywgKDAsIF9yZW5kZXJhYmxlQ2hpbGRyZW4yWydkZWZhdWx0J10pKHByb3BzW3Byb3BOYW1lXSksIGNvbXBvbmVudE5hbWUpO1xuICB9XG5cbiAgdmFsaWRhdG9yLmlzUmVxdWlyZWQgPSBmdW5jdGlvbiAocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lKSB7XG4gICAgdmFyIGNoaWxkcmVuID0gKDAsIF9yZW5kZXJhYmxlQ2hpbGRyZW4yWydkZWZhdWx0J10pKHByb3BzW3Byb3BOYW1lXSk7XG4gICAgcmV0dXJuIGlzUmVxdWlyZWQodHlwZXMsIGNoaWxkcmVuLCBjb21wb25lbnROYW1lKSB8fCBvbmx5VHlwZXModHlwZXMsIGNoaWxkcmVuLCBjb21wb25lbnROYW1lKTtcbiAgfTtcblxuICByZXR1cm4gKDAsIF93cmFwVmFsaWRhdG9yMlsnZGVmYXVsdCddKSh2YWxpZGF0b3IsICdjaGlsZHJlbk9mVHlwZScsIHR5cGVzKTtcbn1cblxuZXhwb3J0c1snZGVmYXVsdCddID0gY2hpbGRyZW5PZlR5cGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaGlsZHJlbk9mVHlwZS5qcy5tYXAiLCJPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1snZGVmYXVsdCddID0gY2hpbGRyZW5TZXF1ZW5jZU9mVmFsaWRhdG9yO1xuXG52YXIgX29iamVjdCA9IHJlcXVpcmUoJ29iamVjdC5hc3NpZ24nKTtcblxudmFyIF9vYmplY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0KTtcblxudmFyIF9zZXF1ZW5jZU9mID0gcmVxdWlyZSgnLi9zZXF1ZW5jZU9mJyk7XG5cbnZhciBfc2VxdWVuY2VPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zZXF1ZW5jZU9mKTtcblxudmFyIF9yZW5kZXJhYmxlQ2hpbGRyZW4gPSByZXF1aXJlKCcuL2hlbHBlcnMvcmVuZGVyYWJsZUNoaWxkcmVuJyk7XG5cbnZhciBfcmVuZGVyYWJsZUNoaWxkcmVuMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlbmRlcmFibGVDaGlsZHJlbik7XG5cbnZhciBfd3JhcFZhbGlkYXRvciA9IHJlcXVpcmUoJy4vaGVscGVycy93cmFwVmFsaWRhdG9yJyk7XG5cbnZhciBfd3JhcFZhbGlkYXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93cmFwVmFsaWRhdG9yKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBjaGlsZHJlblNlcXVlbmNlT2ZWYWxpZGF0b3IoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBzcGVjaWZpZXJzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgc3BlY2lmaWVyc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHZhciBzZXEgPSBfc2VxdWVuY2VPZjJbJ2RlZmF1bHQnXS5hcHBseSh1bmRlZmluZWQsIHNwZWNpZmllcnMpO1xuXG4gIHZhciB2YWxpZGF0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gY2hpbGRyZW5TZXF1ZW5jZU9mKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSkge1xuICAgICAgaWYgKHByb3BOYW1lICE9PSAnY2hpbGRyZW4nKSB7XG4gICAgICAgIHJldHVybiBuZXcgVHlwZUVycm9yKFN0cmluZyhjb21wb25lbnROYW1lKSArICcgaXMgdXNpbmcgdGhlIGNoaWxkcmVuU2VxdWVuY2VPZiB2YWxpZGF0b3Igb24gbm9uLWNoaWxkcmVuIHByb3AgXCInICsgU3RyaW5nKHByb3BOYW1lKSArICdcIicpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuXG4gICAgICB2YXIgY2hpbGRyZW4gPSAoMCwgX3JlbmRlcmFibGVDaGlsZHJlbjJbJ2RlZmF1bHQnXSkocHJvcFZhbHVlKTtcbiAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgcmVzdCA9IEFycmF5KF9sZW4yID4gMyA/IF9sZW4yIC0gMyA6IDApLCBfa2V5MiA9IDM7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgICAgcmVzdFtfa2V5MiAtIDNdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlcS5hcHBseSh1bmRlZmluZWQsIFsoMCwgX29iamVjdDJbJ2RlZmF1bHQnXSkoe30sIHByb3BzLCB7IGNoaWxkcmVuOiBjaGlsZHJlbiB9KSwgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWVdLmNvbmNhdChyZXN0KSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNoaWxkcmVuU2VxdWVuY2VPZjtcbiAgfSgpO1xuXG4gIHZhbGlkYXRvci5pc1JlcXVpcmVkID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGNoaWxkcmVuU2VxdWVuY2VPZlJlcXVpcmVkKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSkge1xuICAgICAgaWYgKHByb3BOYW1lICE9PSAnY2hpbGRyZW4nKSB7XG4gICAgICAgIHJldHVybiBuZXcgVHlwZUVycm9yKFN0cmluZyhjb21wb25lbnROYW1lKSArICcgaXMgdXNpbmcgdGhlIGNoaWxkcmVuU2VxdWVuY2VPZiB2YWxpZGF0b3Igb24gbm9uLWNoaWxkcmVuIHByb3AgXCInICsgU3RyaW5nKHByb3BOYW1lKSArICdcIicpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuXG4gICAgICB2YXIgY2hpbGRyZW4gPSAoMCwgX3JlbmRlcmFibGVDaGlsZHJlbjJbJ2RlZmF1bHQnXSkocHJvcFZhbHVlKTtcbiAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoU3RyaW5nKGNvbXBvbmVudE5hbWUpICsgJzogcmVuZGVyYWJsZSBjaGlsZHJlbiBhcmUgcmVxdWlyZWQuJyk7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgcmVzdCA9IEFycmF5KF9sZW4zID4gMyA/IF9sZW4zIC0gMyA6IDApLCBfa2V5MyA9IDM7IF9rZXkzIDwgX2xlbjM7IF9rZXkzKyspIHtcbiAgICAgICAgcmVzdFtfa2V5MyAtIDNdID0gYXJndW1lbnRzW19rZXkzXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlcS5pc1JlcXVpcmVkLmFwcGx5KHNlcSwgWygwLCBfb2JqZWN0MlsnZGVmYXVsdCddKSh7fSwgcHJvcHMsIHsgY2hpbGRyZW46IGNoaWxkcmVuIH0pLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZV0uY29uY2F0KHJlc3QpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2hpbGRyZW5TZXF1ZW5jZU9mUmVxdWlyZWQ7XG4gIH0oKTtcblxuICByZXR1cm4gKDAsIF93cmFwVmFsaWRhdG9yMlsnZGVmYXVsdCddKSh2YWxpZGF0b3IsICdjaGlsZHJlblNlcXVlbmNlT2YnLCBzcGVjaWZpZXJzKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNoaWxkcmVuU2VxdWVuY2VPZi5qcy5tYXAiLCJPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1snZGVmYXVsdCddID0gY29tcG9uZW50V2l0aE5hbWU7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9pc1JlZ2V4ID0gcmVxdWlyZSgnaXMtcmVnZXgnKTtcblxudmFyIF9pc1JlZ2V4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzUmVnZXgpO1xuXG52YXIgX2FycmF5UHJvdG90eXBlID0gcmVxdWlyZSgnYXJyYXkucHJvdG90eXBlLmZpbmQnKTtcblxudmFyIF9hcnJheVByb3RvdHlwZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hcnJheVByb3RvdHlwZSk7XG5cbnZhciBfZ2V0Q29tcG9uZW50TmFtZSA9IHJlcXVpcmUoJy4vaGVscGVycy9nZXRDb21wb25lbnROYW1lJyk7XG5cbnZhciBfZ2V0Q29tcG9uZW50TmFtZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRDb21wb25lbnROYW1lKTtcblxudmFyIF93cmFwVmFsaWRhdG9yID0gcmVxdWlyZSgnLi9oZWxwZXJzL3dyYXBWYWxpZGF0b3InKTtcblxudmFyIF93cmFwVmFsaWRhdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dyYXBWYWxpZGF0b3IpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIHN0cmlwSE9DcyhmdWxsTmFtZSwgbmFtZXNPZkhPQ3NUb1N0cmlwKSB7XG4gIHZhciBpbm5lck5hbWUgPSBmdWxsTmFtZTtcbiAgd2hpbGUgKC9cXChbXigpXSpcXCkvZy50ZXN0KGlubmVyTmFtZSkpIHtcbiAgICB2YXIgSE9DID0gaW5uZXJOYW1lO1xuICAgIHZhciBwcmV2aW91c0hPQyA9IHZvaWQgMDtcbiAgICBkbyB7XG4gICAgICBwcmV2aW91c0hPQyA9IEhPQztcbiAgICAgIEhPQyA9IHByZXZpb3VzSE9DLnJlcGxhY2UoL1xcKFteKCldKlxcKS9nLCAnJyk7XG4gICAgfSB3aGlsZSAocHJldmlvdXNIT0MgIT09IEhPQyk7XG5cbiAgICBpZiAobmFtZXNPZkhPQ3NUb1N0cmlwLmluZGV4T2YoSE9DKSA9PT0gLTEpIHtcbiAgICAgIHJldHVybiBpbm5lck5hbWU7XG4gICAgfVxuICAgIGlubmVyTmFtZSA9IGlubmVyTmFtZS5yZXBsYWNlKFJlZ0V4cCgnXicgKyBTdHJpbmcoSE9DKSArICdcXFxcKHxcXFxcKSQnLCAnZycpLCAnJyk7XG4gIH1cbiAgcmV0dXJuIGlubmVyTmFtZTtcbn1cblxuZnVuY3Rpb24gaGFzTmFtZShuYW1lLCBuYW1lc09mSE9Dc1RvU3RyaXAsIHByb3BWYWx1ZSwgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHJlc3QgPSBBcnJheShfbGVuID4gNSA/IF9sZW4gLSA1IDogMCksIF9rZXkgPSA1OyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgcmVzdFtfa2V5IC0gNV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICBpZiAoQXJyYXkuaXNBcnJheShwcm9wVmFsdWUpKSB7XG4gICAgcmV0dXJuICgwLCBfYXJyYXlQcm90b3R5cGUyWydkZWZhdWx0J10pKHByb3BWYWx1ZS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHJldHVybiBoYXNOYW1lLmFwcGx5KHVuZGVmaW5lZCwgW25hbWUsIG5hbWVzT2ZIT0NzVG9TdHJpcCwgaXRlbSwgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWVdLmNvbmNhdChyZXN0KSk7XG4gICAgfSksIEJvb2xlYW4pIHx8IG51bGw7XG4gIH1cblxuICBpZiAoIV9yZWFjdDJbJ2RlZmF1bHQnXS5pc1ZhbGlkRWxlbWVudChwcm9wVmFsdWUpKSB7XG4gICAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoU3RyaW5nKGNvbXBvbmVudE5hbWUpICsgJy4nICsgU3RyaW5nKHByb3BOYW1lKSArICcgaXMgbm90IGEgdmFsaWQgUmVhY3QgZWxlbWVudCcpO1xuICB9XG5cbiAgdmFyIHR5cGUgPSBwcm9wVmFsdWUudHlwZTtcblxuICB2YXIgY29tcG9uZW50TmFtZUZyb21UeXBlID0gKDAsIF9nZXRDb21wb25lbnROYW1lMlsnZGVmYXVsdCddKSh0eXBlKTtcbiAgdmFyIGlubmVyQ29tcG9uZW50TmFtZSA9IG5hbWVzT2ZIT0NzVG9TdHJpcC5sZW5ndGggPiAwID8gc3RyaXBIT0NzKGNvbXBvbmVudE5hbWVGcm9tVHlwZSwgbmFtZXNPZkhPQ3NUb1N0cmlwKSA6IGNvbXBvbmVudE5hbWVGcm9tVHlwZTtcblxuICBpZiAoKDAsIF9pc1JlZ2V4MlsnZGVmYXVsdCddKShuYW1lKSAmJiAhbmFtZS50ZXN0KGlubmVyQ29tcG9uZW50TmFtZSkpIHtcbiAgICByZXR1cm4gbmV3IFR5cGVFcnJvcignYCcgKyBTdHJpbmcoY29tcG9uZW50TmFtZSkgKyAnLicgKyBTdHJpbmcocHJvcE5hbWUpICsgJ2Agb25seSBhY2NlcHRzIGNvbXBvbmVudHMgbWF0Y2hpbmcgdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiAnICsgU3RyaW5nKG5hbWUpKTtcbiAgfVxuXG4gIGlmICghKDAsIF9pc1JlZ2V4MlsnZGVmYXVsdCddKShuYW1lKSAmJiBpbm5lckNvbXBvbmVudE5hbWUgIT09IG5hbWUpIHtcbiAgICByZXR1cm4gbmV3IFR5cGVFcnJvcignYCcgKyBTdHJpbmcoY29tcG9uZW50TmFtZSkgKyAnLicgKyBTdHJpbmcocHJvcE5hbWUpICsgJ2Agb25seSBhY2NlcHRzIGNvbXBvbmVudHMgbmFtZWQgJyArIFN0cmluZyhuYW1lKSArICcsIGdvdCAnICsgU3RyaW5nKGlubmVyQ29tcG9uZW50TmFtZSkpO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIGNvbXBvbmVudFdpdGhOYW1lKG5hbWUpIHtcbiAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXG4gIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycgJiYgISgwLCBfaXNSZWdleDJbJ2RlZmF1bHQnXSkobmFtZSkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCduYW1lIG11c3QgYmUgYSBzdHJpbmcgb3IgYSByZWdleCcpO1xuICB9XG5cbiAgdmFyIHBhc3NlZE9wdGlvbnMgPSBPYmplY3Qua2V5cyhvcHRpb25zKTtcbiAgaWYgKHBhc3NlZE9wdGlvbnMubGVuZ3RoID4gMSB8fCBwYXNzZWRPcHRpb25zLmxlbmd0aCA9PT0gMSAmJiBwYXNzZWRPcHRpb25zWzBdICE9PSAnc3RyaXBIT0NzJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBvbmx5IG9wdGlvbnMgc3VwcG9ydGVkIGFyZTogXFx1MjAxQ3N0cmlwSE9Dc1xcdTIwMUQsIGdvdDogXFx1MjAxQycgKyBTdHJpbmcocGFzc2VkT3B0aW9ucy5qb2luKCfigJ0sIOKAnCcpKSArICdcXHUyMDFEJyk7XG4gIH1cbiAgdmFyIF9vcHRpb25zJHN0cmlwSE9DcyA9IG9wdGlvbnMuc3RyaXBIT0NzLFxuICAgICAgbmFtZXNPZkhPQ3NUb1N0cmlwID0gX29wdGlvbnMkc3RyaXBIT0NzID09PSB1bmRlZmluZWQgPyBbXSA6IF9vcHRpb25zJHN0cmlwSE9DcztcblxuXG4gIHZhciBhbGxIT0NOYW1lc0FyZVZhbGlkID0gbmFtZXNPZkhPQ3NUb1N0cmlwLmV2ZXJ5KGZ1bmN0aW9uICh4KSB7XG4gICAgaWYgKHR5cGVvZiB4ICE9PSAnc3RyaW5nJyB8fCAvWygpXS9nLnRlc3QoeCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuICgvXig/OlthLXpdW2EtekEtWjAtOV0rfFtBLVpdW2Etel1bYS16QS1aMC05XSspJC8udGVzdCh4KVxuICAgICk7XG4gIH0pO1xuICBpZiAoIWFsbEhPQ05hbWVzQXJlVmFsaWQpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdldmVyeSBwcm92aWRlZCBIT0MgbmFtZSBtdXN0IGJlIGEgc3RyaW5nIHdpdGggbm8gcGFyZW5zLCBhbmQgaW4gY2FtZWxDYXNlJyk7XG4gIH1cblxuICBmdW5jdGlvbiBjb21wb25lbnRXaXRoTmFtZVZhbGlkYXRvcihwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUpIHtcbiAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuXG4gICAgaWYgKHByb3BzW3Byb3BOYW1lXSA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIHJlc3QgPSBBcnJheShfbGVuMiA+IDMgPyBfbGVuMiAtIDMgOiAwKSwgX2tleTIgPSAzOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICByZXN0W19rZXkyIC0gM10gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgIH1cblxuICAgIHJldHVybiBoYXNOYW1lLmFwcGx5KHVuZGVmaW5lZCwgW25hbWUsIG5hbWVzT2ZIT0NzVG9TdHJpcCwgcHJvcFZhbHVlLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZV0uY29uY2F0KHJlc3QpKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpdGhOYW1lVmFsaWRhdG9yLmlzUmVxdWlyZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gY29tcG9uZW50V2l0aE5hbWVSZXF1aXJlZChwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUpIHtcbiAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG5cbiAgICAgIGlmIChwcm9wVmFsdWUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbmV3IFR5cGVFcnJvcignYCcgKyBTdHJpbmcoY29tcG9uZW50TmFtZSkgKyAnLicgKyBTdHJpbmcocHJvcE5hbWUpICsgJ2AgcmVxdWlyZXMgYXQgbGVhc3Qgb25lIGNvbXBvbmVudCBuYW1lZCAnICsgU3RyaW5nKG5hbWUpKTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgX2xlbjMgPSBhcmd1bWVudHMubGVuZ3RoLCByZXN0ID0gQXJyYXkoX2xlbjMgPiAzID8gX2xlbjMgLSAzIDogMCksIF9rZXkzID0gMzsgX2tleTMgPCBfbGVuMzsgX2tleTMrKykge1xuICAgICAgICByZXN0W19rZXkzIC0gM10gPSBhcmd1bWVudHNbX2tleTNdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaGFzTmFtZS5hcHBseSh1bmRlZmluZWQsIFtuYW1lLCBuYW1lc09mSE9Dc1RvU3RyaXAsIHByb3BWYWx1ZSwgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWVdLmNvbmNhdChyZXN0KSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbXBvbmVudFdpdGhOYW1lUmVxdWlyZWQ7XG4gIH0oKTtcblxuICByZXR1cm4gKDAsIF93cmFwVmFsaWRhdG9yMlsnZGVmYXVsdCddKShjb21wb25lbnRXaXRoTmFtZVZhbGlkYXRvciwgJ2NvbXBvbmVudFdpdGhOYW1lOicgKyBTdHJpbmcobmFtZSksIG5hbWUpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tcG9uZW50V2l0aE5hbWUuanMubWFwIiwiT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IGRpc2FsbG93ZWRJZjtcblxudmFyIF93cmFwVmFsaWRhdG9yID0gcmVxdWlyZSgnLi9oZWxwZXJzL3dyYXBWYWxpZGF0b3InKTtcblxudmFyIF93cmFwVmFsaWRhdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dyYXBWYWxpZGF0b3IpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGRpc2FsbG93ZWRJZihwcm9wVHlwZSwgb3RoZXJQcm9wTmFtZSwgb3RoZXJQcm9wVHlwZSkge1xuICBpZiAodHlwZW9mIHByb3BUeXBlICE9PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBwcm9wVHlwZS5pc1JlcXVpcmVkICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYSBwcm9wVHlwZSB2YWxpZGF0b3IgaXMgcmVxdWlyZWQ7IHByb3BUeXBlIHZhbGlkYXRvcnMgbXVzdCBhbHNvIHByb3ZpZGUgYC5pc1JlcXVpcmVkYCcpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvdGhlclByb3BOYW1lICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ290aGVyIHByb3AgbmFtZSBtdXN0IGJlIGEgc3RyaW5nJyk7XG4gIH1cblxuICBpZiAodHlwZW9mIG90aGVyUHJvcFR5cGUgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdvdGhlciBwcm9wIHR5cGUgdmFsaWRhdG9yIGlzIHJlcXVpcmVkJyk7XG4gIH1cblxuICBmdW5jdGlvbiBkaXNhbGxvd2VkSWZSZXF1aXJlZChwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgcmVzdCA9IEFycmF5KF9sZW4gPiAzID8gX2xlbiAtIDMgOiAwKSwgX2tleSA9IDM7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIHJlc3RbX2tleSAtIDNdID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHZhciBlcnJvciA9IHByb3BUeXBlLmlzUmVxdWlyZWQuYXBwbHkocHJvcFR5cGUsIFtwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWVdLmNvbmNhdChyZXN0KSk7XG4gICAgaWYgKGVycm9yKSB7XG4gICAgICByZXR1cm4gZXJyb3I7XG4gICAgfVxuXG4gICAgaWYgKHByb3BzW290aGVyUHJvcE5hbWVdID09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciBvdGhlckVycm9yID0gb3RoZXJQcm9wVHlwZS5hcHBseSh1bmRlZmluZWQsIFtwcm9wcywgb3RoZXJQcm9wTmFtZSwgY29tcG9uZW50TmFtZV0uY29uY2F0KHJlc3QpKTtcbiAgICBpZiAob3RoZXJFcnJvcikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBuZXcgRXJyb3IoJ3Byb3AgXFx1MjAxQycgKyBTdHJpbmcocHJvcE5hbWUpICsgJ1xcdTIwMUQgaXMgZGlzYWxsb3dlZCB3aGVuIFxcdTIwMUMnICsgU3RyaW5nKG90aGVyUHJvcE5hbWUpICsgJ1xcdTIwMUQgbWF0Y2hlcyB0aGUgcHJvdmlkZWQgdmFsaWRhdG9yJyk7XG4gIH1cblxuICB2YXIgdmFsaWRhdG9yID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGRpc2FsbG93ZWRJZlByb3BUeXBlKHByb3BzLCBwcm9wTmFtZSkge1xuICAgICAgaWYgKHByb3BzW3Byb3BOYW1lXSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIHJlc3QgPSBBcnJheShfbGVuMiA+IDIgPyBfbGVuMiAtIDIgOiAwKSwgX2tleTIgPSAyOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgIHJlc3RbX2tleTIgLSAyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkaXNhbGxvd2VkSWZSZXF1aXJlZC5hcHBseSh1bmRlZmluZWQsIFtwcm9wcywgcHJvcE5hbWVdLmNvbmNhdChyZXN0KSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRpc2FsbG93ZWRJZlByb3BUeXBlO1xuICB9KCk7XG5cbiAgdmFsaWRhdG9yLmlzUmVxdWlyZWQgPSBkaXNhbGxvd2VkSWZSZXF1aXJlZDtcblxuICByZXR1cm4gKDAsIF93cmFwVmFsaWRhdG9yMlsnZGVmYXVsdCddKSh2YWxpZGF0b3IsICdkaXNhbGxvd2VkSWYnLCB7IHByb3BUeXBlOiBwcm9wVHlwZSwgb3RoZXJQcm9wTmFtZTogb3RoZXJQcm9wTmFtZSwgb3RoZXJQcm9wVHlwZTogb3RoZXJQcm9wVHlwZSB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRpc2FsbG93ZWRJZi5qcy5tYXAiLCJPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IGVsZW1lbnRUeXBlVmFsaWRhdG9yO1xuXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcblxudmFyIF9hbmQgPSByZXF1aXJlKCcuL2FuZCcpO1xuXG52YXIgX2FuZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hbmQpO1xuXG52YXIgX2dldENvbXBvbmVudE5hbWUgPSByZXF1aXJlKCcuL2hlbHBlcnMvZ2V0Q29tcG9uZW50TmFtZScpO1xuXG52YXIgX2dldENvbXBvbmVudE5hbWUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0Q29tcG9uZW50TmFtZSk7XG5cbnZhciBfd3JhcFZhbGlkYXRvciA9IHJlcXVpcmUoJy4vaGVscGVycy93cmFwVmFsaWRhdG9yJyk7XG5cbnZhciBfd3JhcFZhbGlkYXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93cmFwVmFsaWRhdG9yKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBnZXRUeXBlTmFtZShUeXBlKSB7XG4gIGlmICh0eXBlb2YgVHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gVHlwZTtcbiAgfVxuICB2YXIgdHlwZSA9ICgwLCBfZ2V0Q29tcG9uZW50TmFtZTJbJ2RlZmF1bHQnXSkoVHlwZSk7XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8gLy8gaW4gZW52aXJvbm1lbnRzIHdoZXJlIGZ1bmN0aW9ucyBkbyBub3QgaGF2ZSBuYW1lc1xuICByZXR1cm4gdHlwZSB8fCAnQW5vbnltb3VzIENvbXBvbmVudCc7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlRWxlbWVudFR5cGUoVHlwZSwgcHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lKSB7XG4gIHZhciB0eXBlID0gcHJvcHNbcHJvcE5hbWVdLnR5cGU7XG5cblxuICBpZiAodHlwZSA9PT0gVHlwZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoU3RyaW5nKGNvbXBvbmVudE5hbWUpICsgJy4nICsgU3RyaW5nKHByb3BOYW1lKSArICcgbXVzdCBiZSBhIFJlYWN0IGVsZW1lbnQgb2YgdHlwZSAnICsgU3RyaW5nKGdldFR5cGVOYW1lKFR5cGUpKSk7XG59XG5cbmZ1bmN0aW9uIGVsZW1lbnRUeXBlVmFsaWRhdG9yKFR5cGUpIHtcbiAgaWYgKFR5cGUgPT09ICcqJykge1xuICAgIHJldHVybiAoMCwgX3dyYXBWYWxpZGF0b3IyWydkZWZhdWx0J10pKF9wcm9wVHlwZXMuZWxlbWVudCwgJ2VsZW1lbnRUeXBlKCopJywgVHlwZSk7XG4gIH1cblxuICBpZiAodHlwZW9mIFR5cGUgIT09ICdzdHJpbmcnICYmIHR5cGVvZiBUeXBlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVHlwZSBtdXN0IGJlIGEgUmVhY3QgQ29tcG9uZW50LCBhbiBIVE1MIGVsZW1lbnQgdGFnIG5hbWUsIG9yIFwiKlwiLiBHb3QgYW4gJyArICh0eXBlb2YgVHlwZSA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YoVHlwZSkpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGVsZW1lbnRUeXBlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSkge1xuICAgIGlmIChwcm9wc1twcm9wTmFtZV0gPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHJlc3QgPSBBcnJheShfbGVuID4gMyA/IF9sZW4gLSAzIDogMCksIF9rZXkgPSAzOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICByZXN0W19rZXkgLSAzXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsaWRhdGVFbGVtZW50VHlwZS5hcHBseSh1bmRlZmluZWQsIFtUeXBlLCBwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWVdLmNvbmNhdChyZXN0KSk7XG4gIH1cbiAgZWxlbWVudFR5cGUuaXNSZXF1aXJlZCA9IGVsZW1lbnRUeXBlOyAvLyBjb3ZlcmVkIGJ5IGFuZCArIGVsZW1lbnRcblxuICB2YXIgdHlwZU5hbWUgPSBnZXRUeXBlTmFtZShUeXBlKTtcbiAgdmFyIHZhbGlkYXRvck5hbWUgPSAnZWxlbWVudFR5cGUoJyArIFN0cmluZyh0eXBlTmFtZSkgKyAnKSc7XG4gIHJldHVybiAoMCwgX3dyYXBWYWxpZGF0b3IyWydkZWZhdWx0J10pKCgwLCBfYW5kMlsnZGVmYXVsdCddKShbX3Byb3BUeXBlcy5lbGVtZW50LCBlbGVtZW50VHlwZV0sIHZhbGlkYXRvck5hbWUpLCB2YWxpZGF0b3JOYW1lLCBUeXBlKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVsZW1lbnRUeXBlLmpzLm1hcCIsIk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxudmFyIF93cmFwVmFsaWRhdG9yID0gcmVxdWlyZSgnLi9oZWxwZXJzL3dyYXBWYWxpZGF0b3InKTtcblxudmFyIF93cmFwVmFsaWRhdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dyYXBWYWxpZGF0b3IpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGV4cGxpY2l0TnVsbChwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUpIHtcbiAgaWYgKHByb3BzW3Byb3BOYW1lXSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoU3RyaW5nKGNvbXBvbmVudE5hbWUpICsgJzogcHJvcCBcXHUyMDFDJyArIFN0cmluZyhwcm9wTmFtZSkgKyAnXFx1MjAxRCBtdXN0IGJlIG51bGwgb3IgdW5kZWZpbmVkOyByZWNlaXZlZCAnICsgX3R5cGVvZihwcm9wc1twcm9wTmFtZV0pKTtcbn1cbmV4cGxpY2l0TnVsbC5pc1JlcXVpcmVkID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBleHBsaWNpdE51bGxSZXF1aXJlZChwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUpIHtcbiAgICBpZiAocHJvcHNbcHJvcE5hbWVdID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoU3RyaW5nKGNvbXBvbmVudE5hbWUpICsgJzogcHJvcCBcXHUyMDFDJyArIFN0cmluZyhwcm9wTmFtZSkgKyAnXFx1MjAxRCBtdXN0IGJlIG51bGw7IHJlY2VpdmVkICcgKyBfdHlwZW9mKHByb3BzW3Byb3BOYW1lXSkpO1xuICB9XG5cbiAgcmV0dXJuIGV4cGxpY2l0TnVsbFJlcXVpcmVkO1xufSgpO1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiAoMCwgX3dyYXBWYWxpZGF0b3IyWydkZWZhdWx0J10pKGV4cGxpY2l0TnVsbCwgJ2V4cGxpY2l0TnVsbCcpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV4cGxpY2l0TnVsbC5qcy5tYXAiLCJPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1snZGVmYXVsdCddID0gZ2V0Q29tcG9uZW50TmFtZTtcblxudmFyIF9mdW5jdGlvblByb3RvdHlwZSA9IHJlcXVpcmUoJ2Z1bmN0aW9uLnByb3RvdHlwZS5uYW1lJyk7XG5cbnZhciBfZnVuY3Rpb25Qcm90b3R5cGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZnVuY3Rpb25Qcm90b3R5cGUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGdldENvbXBvbmVudE5hbWUoQ29tcG9uZW50KSB7XG4gIGlmICh0eXBlb2YgQ29tcG9uZW50ID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBDb21wb25lbnQ7XG4gIH1cbiAgaWYgKHR5cGVvZiBDb21wb25lbnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8ICgwLCBfZnVuY3Rpb25Qcm90b3R5cGUyWydkZWZhdWx0J10pKENvbXBvbmVudCk7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRDb21wb25lbnROYW1lLmpzLm1hcCIsIk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG52YXIgZmxvb3IgPSBNYXRoLmZsb29yO1xuXG52YXIgZmluaXRlID0gaXNGaW5pdGU7XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IE51bWJlci5pc0ludGVnZXIgfHwgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9mdW5jdGlvbiAoeCkge1xuICByZXR1cm4gdHlwZW9mIHggPT09ICdudW1iZXInICYmIGZpbml0ZSh4KSAmJiBmbG9vcih4KSA9PT0geDtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0ludGVnZXIuanMubWFwIiwiT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9pc1BsYWluT2JqZWN0ID0gcmVxdWlyZSgncHJvcC10eXBlcy1leGFjdC9idWlsZC9oZWxwZXJzL2lzUGxhaW5PYmplY3QnKTtcblxudmFyIF9pc1BsYWluT2JqZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzUGxhaW5PYmplY3QpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IF9pc1BsYWluT2JqZWN0MlsnZGVmYXVsdCddO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNQbGFpbk9iamVjdC5qcy5tYXAiLCJPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IGlzUHJpbWl0aXZlO1xuZnVuY3Rpb24gaXNQcmltaXRpdmUoeCkge1xuICByZXR1cm4gIXggfHwgKHR5cGVvZiB4ID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZih4KSkgIT09ICdvYmplY3QnICYmIHR5cGVvZiB4ICE9PSAnZnVuY3Rpb24nO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNQcmltaXRpdmUuanMubWFwIiwiT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IHJlbmRlcmFibGVDaGlsZHJlbjtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIHJlbmRlcmFibGVDaGlsZHJlbihjaGlsZHJlblByb3ApIHtcbiAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5DaGlsZHJlbi50b0FycmF5KGNoaWxkcmVuUHJvcCkuZmlsdGVyKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgIHJldHVybiBjaGlsZCA9PT0gMCB8fCBjaGlsZDtcbiAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZW5kZXJhYmxlQ2hpbGRyZW4uanMubWFwIiwiT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSB0eXBlT2Y7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG5mdW5jdGlvbiB0eXBlT2YoY2hpbGQpIHtcbiAgaWYgKGNoaWxkID09PSBudWxsKSB7XG4gICAgcmV0dXJuICdudWxsJztcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZCkpIHtcbiAgICByZXR1cm4gJ2FycmF5JztcbiAgfVxuICBpZiAoKHR5cGVvZiBjaGlsZCA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YoY2hpbGQpKSAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gdHlwZW9mIGNoaWxkID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihjaGlsZCk7XG4gIH1cbiAgaWYgKF9yZWFjdDJbJ2RlZmF1bHQnXS5pc1ZhbGlkRWxlbWVudChjaGlsZCkpIHtcbiAgICByZXR1cm4gY2hpbGQudHlwZTtcbiAgfVxuICByZXR1cm4gY2hpbGQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10eXBlT2YuanMubWFwIiwiT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gd3JhcFZhbGlkYXRvcjtcblxudmFyIF9vYmplY3QgPSByZXF1aXJlKFwib2JqZWN0LmFzc2lnblwiKTtcblxudmFyIF9vYmplY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgXCJkZWZhdWx0XCI6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIHdyYXBWYWxpZGF0b3IodmFsaWRhdG9yLCB0eXBlTmFtZSkge1xuICB2YXIgdHlwZUNoZWNrZXIgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IG51bGw7XG5cbiAgcmV0dXJuICgwLCBfb2JqZWN0MltcImRlZmF1bHRcIl0pKHZhbGlkYXRvci5iaW5kKCksIHtcbiAgICB0eXBlTmFtZTogdHlwZU5hbWUsXG4gICAgdHlwZUNoZWNrZXI6IHR5cGVDaGVja2VyLFxuICAgIGlzUmVxdWlyZWQ6ICgwLCBfb2JqZWN0MltcImRlZmF1bHRcIl0pKHZhbGlkYXRvci5pc1JlcXVpcmVkLmJpbmQoKSwge1xuICAgICAgdHlwZU5hbWU6IHR5cGVOYW1lLFxuICAgICAgdHlwZUNoZWNrZXI6IHR5cGVDaGVja2VyLFxuICAgICAgdHlwZVJlcXVpcmVkOiB0cnVlXG4gICAgfSlcbiAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD13cmFwVmFsaWRhdG9yLmpzLm1hcCIsInZhciBfcHJvcFR5cGVzRXhhY3QgPSByZXF1aXJlKCdwcm9wLXR5cGVzLWV4YWN0Jyk7XG5cbnZhciBfcHJvcFR5cGVzRXhhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzRXhhY3QpO1xuXG52YXIgX2FuZCA9IHJlcXVpcmUoJy4vYW5kJyk7XG5cbnZhciBfYW5kMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2FuZCk7XG5cbnZhciBfYmV0d2VlbiA9IHJlcXVpcmUoJy4vYmV0d2VlbicpO1xuXG52YXIgX2JldHdlZW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYmV0d2Vlbik7XG5cbnZhciBfYm9vbGVhblNvbWUgPSByZXF1aXJlKCcuL2Jvb2xlYW5Tb21lJyk7XG5cbnZhciBfYm9vbGVhblNvbWUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYm9vbGVhblNvbWUpO1xuXG52YXIgX2NoaWxkcmVuSGF2ZVByb3BYb3JDaGlsZHJlbiA9IHJlcXVpcmUoJy4vY2hpbGRyZW5IYXZlUHJvcFhvckNoaWxkcmVuJyk7XG5cbnZhciBfY2hpbGRyZW5IYXZlUHJvcFhvckNoaWxkcmVuMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NoaWxkcmVuSGF2ZVByb3BYb3JDaGlsZHJlbik7XG5cbnZhciBfY2hpbGRyZW5PZiA9IHJlcXVpcmUoJy4vY2hpbGRyZW5PZicpO1xuXG52YXIgX2NoaWxkcmVuT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2hpbGRyZW5PZik7XG5cbnZhciBfY2hpbGRyZW5PZlR5cGUgPSByZXF1aXJlKCcuL2NoaWxkcmVuT2ZUeXBlJyk7XG5cbnZhciBfY2hpbGRyZW5PZlR5cGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2hpbGRyZW5PZlR5cGUpO1xuXG52YXIgX2NoaWxkcmVuU2VxdWVuY2VPZiA9IHJlcXVpcmUoJy4vY2hpbGRyZW5TZXF1ZW5jZU9mJyk7XG5cbnZhciBfY2hpbGRyZW5TZXF1ZW5jZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NoaWxkcmVuU2VxdWVuY2VPZik7XG5cbnZhciBfY29tcG9uZW50V2l0aE5hbWUgPSByZXF1aXJlKCcuL2NvbXBvbmVudFdpdGhOYW1lJyk7XG5cbnZhciBfY29tcG9uZW50V2l0aE5hbWUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29tcG9uZW50V2l0aE5hbWUpO1xuXG52YXIgX2Rpc2FsbG93ZWRJZiA9IHJlcXVpcmUoJy4vZGlzYWxsb3dlZElmJyk7XG5cbnZhciBfZGlzYWxsb3dlZElmMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Rpc2FsbG93ZWRJZik7XG5cbnZhciBfZWxlbWVudFR5cGUgPSByZXF1aXJlKCcuL2VsZW1lbnRUeXBlJyk7XG5cbnZhciBfZWxlbWVudFR5cGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZWxlbWVudFR5cGUpO1xuXG52YXIgX2V4cGxpY2l0TnVsbCA9IHJlcXVpcmUoJy4vZXhwbGljaXROdWxsJyk7XG5cbnZhciBfZXhwbGljaXROdWxsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2V4cGxpY2l0TnVsbCk7XG5cbnZhciBfaW50ZWdlciA9IHJlcXVpcmUoJy4vaW50ZWdlcicpO1xuXG52YXIgX2ludGVnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW50ZWdlcik7XG5cbnZhciBfa2V5c09mID0gcmVxdWlyZSgnLi9rZXlzT2YnKTtcblxudmFyIF9rZXlzT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfa2V5c09mKTtcblxudmFyIF9tdXR1YWxseUV4Y2x1c2l2ZVByb3BzID0gcmVxdWlyZSgnLi9tdXR1YWxseUV4Y2x1c2l2ZVByb3BzJyk7XG5cbnZhciBfbXV0dWFsbHlFeGNsdXNpdmVQcm9wczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tdXR1YWxseUV4Y2x1c2l2ZVByb3BzKTtcblxudmFyIF9tdXR1YWxseUV4Y2x1c2l2ZVRydWVQcm9wcyA9IHJlcXVpcmUoJy4vbXV0dWFsbHlFeGNsdXNpdmVUcnVlUHJvcHMnKTtcblxudmFyIF9tdXR1YWxseUV4Y2x1c2l2ZVRydWVQcm9wczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tdXR1YWxseUV4Y2x1c2l2ZVRydWVQcm9wcyk7XG5cbnZhciBfbkNoaWxkcmVuID0gcmVxdWlyZSgnLi9uQ2hpbGRyZW4nKTtcblxudmFyIF9uQ2hpbGRyZW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbkNoaWxkcmVuKTtcblxudmFyIF9ub25OZWdhdGl2ZUludGVnZXIgPSByZXF1aXJlKCcuL25vbk5lZ2F0aXZlSW50ZWdlcicpO1xuXG52YXIgX25vbk5lZ2F0aXZlSW50ZWdlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ub25OZWdhdGl2ZUludGVnZXIpO1xuXG52YXIgX25vbk5lZ2F0aXZlTnVtYmVyID0gcmVxdWlyZSgnLi9ub25OZWdhdGl2ZU51bWJlcicpO1xuXG52YXIgX25vbk5lZ2F0aXZlTnVtYmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX25vbk5lZ2F0aXZlTnVtYmVyKTtcblxudmFyIF9udW1lcmljU3RyaW5nID0gcmVxdWlyZSgnLi9udW1lcmljU3RyaW5nJyk7XG5cbnZhciBfbnVtZXJpY1N0cmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9udW1lcmljU3RyaW5nKTtcblxudmFyIF9vYmplY3QgPSByZXF1aXJlKCcuL29iamVjdCcpO1xuXG52YXIgX29iamVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3QpO1xuXG52YXIgX29yID0gcmVxdWlyZSgnLi9vcicpO1xuXG52YXIgX29yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29yKTtcblxudmFyIF9yYW5nZSA9IHJlcXVpcmUoJy4vcmFuZ2UnKTtcblxudmFyIF9yYW5nZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yYW5nZSk7XG5cbnZhciBfcmVxdWlyZWRCeSA9IHJlcXVpcmUoJy4vcmVxdWlyZWRCeScpO1xuXG52YXIgX3JlcXVpcmVkQnkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVxdWlyZWRCeSk7XG5cbnZhciBfcmVzdHJpY3RlZFByb3AgPSByZXF1aXJlKCcuL3Jlc3RyaWN0ZWRQcm9wJyk7XG5cbnZhciBfcmVzdHJpY3RlZFByb3AyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVzdHJpY3RlZFByb3ApO1xuXG52YXIgX3NlcXVlbmNlT2YgPSByZXF1aXJlKCcuL3NlcXVlbmNlT2YnKTtcblxudmFyIF9zZXF1ZW5jZU9mMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NlcXVlbmNlT2YpO1xuXG52YXIgX3NoYXBlID0gcmVxdWlyZSgnLi9zaGFwZScpO1xuXG52YXIgX3NoYXBlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NoYXBlKTtcblxudmFyIF9zdHJpbmdTdGFydHNXaXRoID0gcmVxdWlyZSgnLi9zdHJpbmdTdGFydHNXaXRoJyk7XG5cbnZhciBfc3RyaW5nU3RhcnRzV2l0aDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9zdHJpbmdTdGFydHNXaXRoKTtcblxudmFyIF91bmlxdWVBcnJheSA9IHJlcXVpcmUoJy4vdW5pcXVlQXJyYXknKTtcblxudmFyIF91bmlxdWVBcnJheTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF91bmlxdWVBcnJheSk7XG5cbnZhciBfdW5pcXVlQXJyYXlPZiA9IHJlcXVpcmUoJy4vdW5pcXVlQXJyYXlPZicpO1xuXG52YXIgX3VuaXF1ZUFycmF5T2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdW5pcXVlQXJyYXlPZik7XG5cbnZhciBfdmFsdWVzT2YgPSByZXF1aXJlKCcuL3ZhbHVlc09mJyk7XG5cbnZhciBfdmFsdWVzT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdmFsdWVzT2YpO1xuXG52YXIgX3dpdGhTaGFwZSA9IHJlcXVpcmUoJy4vd2l0aFNoYXBlJyk7XG5cbnZhciBfd2l0aFNoYXBlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dpdGhTaGFwZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGFuZDogX2FuZDJbJ2RlZmF1bHQnXSxcbiAgYmV0d2VlbjogX2JldHdlZW4yWydkZWZhdWx0J10sXG4gIGJvb2xlYW5Tb21lOiBfYm9vbGVhblNvbWUyWydkZWZhdWx0J10sXG4gIGNoaWxkcmVuSGF2ZVByb3BYb3JDaGlsZHJlbjogX2NoaWxkcmVuSGF2ZVByb3BYb3JDaGlsZHJlbjJbJ2RlZmF1bHQnXSxcbiAgY2hpbGRyZW5PZjogX2NoaWxkcmVuT2YyWydkZWZhdWx0J10sXG4gIGNoaWxkcmVuT2ZUeXBlOiBfY2hpbGRyZW5PZlR5cGUyWydkZWZhdWx0J10sXG4gIGNoaWxkcmVuU2VxdWVuY2VPZjogX2NoaWxkcmVuU2VxdWVuY2VPZjJbJ2RlZmF1bHQnXSxcbiAgY29tcG9uZW50V2l0aE5hbWU6IF9jb21wb25lbnRXaXRoTmFtZTJbJ2RlZmF1bHQnXSxcbiAgZGlzYWxsb3dlZElmOiBfZGlzYWxsb3dlZElmMlsnZGVmYXVsdCddLFxuICBlbGVtZW50VHlwZTogX2VsZW1lbnRUeXBlMlsnZGVmYXVsdCddLFxuICBleHBsaWNpdE51bGw6IF9leHBsaWNpdE51bGwyWydkZWZhdWx0J10sXG4gIGZvcmJpZEV4dHJhUHJvcHM6IF9wcm9wVHlwZXNFeGFjdDJbJ2RlZmF1bHQnXSxcbiAgaW50ZWdlcjogX2ludGVnZXIyWydkZWZhdWx0J10sXG4gIGtleXNPZjogX2tleXNPZjJbJ2RlZmF1bHQnXSxcbiAgbXV0dWFsbHlFeGNsdXNpdmVQcm9wczogX211dHVhbGx5RXhjbHVzaXZlUHJvcHMyWydkZWZhdWx0J10sXG4gIG11dHVhbGx5RXhjbHVzaXZlVHJ1ZVByb3BzOiBfbXV0dWFsbHlFeGNsdXNpdmVUcnVlUHJvcHMyWydkZWZhdWx0J10sXG4gIG5DaGlsZHJlbjogX25DaGlsZHJlbjJbJ2RlZmF1bHQnXSxcbiAgbm9uTmVnYXRpdmVJbnRlZ2VyOiBfbm9uTmVnYXRpdmVJbnRlZ2VyMlsnZGVmYXVsdCddLFxuICBub25OZWdhdGl2ZU51bWJlcjogX25vbk5lZ2F0aXZlTnVtYmVyMlsnZGVmYXVsdCddLFxuICBudW1lcmljU3RyaW5nOiBfbnVtZXJpY1N0cmluZzJbJ2RlZmF1bHQnXSxcbiAgb2JqZWN0OiBfb2JqZWN0MlsnZGVmYXVsdCddLFxuICBvcjogX29yMlsnZGVmYXVsdCddLFxuICByYW5nZTogX3JhbmdlMlsnZGVmYXVsdCddLFxuICByZXF1aXJlZEJ5OiBfcmVxdWlyZWRCeTJbJ2RlZmF1bHQnXSxcbiAgcmVzdHJpY3RlZFByb3A6IF9yZXN0cmljdGVkUHJvcDJbJ2RlZmF1bHQnXSxcbiAgc2VxdWVuY2VPZjogX3NlcXVlbmNlT2YyWydkZWZhdWx0J10sXG4gIHNoYXBlOiBfc2hhcGUyWydkZWZhdWx0J10sXG4gIHN0cmluZ1N0YXJ0c1dpdGg6IF9zdHJpbmdTdGFydHNXaXRoMlsnZGVmYXVsdCddLFxuICB1bmlxdWVBcnJheTogX3VuaXF1ZUFycmF5MlsnZGVmYXVsdCddLFxuICB1bmlxdWVBcnJheU9mOiBfdW5pcXVlQXJyYXlPZjJbJ2RlZmF1bHQnXSxcbiAgdmFsdWVzT2Y6IF92YWx1ZXNPZjJbJ2RlZmF1bHQnXSxcbiAgd2l0aFNoYXBlOiBfd2l0aFNoYXBlMlsnZGVmYXVsdCddXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9pc0ludGVnZXIgPSByZXF1aXJlKCcuL2hlbHBlcnMvaXNJbnRlZ2VyJyk7XG5cbnZhciBfaXNJbnRlZ2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzSW50ZWdlcik7XG5cbnZhciBfd3JhcFZhbGlkYXRvciA9IHJlcXVpcmUoJy4vaGVscGVycy93cmFwVmFsaWRhdG9yJyk7XG5cbnZhciBfd3JhcFZhbGlkYXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93cmFwVmFsaWRhdG9yKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG5mdW5jdGlvbiByZXF1aXJlZEludGVnZXIocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lKSB7XG4gIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG5cbiAgaWYgKHByb3BWYWx1ZSA9PSBudWxsIHx8ICEoMCwgX2lzSW50ZWdlcjJbJ2RlZmF1bHQnXSkocHJvcFZhbHVlKSkge1xuICAgIHJldHVybiBuZXcgUmFuZ2VFcnJvcihTdHJpbmcocHJvcE5hbWUpICsgJyBpbiAnICsgU3RyaW5nKGNvbXBvbmVudE5hbWUpICsgJyBtdXN0IGJlIGFuIGludGVnZXInKTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxudmFyIHZhbGlkYXRvciA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gaW50ZWdlcihwcm9wcywgcHJvcE5hbWUpIHtcbiAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuXG5cbiAgICBpZiAocHJvcFZhbHVlID09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCByZXN0ID0gQXJyYXkoX2xlbiA+IDIgPyBfbGVuIC0gMiA6IDApLCBfa2V5ID0gMjsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgcmVzdFtfa2V5IC0gMl0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcXVpcmVkSW50ZWdlci5hcHBseSh1bmRlZmluZWQsIFtwcm9wcywgcHJvcE5hbWVdLmNvbmNhdChyZXN0KSk7XG4gIH1cblxuICByZXR1cm4gaW50ZWdlcjtcbn0oKTtcblxudmFsaWRhdG9yLmlzUmVxdWlyZWQgPSByZXF1aXJlZEludGVnZXI7XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuICgwLCBfd3JhcFZhbGlkYXRvcjJbJ2RlZmF1bHQnXSkodmFsaWRhdG9yLCAnaW50ZWdlcicpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWludGVnZXIuanMubWFwIiwiT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IGtleXNPZlZhbGlkYXRvcjtcblxudmFyIF9pc1ByaW1pdGl2ZSA9IHJlcXVpcmUoJy4vaGVscGVycy9pc1ByaW1pdGl2ZScpO1xuXG52YXIgX2lzUHJpbWl0aXZlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzUHJpbWl0aXZlKTtcblxudmFyIF93cmFwVmFsaWRhdG9yID0gcmVxdWlyZSgnLi9oZWxwZXJzL3dyYXBWYWxpZGF0b3InKTtcblxudmFyIF93cmFwVmFsaWRhdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dyYXBWYWxpZGF0b3IpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmZ1bmN0aW9uIGtleXNPZlZhbGlkYXRvcihwcm9wVHlwZSkge1xuICB2YXIgbmFtZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJ2tleXNPZic7XG5cbiAgaWYgKHR5cGVvZiBwcm9wVHlwZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2FyZ3VtZW50IHRvIGtleXNPZiBtdXN0IGJlIGEgdmFsaWQgUHJvcFR5cGUgZnVuY3Rpb24nKTtcbiAgfVxuXG4gIHZhciB2YWxpZGF0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24ga2V5c09mKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHJlc3QgPSBBcnJheShfbGVuID4gNSA/IF9sZW4gLSA1IDogMCksIF9rZXkgPSA1OyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIHJlc3RbX2tleSAtIDVdID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuXG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuXG5cbiAgICAgIGlmIChwcm9wVmFsdWUgPT0gbnVsbCB8fCAoMCwgX2lzUHJpbWl0aXZlMlsnZGVmYXVsdCddKShwcm9wVmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICB2YXIgZmlyc3RFcnJvciA9IG51bGw7XG4gICAgICBPYmplY3Qua2V5cyhwcm9wVmFsdWUpLnNvbWUoZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBmaXJzdEVycm9yID0gcHJvcFR5cGUuYXBwbHkodW5kZWZpbmVkLCBbX2RlZmluZVByb3BlcnR5KHt9LCBrZXksIGtleSksIGtleSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sICcoJyArIFN0cmluZyhwcm9wRnVsbE5hbWUpICsgJykuJyArIFN0cmluZyhrZXkpXS5jb25jYXQocmVzdCkpO1xuICAgICAgICByZXR1cm4gZmlyc3RFcnJvciAhPSBudWxsO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gZmlyc3RFcnJvciB8fCBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBrZXlzT2Y7XG4gIH0oKTtcblxuICB2YWxpZGF0b3IuaXNSZXF1aXJlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBrZXllZEJ5UmVxdWlyZWQocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lKSB7XG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuXG5cbiAgICAgIGlmIChwcm9wVmFsdWUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbmV3IFR5cGVFcnJvcihTdHJpbmcoY29tcG9uZW50TmFtZSkgKyAnOiAnICsgU3RyaW5nKHByb3BOYW1lKSArICcgaXMgcmVxdWlyZWQsIGJ1dCB2YWx1ZSBpcyAnICsgU3RyaW5nKHByb3BWYWx1ZSkpO1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIHJlc3QgPSBBcnJheShfbGVuMiA+IDMgPyBfbGVuMiAtIDMgOiAwKSwgX2tleTIgPSAzOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgIHJlc3RbX2tleTIgLSAzXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB2YWxpZGF0b3IuYXBwbHkodW5kZWZpbmVkLCBbcHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lXS5jb25jYXQocmVzdCkpO1xuICAgIH1cblxuICAgIHJldHVybiBrZXllZEJ5UmVxdWlyZWQ7XG4gIH0oKTtcblxuICByZXR1cm4gKDAsIF93cmFwVmFsaWRhdG9yMlsnZGVmYXVsdCddKSh2YWxpZGF0b3IsIG5hbWUsIHByb3BUeXBlKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWtleXNPZi5qcy5tYXAiLCJPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1snZGVmYXVsdCddID0gbXV0dWFsbHlFeGNsdXNpdmVPZlR5cGU7XG5cbnZhciBfb2JqZWN0ID0gcmVxdWlyZSgnb2JqZWN0LmFzc2lnbicpO1xuXG52YXIgX29iamVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3QpO1xuXG52YXIgX3dyYXBWYWxpZGF0b3IgPSByZXF1aXJlKCcuL2hlbHBlcnMvd3JhcFZhbGlkYXRvcicpO1xuXG52YXIgX3dyYXBWYWxpZGF0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd3JhcFZhbGlkYXRvcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gbXV0dWFsbHlFeGNsdXNpdmVPZlR5cGUocHJvcFR5cGUpIHtcbiAgaWYgKHR5cGVvZiBwcm9wVHlwZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2EgcHJvcFR5cGUgaXMgcmVxdWlyZWQnKTtcbiAgfVxuXG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBleGNsdXNpdmVQcm9wcyA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBleGNsdXNpdmVQcm9wc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICBpZiAoZXhjbHVzaXZlUHJvcHMubGVuZ3RoIDwgMSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2F0IGxlYXN0IG9uZSBwcm9wIHRoYXQgaXMgbXV0dWFsbHkgZXhjbHVzaXZlIHdpdGggdGhpcyBwcm9wVHlwZSBpcyByZXF1aXJlZCcpO1xuICB9XG5cbiAgdmFyIHByb3BMaXN0ID0gZXhjbHVzaXZlUHJvcHMuam9pbignLCBvciAnKTtcblxuICB2YXIgbWFwID0gZXhjbHVzaXZlUHJvcHMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIHByb3ApIHtcbiAgICByZXR1cm4gKDAsIF9vYmplY3QyWydkZWZhdWx0J10pKHt9LCBhY2MsIF9kZWZpbmVQcm9wZXJ0eSh7fSwgcHJvcCwgdHJ1ZSkpO1xuICB9LCB7fSk7XG4gIHZhciBjb3VudFByb3BzID0gZnVuY3Rpb24gY291bnRQcm9wcyhjb3VudCwgcHJvcCkge1xuICAgIHJldHVybiBjb3VudCArIChtYXBbcHJvcF0gPyAxIDogMCk7XG4gIH07XG5cbiAgdmFyIHZhbGlkYXRvciA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBtdXR1YWxseUV4Y2x1c2l2ZVByb3BzKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSkge1xuICAgICAgdmFyIGV4Y2x1c2l2ZVByb3BDb3VudCA9IE9iamVjdC5rZXlzKHByb3BzKS5maWx0ZXIoZnVuY3Rpb24gKHByb3ApIHtcbiAgICAgICAgcmV0dXJuIHByb3BzW3Byb3BdICE9IG51bGw7XG4gICAgICB9KS5yZWR1Y2UoY291bnRQcm9wcywgMCk7XG4gICAgICBpZiAoZXhjbHVzaXZlUHJvcENvdW50ID4gMSkge1xuICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdBICcgKyBTdHJpbmcoY29tcG9uZW50TmFtZSkgKyAnIGNhbm5vdCBoYXZlIG1vcmUgdGhhbiBvbmUgb2YgdGhlc2UgcHJvcHM6ICcgKyBTdHJpbmcocHJvcExpc3QpKTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCByZXN0ID0gQXJyYXkoX2xlbjIgPiAzID8gX2xlbjIgLSAzIDogMCksIF9rZXkyID0gMzsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICByZXN0W19rZXkyIC0gM10gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJvcFR5cGUuYXBwbHkodW5kZWZpbmVkLCBbcHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lXS5jb25jYXQocmVzdCkpO1xuICAgIH1cblxuICAgIHJldHVybiBtdXR1YWxseUV4Y2x1c2l2ZVByb3BzO1xuICB9KCk7XG5cbiAgdmFsaWRhdG9yLmlzUmVxdWlyZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gbXV0dWFsbHlFeGNsdXNpdmVQcm9wc1JlcXVpcmVkKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSkge1xuICAgICAgdmFyIGV4Y2x1c2l2ZVByb3BDb3VudCA9IE9iamVjdC5rZXlzKHByb3BzKS5maWx0ZXIoZnVuY3Rpb24gKHByb3ApIHtcbiAgICAgICAgcmV0dXJuIHByb3AgPT09IHByb3BOYW1lIHx8IHByb3BzW3Byb3BdICE9IG51bGw7XG4gICAgICB9KS5yZWR1Y2UoY291bnRQcm9wcywgMCk7XG4gICAgICBpZiAoZXhjbHVzaXZlUHJvcENvdW50ID4gMSkge1xuICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdBICcgKyBTdHJpbmcoY29tcG9uZW50TmFtZSkgKyAnIGNhbm5vdCBoYXZlIG1vcmUgdGhhbiBvbmUgb2YgdGhlc2UgcHJvcHM6ICcgKyBTdHJpbmcocHJvcExpc3QpKTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgX2xlbjMgPSBhcmd1bWVudHMubGVuZ3RoLCByZXN0ID0gQXJyYXkoX2xlbjMgPiAzID8gX2xlbjMgLSAzIDogMCksIF9rZXkzID0gMzsgX2tleTMgPCBfbGVuMzsgX2tleTMrKykge1xuICAgICAgICByZXN0W19rZXkzIC0gM10gPSBhcmd1bWVudHNbX2tleTNdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJvcFR5cGUuYXBwbHkodW5kZWZpbmVkLCBbcHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lXS5jb25jYXQocmVzdCkpO1xuICAgIH1cblxuICAgIHJldHVybiBtdXR1YWxseUV4Y2x1c2l2ZVByb3BzUmVxdWlyZWQ7XG4gIH0oKTtcblxuICByZXR1cm4gKDAsIF93cmFwVmFsaWRhdG9yMlsnZGVmYXVsdCddKSh2YWxpZGF0b3IsICdtdXR1YWxseUV4Y2x1c2l2ZVByb3BzOicgKyBTdHJpbmcocHJvcExpc3QpLCBleGNsdXNpdmVQcm9wcyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tdXR1YWxseUV4Y2x1c2l2ZVByb3BzLmpzLm1hcCIsIk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzWydkZWZhdWx0J10gPSBtdXR1YWxseUV4Y2x1c2l2ZVRydWU7XG5cbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuXG52YXIgX3dyYXBWYWxpZGF0b3IgPSByZXF1aXJlKCcuL2hlbHBlcnMvd3JhcFZhbGlkYXRvcicpO1xuXG52YXIgX3dyYXBWYWxpZGF0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd3JhcFZhbGlkYXRvcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxuZnVuY3Rpb24gbXV0dWFsbHlFeGNsdXNpdmVUcnVlKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgZXhjbHVzaXZlUHJvcHMgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBleGNsdXNpdmVQcm9wc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIGlmIChleGNsdXNpdmVQcm9wcy5sZW5ndGggPCAxKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYXQgbGVhc3Qgb25lIHByb3AgdGhhdCBpcyBtdXR1YWxseSBleGNsdXNpdmUgaXMgcmVxdWlyZWQnKTtcbiAgfVxuICBpZiAoIWV4Y2x1c2l2ZVByb3BzLmV2ZXJ5KGZ1bmN0aW9uICh4KSB7XG4gICAgcmV0dXJuIHR5cGVvZiB4ID09PSAnc3RyaW5nJztcbiAgfSkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdhbGwgZXhjbHVzaXZlIHRydWUgcHJvcHMgbXVzdCBiZSBzdHJpbmdzJyk7XG4gIH1cblxuICB2YXIgcHJvcHNMaXN0ID0gZXhjbHVzaXZlUHJvcHMuam9pbignLCBvciAnKTtcblxuICB2YXIgdmFsaWRhdG9yID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIG11dHVhbGx5RXhjbHVzaXZlVHJ1ZVByb3BzKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSkge1xuICAgICAgdmFyIGNvdW50UHJvcHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIGNvdW50UHJvcHMoY291bnQsIHByb3ApIHtcbiAgICAgICAgICByZXR1cm4gY291bnQgKyAocHJvcHNbcHJvcF0gPyAxIDogMCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY291bnRQcm9wcztcbiAgICAgIH0oKTtcblxuICAgICAgdmFyIGV4Y2x1c2l2ZVByb3BDb3VudCA9IGV4Y2x1c2l2ZVByb3BzLnJlZHVjZShjb3VudFByb3BzLCAwKTtcbiAgICAgIGlmIChleGNsdXNpdmVQcm9wQ291bnQgPiAxKSB7XG4gICAgICAgIHJldHVybiBuZXcgRXJyb3IoJ0EgJyArIFN0cmluZyhjb21wb25lbnROYW1lKSArICcgY2Fubm90IGhhdmUgbW9yZSB0aGFuIG9uZSBvZiB0aGVzZSBib29sZWFuIHByb3BzIGJlIHRydWU6ICcgKyBTdHJpbmcocHJvcHNMaXN0KSk7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgcmVzdCA9IEFycmF5KF9sZW4yID4gMyA/IF9sZW4yIC0gMyA6IDApLCBfa2V5MiA9IDM7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgICAgcmVzdFtfa2V5MiAtIDNdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9wcm9wVHlwZXMuYm9vbC5hcHBseSh1bmRlZmluZWQsIFtwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWVdLmNvbmNhdChyZXN0KSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG11dHVhbGx5RXhjbHVzaXZlVHJ1ZVByb3BzO1xuICB9KCk7XG5cbiAgdmFsaWRhdG9yLmlzUmVxdWlyZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gbXV0dWFsbHlFeGNsdXNpdmVUcnVlUHJvcHNSZXF1aXJlZChwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUpIHtcbiAgICAgIHZhciBjb3VudFByb3BzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBjb3VudFByb3BzKGNvdW50LCBwcm9wKSB7XG4gICAgICAgICAgcmV0dXJuIGNvdW50ICsgKHByb3BzW3Byb3BdID8gMSA6IDApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvdW50UHJvcHM7XG4gICAgICB9KCk7XG5cbiAgICAgIHZhciBleGNsdXNpdmVQcm9wQ291bnQgPSBleGNsdXNpdmVQcm9wcy5yZWR1Y2UoY291bnRQcm9wcywgMCk7XG4gICAgICBpZiAoZXhjbHVzaXZlUHJvcENvdW50ID4gMSkge1xuICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdBICcgKyBTdHJpbmcoY29tcG9uZW50TmFtZSkgKyAnIGNhbm5vdCBoYXZlIG1vcmUgdGhhbiBvbmUgb2YgdGhlc2UgYm9vbGVhbiBwcm9wcyBiZSB0cnVlOiAnICsgU3RyaW5nKHByb3BzTGlzdCkpO1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBfbGVuMyA9IGFyZ3VtZW50cy5sZW5ndGgsIHJlc3QgPSBBcnJheShfbGVuMyA+IDMgPyBfbGVuMyAtIDMgOiAwKSwgX2tleTMgPSAzOyBfa2V5MyA8IF9sZW4zOyBfa2V5MysrKSB7XG4gICAgICAgIHJlc3RbX2tleTMgLSAzXSA9IGFyZ3VtZW50c1tfa2V5M107XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfcHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZC5hcHBseShfcHJvcFR5cGVzLmJvb2wsIFtwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWVdLmNvbmNhdChyZXN0KSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG11dHVhbGx5RXhjbHVzaXZlVHJ1ZVByb3BzUmVxdWlyZWQ7XG4gIH0oKTtcblxuICByZXR1cm4gKDAsIF93cmFwVmFsaWRhdG9yMlsnZGVmYXVsdCddKSh2YWxpZGF0b3IsICdtdXR1YWxseUV4Y2x1c2l2ZVRydWVQcm9wczogJyArIFN0cmluZyhwcm9wc0xpc3QpLCBleGNsdXNpdmVQcm9wcyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tdXR1YWxseUV4Y2x1c2l2ZVRydWVQcm9wcy5qcy5tYXAiLCJPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1snZGVmYXVsdCddID0gbkNoaWxkcmVuO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuXG52YXIgX3dyYXBWYWxpZGF0b3IgPSByZXF1aXJlKCcuL2hlbHBlcnMvd3JhcFZhbGlkYXRvcicpO1xuXG52YXIgX3dyYXBWYWxpZGF0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd3JhcFZhbGlkYXRvcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxuZnVuY3Rpb24gbkNoaWxkcmVuKG4pIHtcbiAgdmFyIHByb3BUeXBlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBfcHJvcFR5cGVzLm5vZGU7XG5cbiAgaWYgKHR5cGVvZiBuICE9PSAnbnVtYmVyJyB8fCBpc05hTihuKSB8fCBuIDwgMCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2Egbm9uLW5lZ2F0aXZlIG51bWJlciBpcyByZXF1aXJlZCcpO1xuICB9XG5cbiAgdmFyIHZhbGlkYXRvciA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBuQ2hpbGRyZW5WYWxpZGF0b3IocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lKSB7XG4gICAgICBpZiAocHJvcE5hbWUgIT09ICdjaGlsZHJlbicpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoU3RyaW5nKGNvbXBvbmVudE5hbWUpICsgJyBpcyB1c2luZyB0aGUgbkNoaWxkcmVuIHZhbGlkYXRvciBvbiBhIG5vbi1jaGlsZHJlbiBwcm9wJyk7XG4gICAgICB9XG5cbiAgICAgIHZhciBjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuO1xuXG4gICAgICB2YXIgY2hpbGRyZW5Db3VudCA9IF9yZWFjdDJbJ2RlZmF1bHQnXS5DaGlsZHJlbi5jb3VudChjaGlsZHJlbik7XG5cbiAgICAgIGlmIChjaGlsZHJlbkNvdW50ICE9PSBuKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmFuZ2VFcnJvcihTdHJpbmcoY29tcG9uZW50TmFtZSkgKyAnIGV4cGVjdHMgdG8gcmVjZWl2ZSAnICsgU3RyaW5nKG4pICsgJyBjaGlsZHJlbiwgYnV0IHJlY2VpdmVkICcgKyBTdHJpbmcoY2hpbGRyZW5Db3VudCkgKyAnIGNoaWxkcmVuLicpO1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgcmVzdCA9IEFycmF5KF9sZW4gPiAzID8gX2xlbiAtIDMgOiAwKSwgX2tleSA9IDM7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgcmVzdFtfa2V5IC0gM10gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwcm9wVHlwZS5hcHBseSh1bmRlZmluZWQsIFtwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWVdLmNvbmNhdChyZXN0KSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5DaGlsZHJlblZhbGlkYXRvcjtcbiAgfSgpO1xuICB2YWxpZGF0b3IuaXNSZXF1aXJlZCA9IHZhbGlkYXRvcjtcblxuICByZXR1cm4gKDAsIF93cmFwVmFsaWRhdG9yMlsnZGVmYXVsdCddKSh2YWxpZGF0b3IsICduQ2hpbGRyZW46JyArIFN0cmluZyhuKSwgbik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1uQ2hpbGRyZW4uanMubWFwIiwiT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9hbmQgPSByZXF1aXJlKCcuL2FuZCcpO1xuXG52YXIgX2FuZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hbmQpO1xuXG52YXIgX2ludGVnZXIgPSByZXF1aXJlKCcuL2ludGVnZXInKTtcblxudmFyIF9pbnRlZ2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ludGVnZXIpO1xuXG52YXIgX25vbk5lZ2F0aXZlTnVtYmVyID0gcmVxdWlyZSgnLi9ub25OZWdhdGl2ZU51bWJlcicpO1xuXG52YXIgX25vbk5lZ2F0aXZlTnVtYmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX25vbk5lZ2F0aXZlTnVtYmVyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG5leHBvcnRzWydkZWZhdWx0J10gPSAoMCwgX2FuZDJbJ2RlZmF1bHQnXSkoWygwLCBfaW50ZWdlcjJbJ2RlZmF1bHQnXSkoKSwgKDAsIF9ub25OZWdhdGl2ZU51bWJlcjJbJ2RlZmF1bHQnXSkoKV0sICdub25OZWdhdGl2ZUludGVnZXInKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5vbk5lZ2F0aXZlSW50ZWdlci5qcy5tYXAiLCJPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX29iamVjdElzID0gcmVxdWlyZSgnb2JqZWN0LWlzJyk7XG5cbnZhciBfb2JqZWN0SXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0SXMpO1xuXG52YXIgX3dyYXBWYWxpZGF0b3IgPSByZXF1aXJlKCcuL2hlbHBlcnMvd3JhcFZhbGlkYXRvcicpO1xuXG52YXIgX3dyYXBWYWxpZGF0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd3JhcFZhbGlkYXRvcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxuZnVuY3Rpb24gaXNOb25OZWdhdGl2ZSh4KSB7XG4gIHJldHVybiB0eXBlb2YgeCA9PT0gJ251bWJlcicgJiYgaXNGaW5pdGUoeCkgJiYgeCA+PSAwICYmICEoMCwgX29iamVjdElzMlsnZGVmYXVsdCddKSh4LCAtMCk7XG59XG5cbmZ1bmN0aW9uIG5vbk5lZ2F0aXZlTnVtYmVyKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSkge1xuICB2YXIgdmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG5cbiAgaWYgKHZhbHVlID09IG51bGwgfHwgaXNOb25OZWdhdGl2ZSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiBuZXcgUmFuZ2VFcnJvcihTdHJpbmcocHJvcE5hbWUpICsgJyBpbiAnICsgU3RyaW5nKGNvbXBvbmVudE5hbWUpICsgJyBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlcicpO1xufVxuXG5mdW5jdGlvbiByZXF1aXJlZE5vbk5lZ2F0aXZlTnVtYmVyKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSkge1xuICB2YXIgdmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG5cbiAgaWYgKGlzTm9uTmVnYXRpdmUodmFsdWUpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gbmV3IFJhbmdlRXJyb3IoU3RyaW5nKHByb3BOYW1lKSArICcgaW4gJyArIFN0cmluZyhjb21wb25lbnROYW1lKSArICcgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXInKTtcbn1cblxubm9uTmVnYXRpdmVOdW1iZXIuaXNSZXF1aXJlZCA9IHJlcXVpcmVkTm9uTmVnYXRpdmVOdW1iZXI7XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuICgwLCBfd3JhcFZhbGlkYXRvcjJbJ2RlZmF1bHQnXSkobm9uTmVnYXRpdmVOdW1iZXIsICdub25OZWdhdGl2ZU51bWJlcicpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5vbk5lZ2F0aXZlTnVtYmVyLmpzLm1hcCIsIk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuXG52YXIgX3dyYXBWYWxpZGF0b3IgPSByZXF1aXJlKCcuL2hlbHBlcnMvd3JhcFZhbGlkYXRvcicpO1xuXG52YXIgX3dyYXBWYWxpZGF0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd3JhcFZhbGlkYXRvcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxudmFyIHZhbGlkTnVtZXJpY0NoYXJzID0gL15bLStdPyg/OlsxLTldWzAtOV0qKD86XFwuWzAtOV0rKT98MHwwXFwuWzAtOV0rKSQvO1xuXG52YXIgdmFsaWRhdG9yID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBudW1lcmljU3RyaW5nKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSkge1xuICAgIGlmIChwcm9wc1twcm9wTmFtZV0gPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHJlc3QgPSBBcnJheShfbGVuID4gMyA/IF9sZW4gLSAzIDogMCksIF9rZXkgPSAzOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICByZXN0W19rZXkgLSAzXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICB2YXIgc3RyaW5nRXJyb3IgPSBfcHJvcFR5cGVzLnN0cmluZy5hcHBseSh1bmRlZmluZWQsIFtwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWVdLmNvbmNhdChyZXN0KSk7XG4gICAgaWYgKHN0cmluZ0Vycm9yKSB7XG4gICAgICByZXR1cm4gc3RyaW5nRXJyb3I7XG4gICAgfVxuXG4gICAgdmFyIHZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuXG4gICAgdmFyIHBhc3Nlc1JlZ2V4ID0gdmFsaWROdW1lcmljQ2hhcnMudGVzdCh2YWx1ZSk7XG4gICAgaWYgKHBhc3Nlc1JlZ2V4KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFR5cGVFcnJvcihTdHJpbmcoY29tcG9uZW50TmFtZSkgKyAnOiBwcm9wIFwiJyArIFN0cmluZyhwcm9wTmFtZSkgKyAnXCIgKHZhbHVlIFwiJyArIFN0cmluZyh2YWx1ZSkgKyAnXCIpIG11c3QgYmUgYSBudW1lcmljIHN0cmluZzpcXG4gICAgLSBzdGFydGluZyB3aXRoIGFuIG9wdGlvbmFsICsgb3IgLVxcbiAgICAtIHRoYXQgZG9lcyBub3QgaGF2ZSBhIGxlYWRpbmcgemVyb1xcbiAgICAtIHdpdGggYW4gb3B0aW9uYWwgZGVjaW1hbCBwYXJ0ICh0aGF0IGNvbnRhaW5zIG9ubHkgb25lIGRlY2ltYWwgcG9pbnQsIGlmIHByZXNlbnQpXFxuICAgIC0gdGhhdCBvdGhlcndpc2Ugb25seSBjb250YWlucyBkaWdpdHMgKDAtOSlcXG4gICAgLSBub3QgKy1OYU4sIG9yICstSW5maW5pdHlcXG4gICcpO1xuICB9XG5cbiAgcmV0dXJuIG51bWVyaWNTdHJpbmc7XG59KCk7XG5cbnZhbGlkYXRvci5pc1JlcXVpcmVkID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBudW1lcmljU3RyaW5nUmVxdWlyZWQocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lKSB7XG4gICAgaWYgKHByb3BzW3Byb3BOYW1lXSA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gbmV3IFR5cGVFcnJvcihTdHJpbmcoY29tcG9uZW50TmFtZSkgKyAnOiAnICsgU3RyaW5nKHByb3BOYW1lKSArICcgaXMgcmVxdWlyZWQnKTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIHJlc3QgPSBBcnJheShfbGVuMiA+IDMgPyBfbGVuMiAtIDMgOiAwKSwgX2tleTIgPSAzOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICByZXN0W19rZXkyIC0gM10gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgIH1cblxuICAgIHJldHVybiB2YWxpZGF0b3IuYXBwbHkodW5kZWZpbmVkLCBbcHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lXS5jb25jYXQocmVzdCkpO1xuICB9XG5cbiAgcmV0dXJuIG51bWVyaWNTdHJpbmdSZXF1aXJlZDtcbn0oKTtcblxuZXhwb3J0c1snZGVmYXVsdCddID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gKDAsIF93cmFwVmFsaWRhdG9yMlsnZGVmYXVsdCddKSh2YWxpZGF0b3IsICdudW1lcmljU3RyaW5nJyk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bnVtZXJpY1N0cmluZy5qcy5tYXAiLCJPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2lzUGxhaW5PYmplY3QgPSByZXF1aXJlKCcuL2hlbHBlcnMvaXNQbGFpbk9iamVjdCcpO1xuXG52YXIgX2lzUGxhaW5PYmplY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNQbGFpbk9iamVjdCk7XG5cbnZhciBfdHlwZU9mID0gcmVxdWlyZSgnLi9oZWxwZXJzL3R5cGVPZicpO1xuXG52YXIgX3R5cGVPZjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90eXBlT2YpO1xuXG52YXIgX3dyYXBWYWxpZGF0b3IgPSByZXF1aXJlKCcuL2hlbHBlcnMvd3JhcFZhbGlkYXRvcicpO1xuXG52YXIgX3dyYXBWYWxpZGF0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd3JhcFZhbGlkYXRvcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxuLypcbiAgY29kZSBhZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2Jsb2IvMTQxNTZlNTZiOWNmMThhYzg2OTYzMTg1YzVhZjRhYmRkZjNmZjgxMS9zcmMvaXNvbW9ycGhpYy9jbGFzc2ljL3R5cGVzL1JlYWN0UHJvcFR5cGVzLmpzI0wyMDItTDIwNlxuICBzbyB0aGF0IGl0IGNhbiBiZSBjYWxsZWQgb3V0c2lkZSBvZiBSZWFjdCdzIG5vcm1hbCBQcm9wVHlwZSBmbG93XG4qL1xuXG52YXIgUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXMgPSB7XG4gIHByb3A6ICdwcm9wJyxcbiAgY29udGV4dDogJ2NvbnRleHQnLFxuICBjaGlsZENvbnRleHQ6ICdjaGlsZCBjb250ZXh0J1xufTtcblxuZnVuY3Rpb24gb2JqZWN0KHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuXG4gIGlmIChwcm9wVmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKCgwLCBfaXNQbGFpbk9iamVjdDJbJ2RlZmF1bHQnXSkocHJvcFZhbHVlKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciBsb2NhdGlvbk5hbWUgPSBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lc1tsb2NhdGlvbl0gfHwgbG9jYXRpb247XG4gIHJldHVybiBuZXcgVHlwZUVycm9yKCdJbnZhbGlkICcgKyBTdHJpbmcobG9jYXRpb25OYW1lKSArICcgYCcgKyBTdHJpbmcocHJvcEZ1bGxOYW1lKSArICdgIG9mIHR5cGUgYCcgKyBTdHJpbmcoKDAsIF90eXBlT2YyWydkZWZhdWx0J10pKHByb3BWYWx1ZSkpICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBTdHJpbmcoY29tcG9uZW50TmFtZSkgKyAnYCwgZXhwZWN0ZWQgYG9iamVjdGAuJyk7XG59XG5vYmplY3QuaXNSZXF1aXJlZCA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gb2JqZWN0UmVxdWlyZWQocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcblxuICAgIGlmIChwcm9wVmFsdWUgPT0gbnVsbCkge1xuICAgICAgdmFyIGxvY2F0aW9uTmFtZSA9IFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzW2xvY2F0aW9uXSB8fCBsb2NhdGlvbjtcbiAgICAgIHJldHVybiBuZXcgVHlwZUVycm9yKCdUaGUgJyArIFN0cmluZyhsb2NhdGlvbk5hbWUpICsgJyBgJyArIFN0cmluZyhwcm9wRnVsbE5hbWUpICsgJ2AgaXMgbWFya2VkIGFzIHJlcXVpcmVkIGluIGAnICsgU3RyaW5nKGNvbXBvbmVudE5hbWUpICsgJ2AsIGJ1dCBpdHMgdmFsdWUgaXMgYCcgKyBTdHJpbmcocHJvcFZhbHVlKSArICdgLicpO1xuICAgIH1cblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCByZXN0ID0gQXJyYXkoX2xlbiA+IDUgPyBfbGVuIC0gNSA6IDApLCBfa2V5ID0gNTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgcmVzdFtfa2V5IC0gNV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iamVjdC5hcHBseSh1bmRlZmluZWQsIFtwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWVdLmNvbmNhdChyZXN0KSk7XG4gIH1cblxuICByZXR1cm4gb2JqZWN0UmVxdWlyZWQ7XG59KCk7XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuICgwLCBfd3JhcFZhbGlkYXRvcjJbJ2RlZmF1bHQnXSkob2JqZWN0LCAnb2JqZWN0Jyk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2JqZWN0LmpzLm1hcCIsIk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzWydkZWZhdWx0J10gPSBvcjtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfd3JhcFZhbGlkYXRvciA9IHJlcXVpcmUoJy4vaGVscGVycy93cmFwVmFsaWRhdG9yJyk7XG5cbnZhciBfd3JhcFZhbGlkYXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93cmFwVmFsaWRhdG9yKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH1cblxuZnVuY3Rpb24gb25lT2ZUeXBlVmFsaWRhdG9yKHZhbGlkYXRvcnMpIHtcbiAgdmFyIHZhbGlkYXRvciA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBvbmVPZlR5cGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lKSB7XG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgcmVzdCA9IEFycmF5KF9sZW4gPiAzID8gX2xlbiAtIDMgOiAwKSwgX2tleSA9IDM7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgcmVzdFtfa2V5IC0gM10gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG5cbiAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG5cbiAgICAgIGlmICh0eXBlb2YgcHJvcFZhbHVlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdmFyIGVycm9ycyA9IHZhbGlkYXRvcnMubWFwKGZ1bmN0aW9uICh2KSB7XG4gICAgICAgIHJldHVybiB2LmFwcGx5KHVuZGVmaW5lZCwgW3Byb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZV0uY29uY2F0KHJlc3QpKTtcbiAgICAgIH0pLmZpbHRlcihCb29sZWFuKTtcblxuICAgICAgaWYgKGVycm9ycy5sZW5ndGggPCB2YWxpZGF0b3JzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgVHlwZUVycm9yKFN0cmluZyhjb21wb25lbnROYW1lKSArICc6IGludmFsaWQgdmFsdWUgc3VwcGxpZWQgdG8gJyArIFN0cmluZyhwcm9wTmFtZSkgKyAnLicpO1xuICAgIH1cblxuICAgIHJldHVybiBvbmVPZlR5cGU7XG4gIH0oKTtcbiAgdmFsaWRhdG9yLmlzUmVxdWlyZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gb25lT2ZUeXBlUmVxdWlyZWQocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lKSB7XG4gICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIHJlc3QgPSBBcnJheShfbGVuMiA+IDMgPyBfbGVuMiAtIDMgOiAwKSwgX2tleTIgPSAzOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgIHJlc3RbX2tleTIgLSAzXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICB9XG5cbiAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG5cbiAgICAgIGlmICh0eXBlb2YgcHJvcFZhbHVlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gbmV3IFR5cGVFcnJvcihTdHJpbmcoY29tcG9uZW50TmFtZSkgKyAnOiBtaXNzaW5nIHZhbHVlIGZvciByZXF1aXJlZCAnICsgU3RyaW5nKHByb3BOYW1lKSArICcuJyk7XG4gICAgICB9XG5cbiAgICAgIHZhciBlcnJvcnMgPSB2YWxpZGF0b3JzLm1hcChmdW5jdGlvbiAodikge1xuICAgICAgICByZXR1cm4gdi5hcHBseSh1bmRlZmluZWQsIFtwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWVdLmNvbmNhdChyZXN0KSk7XG4gICAgICB9KS5maWx0ZXIoQm9vbGVhbik7XG5cbiAgICAgIGlmIChlcnJvcnMubGVuZ3RoID09PSB2YWxpZGF0b3JzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gbmV3IFR5cGVFcnJvcihTdHJpbmcoY29tcG9uZW50TmFtZSkgKyAnOiBpbnZhbGlkIHZhbHVlICcgKyBTdHJpbmcoZXJyb3JzKSArICcgc3VwcGxpZWQgdG8gcmVxdWlyZWQgJyArIFN0cmluZyhwcm9wTmFtZSkgKyAnLicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIG9uZU9mVHlwZVJlcXVpcmVkO1xuICB9KCk7XG4gIHJldHVybiAoMCwgX3dyYXBWYWxpZGF0b3IyWydkZWZhdWx0J10pKHZhbGlkYXRvciwgJ29uZU9mVHlwZScsIHZhbGlkYXRvcnMpO1xufVxuXG5mdW5jdGlvbiBvcih2YWxpZGF0b3JzKSB7XG4gIHZhciBuYW1lID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnb3InO1xuXG4gIGlmICghQXJyYXkuaXNBcnJheSh2YWxpZGF0b3JzKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ29yOiAyIG9yIG1vcmUgdmFsaWRhdG9ycyBhcmUgcmVxdWlyZWQnKTtcbiAgfVxuICBpZiAodmFsaWRhdG9ycy5sZW5ndGggPD0gMSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdvcjogMiBvciBtb3JlIHZhbGlkYXRvcnMgYXJlIHJlcXVpcmVkJyk7XG4gIH1cblxuICB2YXIgdmFsaWRhdG9yID0gb25lT2ZUeXBlVmFsaWRhdG9yKFsoMCwgX3Byb3BUeXBlcy5hcnJheU9mKShvbmVPZlR5cGVWYWxpZGF0b3IodmFsaWRhdG9ycykpXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHZhbGlkYXRvcnMpKSk7XG5cbiAgcmV0dXJuICgwLCBfd3JhcFZhbGlkYXRvcjJbJ2RlZmF1bHQnXSkodmFsaWRhdG9yLCBuYW1lLCB2YWxpZGF0b3JzKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9yLmpzLm1hcCIsIk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzWydkZWZhdWx0J10gPSByYW5nZTtcblxudmFyIF9hbmQgPSByZXF1aXJlKCcuL2FuZCcpO1xuXG52YXIgX2FuZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hbmQpO1xuXG52YXIgX2JldHdlZW4gPSByZXF1aXJlKCcuL2JldHdlZW4nKTtcblxudmFyIF9iZXR3ZWVuMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2JldHdlZW4pO1xuXG52YXIgX2ludGVnZXIgPSByZXF1aXJlKCcuL2ludGVnZXInKTtcblxudmFyIF9pbnRlZ2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ludGVnZXIpO1xuXG52YXIgX2lzSW50ZWdlciA9IHJlcXVpcmUoJy4vaGVscGVycy9pc0ludGVnZXInKTtcblxudmFyIF9pc0ludGVnZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNJbnRlZ2VyKTtcblxudmFyIF93cmFwVmFsaWRhdG9yID0gcmVxdWlyZSgnLi9oZWxwZXJzL3dyYXBWYWxpZGF0b3InKTtcblxudmFyIF93cmFwVmFsaWRhdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dyYXBWYWxpZGF0b3IpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbnZhciBNQVhfU0FGRV9JTlRFR0VSID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIgfHwgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9NYXRoLnBvdygyLCA1MykgLSAxO1xuXG5mdW5jdGlvbiBpc1ZhbGlkTGVuZ3RoKHgpIHtcbiAgcmV0dXJuICgwLCBfaXNJbnRlZ2VyMlsnZGVmYXVsdCddKSh4KSAmJiBNYXRoLmFicyh4KSA8IE1BWF9TQUZFX0lOVEVHRVI7XG59XG5cbmZ1bmN0aW9uIHJhbmdlKG1pbiwgbWF4KSB7XG4gIGlmICghaXNWYWxpZExlbmd0aChtaW4pIHx8ICFpc1ZhbGlkTGVuZ3RoKG1heCkpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJyYW5nZVwiIHJlcXVpcmVzIHR3byBpbnRlZ2VyczogJyArIFN0cmluZyhtaW4pICsgJyBhbmQgJyArIFN0cmluZyhtYXgpICsgJyBnaXZlbicpO1xuICB9XG4gIGlmIChtaW4gPT09IG1heCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdtaW4gYW5kIG1heCBtdXN0IG5vdCBiZSB0aGUgc2FtZScpO1xuICB9XG4gIHJldHVybiAoMCwgX3dyYXBWYWxpZGF0b3IyWydkZWZhdWx0J10pKCgwLCBfYW5kMlsnZGVmYXVsdCddKShbKDAsIF9pbnRlZ2VyMlsnZGVmYXVsdCddKSgpLCAoMCwgX2JldHdlZW4yWydkZWZhdWx0J10pKHsgZ3RlOiBtaW4sIGx0OiBtYXggfSldLCAncmFuZ2UnKSwgJ3JhbmdlJywgeyBtaW46IG1pbiwgbWF4OiBtYXggfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yYW5nZS5qcy5tYXAiLCJPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1snZGVmYXVsdCddID0gZ2V0UmVxdWlyZWRCeTtcblxudmFyIF9vYmplY3RJcyA9IHJlcXVpcmUoJ29iamVjdC1pcycpO1xuXG52YXIgX29iamVjdElzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdElzKTtcblxudmFyIF93cmFwVmFsaWRhdG9yID0gcmVxdWlyZSgnLi9oZWxwZXJzL3dyYXBWYWxpZGF0b3InKTtcblxudmFyIF93cmFwVmFsaWRhdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dyYXBWYWxpZGF0b3IpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGdldFJlcXVpcmVkQnkocmVxdWlyZWRCeVByb3BOYW1lLCBwcm9wVHlwZSkge1xuICB2YXIgZGVmYXVsdFZhbHVlID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBudWxsO1xuXG4gIGZ1bmN0aW9uIHJlcXVpcmVkQnkocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lKSB7XG4gICAgaWYgKHByb3BzW3JlcXVpcmVkQnlQcm9wTmFtZV0pIHtcbiAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG5cbiAgICAgIGlmICgoMCwgX29iamVjdElzMlsnZGVmYXVsdCddKShwcm9wVmFsdWUsIGRlZmF1bHRWYWx1ZSkgfHwgdHlwZW9mIHByb3BWYWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoU3RyaW5nKGNvbXBvbmVudE5hbWUpICsgJzogd2hlbiAnICsgU3RyaW5nKHJlcXVpcmVkQnlQcm9wTmFtZSkgKyAnIGlzIHRydWUsIHByb3AgXFx1MjAxQycgKyBTdHJpbmcocHJvcE5hbWUpICsgJ1xcdTIwMUQgbXVzdCBiZSBwcmVzZW50LicpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCByZXN0ID0gQXJyYXkoX2xlbiA+IDMgPyBfbGVuIC0gMyA6IDApLCBfa2V5ID0gMzsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgcmVzdFtfa2V5IC0gM10gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIHByb3BUeXBlLmFwcGx5KHVuZGVmaW5lZCwgW3Byb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZV0uY29uY2F0KHJlc3QpKTtcbiAgfVxuICByZXF1aXJlZEJ5LmlzUmVxdWlyZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gcmVxdWlyZWRCeVJlcXVpcmVkKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSkge1xuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcblxuICAgICAgaWYgKCgwLCBfb2JqZWN0SXMyWydkZWZhdWx0J10pKHByb3BWYWx1ZSwgZGVmYXVsdFZhbHVlKSkge1xuICAgICAgICByZXR1cm4gbmV3IFR5cGVFcnJvcihTdHJpbmcoY29tcG9uZW50TmFtZSkgKyAnOiBwcm9wIFxcdTIwMUMnICsgU3RyaW5nKHByb3BOYW1lKSArICdcXHUyMDFEIG11c3QgYmUgcHJlc2VudC4nKTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCByZXN0ID0gQXJyYXkoX2xlbjIgPiAzID8gX2xlbjIgLSAzIDogMCksIF9rZXkyID0gMzsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICByZXN0W19rZXkyIC0gM10gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJvcFR5cGUuaXNSZXF1aXJlZC5hcHBseShwcm9wVHlwZSwgW3Byb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZV0uY29uY2F0KHJlc3QpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVxdWlyZWRCeVJlcXVpcmVkO1xuICB9KCk7XG5cbiAgcmV0dXJuICgwLCBfd3JhcFZhbGlkYXRvcjJbJ2RlZmF1bHQnXSkocmVxdWlyZWRCeSwgJ3JlcXVpcmVkQnkgXFx1MjAxQycgKyBTdHJpbmcocmVxdWlyZWRCeVByb3BOYW1lKSArICdcXHUyMDFEJywgW3JlcXVpcmVkQnlQcm9wTmFtZSwgZGVmYXVsdFZhbHVlXSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXF1aXJlZEJ5LmpzLm1hcCIsIk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfd3JhcFZhbGlkYXRvciA9IHJlcXVpcmUoJy4vaGVscGVycy93cmFwVmFsaWRhdG9yJyk7XG5cbnZhciBfd3JhcFZhbGlkYXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93cmFwVmFsaWRhdG9yKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBjdXN0b21NZXNzYWdlV3JhcHBlcihtZXNzc2FnZUZ1bmN0aW9uKSB7XG4gIGZ1bmN0aW9uIHJlc3RyaWN0ZWRQcm9wKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24pIHtcbiAgICBpZiAocHJvcHNbcHJvcE5hbWVdID09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGlmIChtZXNzc2FnZUZ1bmN0aW9uICYmIHR5cGVvZiBtZXNzc2FnZUZ1bmN0aW9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgcmVzdCA9IEFycmF5KF9sZW4gPiA0ID8gX2xlbiAtIDQgOiAwKSwgX2tleSA9IDQ7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgcmVzdFtfa2V5IC0gNF0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXcgVHlwZUVycm9yKG1lc3NzYWdlRnVuY3Rpb24uYXBwbHkodW5kZWZpbmVkLCBbcHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbl0uY29uY2F0KHJlc3QpKSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgVHlwZUVycm9yKCdUaGUgJyArIFN0cmluZyhwcm9wTmFtZSkgKyAnICcgKyBTdHJpbmcobG9jYXRpb24pICsgJyBvbiAnICsgU3RyaW5nKGNvbXBvbmVudE5hbWUpICsgJyBpcyBub3QgYWxsb3dlZC4nKTtcbiAgfVxuICByZXN0cmljdGVkUHJvcC5pc1JlcXVpcmVkID0gcmVzdHJpY3RlZFByb3A7XG4gIHJldHVybiByZXN0cmljdGVkUHJvcDtcbn1cblxuZXhwb3J0c1snZGVmYXVsdCddID0gZnVuY3Rpb24gKCkge1xuICB2YXIgbWVzc3NhZ2VGdW5jdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogbnVsbDtcbiAgcmV0dXJuICgwLCBfd3JhcFZhbGlkYXRvcjJbJ2RlZmF1bHQnXSkoY3VzdG9tTWVzc2FnZVdyYXBwZXIobWVzc3NhZ2VGdW5jdGlvbiksICdyZXN0cmljdGVkUHJvcCcpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlc3RyaWN0ZWRQcm9wLmpzLm1hcCIsIk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzWydkZWZhdWx0J10gPSBzZXF1ZW5jZU9mVmFsaWRhdG9yO1xuXG52YXIgX29iamVjdCA9IHJlcXVpcmUoJ29iamVjdC5hc3NpZ24nKTtcblxudmFyIF9vYmplY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfYW5kID0gcmVxdWlyZSgnLi9hbmQnKTtcblxudmFyIF9hbmQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYW5kKTtcblxudmFyIF9iZXR3ZWVuID0gcmVxdWlyZSgnLi9iZXR3ZWVuJyk7XG5cbnZhciBfYmV0d2VlbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9iZXR3ZWVuKTtcblxudmFyIF9ub25OZWdhdGl2ZUludGVnZXIgPSByZXF1aXJlKCcuL25vbk5lZ2F0aXZlSW50ZWdlcicpO1xuXG52YXIgX25vbk5lZ2F0aXZlSW50ZWdlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ub25OZWdhdGl2ZUludGVnZXIpO1xuXG52YXIgX29iamVjdDMgPSByZXF1aXJlKCcuL29iamVjdCcpO1xuXG52YXIgX29iamVjdDQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3QzKTtcblxudmFyIF93aXRoU2hhcGUgPSByZXF1aXJlKCcuL3dpdGhTaGFwZScpO1xuXG52YXIgX3dpdGhTaGFwZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93aXRoU2hhcGUpO1xuXG52YXIgX3R5cGVPZiA9IHJlcXVpcmUoJy4vaGVscGVycy90eXBlT2YnKTtcblxudmFyIF90eXBlT2YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdHlwZU9mKTtcblxudmFyIF93cmFwVmFsaWRhdG9yID0gcmVxdWlyZSgnLi9oZWxwZXJzL3dyYXBWYWxpZGF0b3InKTtcblxudmFyIF93cmFwVmFsaWRhdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dyYXBWYWxpZGF0b3IpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbnZhciBtaW5WYWxpZGF0b3IgPSBfbm9uTmVnYXRpdmVJbnRlZ2VyMlsnZGVmYXVsdCddO1xudmFyIG1heFZhbGlkYXRvciA9ICgwLCBfYW5kMlsnZGVmYXVsdCddKShbX25vbk5lZ2F0aXZlSW50ZWdlcjJbJ2RlZmF1bHQnXSwgKDAsIF9iZXR3ZWVuMlsnZGVmYXVsdCddKSh7IGd0ZTogMSB9KV0pO1xuXG5mdW5jdGlvbiB2YWxpZGF0ZVJhbmdlKG1pbiwgbWF4KSB7XG4gIGlmICh0eXBlb2YgbWF4ICE9PSAnbnVtYmVyJyB8fCB0eXBlb2YgbWluICE9PSAnbnVtYmVyJykge1xuICAgIHJldHVybiBudWxsOyAvLyBubyBhZGRpdGlvbmFsIGNoZWNraW5nIG5lZWRlZCB1bmxlc3MgYm90aCBhcmUgcHJlc2VudFxuICB9XG5cbiAgaWYgKG1pbiA8PSBtYXgpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gbmV3IFJhbmdlRXJyb3IoJ21pbiBtdXN0IGJlIGxlc3MgdGhhbiBvciBlcXVhbCB0byBtYXgnKTtcbn1cblxudmFyIHNwZWNpZmllclNoYXBlID0ge1xuICB2YWxpZGF0b3I6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiB2YWxpZGF0b3IocHJvcHMsIHByb3BOYW1lKSB7XG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuXG4gICAgICBpZiAodHlwZW9mIHByb3BWYWx1ZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gbmV3IFR5cGVFcnJvcignXCJ2YWxpZGF0b3JcIiBtdXN0IGJlIGEgcHJvcFR5cGUgdmFsaWRhdG9yIGZ1bmN0aW9uJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsaWRhdG9yO1xuICB9KCksXG4gIG1pbjogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIG1pbihwcm9wcywgcHJvcE5hbWUpIHtcbiAgICAgIHJldHVybiBtaW5WYWxpZGF0b3IocHJvcHMsIHByb3BOYW1lKSB8fCB2YWxpZGF0ZVJhbmdlKHByb3BzLm1pbiwgcHJvcHMubWF4KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWluO1xuICB9KCksXG4gIG1heDogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIG1heChwcm9wcywgcHJvcE5hbWUpIHtcbiAgICAgIHJldHVybiBtYXhWYWxpZGF0b3IocHJvcHMsIHByb3BOYW1lKSB8fCB2YWxpZGF0ZVJhbmdlKHByb3BzLm1pbiwgcHJvcHMubWF4KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWF4O1xuICB9KClcbn07XG5cbmZ1bmN0aW9uIGdldE1pbk1heChfcmVmKSB7XG4gIHZhciBtaW4gPSBfcmVmLm1pbixcbiAgICAgIG1heCA9IF9yZWYubWF4O1xuXG4gIHZhciBtaW5pbXVtID0gdm9pZCAwO1xuICB2YXIgbWF4aW11bSA9IHZvaWQgMDtcbiAgaWYgKHR5cGVvZiBtaW4gIT09ICdudW1iZXInICYmIHR5cGVvZiBtYXggIT09ICdudW1iZXInKSB7XG4gICAgLy8gbmVpdGhlciBwcm92aWRlZCwgZGVmYXVsdCB0byBcIjFcIlxuICAgIG1pbmltdW0gPSAxO1xuICAgIG1heGltdW0gPSAxO1xuICB9IGVsc2Uge1xuICAgIG1pbmltdW0gPSB0eXBlb2YgbWluID09PSAnbnVtYmVyJyA/IG1pbiA6IDE7XG4gICAgbWF4aW11bSA9IHR5cGVvZiBtYXggPT09ICdudW1iZXInID8gbWF4IDogSW5maW5pdHk7XG4gIH1cbiAgcmV0dXJuIHsgbWluaW11bTogbWluaW11bSwgbWF4aW11bTogbWF4aW11bSB9O1xufVxuXG5mdW5jdGlvbiBjaHVua0J5VHlwZShpdGVtcykge1xuICB2YXIgY2h1bmsgPSBbXTtcbiAgdmFyIGxhc3RUeXBlID0gdm9pZCAwO1xuICByZXR1cm4gaXRlbXMucmVkdWNlKGZ1bmN0aW9uIChjaHVua3MsIGl0ZW0pIHtcbiAgICB2YXIgaXRlbVR5cGUgPSAoMCwgX3R5cGVPZjJbJ2RlZmF1bHQnXSkoaXRlbSk7XG4gICAgaWYgKCFsYXN0VHlwZSB8fCBpdGVtVHlwZSA9PT0gbGFzdFR5cGUpIHtcbiAgICAgIGNodW5rLnB1c2goaXRlbSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNodW5rcy5wdXNoKGNodW5rKTtcbiAgICAgIGNodW5rID0gW2l0ZW1dO1xuICAgIH1cbiAgICBsYXN0VHlwZSA9IGl0ZW1UeXBlO1xuICAgIHJldHVybiBjaHVua3M7XG4gIH0sIFtdKS5jb25jYXQoY2h1bmsubGVuZ3RoID4gMCA/IFtjaHVua10gOiBbXSk7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlQ2h1bmtzKHNwZWNpZmllcnMsIHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSkge1xuICB2YXIgaXRlbXMgPSBwcm9wc1twcm9wTmFtZV07XG5cbiAgdmFyIGNodW5rcyA9IGNodW5rQnlUeXBlKGl0ZW1zKTtcblxuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgcmVzdCA9IEFycmF5KF9sZW4gPiA0ID8gX2xlbiAtIDQgOiAwKSwgX2tleSA9IDQ7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICByZXN0W19rZXkgLSA0XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3BlY2lmaWVycy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIHZhciBfc3BlY2lmaWVycyRpID0gc3BlY2lmaWVyc1tpXSxcbiAgICAgICAgdmFsaWRhdG9yID0gX3NwZWNpZmllcnMkaS52YWxpZGF0b3IsXG4gICAgICAgIG1pbiA9IF9zcGVjaWZpZXJzJGkubWluLFxuICAgICAgICBtYXggPSBfc3BlY2lmaWVycyRpLm1heDtcblxuICAgIHZhciBfZ2V0TWluTWF4ID0gZ2V0TWluTWF4KHsgbWluOiBtaW4sIG1heDogbWF4IH0pLFxuICAgICAgICBtaW5pbXVtID0gX2dldE1pbk1heC5taW5pbXVtLFxuICAgICAgICBtYXhpbXVtID0gX2dldE1pbk1heC5tYXhpbXVtO1xuXG4gICAgaWYgKGNodW5rcy5sZW5ndGggPT09IDAgJiYgbWluaW11bSA9PT0gMCkge1xuICAgICAgLy8gbm8gY2h1bmtzIGxlZnQsIGJ1dCB0aGlzIHNwZWNpZmllciBkb2VzIG5vdCByZXF1aXJlIGFueSBpdGVtc1xuICAgICAgY29udGludWU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29udGludWVcbiAgICB9XG5cbiAgICB2YXIgYXJyYXlPZlZhbGlkYXRvciA9ICgwLCBfcHJvcFR5cGVzLmFycmF5T2YpKHZhbGlkYXRvcikuaXNSZXF1aXJlZDtcblxuICAgIHZhciBjaHVuayA9IGNodW5rcy5zaGlmdCgpOyAvLyBleHRyYWN0IHRoZSBuZXh0IGNodW5rIHRvIHRlc3RcblxuICAgIHZhciBjaHVua0Vycm9yID0gYXJyYXlPZlZhbGlkYXRvci5hcHBseSh1bmRlZmluZWQsIFsoMCwgX29iamVjdDJbJ2RlZmF1bHQnXSkoe30sIHByb3BzLCBfZGVmaW5lUHJvcGVydHkoe30sIHByb3BOYW1lLCBjaHVuaykpLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZV0uY29uY2F0KHJlc3QpKTtcblxuICAgIGlmIChjaHVua0Vycm9yKSB7XG4gICAgICAvLyB0aGlzIGNodW5rIGlzIGludmFsaWRcbiAgICAgIGlmIChtaW5pbXVtID09PSAwKSB7XG4gICAgICAgIC8vIGJ1dCwgc3BlY2lmaWVyIGhhcyBhIG1pbiBvZiAwIGFuZCBjYW4gYmUgc2tpcHBlZFxuICAgICAgICBjaHVua3MudW5zaGlmdChjaHVuayk7IC8vIHB1dCB0aGUgY2h1bmsgYmFjaywgZm9yIHRoZSBuZXh0IGl0ZXJhdGlvblxuICAgICAgICBjb250aW51ZTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb250aW51ZVxuICAgICAgfVxuICAgICAgcmV0dXJuIGNodW5rRXJyb3I7XG4gICAgfVxuXG4gICAgLy8gY2h1bmsgaXMgdmFsaWQhXG5cbiAgICBpZiAoY2h1bmsubGVuZ3RoIDwgbWluaW11bSkge1xuICAgICAgcmV0dXJuIG5ldyBSYW5nZUVycm9yKFN0cmluZyhjb21wb25lbnROYW1lKSArICc6IHNwZWNpZmllciBpbmRleCAnICsgaSArICcgcmVxdWlyZXMgYSBtaW5pbXVtIG9mICcgKyBTdHJpbmcobWluKSArICcgaXRlbXMsIGJ1dCBvbmx5IGhhcyAnICsgU3RyaW5nKGNodW5rLmxlbmd0aCkgKyAnLicpO1xuICAgIH1cblxuICAgIGlmIChjaHVuay5sZW5ndGggPiBtYXhpbXVtKSB7XG4gICAgICByZXR1cm4gbmV3IFJhbmdlRXJyb3IoU3RyaW5nKGNvbXBvbmVudE5hbWUpICsgJzogc3BlY2lmaWVyIGluZGV4ICcgKyBpICsgJyByZXF1aXJlcyBhIG1heGltdW0gb2YgJyArIFN0cmluZyhtYXgpICsgJyBpdGVtcywgYnV0IGhhcyAnICsgU3RyaW5nKGNodW5rLmxlbmd0aCkgKyAnLicpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChjaHVua3MubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiBuZXcgVHlwZUVycm9yKFN0cmluZyhjb21wb25lbnROYW1lKSArICc6IGFmdGVyIGFsbCAnICsgU3RyaW5nKHNwZWNpZmllcnMubGVuZ3RoKSArICcgc3BlY2lmaWVycyBtYXRjaGVkLCAnICsgU3RyaW5nKGNodW5rcy5sZW5ndGgpICsgJyB0eXBlcyBvZiBpdGVtcyB3ZXJlIHJlbWFpbmluZy4nKTtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG52YXIgc3BlY2lmaWVyVmFsaWRhdG9yID0gKDAsIF93aXRoU2hhcGUyWydkZWZhdWx0J10pKCgwLCBfb2JqZWN0NFsnZGVmYXVsdCddKSgpLCBzcGVjaWZpZXJTaGFwZSkuaXNSZXF1aXJlZDtcblxuZnVuY3Rpb24gc2VxdWVuY2VPZlZhbGlkYXRvcigpIHtcbiAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBzcGVjaWZpZXJzID0gQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICBzcGVjaWZpZXJzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gIH1cblxuICBpZiAoc3BlY2lmaWVycy5sZW5ndGggPT09IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignc2VxdWVuY2VPZjogYXQgbGVhc3Qgb25lIHNwZWNpZmllciBpcyByZXF1aXJlZCcpO1xuICB9XG5cbiAgdmFyIGVycm9ycyA9IHNwZWNpZmllcnMubWFwKGZ1bmN0aW9uIChzcGVjaWZpZXIsIGkpIHtcbiAgICByZXR1cm4gc3BlY2lmaWVyVmFsaWRhdG9yKHsgc3BlY2lmaWVyOiBzcGVjaWZpZXIgfSwgJ3NwZWNpZmllcicsICdzZXF1ZW5jZU9mIHNwZWNpZmllcicsICdzdWVxdWVuY2VPZiBzcGVjaWZpZXIsIGluZGV4ICcgKyBTdHJpbmcoaSksICdzcGVjaWZpZXIsIGluZGV4ICcgKyBTdHJpbmcoaSkpO1xuICB9KTtcbiAgaWYgKGVycm9ycy5zb21lKEJvb2xlYW4pKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXFxuICAgICAgc2VxdWVuY2VPZjogYWxsIHNwZWNpZmllcnMgbXVzdCBtYXRjaCB0aGUgYXBwcm9wcmlhdGUgc2hhcGUuXFxuXFxuICAgICAgRXJyb3JzOlxcbiAgICAgICAgJyArIFN0cmluZyhlcnJvcnMubWFwKGZ1bmN0aW9uIChlLCBpKSB7XG4gICAgICByZXR1cm4gJyAtIEFyZ3VtZW50IGluZGV4ICcgKyBTdHJpbmcoaSkgKyAnOiAnICsgU3RyaW5nKGUubWVzc2FnZSk7XG4gICAgfSkuam9pbignLFxcbiAgICAgICAgJykpICsgJ1xcbiAgICAnKTtcbiAgfVxuXG4gIHZhciB2YWxpZGF0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gc2VxdWVuY2VPZihwcm9wcywgcHJvcE5hbWUpIHtcbiAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG5cblxuICAgICAgaWYgKHByb3BWYWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBfbGVuMyA9IGFyZ3VtZW50cy5sZW5ndGgsIHJlc3QgPSBBcnJheShfbGVuMyA+IDIgPyBfbGVuMyAtIDIgOiAwKSwgX2tleTMgPSAyOyBfa2V5MyA8IF9sZW4zOyBfa2V5MysrKSB7XG4gICAgICAgIHJlc3RbX2tleTMgLSAyXSA9IGFyZ3VtZW50c1tfa2V5M107XG4gICAgICB9XG5cbiAgICAgIHZhciBlcnJvciA9IF9wcm9wVHlwZXMuYXJyYXkuYXBwbHkodW5kZWZpbmVkLCBbcHJvcHMsIHByb3BOYW1lXS5jb25jYXQocmVzdCkpO1xuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHZhbGlkYXRlQ2h1bmtzLmFwcGx5KHVuZGVmaW5lZCwgW3NwZWNpZmllcnMsIHByb3BzLCBwcm9wTmFtZV0uY29uY2F0KHJlc3QpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2VxdWVuY2VPZjtcbiAgfSgpO1xuXG4gIHZhbGlkYXRvci5pc1JlcXVpcmVkID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIHNlcXVlbmNlT2ZSZXF1aXJlZChwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUpIHtcbiAgICAgIGZvciAodmFyIF9sZW40ID0gYXJndW1lbnRzLmxlbmd0aCwgcmVzdCA9IEFycmF5KF9sZW40ID4gMyA/IF9sZW40IC0gMyA6IDApLCBfa2V5NCA9IDM7IF9rZXk0IDwgX2xlbjQ7IF9rZXk0KyspIHtcbiAgICAgICAgcmVzdFtfa2V5NCAtIDNdID0gYXJndW1lbnRzW19rZXk0XTtcbiAgICAgIH1cblxuICAgICAgdmFyIGVycm9yID0gX3Byb3BUeXBlcy5hcnJheS5pc1JlcXVpcmVkLmFwcGx5KF9wcm9wVHlwZXMuYXJyYXksIFtwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWVdLmNvbmNhdChyZXN0KSk7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdmFsaWRhdGVDaHVua3MuYXBwbHkodW5kZWZpbmVkLCBbc3BlY2lmaWVycywgcHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lXS5jb25jYXQocmVzdCkpO1xuICAgIH1cblxuICAgIHJldHVybiBzZXF1ZW5jZU9mUmVxdWlyZWQ7XG4gIH0oKTtcblxuICByZXR1cm4gKDAsIF93cmFwVmFsaWRhdG9yMlsnZGVmYXVsdCddKSh2YWxpZGF0b3IsICdzZXF1ZW5jZU9mJywgc3BlY2lmaWVycyk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXF1ZW5jZU9mLmpzLm1hcCIsIk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzWydkZWZhdWx0J10gPSBzaGFwZVZhbGlkYXRvcjtcblxudmFyIF9pc1BsYWluT2JqZWN0ID0gcmVxdWlyZSgnLi9oZWxwZXJzL2lzUGxhaW5PYmplY3QnKTtcblxudmFyIF9pc1BsYWluT2JqZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzUGxhaW5PYmplY3QpO1xuXG52YXIgX3dyYXBWYWxpZGF0b3IgPSByZXF1aXJlKCcuL2hlbHBlcnMvd3JhcFZhbGlkYXRvcicpO1xuXG52YXIgX3dyYXBWYWxpZGF0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd3JhcFZhbGlkYXRvcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxuZnVuY3Rpb24gc2hhcGVWYWxpZGF0b3Ioc2hhcGVUeXBlcykge1xuICBpZiAoISgwLCBfaXNQbGFpbk9iamVjdDJbJ2RlZmF1bHQnXSkoc2hhcGVUeXBlcykpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdzaGFwZSBtdXN0IGJlIGEgbm9ybWFsIG9iamVjdCcpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2hhcGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbikge1xuICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG5cbiAgICBpZiAocHJvcFZhbHVlID09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICAvLyBjb2RlIGFkYXB0ZWQgZnJvbSBQcm9wVHlwZXMuc2hhcGU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9ibG9iLzE0MTU2ZTU2YjljZjE4YWM4Njk2MzE4NWM1YWY0YWJkZGYzZmY4MTEvc3JjL2lzb21vcnBoaWMvY2xhc3NpYy90eXBlcy9SZWFjdFByb3BUeXBlcy5qcyNMMzgxXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGd1YXJkLWZvci1pbiwgbm8tcmVzdHJpY3RlZC1zeW50YXhcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCByZXN0ID0gQXJyYXkoX2xlbiA+IDQgPyBfbGVuIC0gNCA6IDApLCBfa2V5ID0gNDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgcmVzdFtfa2V5IC0gNF0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgZm9yICh2YXIga2V5IGluIHNoYXBlVHlwZXMpIHtcbiAgICAgIHZhciBjaGVja2VyID0gc2hhcGVUeXBlc1trZXldO1xuICAgICAgaWYgKGNoZWNrZXIpIHtcbiAgICAgICAgdmFyIGVycm9yID0gY2hlY2tlci5hcHBseSh1bmRlZmluZWQsIFtwcm9wVmFsdWUsIGtleSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb25dLmNvbmNhdChyZXN0KSk7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHNoYXBlLmlzUmVxdWlyZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gc2hhcGVSZXF1aXJlZChwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUpIHtcbiAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG5cbiAgICAgIGlmIChwcm9wVmFsdWUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbmV3IFR5cGVFcnJvcihTdHJpbmcoY29tcG9uZW50TmFtZSkgKyAnOiAnICsgU3RyaW5nKHByb3BOYW1lKSArICcgaXMgcmVxdWlyZWQuJyk7XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgcmVzdCA9IEFycmF5KF9sZW4yID4gMyA/IF9sZW4yIC0gMyA6IDApLCBfa2V5MiA9IDM7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgICAgcmVzdFtfa2V5MiAtIDNdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNoYXBlLmFwcGx5KHVuZGVmaW5lZCwgW3Byb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZV0uY29uY2F0KHJlc3QpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2hhcGVSZXF1aXJlZDtcbiAgfSgpO1xuXG4gIHJldHVybiAoMCwgX3dyYXBWYWxpZGF0b3IyWydkZWZhdWx0J10pKHNoYXBlLCAnc2hhcGUnLCBzaGFwZVR5cGVzKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNoYXBlLmpzLm1hcCIsIk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzWydkZWZhdWx0J10gPSBzdHJpbmdTdGFydHNXaXRoVmFsaWRhdG9yO1xuXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcblxudmFyIF93cmFwVmFsaWRhdG9yID0gcmVxdWlyZSgnLi9oZWxwZXJzL3dyYXBWYWxpZGF0b3InKTtcblxudmFyIF93cmFwVmFsaWRhdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dyYXBWYWxpZGF0b3IpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIHN0cmluZ1N0YXJ0c1dpdGhWYWxpZGF0b3Ioc3RhcnQpIHtcbiAgaWYgKHR5cGVvZiBzdGFydCAhPT0gJ3N0cmluZycgfHwgc3RhcnQubGVuZ3RoID09PSAwKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYSBub24tZW1wdHkgc3RyaW5nIGlzIHJlcXVpcmVkJyk7XG4gIH1cblxuICB2YXIgdmFsaWRhdG9yID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIHN0cmluZ1N0YXJ0c1dpdGgocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lKSB7XG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuXG5cbiAgICAgIGlmIChwcm9wVmFsdWUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHJlc3QgPSBBcnJheShfbGVuID4gMyA/IF9sZW4gLSAzIDogMCksIF9rZXkgPSAzOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIHJlc3RbX2tleSAtIDNdID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgfVxuXG4gICAgICB2YXIgc3RyaW5nRXJyb3IgPSBfcHJvcFR5cGVzLnN0cmluZy5hcHBseSh1bmRlZmluZWQsIFtwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWVdLmNvbmNhdChyZXN0KSk7XG4gICAgICBpZiAoc3RyaW5nRXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZ0Vycm9yO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXByb3BWYWx1ZS5zdGFydHNXaXRoKHN0YXJ0KSB8fCBwcm9wVmFsdWUubGVuZ3RoIDw9IHN0YXJ0Lmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gbmV3IFR5cGVFcnJvcihTdHJpbmcoY29tcG9uZW50TmFtZSkgKyAnOiAnICsgU3RyaW5nKHByb3BOYW1lKSArICcgZG9lcyBub3Qgc3RhcnQgd2l0aCBcIicgKyBTdHJpbmcoc3RhcnQpICsgJ1wiJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gc3RyaW5nU3RhcnRzV2l0aDtcbiAgfSgpO1xuXG4gIHZhbGlkYXRvci5pc1JlcXVpcmVkID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIHJlcXVpcmVkU3RyaW5nU3RhcnRzV2l0aCgpIHtcbiAgICAgIHZhciBzdHJpbmdFcnJvciA9IF9wcm9wVHlwZXMuc3RyaW5nLmlzUmVxdWlyZWQuYXBwbHkoX3Byb3BUeXBlcy5zdHJpbmcsIGFyZ3VtZW50cyk7XG4gICAgICBpZiAoc3RyaW5nRXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZ0Vycm9yO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbGlkYXRvci5hcHBseSh1bmRlZmluZWQsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlcXVpcmVkU3RyaW5nU3RhcnRzV2l0aDtcbiAgfSgpO1xuXG4gIHJldHVybiAoMCwgX3dyYXBWYWxpZGF0b3IyWydkZWZhdWx0J10pKHZhbGlkYXRvciwgJ3N0cmluZ1N0YXJ0c1dpdGg6ICcgKyBTdHJpbmcoc3RhcnQpKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0cmluZ1N0YXJ0c1dpdGguanMubWFwIiwiT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfd3JhcFZhbGlkYXRvciA9IHJlcXVpcmUoJy4vaGVscGVycy93cmFwVmFsaWRhdG9yJyk7XG5cbnZhciBfd3JhcFZhbGlkYXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93cmFwVmFsaWRhdG9yKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG5mdW5jdGlvbiB1bmlxdWVDb3VudFdpdGhTZXQoYXJyKSB7XG4gIHJldHVybiBuZXcgU2V0KGFycikuc2l6ZTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5mdW5jdGlvbiB1bmlxdWVDb3VudExlZ2FjeShhcnIpIHtcbiAgdmFyIHNlZW4gPSBbXTtcbiAgYXJyLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICBpZiAoc2Vlbi5pbmRleE9mKGl0ZW0pID09PSAtMSkge1xuICAgICAgc2Vlbi5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBzZWVuLmxlbmd0aDtcbn1cblxudmFyIGdldFVuaXF1ZUNvdW50ID0gdHlwZW9mIFNldCA9PT0gJ2Z1bmN0aW9uJyA/IHVuaXF1ZUNvdW50V2l0aFNldCA6IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovdW5pcXVlQ291bnRMZWdhY3k7XG5cbmZ1bmN0aW9uIHJlcXVpcmVkVW5pcXVlQXJyYXkocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCByZXN0ID0gQXJyYXkoX2xlbiA+IDMgPyBfbGVuIC0gMyA6IDApLCBfa2V5ID0gMzsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIHJlc3RbX2tleSAtIDNdID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgdmFyIHJlc3VsdCA9IF9wcm9wVHlwZXMuYXJyYXkuaXNSZXF1aXJlZC5hcHBseShfcHJvcFR5cGVzLmFycmF5LCBbcHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lXS5jb25jYXQocmVzdCkpO1xuICBpZiAocmVzdWx0ICE9IG51bGwpIHtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcblxuICB2YXIgdW5pcXVlQ291bnQgPSBnZXRVbmlxdWVDb3VudChwcm9wVmFsdWUpO1xuICBpZiAodW5pcXVlQ291bnQgIT09IHByb3BWYWx1ZS5sZW5ndGgpIHtcbiAgICByZXR1cm4gbmV3IFJhbmdlRXJyb3IoU3RyaW5nKGNvbXBvbmVudE5hbWUpICsgJzogdmFsdWVzIG11c3QgYmUgdW5pcXVlLiAnICsgKHByb3BWYWx1ZS5sZW5ndGggLSB1bmlxdWVDb3VudCkgKyAnIGR1cGxpY2F0ZSB2YWx1ZXMgZm91bmQuJyk7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIHVuaXF1ZUFycmF5KHByb3BzLCBwcm9wTmFtZSkge1xuICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuXG4gIGlmIChwcm9wVmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCByZXN0ID0gQXJyYXkoX2xlbjIgPiAyID8gX2xlbjIgLSAyIDogMCksIF9rZXkyID0gMjsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgIHJlc3RbX2tleTIgLSAyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gIH1cblxuICByZXR1cm4gcmVxdWlyZWRVbmlxdWVBcnJheS5hcHBseSh1bmRlZmluZWQsIFtwcm9wcywgcHJvcE5hbWVdLmNvbmNhdChyZXN0KSk7XG59XG51bmlxdWVBcnJheS5pc1JlcXVpcmVkID0gcmVxdWlyZWRVbmlxdWVBcnJheTtcblxuZXhwb3J0c1snZGVmYXVsdCddID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gKDAsIF93cmFwVmFsaWRhdG9yMlsnZGVmYXVsdCddKSh1bmlxdWVBcnJheSwgJ3VuaXF1ZUFycmF5Jyk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dW5pcXVlQXJyYXkuanMubWFwIiwiT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IHVuaXF1ZUFycmF5T2ZUeXBlVmFsaWRhdG9yO1xuXG52YXIgX29iamVjdCA9IHJlcXVpcmUoJ29iamVjdC5hc3NpZ24nKTtcblxudmFyIF9vYmplY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfYW5kID0gcmVxdWlyZSgnLi9hbmQnKTtcblxudmFyIF9hbmQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfYW5kKTtcblxudmFyIF91bmlxdWVBcnJheSA9IHJlcXVpcmUoJy4vdW5pcXVlQXJyYXknKTtcblxudmFyIF91bmlxdWVBcnJheTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF91bmlxdWVBcnJheSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxudmFyIHVuaXF1ZSA9ICgwLCBfdW5pcXVlQXJyYXkyWydkZWZhdWx0J10pKCk7XG5cbmZ1bmN0aW9uIHVuaXF1ZUFycmF5T2ZUeXBlVmFsaWRhdG9yKHR5cGUpIHtcbiAgaWYgKHR5cGVvZiB0eXBlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcigndHlwZSBtdXN0IGJlIGEgdmFsaWRhdG9yIGZ1bmN0aW9uJyk7XG4gIH1cblxuICB2YXIgbWFwcGVyID0gbnVsbDtcbiAgdmFyIG5hbWUgPSAndW5pcXVlQXJyYXlPZlR5cGUnO1xuXG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCByZXN0ID0gQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIHJlc3RbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgaWYgKHJlc3QubGVuZ3RoID09PSAxKSB7XG4gICAgaWYgKHR5cGVvZiByZXN0WzBdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBtYXBwZXIgPSByZXN0WzBdO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHJlc3RbMF0gPT09ICdzdHJpbmcnKSB7XG4gICAgICBuYW1lID0gcmVzdFswXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignc2luZ2xlIGlucHV0IG11c3QgZWl0aGVyIGJlIHN0cmluZyBvciBmdW5jdGlvbicpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChyZXN0Lmxlbmd0aCA9PT0gMikge1xuICAgIGlmICh0eXBlb2YgcmVzdFswXSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgcmVzdFsxXSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIG1hcHBlciA9IHJlc3RbMF07XG4gICAgICBuYW1lID0gcmVzdFsxXTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignbXVsdGlwbGUgaW5wdXRzIG11c3QgYmUgaW4gW2Z1bmN0aW9uLCBzdHJpbmddIG9yZGVyJyk7XG4gICAgfVxuICB9IGVsc2UgaWYgKHJlc3QubGVuZ3RoID4gMikge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ29ubHkgW10sIFtuYW1lXSwgW21hcHBlcl0sIGFuZCBbbWFwcGVyLCBuYW1lXSBhcmUgdmFsaWQgaW5wdXRzJyk7XG4gIH1cblxuICBmdW5jdGlvbiB1bmlxdWVBcnJheU9mTWFwcGVkKHByb3BzLCBwcm9wTmFtZSkge1xuICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG5cbiAgICBpZiAocHJvcFZhbHVlID09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciB2YWx1ZXMgPSBwcm9wVmFsdWUubWFwKG1hcHBlcik7XG5cbiAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuMiA+IDIgPyBfbGVuMiAtIDIgOiAwKSwgX2tleTIgPSAyOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICBhcmdzW19rZXkyIC0gMl0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgIH1cblxuICAgIHJldHVybiB1bmlxdWUuYXBwbHkodW5kZWZpbmVkLCBbKDAsIF9vYmplY3QyWydkZWZhdWx0J10pKHt9LCBwcm9wcywgX2RlZmluZVByb3BlcnR5KHt9LCBwcm9wTmFtZSwgdmFsdWVzKSksIHByb3BOYW1lXS5jb25jYXQoYXJncykpO1xuICB9XG5cbiAgdW5pcXVlQXJyYXlPZk1hcHBlZC5pc1JlcXVpcmVkID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGlzUmVxdWlyZWQocHJvcHMsIHByb3BOYW1lKSB7XG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuXG4gICAgICBmb3IgKHZhciBfbGVuMyA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuMyA+IDIgPyBfbGVuMyAtIDIgOiAwKSwgX2tleTMgPSAyOyBfa2V5MyA8IF9sZW4zOyBfa2V5MysrKSB7XG4gICAgICAgIGFyZ3NbX2tleTMgLSAyXSA9IGFyZ3VtZW50c1tfa2V5M107XG4gICAgICB9XG5cbiAgICAgIGlmIChwcm9wVmFsdWUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gX3Byb3BUeXBlcy5hcnJheS5pc1JlcXVpcmVkLmFwcGx5KF9wcm9wVHlwZXMuYXJyYXksIFtwcm9wcywgcHJvcE5hbWVdLmNvbmNhdChhcmdzKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdW5pcXVlQXJyYXlPZk1hcHBlZC5hcHBseSh1bmRlZmluZWQsIFtwcm9wcywgcHJvcE5hbWVdLmNvbmNhdChhcmdzKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGlzUmVxdWlyZWQ7XG4gIH0oKTtcblxuICB2YXIgYXJyYXlWYWxpZGF0b3IgPSAoMCwgX3Byb3BUeXBlcy5hcnJheU9mKSh0eXBlKTtcblxuICB2YXIgdW5pcXVlVmFsaWRhdG9yID0gbWFwcGVyID8gdW5pcXVlQXJyYXlPZk1hcHBlZCA6IHVuaXF1ZTtcblxuICB2YXIgdmFsaWRhdG9yID0gKDAsIF9hbmQyWydkZWZhdWx0J10pKFthcnJheVZhbGlkYXRvciwgdW5pcXVlVmFsaWRhdG9yXSwgbmFtZSk7XG4gIHZhbGlkYXRvci5pc1JlcXVpcmVkID0gKDAsIF9hbmQyWydkZWZhdWx0J10pKFt1bmlxdWVWYWxpZGF0b3IuaXNSZXF1aXJlZCwgYXJyYXlWYWxpZGF0b3IuaXNSZXF1aXJlZF0sIFN0cmluZyhuYW1lKSArICcuaXNSZXF1aXJlZCcpO1xuXG4gIHJldHVybiB2YWxpZGF0b3I7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD11bmlxdWVBcnJheU9mLmpzLm1hcCIsIk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzWydkZWZhdWx0J10gPSB2YWx1ZXNPZlZhbGlkYXRvcjtcblxudmFyIF9pc1ByaW1pdGl2ZSA9IHJlcXVpcmUoJy4vaGVscGVycy9pc1ByaW1pdGl2ZScpO1xuXG52YXIgX2lzUHJpbWl0aXZlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzUHJpbWl0aXZlKTtcblxudmFyIF93cmFwVmFsaWRhdG9yID0gcmVxdWlyZSgnLi9oZWxwZXJzL3dyYXBWYWxpZGF0b3InKTtcblxudmFyIF93cmFwVmFsaWRhdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dyYXBWYWxpZGF0b3IpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbi8vIGNvZGUgYWRhcHRlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9ibG9iLzE0MTU2ZTU2YjljZjE4YWM4Njk2MzE4NWM1YWY0YWJkZGYzZmY4MTEvc3JjL2lzb21vcnBoaWMvY2xhc3NpYy90eXBlcy9SZWFjdFByb3BUeXBlcy5qcyNMMzA3LUwzNDBcblxuZnVuY3Rpb24gdmFsdWVzT2ZWYWxpZGF0b3IocHJvcFR5cGUpIHtcbiAgaWYgKHR5cGVvZiBwcm9wVHlwZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ29iamVjdE9mOiBwcm9wVHlwZSBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgfVxuXG4gIHZhciB2YWxpZGF0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gdmFsdWVzT2YocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgcmVzdCA9IEFycmF5KF9sZW4gPiA1ID8gX2xlbiAtIDUgOiAwKSwgX2tleSA9IDU7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgcmVzdFtfa2V5IC0gNV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG5cbiAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG5cbiAgICAgIGlmIChwcm9wVmFsdWUgPT0gbnVsbCB8fCAoMCwgX2lzUHJpbWl0aXZlMlsnZGVmYXVsdCddKShwcm9wVmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICB2YXIgZmlyc3RFcnJvciA9IHZvaWQgMDtcbiAgICAgIE9iamVjdC5rZXlzKHByb3BWYWx1ZSkuc29tZShmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGZpcnN0RXJyb3IgPSBwcm9wVHlwZS5hcHBseSh1bmRlZmluZWQsIFtwcm9wVmFsdWUsIGtleSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIFN0cmluZyhwcm9wRnVsbE5hbWUpICsgJy4nICsgU3RyaW5nKGtleSldLmNvbmNhdChyZXN0KSk7XG4gICAgICAgIHJldHVybiBmaXJzdEVycm9yO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gZmlyc3RFcnJvciB8fCBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZXNPZjtcbiAgfSgpO1xuICB2YWxpZGF0b3IuaXNSZXF1aXJlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiB2YWx1ZXNPZlJlcXVpcmVkKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSkge1xuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcblxuICAgICAgaWYgKHByb3BWYWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBuZXcgVHlwZUVycm9yKFN0cmluZyhjb21wb25lbnROYW1lKSArICc6ICcgKyBTdHJpbmcocHJvcE5hbWUpICsgJyBpcyByZXF1aXJlZC4nKTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCByZXN0ID0gQXJyYXkoX2xlbjIgPiAzID8gX2xlbjIgLSAzIDogMCksIF9rZXkyID0gMzsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICByZXN0W19rZXkyIC0gM10gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdmFsaWRhdG9yLmFwcGx5KHVuZGVmaW5lZCwgW3Byb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZV0uY29uY2F0KHJlc3QpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWVzT2ZSZXF1aXJlZDtcbiAgfSgpO1xuXG4gIHJldHVybiAoMCwgX3dyYXBWYWxpZGF0b3IyWydkZWZhdWx0J10pKHZhbGlkYXRvciwgJ3ZhbHVlc09mJywgcHJvcFR5cGUpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmFsdWVzT2YuanMubWFwIiwiT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IHdpdGhTaGFwZTtcblxudmFyIF9hbmQgPSByZXF1aXJlKCcuL2FuZCcpO1xuXG52YXIgX2FuZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9hbmQpO1xuXG52YXIgX3NoYXBlID0gcmVxdWlyZSgnLi9zaGFwZScpO1xuXG52YXIgX3NoYXBlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NoYXBlKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG5mdW5jdGlvbiB3aXRoU2hhcGUodHlwZSwgc2hhcGVUeXBlcykge1xuICBpZiAodHlwZW9mIHR5cGUgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCd0eXBlIG11c3QgYmUgYSB2YWxpZCBQcm9wVHlwZScpO1xuICB9XG4gIHZhciBzaGFwZVZhbGlkYXRvciA9ICgwLCBfc2hhcGUyWydkZWZhdWx0J10pKHNoYXBlVHlwZXMpO1xuICByZXR1cm4gKDAsIF9hbmQyWydkZWZhdWx0J10pKFt0eXBlLCBzaGFwZVZhbGlkYXRvcl0sICd3aXRoU2hhcGUnKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdpdGhTaGFwZS5qcy5tYXAiLCJtb2R1bGUuZXhwb3J0cyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicgPyByZXF1aXJlKCcuL2J1aWxkL21vY2tzJykgOiByZXF1aXJlKCcuL2J1aWxkJyk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxudmFyIEVTID0gcmVxdWlyZSgnZXMtYWJzdHJhY3QvZXM2Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZmluZChwcmVkaWNhdGUpIHtcblx0dmFyIGxpc3QgPSBFUy5Ub09iamVjdCh0aGlzKTtcblx0dmFyIGxlbmd0aCA9IEVTLlRvSW50ZWdlcihFUy5Ub0xlbmd0aChsaXN0Lmxlbmd0aCkpO1xuXHRpZiAoIUVTLklzQ2FsbGFibGUocHJlZGljYXRlKSkge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ0FycmF5I2ZpbmQ6IHByZWRpY2F0ZSBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblx0fVxuXHRpZiAobGVuZ3RoID09PSAwKSB7XG5cdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0fVxuXHR2YXIgdGhpc0FyZyA9IGFyZ3VtZW50c1sxXTtcblx0Zm9yICh2YXIgaSA9IDAsIHZhbHVlOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0XHR2YWx1ZSA9IGxpc3RbaV07XG5cdFx0aWYgKEVTLkNhbGwocHJlZGljYXRlLCB0aGlzQXJnLCBbdmFsdWUsIGksIGxpc3RdKSkge1xuXHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gdW5kZWZpbmVkO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGRlZmluZSA9IHJlcXVpcmUoJ2RlZmluZS1wcm9wZXJ0aWVzJyk7XG52YXIgRVMgPSByZXF1aXJlKCdlcy1hYnN0cmFjdC9lczYnKTtcblxudmFyIGltcGxlbWVudGF0aW9uID0gcmVxdWlyZSgnLi9pbXBsZW1lbnRhdGlvbicpO1xudmFyIGdldFBvbHlmaWxsID0gcmVxdWlyZSgnLi9wb2x5ZmlsbCcpO1xudmFyIHNoaW0gPSByZXF1aXJlKCcuL3NoaW0nKTtcblxudmFyIHNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xuXG52YXIgcG9seWZpbGwgPSBnZXRQb2x5ZmlsbCgpO1xuXG52YXIgYm91bmRGaW5kU2hpbSA9IGZ1bmN0aW9uIGZpbmQoYXJyYXksIHByZWRpY2F0ZSkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG5cdEVTLlJlcXVpcmVPYmplY3RDb2VyY2libGUoYXJyYXkpO1xuXHR2YXIgYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcblx0cmV0dXJuIHBvbHlmaWxsLmFwcGx5KGFycmF5LCBhcmdzKTtcbn07XG5cbmRlZmluZShib3VuZEZpbmRTaGltLCB7XG5cdGdldFBvbHlmaWxsOiBnZXRQb2x5ZmlsbCxcblx0aW1wbGVtZW50YXRpb246IGltcGxlbWVudGF0aW9uLFxuXHRzaGltOiBzaGltXG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBib3VuZEZpbmRTaGltO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGdldFBvbHlmaWxsKCkge1xuXHQvLyBEZXRlY3QgaWYgYW4gaW1wbGVtZW50YXRpb24gZXhpc3RzXG5cdC8vIERldGVjdCBlYXJseSBpbXBsZW1lbnRhdGlvbnMgd2hpY2ggc2tpcHBlZCBob2xlcyBpbiBzcGFyc2UgYXJyYXlzXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zcGFyc2UtYXJyYXlzXG5cdHZhciBpbXBsZW1lbnRlZCA9IEFycmF5LnByb3RvdHlwZS5maW5kICYmIFssIDFdLmZpbmQoZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9KSAhPT0gMTtcblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ2xvYmFsLXJlcXVpcmVcblx0cmV0dXJuIGltcGxlbWVudGVkID8gQXJyYXkucHJvdG90eXBlLmZpbmQgOiByZXF1aXJlKCcuL2ltcGxlbWVudGF0aW9uJyk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgZGVmaW5lID0gcmVxdWlyZSgnZGVmaW5lLXByb3BlcnRpZXMnKTtcbnZhciBnZXRQb2x5ZmlsbCA9IHJlcXVpcmUoJy4vcG9seWZpbGwnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzaGltQXJyYXlQcm90b3R5cGVGaW5kKCkge1xuXHR2YXIgcG9seWZpbGwgPSBnZXRQb2x5ZmlsbCgpO1xuXG5cdGRlZmluZShBcnJheS5wcm90b3R5cGUsIHsgZmluZDogcG9seWZpbGwgfSwge1xuXHRcdGZpbmQ6IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBBcnJheS5wcm90b3R5cGUuZmluZCAhPT0gcG9seWZpbGw7XG5cdFx0fVxuXHR9KTtcblxuXHRyZXR1cm4gcG9seWZpbGw7XG59O1xuIiwidmFyIENBTl9VU0VfRE9NID0gISEodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmRvY3VtZW50ICYmIHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcblxuLy8gQWRhcHRlZCBmcm9tIE1vZGVybml6clxuLy8gaHR0cHM6Ly9naXRodWIuY29tL01vZGVybml6ci9Nb2Rlcm5penIvYmxvYi9hY2IzZjBkOS9mZWF0dXJlLWRldGVjdHMvZG9tL3Bhc3NpdmVldmVudGxpc3RlbmVycy5qcyNMMjYtTDM3XG5mdW5jdGlvbiB0ZXN0UGFzc2l2ZUV2ZW50TGlzdGVuZXJzKCkge1xuICBpZiAoIUNBTl9VU0VfRE9NKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKCF3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciB8fCAhd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIgfHwgIU9iamVjdC5kZWZpbmVQcm9wZXJ0eSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBzdXBwb3J0c1Bhc3NpdmVPcHRpb24gPSBmYWxzZTtcbiAgdHJ5IHtcbiAgICB2YXIgb3B0cyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ3Bhc3NpdmUnLCB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ2V0dGVyLXJldHVyblxuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICBzdXBwb3J0c1Bhc3NpdmVPcHRpb24gPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGdldDtcbiAgICAgIH0oKVxuICAgIH0pO1xuICAgIHZhciBub29wID0gZnVuY3Rpb24gbm9vcCgpIHt9O1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0ZXN0UGFzc2l2ZUV2ZW50U3VwcG9ydCcsIG5vb3AsIG9wdHMpO1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd0ZXN0UGFzc2l2ZUV2ZW50U3VwcG9ydCcsIG5vb3AsIG9wdHMpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gZG8gbm90aGluZ1xuICB9XG5cbiAgcmV0dXJuIHN1cHBvcnRzUGFzc2l2ZU9wdGlvbjtcbn1cblxudmFyIG1lbW9pemVkID0gdm9pZCAwO1xuXG5mdW5jdGlvbiBjYW5Vc2VQYXNzaXZlRXZlbnRMaXN0ZW5lcnMoKSB7XG4gIGlmIChtZW1vaXplZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgbWVtb2l6ZWQgPSB0ZXN0UGFzc2l2ZUV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cbiAgcmV0dXJuIG1lbW9pemVkO1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVFdmVudE9wdGlvbnMoZXZlbnRPcHRpb25zKSB7XG4gIGlmICghZXZlbnRPcHRpb25zKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuXG4gIGlmICghY2FuVXNlUGFzc2l2ZUV2ZW50TGlzdGVuZXJzKCkpIHtcbiAgICAvLyBJZiB0aGUgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHRoZSBwYXNzaXZlIG9wdGlvbiwgdGhlbiBpdCBpcyBleHBlY3RpbmdcbiAgICAvLyBhIGJvb2xlYW4gZm9yIHRoZSBvcHRpb25zIGFyZ3VtZW50IHRvIHNwZWNpZnkgd2hldGhlciBpdCBzaG91bGQgdXNlXG4gICAgLy8gY2FwdHVyZSBvciBub3QuIEluIG1vcmUgbW9kZXJuIGJyb3dzZXJzLCB0aGlzIGlzIHBhc3NlZCB2aWEgdGhlIGBjYXB0dXJlYFxuICAgIC8vIG9wdGlvbiwgc28gbGV0J3MganVzdCBob2lzdCB0aGF0IHZhbHVlIHVwLlxuICAgIHJldHVybiAhIWV2ZW50T3B0aW9ucy5jYXB0dXJlO1xuICB9XG5cbiAgcmV0dXJuIGV2ZW50T3B0aW9ucztcbn1cblxuLyogZXNsaW50LWRpc2FibGUgbm8tYml0d2lzZSAqL1xuXG4vKipcbiAqIEdlbmVyYXRlIGEgdW5pcXVlIGtleSBmb3IgYW55IHNldCBvZiBldmVudCBvcHRpb25zXG4gKi9cbmZ1bmN0aW9uIGV2ZW50T3B0aW9uc0tleShub3JtYWxpemVkRXZlbnRPcHRpb25zKSB7XG4gIGlmICghbm9ybWFsaXplZEV2ZW50T3B0aW9ucykge1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgLy8gSWYgdGhlIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBwYXNzaXZlIGV2ZW50IGxpc3RlbmVycywgdGhlIG5vcm1hbGl6ZWRcbiAgLy8gZXZlbnQgb3B0aW9ucyB3aWxsIGJlIGEgYm9vbGVhbi5cbiAgaWYgKG5vcm1hbGl6ZWRFdmVudE9wdGlvbnMgPT09IHRydWUpIHtcbiAgICByZXR1cm4gMTAwO1xuICB9XG5cbiAgLy8gQXQgdGhpcyBwb2ludCwgdGhlIGJyb3dzZXIgc3VwcG9ydHMgcGFzc2l2ZSBldmVudCBsaXN0ZW5lcnMsIHNvIHdlIGV4cGVjdFxuICAvLyB0aGUgZXZlbnQgb3B0aW9ucyB0byBiZSBhbiBvYmplY3Qgd2l0aCBwb3NzaWJsZSBwcm9wZXJ0aWVzIG9mIGNhcHR1cmUsXG4gIC8vIHBhc3NpdmUsIGFuZCBvbmNlLlxuICAvL1xuICAvLyBXZSB3YW50IHRvIGNvbnNpc3RlbnRseSByZXR1cm4gdGhlIHNhbWUgdmFsdWUsIHJlZ2FyZGxlc3Mgb2YgdGhlIG9yZGVyIG9mXG4gIC8vIHRoZXNlIHByb3BlcnRpZXMsIHNvIGxldCdzIHVzZSBiaW5hcnkgbWF0aHMgdG8gYXNzaWduIGVhY2ggcHJvcGVydHkgdG8gYVxuICAvLyBiaXQsIGFuZCB0aGVuIGFkZCB0aG9zZSB0b2dldGhlciAod2l0aCBhbiBvZmZzZXQgdG8gYWNjb3VudCBmb3IgdGhlXG4gIC8vIGJvb2xlYW5zIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhpcyBmdW5jdGlvbikuXG4gIHZhciBjYXB0dXJlID0gbm9ybWFsaXplZEV2ZW50T3B0aW9ucy5jYXB0dXJlIDw8IDA7XG4gIHZhciBwYXNzaXZlID0gbm9ybWFsaXplZEV2ZW50T3B0aW9ucy5wYXNzaXZlIDw8IDE7XG4gIHZhciBvbmNlID0gbm9ybWFsaXplZEV2ZW50T3B0aW9ucy5vbmNlIDw8IDI7XG4gIHJldHVybiBjYXB0dXJlICsgcGFzc2l2ZSArIG9uY2U7XG59XG5cbmZ1bmN0aW9uIGVuc3VyZUNhbk11dGF0ZU5leHRFdmVudEhhbmRsZXJzKGV2ZW50SGFuZGxlcnMpIHtcbiAgaWYgKGV2ZW50SGFuZGxlcnMuaGFuZGxlcnMgPT09IGV2ZW50SGFuZGxlcnMubmV4dEhhbmRsZXJzKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgZXZlbnRIYW5kbGVycy5uZXh0SGFuZGxlcnMgPSBldmVudEhhbmRsZXJzLmhhbmRsZXJzLnNsaWNlKCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gVGFyZ2V0RXZlbnRIYW5kbGVycyh0YXJnZXQpIHtcbiAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gIHRoaXMuZXZlbnRzID0ge307XG59XG5cblRhcmdldEV2ZW50SGFuZGxlcnMucHJvdG90eXBlLmdldEV2ZW50SGFuZGxlcnMgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIGdldEV2ZW50SGFuZGxlcnMoZXZlbnROYW1lLCBvcHRpb25zKSB7XG4gICAgdmFyIGtleSA9IFN0cmluZyhldmVudE5hbWUpICsgJyAnICsgU3RyaW5nKGV2ZW50T3B0aW9uc0tleShvcHRpb25zKSk7XG5cbiAgICBpZiAoIXRoaXMuZXZlbnRzW2tleV0pIHtcbiAgICAgIHRoaXMuZXZlbnRzW2tleV0gPSB7XG4gICAgICAgIGhhbmRsZXJzOiBbXSxcbiAgICAgICAgaGFuZGxlRXZlbnQ6IHVuZGVmaW5lZFxuICAgICAgfTtcbiAgICAgIHRoaXMuZXZlbnRzW2tleV0ubmV4dEhhbmRsZXJzID0gdGhpcy5ldmVudHNba2V5XS5oYW5kbGVycztcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5ldmVudHNba2V5XTtcbiAgfVxuXG4gIHJldHVybiBnZXRFdmVudEhhbmRsZXJzO1xufSgpO1xuXG5UYXJnZXRFdmVudEhhbmRsZXJzLnByb3RvdHlwZS5oYW5kbGVFdmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gaGFuZGxlRXZlbnQoZXZlbnROYW1lLCBvcHRpb25zLCBldmVudCkge1xuICAgIHZhciBldmVudEhhbmRsZXJzID0gdGhpcy5nZXRFdmVudEhhbmRsZXJzKGV2ZW50TmFtZSwgb3B0aW9ucyk7XG4gICAgZXZlbnRIYW5kbGVycy5oYW5kbGVycyA9IGV2ZW50SGFuZGxlcnMubmV4dEhhbmRsZXJzO1xuICAgIGV2ZW50SGFuZGxlcnMuaGFuZGxlcnMuZm9yRWFjaChmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgICAgLy8gV2UgbmVlZCB0byBjaGVjayBmb3IgcHJlc2VuY2UgaGVyZSBiZWNhdXNlIGEgaGFuZGxlciBmdW5jdGlvbiBtYXlcbiAgICAgICAgLy8gY2F1c2UgbGF0ZXIgaGFuZGxlcnMgdG8gZ2V0IHJlbW92ZWQuIFRoaXMgY2FuIGhhcHBlbiBpZiB5b3UgZm9yXG4gICAgICAgIC8vIGluc3RhbmNlIGhhdmUgYSB3YXlwb2ludCB0aGF0IHVubW91bnRzIGFub3RoZXIgd2F5cG9pbnQgYXMgcGFydCBvZiBhblxuICAgICAgICAvLyBvbkVudGVyL29uTGVhdmUgaGFuZGxlci5cbiAgICAgICAgaGFuZGxlcihldmVudCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gaGFuZGxlRXZlbnQ7XG59KCk7XG5cblRhcmdldEV2ZW50SGFuZGxlcnMucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gYWRkKGV2ZW50TmFtZSwgbGlzdGVuZXIsIG9wdGlvbnMpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgLy8gb3B0aW9ucyBoYXMgYWxyZWFkeSBiZWVuIG5vcm1hbGl6ZWQgYXQgdGhpcyBwb2ludC5cbiAgICB2YXIgZXZlbnRIYW5kbGVycyA9IHRoaXMuZ2V0RXZlbnRIYW5kbGVycyhldmVudE5hbWUsIG9wdGlvbnMpO1xuXG4gICAgZW5zdXJlQ2FuTXV0YXRlTmV4dEV2ZW50SGFuZGxlcnMoZXZlbnRIYW5kbGVycyk7XG5cbiAgICBpZiAoZXZlbnRIYW5kbGVycy5uZXh0SGFuZGxlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICBldmVudEhhbmRsZXJzLmhhbmRsZUV2ZW50ID0gdGhpcy5oYW5kbGVFdmVudC5iaW5kKHRoaXMsIGV2ZW50TmFtZSwgb3B0aW9ucyk7XG5cbiAgICAgIHRoaXMudGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBldmVudEhhbmRsZXJzLmhhbmRsZUV2ZW50LCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBldmVudEhhbmRsZXJzLm5leHRIYW5kbGVycy5wdXNoKGxpc3RlbmVyKTtcblxuICAgIHZhciBpc1N1YnNjcmliZWQgPSB0cnVlO1xuICAgIHZhciB1bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIHVuc3Vic2NyaWJlKCkge1xuICAgICAgICBpZiAoIWlzU3Vic2NyaWJlZCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlzU3Vic2NyaWJlZCA9IGZhbHNlO1xuXG4gICAgICAgIGVuc3VyZUNhbk11dGF0ZU5leHRFdmVudEhhbmRsZXJzKGV2ZW50SGFuZGxlcnMpO1xuICAgICAgICB2YXIgaW5kZXggPSBldmVudEhhbmRsZXJzLm5leHRIYW5kbGVycy5pbmRleE9mKGxpc3RlbmVyKTtcbiAgICAgICAgZXZlbnRIYW5kbGVycy5uZXh0SGFuZGxlcnMuc3BsaWNlKGluZGV4LCAxKTtcblxuICAgICAgICBpZiAoZXZlbnRIYW5kbGVycy5uZXh0SGFuZGxlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgLy8gQWxsIGV2ZW50IGhhbmRsZXJzIGhhdmUgYmVlbiByZW1vdmVkLCBzbyB3ZSB3YW50IHRvIHJlbW92ZSB0aGUgZXZlbnRcbiAgICAgICAgICAvLyBsaXN0ZW5lciBmcm9tIHRoZSB0YXJnZXQgbm9kZS5cblxuICAgICAgICAgIGlmIChfdGhpcy50YXJnZXQpIHtcbiAgICAgICAgICAgIC8vIFRoZXJlIGNhbiBiZSBhIHJhY2UgY29uZGl0aW9uIHdoZXJlIHRoZSB0YXJnZXQgbWF5IG5vIGxvbmdlciBleGlzdFxuICAgICAgICAgICAgLy8gd2hlbiB0aGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCwgZS5nLiB3aGVuIGEgUmVhY3QgY29tcG9uZW50IGlzXG4gICAgICAgICAgICAvLyB1bm1vdW50aW5nLiBHdWFyZGluZyBhZ2FpbnN0IHRoaXMgcHJldmVudHMgdGhlIGZvbGxvd2luZyBlcnJvcjpcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyAgIENhbm5vdCByZWFkIHByb3BlcnR5ICdyZW1vdmVFdmVudExpc3RlbmVyJyBvZiB1bmRlZmluZWRcbiAgICAgICAgICAgIF90aGlzLnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZXZlbnRIYW5kbGVycy5oYW5kbGVFdmVudCwgb3B0aW9ucyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZXZlbnRIYW5kbGVycy5oYW5kbGVFdmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdW5zdWJzY3JpYmU7XG4gICAgfSgpO1xuICAgIHJldHVybiB1bnN1YnNjcmliZTtcbiAgfVxuXG4gIHJldHVybiBhZGQ7XG59KCk7XG5cbnZhciBFVkVOVF9IQU5ETEVSU19LRVkgPSAnX19jb25zb2xpZGF0ZWRfZXZlbnRzX2hhbmRsZXJzX18nO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L3ByZWZlci1kZWZhdWx0LWV4cG9ydFxuZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcih0YXJnZXQsIGV2ZW50TmFtZSwgbGlzdGVuZXIsIG9wdGlvbnMpIHtcbiAgaWYgKCF0YXJnZXRbRVZFTlRfSEFORExFUlNfS0VZXSkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgIHRhcmdldFtFVkVOVF9IQU5ETEVSU19LRVldID0gbmV3IFRhcmdldEV2ZW50SGFuZGxlcnModGFyZ2V0KTtcbiAgfVxuICB2YXIgbm9ybWFsaXplZEV2ZW50T3B0aW9ucyA9IG5vcm1hbGl6ZUV2ZW50T3B0aW9ucyhvcHRpb25zKTtcbiAgcmV0dXJuIHRhcmdldFtFVkVOVF9IQU5ETEVSU19LRVldLmFkZChldmVudE5hbWUsIGxpc3RlbmVyLCBub3JtYWxpemVkRXZlbnRPcHRpb25zKTtcbn1cblxuZXhwb3J0IHsgYWRkRXZlbnRMaXN0ZW5lciB9O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaXNNZXJnZWFibGVPYmplY3QgPSBmdW5jdGlvbiBpc01lcmdlYWJsZU9iamVjdCh2YWx1ZSkge1xuXHRyZXR1cm4gaXNOb25OdWxsT2JqZWN0KHZhbHVlKVxuXHRcdCYmICFpc1NwZWNpYWwodmFsdWUpXG59O1xuXG5mdW5jdGlvbiBpc05vbk51bGxPYmplY3QodmFsdWUpIHtcblx0cmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0J1xufVxuXG5mdW5jdGlvbiBpc1NwZWNpYWwodmFsdWUpIHtcblx0dmFyIHN0cmluZ1ZhbHVlID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKTtcblxuXHRyZXR1cm4gc3RyaW5nVmFsdWUgPT09ICdbb2JqZWN0IFJlZ0V4cF0nXG5cdFx0fHwgc3RyaW5nVmFsdWUgPT09ICdbb2JqZWN0IERhdGVdJ1xuXHRcdHx8IGlzUmVhY3RFbGVtZW50KHZhbHVlKVxufVxuXG4vLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2Jsb2IvYjVhYzk2M2ZiNzkxZDEyOThlN2YzOTYyMzYzODNiYzk1NWY5MTZjMS9zcmMvaXNvbW9ycGhpYy9jbGFzc2ljL2VsZW1lbnQvUmVhY3RFbGVtZW50LmpzI0wyMS1MMjVcbnZhciBjYW5Vc2VTeW1ib2wgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC5mb3I7XG52YXIgUkVBQ1RfRUxFTUVOVF9UWVBFID0gY2FuVXNlU3ltYm9sID8gU3ltYm9sLmZvcigncmVhY3QuZWxlbWVudCcpIDogMHhlYWM3O1xuXG5mdW5jdGlvbiBpc1JlYWN0RWxlbWVudCh2YWx1ZSkge1xuXHRyZXR1cm4gdmFsdWUuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRVxufVxuXG5mdW5jdGlvbiBlbXB0eVRhcmdldCh2YWwpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWwpID8gW10gOiB7fVxufVxuXG5mdW5jdGlvbiBjbG9uZUlmTmVjZXNzYXJ5KHZhbHVlLCBvcHRpb25zQXJndW1lbnQpIHtcbiAgICB2YXIgY2xvbmUgPSBvcHRpb25zQXJndW1lbnQgJiYgb3B0aW9uc0FyZ3VtZW50LmNsb25lID09PSB0cnVlO1xuICAgIHJldHVybiAoY2xvbmUgJiYgaXNNZXJnZWFibGVPYmplY3QodmFsdWUpKSA/IGRlZXBtZXJnZShlbXB0eVRhcmdldCh2YWx1ZSksIHZhbHVlLCBvcHRpb25zQXJndW1lbnQpIDogdmFsdWVcbn1cblxuZnVuY3Rpb24gZGVmYXVsdEFycmF5TWVyZ2UodGFyZ2V0LCBzb3VyY2UsIG9wdGlvbnNBcmd1bWVudCkge1xuICAgIHZhciBkZXN0aW5hdGlvbiA9IHRhcmdldC5zbGljZSgpO1xuICAgIHNvdXJjZS5mb3JFYWNoKGZ1bmN0aW9uKGUsIGkpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBkZXN0aW5hdGlvbltpXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uW2ldID0gY2xvbmVJZk5lY2Vzc2FyeShlLCBvcHRpb25zQXJndW1lbnQpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzTWVyZ2VhYmxlT2JqZWN0KGUpKSB7XG4gICAgICAgICAgICBkZXN0aW5hdGlvbltpXSA9IGRlZXBtZXJnZSh0YXJnZXRbaV0sIGUsIG9wdGlvbnNBcmd1bWVudCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGFyZ2V0LmluZGV4T2YoZSkgPT09IC0xKSB7XG4gICAgICAgICAgICBkZXN0aW5hdGlvbi5wdXNoKGNsb25lSWZOZWNlc3NhcnkoZSwgb3B0aW9uc0FyZ3VtZW50KSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZGVzdGluYXRpb25cbn1cblxuZnVuY3Rpb24gbWVyZ2VPYmplY3QodGFyZ2V0LCBzb3VyY2UsIG9wdGlvbnNBcmd1bWVudCkge1xuICAgIHZhciBkZXN0aW5hdGlvbiA9IHt9O1xuICAgIGlmIChpc01lcmdlYWJsZU9iamVjdCh0YXJnZXQpKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKHRhcmdldCkuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uW2tleV0gPSBjbG9uZUlmTmVjZXNzYXJ5KHRhcmdldFtrZXldLCBvcHRpb25zQXJndW1lbnQpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgT2JqZWN0LmtleXMoc291cmNlKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICBpZiAoIWlzTWVyZ2VhYmxlT2JqZWN0KHNvdXJjZVtrZXldKSB8fCAhdGFyZ2V0W2tleV0pIHtcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uW2tleV0gPSBjbG9uZUlmTmVjZXNzYXJ5KHNvdXJjZVtrZXldLCBvcHRpb25zQXJndW1lbnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGVzdGluYXRpb25ba2V5XSA9IGRlZXBtZXJnZSh0YXJnZXRba2V5XSwgc291cmNlW2tleV0sIG9wdGlvbnNBcmd1bWVudCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZGVzdGluYXRpb25cbn1cblxuZnVuY3Rpb24gZGVlcG1lcmdlKHRhcmdldCwgc291cmNlLCBvcHRpb25zQXJndW1lbnQpIHtcbiAgICB2YXIgc291cmNlSXNBcnJheSA9IEFycmF5LmlzQXJyYXkoc291cmNlKTtcbiAgICB2YXIgdGFyZ2V0SXNBcnJheSA9IEFycmF5LmlzQXJyYXkodGFyZ2V0KTtcbiAgICB2YXIgb3B0aW9ucyA9IG9wdGlvbnNBcmd1bWVudCB8fCB7IGFycmF5TWVyZ2U6IGRlZmF1bHRBcnJheU1lcmdlIH07XG4gICAgdmFyIHNvdXJjZUFuZFRhcmdldFR5cGVzTWF0Y2ggPSBzb3VyY2VJc0FycmF5ID09PSB0YXJnZXRJc0FycmF5O1xuXG4gICAgaWYgKCFzb3VyY2VBbmRUYXJnZXRUeXBlc01hdGNoKSB7XG4gICAgICAgIHJldHVybiBjbG9uZUlmTmVjZXNzYXJ5KHNvdXJjZSwgb3B0aW9uc0FyZ3VtZW50KVxuICAgIH0gZWxzZSBpZiAoc291cmNlSXNBcnJheSkge1xuICAgICAgICB2YXIgYXJyYXlNZXJnZSA9IG9wdGlvbnMuYXJyYXlNZXJnZSB8fCBkZWZhdWx0QXJyYXlNZXJnZTtcbiAgICAgICAgcmV0dXJuIGFycmF5TWVyZ2UodGFyZ2V0LCBzb3VyY2UsIG9wdGlvbnNBcmd1bWVudClcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbWVyZ2VPYmplY3QodGFyZ2V0LCBzb3VyY2UsIG9wdGlvbnNBcmd1bWVudClcbiAgICB9XG59XG5cbmRlZXBtZXJnZS5hbGwgPSBmdW5jdGlvbiBkZWVwbWVyZ2VBbGwoYXJyYXksIG9wdGlvbnNBcmd1bWVudCkge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShhcnJheSkgfHwgYXJyYXkubGVuZ3RoIDwgMikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ZpcnN0IGFyZ3VtZW50IHNob3VsZCBiZSBhbiBhcnJheSB3aXRoIGF0IGxlYXN0IHR3byBlbGVtZW50cycpXG4gICAgfVxuXG4gICAgLy8gd2UgYXJlIHN1cmUgdGhlcmUgYXJlIGF0IGxlYXN0IDIgdmFsdWVzLCBzbyBpdCBpcyBzYWZlIHRvIGhhdmUgbm8gaW5pdGlhbCB2YWx1ZVxuICAgIHJldHVybiBhcnJheS5yZWR1Y2UoZnVuY3Rpb24ocHJldiwgbmV4dCkge1xuICAgICAgICByZXR1cm4gZGVlcG1lcmdlKHByZXYsIG5leHQsIG9wdGlvbnNBcmd1bWVudClcbiAgICB9KVxufTtcblxudmFyIGRlZXBtZXJnZV8xID0gZGVlcG1lcmdlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGRlZXBtZXJnZV8xO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vZXMyMDE1Jyk7XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9lczIwMTYnKTtcbiIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQHR5cGVjaGVja3NcbiAqIFxuICovXG5cbi8qZXNsaW50LWRpc2FibGUgbm8tc2VsZi1jb21wYXJlICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBpbmxpbmVkIE9iamVjdC5pcyBwb2x5ZmlsbCB0byBhdm9pZCByZXF1aXJpbmcgY29uc3VtZXJzIHNoaXAgdGhlaXIgb3duXG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvaXNcbiAqL1xuZnVuY3Rpb24gaXMoeCwgeSkge1xuICAvLyBTYW1lVmFsdWUgYWxnb3JpdGhtXG4gIGlmICh4ID09PSB5KSB7XG4gICAgLy8gU3RlcHMgMS01LCA3LTEwXG4gICAgLy8gU3RlcHMgNi5iLTYuZTogKzAgIT0gLTBcbiAgICAvLyBBZGRlZCB0aGUgbm9uemVybyB5IGNoZWNrIHRvIG1ha2UgRmxvdyBoYXBweSwgYnV0IGl0IGlzIHJlZHVuZGFudFxuICAgIHJldHVybiB4ICE9PSAwIHx8IHkgIT09IDAgfHwgMSAvIHggPT09IDEgLyB5O1xuICB9IGVsc2Uge1xuICAgIC8vIFN0ZXAgNi5hOiBOYU4gPT0gTmFOXG4gICAgcmV0dXJuIHggIT09IHggJiYgeSAhPT0geTtcbiAgfVxufVxuXG4vKipcbiAqIFBlcmZvcm1zIGVxdWFsaXR5IGJ5IGl0ZXJhdGluZyB0aHJvdWdoIGtleXMgb24gYW4gb2JqZWN0IGFuZCByZXR1cm5pbmcgZmFsc2VcbiAqIHdoZW4gYW55IGtleSBoYXMgdmFsdWVzIHdoaWNoIGFyZSBub3Qgc3RyaWN0bHkgZXF1YWwgYmV0d2VlbiB0aGUgYXJndW1lbnRzLlxuICogUmV0dXJucyB0cnVlIHdoZW4gdGhlIHZhbHVlcyBvZiBhbGwga2V5cyBhcmUgc3RyaWN0bHkgZXF1YWwuXG4gKi9cbmZ1bmN0aW9uIHNoYWxsb3dFcXVhbChvYmpBLCBvYmpCKSB7XG4gIGlmIChpcyhvYmpBLCBvYmpCKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvYmpBICE9PSAnb2JqZWN0JyB8fCBvYmpBID09PSBudWxsIHx8IHR5cGVvZiBvYmpCICE9PSAnb2JqZWN0JyB8fCBvYmpCID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIGtleXNBID0gT2JqZWN0LmtleXMob2JqQSk7XG4gIHZhciBrZXlzQiA9IE9iamVjdC5rZXlzKG9iakIpO1xuXG4gIGlmIChrZXlzQS5sZW5ndGggIT09IGtleXNCLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIFRlc3QgZm9yIEEncyBrZXlzIGRpZmZlcmVudCBmcm9tIEIuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwga2V5c0EubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoIWhhc093blByb3BlcnR5LmNhbGwob2JqQiwga2V5c0FbaV0pIHx8ICFpcyhvYmpBW2tleXNBW2ldXSwgb2JqQltrZXlzQVtpXV0pKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2hhbGxvd0VxdWFsOyIsIm1vZHVsZS5leHBvcnRzID0gdHlwZW9mIGZ1bmN0aW9uIGZvbygpIHt9Lm5hbWUgPT09ICdzdHJpbmcnOyAvLyB3aGVuIGZ1bmN0aW9uIG5hbWVzIGFyZSBtaW5pZmllZCwgY2hlY2tpbmcgZm9yIFwiZm9vXCIgd291bGQgYnJlYWtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGlzQ2FsbGFibGUgPSByZXF1aXJlKCdpcy1jYWxsYWJsZScpO1xudmFyIGZ1bmN0aW9uc0hhdmVOYW1lcyA9IHJlcXVpcmUoJy4vaGVscGVycy9mdW5jdGlvbnNIYXZlTmFtZXMnKTtcbnZhciBiaW5kID0gcmVxdWlyZSgnZnVuY3Rpb24tYmluZCcpO1xudmFyIGZ1bmN0aW9uVG9TdHJpbmcgPSBiaW5kLmNhbGwoRnVuY3Rpb24uY2FsbCwgRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nKTtcbnZhciBzdHJpbmdNYXRjaCA9IGJpbmQuY2FsbChGdW5jdGlvbi5jYWxsLCBTdHJpbmcucHJvdG90eXBlLm1hdGNoKTtcblxudmFyIGNsYXNzUmVnZXggPSAvXmNsYXNzIC87XG5cbnZhciBpc0NsYXNzID0gZnVuY3Rpb24gaXNDbGFzc0NvbnN0cnVjdG9yKGZuKSB7XG5cdGlmIChpc0NhbGxhYmxlKGZuKSkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXHRpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cdHRyeSB7XG5cdFx0dmFyIG1hdGNoID0gc3RyaW5nTWF0Y2goZnVuY3Rpb25Ub1N0cmluZyhmbiksIGNsYXNzUmVnZXgpO1xuXHRcdHJldHVybiAhIW1hdGNoO1xuXHR9IGNhdGNoIChlKSB7fVxuXHRyZXR1cm4gZmFsc2U7XG59O1xuXG52YXIgcmVnZXggPSAvXFxzKmZ1bmN0aW9uXFxzKyhbXihcXHNdKilcXHMqLztcblxudmFyIGZ1bmN0aW9uUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGU7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2V0TmFtZSgpIHtcblx0aWYgKCFpc0NsYXNzKHRoaXMpICYmICFpc0NhbGxhYmxlKHRoaXMpKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignRnVuY3Rpb24ucHJvdG90eXBlLm5hbWUgc2hhbSBnZXR0ZXIgY2FsbGVkIG9uIG5vbi1mdW5jdGlvbicpO1xuXHR9XG5cdGlmIChmdW5jdGlvbnNIYXZlTmFtZXMpIHtcblx0XHRyZXR1cm4gdGhpcy5uYW1lO1xuXHR9XG5cdGlmICh0aGlzID09PSBmdW5jdGlvblByb3RvKSB7XG5cdFx0cmV0dXJuICcnO1xuXHR9XG5cdHZhciBzdHIgPSBmdW5jdGlvblRvU3RyaW5nKHRoaXMpO1xuXHR2YXIgbWF0Y2ggPSBzdHJpbmdNYXRjaChzdHIsIHJlZ2V4KTtcblx0dmFyIG5hbWUgPSBtYXRjaCAmJiBtYXRjaFsxXTtcblx0cmV0dXJuIG5hbWU7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgZGVmaW5lID0gcmVxdWlyZSgnZGVmaW5lLXByb3BlcnRpZXMnKTtcbnZhciBiaW5kID0gcmVxdWlyZSgnZnVuY3Rpb24tYmluZCcpO1xuXG52YXIgaW1wbGVtZW50YXRpb24gPSByZXF1aXJlKCcuL2ltcGxlbWVudGF0aW9uJyk7XG52YXIgZ2V0UG9seWZpbGwgPSByZXF1aXJlKCcuL3BvbHlmaWxsJyk7XG52YXIgc2hpbSA9IHJlcXVpcmUoJy4vc2hpbScpO1xuXG52YXIgYm91bmQgPSBiaW5kLmNhbGwoRnVuY3Rpb24uY2FsbCwgaW1wbGVtZW50YXRpb24pO1xuXG5kZWZpbmUoYm91bmQsIHtcblx0Z2V0UG9seWZpbGw6IGdldFBvbHlmaWxsLFxuXHRpbXBsZW1lbnRhdGlvbjogaW1wbGVtZW50YXRpb24sXG5cdHNoaW06IHNoaW1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGJvdW5kO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaW1wbGVtZW50YXRpb24gPSByZXF1aXJlKCcuL2ltcGxlbWVudGF0aW9uJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2V0UG9seWZpbGwoKSB7XG5cdHJldHVybiBpbXBsZW1lbnRhdGlvbjtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBzdXBwb3J0c0Rlc2NyaXB0b3JzID0gcmVxdWlyZSgnZGVmaW5lLXByb3BlcnRpZXMnKS5zdXBwb3J0c0Rlc2NyaXB0b3JzO1xudmFyIGZ1bmN0aW9uc0hhdmVOYW1lcyA9IHJlcXVpcmUoJy4vaGVscGVycy9mdW5jdGlvbnNIYXZlTmFtZXMnKTtcbnZhciBnZXRQb2x5ZmlsbCA9IHJlcXVpcmUoJy4vcG9seWZpbGwnKTtcbnZhciBkZWZpbmVQcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBUeXBlRXJyID0gVHlwZUVycm9yO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNoaW1OYW1lKCkge1xuXHR2YXIgcG9seWZpbGwgPSBnZXRQb2x5ZmlsbCgpO1xuXHRpZiAoZnVuY3Rpb25zSGF2ZU5hbWVzKSB7XG5cdFx0cmV0dXJuIHBvbHlmaWxsO1xuXHR9XG5cdGlmICghc3VwcG9ydHNEZXNjcmlwdG9ycykge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyKCdTaGltbWluZyBGdW5jdGlvbi5wcm90b3R5cGUubmFtZSBzdXBwb3J0IHJlcXVpcmVzIEVTNSBwcm9wZXJ0eSBkZXNjcmlwdG9yIHN1cHBvcnQuJyk7XG5cdH1cblx0dmFyIGZ1bmN0aW9uUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGU7XG5cdGRlZmluZVByb3BlcnR5KGZ1bmN0aW9uUHJvdG8sICduYW1lJywge1xuXHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0XHRlbnVtZXJhYmxlOiBmYWxzZSxcblx0XHRnZXQ6IGZ1bmN0aW9uICgpIHtcblx0XHRcdHZhciBuYW1lID0gcG9seWZpbGwuY2FsbCh0aGlzKTtcblx0XHRcdGlmICh0aGlzICE9PSBmdW5jdGlvblByb3RvKSB7XG5cdFx0XHRcdGRlZmluZVByb3BlcnR5KHRoaXMsICduYW1lJywge1xuXHRcdFx0XHRcdGNvbmZpZ3VyYWJsZTogdHJ1ZSxcblx0XHRcdFx0XHRlbnVtZXJhYmxlOiBmYWxzZSxcblx0XHRcdFx0XHR2YWx1ZTogbmFtZSxcblx0XHRcdFx0XHR3cml0YWJsZTogZmFsc2Vcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbmFtZTtcblx0XHR9XG5cdH0pO1xuXHRyZXR1cm4gcG9seWZpbGw7XG59O1xuIiwiT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IGlzVG91Y2hEZXZpY2U7XG5mdW5jdGlvbiBpc1RvdWNoRGV2aWNlKCkge1xuICByZXR1cm4gISEodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgKCdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdyB8fCB3aW5kb3cuRG9jdW1lbnRUb3VjaCAmJiB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIGRvY3VtZW50IGluc3RhbmNlb2Ygd2luZG93LkRvY3VtZW50VG91Y2gpKSB8fCAhISh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiAobmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzIHx8IG5hdmlnYXRvci5tc01heFRvdWNoUG9pbnRzKSk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCJ2YXIgcm9vdCA9IHJlcXVpcmUoJy4vX3Jvb3QnKTtcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgU3ltYm9sID0gcm9vdC5TeW1ib2w7XG5cbm1vZHVsZS5leHBvcnRzID0gU3ltYm9sO1xuIiwidmFyIFN5bWJvbCA9IHJlcXVpcmUoJy4vX1N5bWJvbCcpLFxuICAgIGdldFJhd1RhZyA9IHJlcXVpcmUoJy4vX2dldFJhd1RhZycpLFxuICAgIG9iamVjdFRvU3RyaW5nID0gcmVxdWlyZSgnLi9fb2JqZWN0VG9TdHJpbmcnKTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIG51bGxUYWcgPSAnW29iamVjdCBOdWxsXScsXG4gICAgdW5kZWZpbmVkVGFnID0gJ1tvYmplY3QgVW5kZWZpbmVkXSc7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIHN5bVRvU3RyaW5nVGFnID0gU3ltYm9sID8gU3ltYm9sLnRvU3RyaW5nVGFnIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRUYWdgIHdpdGhvdXQgZmFsbGJhY2tzIGZvciBidWdneSBlbnZpcm9ubWVudHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUdldFRhZyh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkVGFnIDogbnVsbFRhZztcbiAgfVxuICByZXR1cm4gKHN5bVRvU3RyaW5nVGFnICYmIHN5bVRvU3RyaW5nVGFnIGluIE9iamVjdCh2YWx1ZSkpXG4gICAgPyBnZXRSYXdUYWcodmFsdWUpXG4gICAgOiBvYmplY3RUb1N0cmluZyh2YWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUdldFRhZztcbiIsIi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG5cbm1vZHVsZS5leHBvcnRzID0gZnJlZUdsb2JhbDtcbiIsInZhciBTeW1ib2wgPSByZXF1aXJlKCcuL19TeW1ib2wnKTtcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG5hdGl2ZU9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIHN5bVRvU3RyaW5nVGFnID0gU3ltYm9sID8gU3ltYm9sLnRvU3RyaW5nVGFnIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUdldFRhZ2Agd2hpY2ggaWdub3JlcyBgU3ltYm9sLnRvU3RyaW5nVGFnYCB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmF3IGB0b1N0cmluZ1RhZ2AuXG4gKi9cbmZ1bmN0aW9uIGdldFJhd1RhZyh2YWx1ZSkge1xuICB2YXIgaXNPd24gPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBzeW1Ub1N0cmluZ1RhZyksXG4gICAgICB0YWcgPSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG5cbiAgdHJ5IHtcbiAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB1bmRlZmluZWQ7XG4gICAgdmFyIHVubWFza2VkID0gdHJ1ZTtcbiAgfSBjYXRjaCAoZSkge31cblxuICB2YXIgcmVzdWx0ID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIGlmICh1bm1hc2tlZCkge1xuICAgIGlmIChpc093bikge1xuICAgICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdGFnO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWxldGUgdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldFJhd1RhZztcbiIsIi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBuYXRpdmVPYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcgdXNpbmcgYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG9iamVjdFRvU3RyaW5nO1xuIiwidmFyIGZyZWVHbG9iYWwgPSByZXF1aXJlKCcuL19mcmVlR2xvYmFsJyk7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG52YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblxuLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG52YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxubW9kdWxlLmV4cG9ydHMgPSByb290O1xuIiwidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9pc09iamVjdCcpLFxuICAgIG5vdyA9IHJlcXVpcmUoJy4vbm93JyksXG4gICAgdG9OdW1iZXIgPSByZXF1aXJlKCcuL3RvTnVtYmVyJyk7XG5cbi8qKiBFcnJvciBtZXNzYWdlIGNvbnN0YW50cy4gKi9cbnZhciBGVU5DX0VSUk9SX1RFWFQgPSAnRXhwZWN0ZWQgYSBmdW5jdGlvbic7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbnZhciBuYXRpdmVNYXggPSBNYXRoLm1heCxcbiAgICBuYXRpdmVNaW4gPSBNYXRoLm1pbjtcblxuLyoqXG4gKiBDcmVhdGVzIGEgZGVib3VuY2VkIGZ1bmN0aW9uIHRoYXQgZGVsYXlzIGludm9raW5nIGBmdW5jYCB1bnRpbCBhZnRlciBgd2FpdGBcbiAqIG1pbGxpc2Vjb25kcyBoYXZlIGVsYXBzZWQgc2luY2UgdGhlIGxhc3QgdGltZSB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIHdhc1xuICogaW52b2tlZC4gVGhlIGRlYm91bmNlZCBmdW5jdGlvbiBjb21lcyB3aXRoIGEgYGNhbmNlbGAgbWV0aG9kIHRvIGNhbmNlbFxuICogZGVsYXllZCBgZnVuY2AgaW52b2NhdGlvbnMgYW5kIGEgYGZsdXNoYCBtZXRob2QgdG8gaW1tZWRpYXRlbHkgaW52b2tlIHRoZW0uXG4gKiBQcm92aWRlIGBvcHRpb25zYCB0byBpbmRpY2F0ZSB3aGV0aGVyIGBmdW5jYCBzaG91bGQgYmUgaW52b2tlZCBvbiB0aGVcbiAqIGxlYWRpbmcgYW5kL29yIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIGB3YWl0YCB0aW1lb3V0LiBUaGUgYGZ1bmNgIGlzIGludm9rZWRcbiAqIHdpdGggdGhlIGxhc3QgYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24uIFN1YnNlcXVlbnRcbiAqIGNhbGxzIHRvIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gcmV0dXJuIHRoZSByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgXG4gKiBpbnZvY2F0aW9uLlxuICpcbiAqICoqTm90ZToqKiBJZiBgbGVhZGluZ2AgYW5kIGB0cmFpbGluZ2Agb3B0aW9ucyBhcmUgYHRydWVgLCBgZnVuY2AgaXNcbiAqIGludm9rZWQgb24gdGhlIHRyYWlsaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQgb25seSBpZiB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uXG4gKiBpcyBpbnZva2VkIG1vcmUgdGhhbiBvbmNlIGR1cmluZyB0aGUgYHdhaXRgIHRpbWVvdXQuXG4gKlxuICogSWYgYHdhaXRgIGlzIGAwYCBhbmQgYGxlYWRpbmdgIGlzIGBmYWxzZWAsIGBmdW5jYCBpbnZvY2F0aW9uIGlzIGRlZmVycmVkXG4gKiB1bnRpbCB0byB0aGUgbmV4dCB0aWNrLCBzaW1pbGFyIHRvIGBzZXRUaW1lb3V0YCB3aXRoIGEgdGltZW91dCBvZiBgMGAuXG4gKlxuICogU2VlIFtEYXZpZCBDb3JiYWNobydzIGFydGljbGVdKGh0dHBzOi8vY3NzLXRyaWNrcy5jb20vZGVib3VuY2luZy10aHJvdHRsaW5nLWV4cGxhaW5lZC1leGFtcGxlcy8pXG4gKiBmb3IgZGV0YWlscyBvdmVyIHRoZSBkaWZmZXJlbmNlcyBiZXR3ZWVuIGBfLmRlYm91bmNlYCBhbmQgYF8udGhyb3R0bGVgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVib3VuY2UuXG4gKiBAcGFyYW0ge251bWJlcn0gW3dhaXQ9MF0gVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkuXG4gKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnM9e31dIFRoZSBvcHRpb25zIG9iamVjdC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGVhZGluZz1mYWxzZV1cbiAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSBsZWFkaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWF4V2FpdF1cbiAqICBUaGUgbWF4aW11bSB0aW1lIGBmdW5jYCBpcyBhbGxvd2VkIHRvIGJlIGRlbGF5ZWQgYmVmb3JlIGl0J3MgaW52b2tlZC5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhaWxpbmc9dHJ1ZV1cbiAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZGVib3VuY2VkIGZ1bmN0aW9uLlxuICogQGV4YW1wbGVcbiAqXG4gKiAvLyBBdm9pZCBjb3N0bHkgY2FsY3VsYXRpb25zIHdoaWxlIHRoZSB3aW5kb3cgc2l6ZSBpcyBpbiBmbHV4LlxuICogalF1ZXJ5KHdpbmRvdykub24oJ3Jlc2l6ZScsIF8uZGVib3VuY2UoY2FsY3VsYXRlTGF5b3V0LCAxNTApKTtcbiAqXG4gKiAvLyBJbnZva2UgYHNlbmRNYWlsYCB3aGVuIGNsaWNrZWQsIGRlYm91bmNpbmcgc3Vic2VxdWVudCBjYWxscy5cbiAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCBfLmRlYm91bmNlKHNlbmRNYWlsLCAzMDAsIHtcbiAqICAgJ2xlYWRpbmcnOiB0cnVlLFxuICogICAndHJhaWxpbmcnOiBmYWxzZVxuICogfSkpO1xuICpcbiAqIC8vIEVuc3VyZSBgYmF0Y2hMb2dgIGlzIGludm9rZWQgb25jZSBhZnRlciAxIHNlY29uZCBvZiBkZWJvdW5jZWQgY2FsbHMuXG4gKiB2YXIgZGVib3VuY2VkID0gXy5kZWJvdW5jZShiYXRjaExvZywgMjUwLCB7ICdtYXhXYWl0JzogMTAwMCB9KTtcbiAqIHZhciBzb3VyY2UgPSBuZXcgRXZlbnRTb3VyY2UoJy9zdHJlYW0nKTtcbiAqIGpRdWVyeShzb3VyY2UpLm9uKCdtZXNzYWdlJywgZGVib3VuY2VkKTtcbiAqXG4gKiAvLyBDYW5jZWwgdGhlIHRyYWlsaW5nIGRlYm91bmNlZCBpbnZvY2F0aW9uLlxuICogalF1ZXJ5KHdpbmRvdykub24oJ3BvcHN0YXRlJywgZGVib3VuY2VkLmNhbmNlbCk7XG4gKi9cbmZ1bmN0aW9uIGRlYm91bmNlKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgdmFyIGxhc3RBcmdzLFxuICAgICAgbGFzdFRoaXMsXG4gICAgICBtYXhXYWl0LFxuICAgICAgcmVzdWx0LFxuICAgICAgdGltZXJJZCxcbiAgICAgIGxhc3RDYWxsVGltZSxcbiAgICAgIGxhc3RJbnZva2VUaW1lID0gMCxcbiAgICAgIGxlYWRpbmcgPSBmYWxzZSxcbiAgICAgIG1heGluZyA9IGZhbHNlLFxuICAgICAgdHJhaWxpbmcgPSB0cnVlO1xuXG4gIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICB9XG4gIHdhaXQgPSB0b051bWJlcih3YWl0KSB8fCAwO1xuICBpZiAoaXNPYmplY3Qob3B0aW9ucykpIHtcbiAgICBsZWFkaW5nID0gISFvcHRpb25zLmxlYWRpbmc7XG4gICAgbWF4aW5nID0gJ21heFdhaXQnIGluIG9wdGlvbnM7XG4gICAgbWF4V2FpdCA9IG1heGluZyA/IG5hdGl2ZU1heCh0b051bWJlcihvcHRpb25zLm1heFdhaXQpIHx8IDAsIHdhaXQpIDogbWF4V2FpdDtcbiAgICB0cmFpbGluZyA9ICd0cmFpbGluZycgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy50cmFpbGluZyA6IHRyYWlsaW5nO1xuICB9XG5cbiAgZnVuY3Rpb24gaW52b2tlRnVuYyh0aW1lKSB7XG4gICAgdmFyIGFyZ3MgPSBsYXN0QXJncyxcbiAgICAgICAgdGhpc0FyZyA9IGxhc3RUaGlzO1xuXG4gICAgbGFzdEFyZ3MgPSBsYXN0VGhpcyA9IHVuZGVmaW5lZDtcbiAgICBsYXN0SW52b2tlVGltZSA9IHRpbWU7XG4gICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gbGVhZGluZ0VkZ2UodGltZSkge1xuICAgIC8vIFJlc2V0IGFueSBgbWF4V2FpdGAgdGltZXIuXG4gICAgbGFzdEludm9rZVRpbWUgPSB0aW1lO1xuICAgIC8vIFN0YXJ0IHRoZSB0aW1lciBmb3IgdGhlIHRyYWlsaW5nIGVkZ2UuXG4gICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICAvLyBJbnZva2UgdGhlIGxlYWRpbmcgZWRnZS5cbiAgICByZXR1cm4gbGVhZGluZyA/IGludm9rZUZ1bmModGltZSkgOiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiByZW1haW5pbmdXYWl0KHRpbWUpIHtcbiAgICB2YXIgdGltZVNpbmNlTGFzdENhbGwgPSB0aW1lIC0gbGFzdENhbGxUaW1lLFxuICAgICAgICB0aW1lU2luY2VMYXN0SW52b2tlID0gdGltZSAtIGxhc3RJbnZva2VUaW1lLFxuICAgICAgICB0aW1lV2FpdGluZyA9IHdhaXQgLSB0aW1lU2luY2VMYXN0Q2FsbDtcblxuICAgIHJldHVybiBtYXhpbmdcbiAgICAgID8gbmF0aXZlTWluKHRpbWVXYWl0aW5nLCBtYXhXYWl0IC0gdGltZVNpbmNlTGFzdEludm9rZSlcbiAgICAgIDogdGltZVdhaXRpbmc7XG4gIH1cblxuICBmdW5jdGlvbiBzaG91bGRJbnZva2UodGltZSkge1xuICAgIHZhciB0aW1lU2luY2VMYXN0Q2FsbCA9IHRpbWUgLSBsYXN0Q2FsbFRpbWUsXG4gICAgICAgIHRpbWVTaW5jZUxhc3RJbnZva2UgPSB0aW1lIC0gbGFzdEludm9rZVRpbWU7XG5cbiAgICAvLyBFaXRoZXIgdGhpcyBpcyB0aGUgZmlyc3QgY2FsbCwgYWN0aXZpdHkgaGFzIHN0b3BwZWQgYW5kIHdlJ3JlIGF0IHRoZVxuICAgIC8vIHRyYWlsaW5nIGVkZ2UsIHRoZSBzeXN0ZW0gdGltZSBoYXMgZ29uZSBiYWNrd2FyZHMgYW5kIHdlJ3JlIHRyZWF0aW5nXG4gICAgLy8gaXQgYXMgdGhlIHRyYWlsaW5nIGVkZ2UsIG9yIHdlJ3ZlIGhpdCB0aGUgYG1heFdhaXRgIGxpbWl0LlxuICAgIHJldHVybiAobGFzdENhbGxUaW1lID09PSB1bmRlZmluZWQgfHwgKHRpbWVTaW5jZUxhc3RDYWxsID49IHdhaXQpIHx8XG4gICAgICAodGltZVNpbmNlTGFzdENhbGwgPCAwKSB8fCAobWF4aW5nICYmIHRpbWVTaW5jZUxhc3RJbnZva2UgPj0gbWF4V2FpdCkpO1xuICB9XG5cbiAgZnVuY3Rpb24gdGltZXJFeHBpcmVkKCkge1xuICAgIHZhciB0aW1lID0gbm93KCk7XG4gICAgaWYgKHNob3VsZEludm9rZSh0aW1lKSkge1xuICAgICAgcmV0dXJuIHRyYWlsaW5nRWRnZSh0aW1lKTtcbiAgICB9XG4gICAgLy8gUmVzdGFydCB0aGUgdGltZXIuXG4gICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCByZW1haW5pbmdXYWl0KHRpbWUpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRyYWlsaW5nRWRnZSh0aW1lKSB7XG4gICAgdGltZXJJZCA9IHVuZGVmaW5lZDtcblxuICAgIC8vIE9ubHkgaW52b2tlIGlmIHdlIGhhdmUgYGxhc3RBcmdzYCB3aGljaCBtZWFucyBgZnVuY2AgaGFzIGJlZW5cbiAgICAvLyBkZWJvdW5jZWQgYXQgbGVhc3Qgb25jZS5cbiAgICBpZiAodHJhaWxpbmcgJiYgbGFzdEFyZ3MpIHtcbiAgICAgIHJldHVybiBpbnZva2VGdW5jKHRpbWUpO1xuICAgIH1cbiAgICBsYXN0QXJncyA9IGxhc3RUaGlzID0gdW5kZWZpbmVkO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiBjYW5jZWwoKSB7XG4gICAgaWYgKHRpbWVySWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVySWQpO1xuICAgIH1cbiAgICBsYXN0SW52b2tlVGltZSA9IDA7XG4gICAgbGFzdEFyZ3MgPSBsYXN0Q2FsbFRpbWUgPSBsYXN0VGhpcyA9IHRpbWVySWQgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBmdW5jdGlvbiBmbHVzaCgpIHtcbiAgICByZXR1cm4gdGltZXJJZCA9PT0gdW5kZWZpbmVkID8gcmVzdWx0IDogdHJhaWxpbmdFZGdlKG5vdygpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlYm91bmNlZCgpIHtcbiAgICB2YXIgdGltZSA9IG5vdygpLFxuICAgICAgICBpc0ludm9raW5nID0gc2hvdWxkSW52b2tlKHRpbWUpO1xuXG4gICAgbGFzdEFyZ3MgPSBhcmd1bWVudHM7XG4gICAgbGFzdFRoaXMgPSB0aGlzO1xuICAgIGxhc3RDYWxsVGltZSA9IHRpbWU7XG5cbiAgICBpZiAoaXNJbnZva2luZykge1xuICAgICAgaWYgKHRpbWVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gbGVhZGluZ0VkZ2UobGFzdENhbGxUaW1lKTtcbiAgICAgIH1cbiAgICAgIGlmIChtYXhpbmcpIHtcbiAgICAgICAgLy8gSGFuZGxlIGludm9jYXRpb25zIGluIGEgdGlnaHQgbG9vcC5cbiAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICAgICAgcmV0dXJuIGludm9rZUZ1bmMobGFzdENhbGxUaW1lKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRpbWVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBkZWJvdW5jZWQuY2FuY2VsID0gY2FuY2VsO1xuICBkZWJvdW5jZWQuZmx1c2ggPSBmbHVzaDtcbiAgcmV0dXJuIGRlYm91bmNlZDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBkZWJvdW5jZTtcbiIsIi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlXG4gKiBbbGFuZ3VhZ2UgdHlwZV0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMpXG4gKiBvZiBgT2JqZWN0YC4gKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3Qoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KF8ubm9vcCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzT2JqZWN0O1xuIiwiLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNPYmplY3RMaWtlO1xuIiwidmFyIGJhc2VHZXRUYWcgPSByZXF1aXJlKCcuL19iYXNlR2V0VGFnJyksXG4gICAgaXNPYmplY3RMaWtlID0gcmVxdWlyZSgnLi9pc09iamVjdExpa2UnKTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIHN5bWJvbFRhZyA9ICdbb2JqZWN0IFN5bWJvbF0nO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3ltYm9sYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc3ltYm9sLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNTeW1ib2woU3ltYm9sLml0ZXJhdG9yKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzU3ltYm9sKCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3ltYm9sKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3N5bWJvbCcgfHxcbiAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBzeW1ib2xUYWcpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzU3ltYm9sO1xuIiwidmFyIHJvb3QgPSByZXF1aXJlKCcuL19yb290Jyk7XG5cbi8qKlxuICogR2V0cyB0aGUgdGltZXN0YW1wIG9mIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRoYXQgaGF2ZSBlbGFwc2VkIHNpbmNlXG4gKiB0aGUgVW5peCBlcG9jaCAoMSBKYW51YXJ5IDE5NzAgMDA6MDA6MDAgVVRDKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDIuNC4wXG4gKiBAY2F0ZWdvcnkgRGF0ZVxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXN0YW1wLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmRlZmVyKGZ1bmN0aW9uKHN0YW1wKSB7XG4gKiAgIGNvbnNvbGUubG9nKF8ubm93KCkgLSBzdGFtcCk7XG4gKiB9LCBfLm5vdygpKTtcbiAqIC8vID0+IExvZ3MgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgaXQgdG9vayBmb3IgdGhlIGRlZmVycmVkIGludm9jYXRpb24uXG4gKi9cbnZhciBub3cgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHJvb3QuRGF0ZS5ub3coKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gbm93O1xuIiwidmFyIGRlYm91bmNlID0gcmVxdWlyZSgnLi9kZWJvdW5jZScpLFxuICAgIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9pc09iamVjdCcpO1xuXG4vKiogRXJyb3IgbWVzc2FnZSBjb25zdGFudHMuICovXG52YXIgRlVOQ19FUlJPUl9URVhUID0gJ0V4cGVjdGVkIGEgZnVuY3Rpb24nO1xuXG4vKipcbiAqIENyZWF0ZXMgYSB0aHJvdHRsZWQgZnVuY3Rpb24gdGhhdCBvbmx5IGludm9rZXMgYGZ1bmNgIGF0IG1vc3Qgb25jZSBwZXJcbiAqIGV2ZXJ5IGB3YWl0YCBtaWxsaXNlY29uZHMuIFRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gY29tZXMgd2l0aCBhIGBjYW5jZWxgXG4gKiBtZXRob2QgdG8gY2FuY2VsIGRlbGF5ZWQgYGZ1bmNgIGludm9jYXRpb25zIGFuZCBhIGBmbHVzaGAgbWV0aG9kIHRvXG4gKiBpbW1lZGlhdGVseSBpbnZva2UgdGhlbS4gUHJvdmlkZSBgb3B0aW9uc2AgdG8gaW5kaWNhdGUgd2hldGhlciBgZnVuY2BcbiAqIHNob3VsZCBiZSBpbnZva2VkIG9uIHRoZSBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlIG9mIHRoZSBgd2FpdGBcbiAqIHRpbWVvdXQuIFRoZSBgZnVuY2AgaXMgaW52b2tlZCB3aXRoIHRoZSBsYXN0IGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGVcbiAqIHRocm90dGxlZCBmdW5jdGlvbi4gU3Vic2VxdWVudCBjYWxscyB0byB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uIHJldHVybiB0aGVcbiAqIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2AgaW52b2NhdGlvbi5cbiAqXG4gKiAqKk5vdGU6KiogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCwgYGZ1bmNgIGlzXG4gKiBpbnZva2VkIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0IG9ubHkgaWYgdGhlIHRocm90dGxlZCBmdW5jdGlvblxuICogaXMgaW52b2tlZCBtb3JlIHRoYW4gb25jZSBkdXJpbmcgdGhlIGB3YWl0YCB0aW1lb3V0LlxuICpcbiAqIElmIGB3YWl0YCBpcyBgMGAgYW5kIGBsZWFkaW5nYCBpcyBgZmFsc2VgLCBgZnVuY2AgaW52b2NhdGlvbiBpcyBkZWZlcnJlZFxuICogdW50aWwgdG8gdGhlIG5leHQgdGljaywgc2ltaWxhciB0byBgc2V0VGltZW91dGAgd2l0aCBhIHRpbWVvdXQgb2YgYDBgLlxuICpcbiAqIFNlZSBbRGF2aWQgQ29yYmFjaG8ncyBhcnRpY2xlXShodHRwczovL2Nzcy10cmlja3MuY29tL2RlYm91bmNpbmctdGhyb3R0bGluZy1leHBsYWluZWQtZXhhbXBsZXMvKVxuICogZm9yIGRldGFpbHMgb3ZlciB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiBgXy50aHJvdHRsZWAgYW5kIGBfLmRlYm91bmNlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHRocm90dGxlLlxuICogQHBhcmFtIHtudW1iZXJ9IFt3YWl0PTBdIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHRocm90dGxlIGludm9jYXRpb25zIHRvLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlYWRpbmc9dHJ1ZV1cbiAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSBsZWFkaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYWlsaW5nPXRydWVdXG4gKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHRocm90dGxlZCBmdW5jdGlvbi5cbiAqIEBleGFtcGxlXG4gKlxuICogLy8gQXZvaWQgZXhjZXNzaXZlbHkgdXBkYXRpbmcgdGhlIHBvc2l0aW9uIHdoaWxlIHNjcm9sbGluZy5cbiAqIGpRdWVyeSh3aW5kb3cpLm9uKCdzY3JvbGwnLCBfLnRocm90dGxlKHVwZGF0ZVBvc2l0aW9uLCAxMDApKTtcbiAqXG4gKiAvLyBJbnZva2UgYHJlbmV3VG9rZW5gIHdoZW4gdGhlIGNsaWNrIGV2ZW50IGlzIGZpcmVkLCBidXQgbm90IG1vcmUgdGhhbiBvbmNlIGV2ZXJ5IDUgbWludXRlcy5cbiAqIHZhciB0aHJvdHRsZWQgPSBfLnRocm90dGxlKHJlbmV3VG9rZW4sIDMwMDAwMCwgeyAndHJhaWxpbmcnOiBmYWxzZSB9KTtcbiAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCB0aHJvdHRsZWQpO1xuICpcbiAqIC8vIENhbmNlbCB0aGUgdHJhaWxpbmcgdGhyb3R0bGVkIGludm9jYXRpb24uXG4gKiBqUXVlcnkod2luZG93KS5vbigncG9wc3RhdGUnLCB0aHJvdHRsZWQuY2FuY2VsKTtcbiAqL1xuZnVuY3Rpb24gdGhyb3R0bGUoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICB2YXIgbGVhZGluZyA9IHRydWUsXG4gICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gIH1cbiAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgbGVhZGluZyA9ICdsZWFkaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLmxlYWRpbmcgOiBsZWFkaW5nO1xuICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLnRyYWlsaW5nIDogdHJhaWxpbmc7XG4gIH1cbiAgcmV0dXJuIGRlYm91bmNlKGZ1bmMsIHdhaXQsIHtcbiAgICAnbGVhZGluZyc6IGxlYWRpbmcsXG4gICAgJ21heFdhaXQnOiB3YWl0LFxuICAgICd0cmFpbGluZyc6IHRyYWlsaW5nXG4gIH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHRocm90dGxlO1xuIiwidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9pc09iamVjdCcpLFxuICAgIGlzU3ltYm9sID0gcmVxdWlyZSgnLi9pc1N5bWJvbCcpO1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBOQU4gPSAwIC8gMDtcblxuLyoqIFVzZWQgdG8gbWF0Y2ggbGVhZGluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZS4gKi9cbnZhciByZVRyaW0gPSAvXlxccyt8XFxzKyQvZztcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGJhZCBzaWduZWQgaGV4YWRlY2ltYWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmFkSGV4ID0gL15bLStdMHhbMC05YS1mXSskL2k7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBiaW5hcnkgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzQmluYXJ5ID0gL14wYlswMV0rJC9pO1xuXG4vKiogVXNlZCB0byBkZXRlY3Qgb2N0YWwgc3RyaW5nIHZhbHVlcy4gKi9cbnZhciByZUlzT2N0YWwgPSAvXjBvWzAtN10rJC9pO1xuXG4vKiogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgd2l0aG91dCBhIGRlcGVuZGVuY3kgb24gYHJvb3RgLiAqL1xudmFyIGZyZWVQYXJzZUludCA9IHBhcnNlSW50O1xuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBudW1iZXIuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSA0LjAuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBudW1iZXIuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udG9OdW1iZXIoMy4yKTtcbiAqIC8vID0+IDMuMlxuICpcbiAqIF8udG9OdW1iZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gKiAvLyA9PiA1ZS0zMjRcbiAqXG4gKiBfLnRvTnVtYmVyKEluZmluaXR5KTtcbiAqIC8vID0+IEluZmluaXR5XG4gKlxuICogXy50b051bWJlcignMy4yJyk7XG4gKiAvLyA9PiAzLjJcbiAqL1xuZnVuY3Rpb24gdG9OdW1iZXIodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJykge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgcmV0dXJuIE5BTjtcbiAgfVxuICBpZiAoaXNPYmplY3QodmFsdWUpKSB7XG4gICAgdmFyIG90aGVyID0gdHlwZW9mIHZhbHVlLnZhbHVlT2YgPT0gJ2Z1bmN0aW9uJyA/IHZhbHVlLnZhbHVlT2YoKSA6IHZhbHVlO1xuICAgIHZhbHVlID0gaXNPYmplY3Qob3RoZXIpID8gKG90aGVyICsgJycpIDogb3RoZXI7XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gMCA/IHZhbHVlIDogK3ZhbHVlO1xuICB9XG4gIHZhbHVlID0gdmFsdWUucmVwbGFjZShyZVRyaW0sICcnKTtcbiAgdmFyIGlzQmluYXJ5ID0gcmVJc0JpbmFyeS50ZXN0KHZhbHVlKTtcbiAgcmV0dXJuIChpc0JpbmFyeSB8fCByZUlzT2N0YWwudGVzdCh2YWx1ZSkpXG4gICAgPyBmcmVlUGFyc2VJbnQodmFsdWUuc2xpY2UoMiksIGlzQmluYXJ5ID8gMiA6IDgpXG4gICAgOiAocmVJc0JhZEhleC50ZXN0KHZhbHVlKSA/IE5BTiA6ICt2YWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdG9OdW1iZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaHR0cHM6Ly9wZW9wbGUubW96aWxsYS5vcmcvfmpvcmVuZG9yZmYvZXM2LWRyYWZ0Lmh0bWwjc2VjLW9iamVjdC5pcyAqL1xuXG52YXIgTnVtYmVySXNOYU4gPSBmdW5jdGlvbiAodmFsdWUpIHtcblx0cmV0dXJuIHZhbHVlICE9PSB2YWx1ZTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXMoYSwgYikge1xuXHRpZiAoYSA9PT0gMCAmJiBiID09PSAwKSB7XG5cdFx0cmV0dXJuIDEgLyBhID09PSAxIC8gYjtcblx0fSBlbHNlIGlmIChhID09PSBiKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH0gZWxzZSBpZiAoTnVtYmVySXNOYU4oYSkgJiYgTnVtYmVySXNOYU4oYikpIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXHRyZXR1cm4gZmFsc2U7XG59O1xuXG4iLCIndXNlIHN0cmljdCc7XG5cbi8vIG1vZGlmaWVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2VzLXNoaW1zL2VzNi1zaGltXG52YXIga2V5cyA9IHJlcXVpcmUoJ29iamVjdC1rZXlzJyk7XG52YXIgYmluZCA9IHJlcXVpcmUoJ2Z1bmN0aW9uLWJpbmQnKTtcbnZhciBjYW5CZU9iamVjdCA9IGZ1bmN0aW9uIChvYmopIHtcblx0cmV0dXJuIHR5cGVvZiBvYmogIT09ICd1bmRlZmluZWQnICYmIG9iaiAhPT0gbnVsbDtcbn07XG52YXIgaGFzU3ltYm9scyA9IHJlcXVpcmUoJ2hhcy1zeW1ib2xzL3NoYW1zJykoKTtcbnZhciB0b09iamVjdCA9IE9iamVjdDtcbnZhciBwdXNoID0gYmluZC5jYWxsKEZ1bmN0aW9uLmNhbGwsIEFycmF5LnByb3RvdHlwZS5wdXNoKTtcbnZhciBwcm9wSXNFbnVtZXJhYmxlID0gYmluZC5jYWxsKEZ1bmN0aW9uLmNhbGwsIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUpO1xudmFyIG9yaWdpbmFsR2V0U3ltYm9scyA9IGhhc1N5bWJvbHMgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzIDogbnVsbDtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBhc3NpZ24odGFyZ2V0LCBzb3VyY2UxKSB7XG5cdGlmICghY2FuQmVPYmplY3QodGFyZ2V0KSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCd0YXJnZXQgbXVzdCBiZSBhbiBvYmplY3QnKTsgfVxuXHR2YXIgb2JqVGFyZ2V0ID0gdG9PYmplY3QodGFyZ2V0KTtcblx0dmFyIHMsIHNvdXJjZSwgaSwgcHJvcHMsIHN5bXMsIHZhbHVlLCBrZXk7XG5cdGZvciAocyA9IDE7IHMgPCBhcmd1bWVudHMubGVuZ3RoOyArK3MpIHtcblx0XHRzb3VyY2UgPSB0b09iamVjdChhcmd1bWVudHNbc10pO1xuXHRcdHByb3BzID0ga2V5cyhzb3VyY2UpO1xuXHRcdHZhciBnZXRTeW1ib2xzID0gaGFzU3ltYm9scyAmJiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyB8fCBvcmlnaW5hbEdldFN5bWJvbHMpO1xuXHRcdGlmIChnZXRTeW1ib2xzKSB7XG5cdFx0XHRzeW1zID0gZ2V0U3ltYm9scyhzb3VyY2UpO1xuXHRcdFx0Zm9yIChpID0gMDsgaSA8IHN5bXMubGVuZ3RoOyArK2kpIHtcblx0XHRcdFx0a2V5ID0gc3ltc1tpXTtcblx0XHRcdFx0aWYgKHByb3BJc0VudW1lcmFibGUoc291cmNlLCBrZXkpKSB7XG5cdFx0XHRcdFx0cHVzaChwcm9wcywga2V5KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRmb3IgKGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyArK2kpIHtcblx0XHRcdGtleSA9IHByb3BzW2ldO1xuXHRcdFx0dmFsdWUgPSBzb3VyY2Vba2V5XTtcblx0XHRcdGlmIChwcm9wSXNFbnVtZXJhYmxlKHNvdXJjZSwga2V5KSkge1xuXHRcdFx0XHRvYmpUYXJnZXRba2V5XSA9IHZhbHVlO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRyZXR1cm4gb2JqVGFyZ2V0O1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGRlZmluZVByb3BlcnRpZXMgPSByZXF1aXJlKCdkZWZpbmUtcHJvcGVydGllcycpO1xuXG52YXIgaW1wbGVtZW50YXRpb24gPSByZXF1aXJlKCcuL2ltcGxlbWVudGF0aW9uJyk7XG52YXIgZ2V0UG9seWZpbGwgPSByZXF1aXJlKCcuL3BvbHlmaWxsJyk7XG52YXIgc2hpbSA9IHJlcXVpcmUoJy4vc2hpbScpO1xuXG52YXIgcG9seWZpbGwgPSBnZXRQb2x5ZmlsbCgpO1xuXG5kZWZpbmVQcm9wZXJ0aWVzKHBvbHlmaWxsLCB7XG5cdGdldFBvbHlmaWxsOiBnZXRQb2x5ZmlsbCxcblx0aW1wbGVtZW50YXRpb246IGltcGxlbWVudGF0aW9uLFxuXHRzaGltOiBzaGltXG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBwb2x5ZmlsbDtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGltcGxlbWVudGF0aW9uID0gcmVxdWlyZSgnLi9pbXBsZW1lbnRhdGlvbicpO1xuXG52YXIgbGFja3NQcm9wZXJFbnVtZXJhdGlvbk9yZGVyID0gZnVuY3Rpb24gKCkge1xuXHRpZiAoIU9iamVjdC5hc3NpZ24pIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblx0Ly8gdjgsIHNwZWNpZmljYWxseSBpbiBub2RlIDQueCwgaGFzIGEgYnVnIHdpdGggaW5jb3JyZWN0IHByb3BlcnR5IGVudW1lcmF0aW9uIG9yZGVyXG5cdC8vIG5vdGU6IHRoaXMgZG9lcyBub3QgZGV0ZWN0IHRoZSBidWcgdW5sZXNzIHRoZXJlJ3MgMjAgY2hhcmFjdGVyc1xuXHR2YXIgc3RyID0gJ2FiY2RlZmdoaWprbG1ub3BxcnN0Jztcblx0dmFyIGxldHRlcnMgPSBzdHIuc3BsaXQoJycpO1xuXHR2YXIgbWFwID0ge307XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgbGV0dGVycy5sZW5ndGg7ICsraSkge1xuXHRcdG1hcFtsZXR0ZXJzW2ldXSA9IGxldHRlcnNbaV07XG5cdH1cblx0dmFyIG9iaiA9IE9iamVjdC5hc3NpZ24oe30sIG1hcCk7XG5cdHZhciBhY3R1YWwgPSAnJztcblx0Zm9yICh2YXIgayBpbiBvYmopIHtcblx0XHRhY3R1YWwgKz0gaztcblx0fVxuXHRyZXR1cm4gc3RyICE9PSBhY3R1YWw7XG59O1xuXG52YXIgYXNzaWduSGFzUGVuZGluZ0V4Y2VwdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG5cdGlmICghT2JqZWN0LmFzc2lnbiB8fCAhT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cdC8vIEZpcmVmb3ggMzcgc3RpbGwgaGFzIFwicGVuZGluZyBleGNlcHRpb25cIiBsb2dpYyBpbiBpdHMgT2JqZWN0LmFzc2lnbiBpbXBsZW1lbnRhdGlvbixcblx0Ly8gd2hpY2ggaXMgNzIlIHNsb3dlciB0aGFuIG91ciBzaGltLCBhbmQgRmlyZWZveCA0MCdzIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbi5cblx0dmFyIHRocm93ZXIgPSBPYmplY3QucHJldmVudEV4dGVuc2lvbnMoeyAxOiAyIH0pO1xuXHR0cnkge1xuXHRcdE9iamVjdC5hc3NpZ24odGhyb3dlciwgJ3h5Jyk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRyZXR1cm4gdGhyb3dlclsxXSA9PT0gJ3knO1xuXHR9XG5cdHJldHVybiBmYWxzZTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2V0UG9seWZpbGwoKSB7XG5cdGlmICghT2JqZWN0LmFzc2lnbikge1xuXHRcdHJldHVybiBpbXBsZW1lbnRhdGlvbjtcblx0fVxuXHRpZiAobGFja3NQcm9wZXJFbnVtZXJhdGlvbk9yZGVyKCkpIHtcblx0XHRyZXR1cm4gaW1wbGVtZW50YXRpb247XG5cdH1cblx0aWYgKGFzc2lnbkhhc1BlbmRpbmdFeGNlcHRpb25zKCkpIHtcblx0XHRyZXR1cm4gaW1wbGVtZW50YXRpb247XG5cdH1cblx0cmV0dXJuIE9iamVjdC5hc3NpZ247XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgZGVmaW5lID0gcmVxdWlyZSgnZGVmaW5lLXByb3BlcnRpZXMnKTtcbnZhciBnZXRQb2x5ZmlsbCA9IHJlcXVpcmUoJy4vcG9seWZpbGwnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzaGltQXNzaWduKCkge1xuXHR2YXIgcG9seWZpbGwgPSBnZXRQb2x5ZmlsbCgpO1xuXHRkZWZpbmUoXG5cdFx0T2JqZWN0LFxuXHRcdHsgYXNzaWduOiBwb2x5ZmlsbCB9LFxuXHRcdHsgYXNzaWduOiBmdW5jdGlvbiAoKSB7IHJldHVybiBPYmplY3QuYXNzaWduICE9PSBwb2x5ZmlsbDsgfSB9XG5cdCk7XG5cdHJldHVybiBwb2x5ZmlsbDtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBFUyA9IHJlcXVpcmUoJ2VzLWFic3RyYWN0L2VzNycpO1xudmFyIGhhcyA9IHJlcXVpcmUoJ2hhcycpO1xudmFyIGJpbmQgPSByZXF1aXJlKCdmdW5jdGlvbi1iaW5kJyk7XG52YXIgaXNFbnVtZXJhYmxlID0gYmluZC5jYWxsKEZ1bmN0aW9uLmNhbGwsIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGVudHJpZXMoTykge1xuXHR2YXIgb2JqID0gRVMuUmVxdWlyZU9iamVjdENvZXJjaWJsZShPKTtcblx0dmFyIGVudHJ5cyA9IFtdO1xuXHRmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG5cdFx0aWYgKGhhcyhvYmosIGtleSkgJiYgaXNFbnVtZXJhYmxlKG9iaiwga2V5KSkge1xuXHRcdFx0ZW50cnlzLnB1c2goW2tleSwgb2JqW2tleV1dKTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIGVudHJ5cztcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBkZWZpbmUgPSByZXF1aXJlKCdkZWZpbmUtcHJvcGVydGllcycpO1xuXG52YXIgaW1wbGVtZW50YXRpb24gPSByZXF1aXJlKCcuL2ltcGxlbWVudGF0aW9uJyk7XG52YXIgZ2V0UG9seWZpbGwgPSByZXF1aXJlKCcuL3BvbHlmaWxsJyk7XG52YXIgc2hpbSA9IHJlcXVpcmUoJy4vc2hpbScpO1xuXG52YXIgcG9seWZpbGwgPSBnZXRQb2x5ZmlsbCgpO1xuXG5kZWZpbmUocG9seWZpbGwsIHtcblx0Z2V0UG9seWZpbGw6IGdldFBvbHlmaWxsLFxuXHRpbXBsZW1lbnRhdGlvbjogaW1wbGVtZW50YXRpb24sXG5cdHNoaW06IHNoaW1cbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHBvbHlmaWxsO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaW1wbGVtZW50YXRpb24gPSByZXF1aXJlKCcuL2ltcGxlbWVudGF0aW9uJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2V0UG9seWZpbGwoKSB7XG5cdHJldHVybiB0eXBlb2YgT2JqZWN0LmVudHJpZXMgPT09ICdmdW5jdGlvbicgPyBPYmplY3QuZW50cmllcyA6IGltcGxlbWVudGF0aW9uO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGdldFBvbHlmaWxsID0gcmVxdWlyZSgnLi9wb2x5ZmlsbCcpO1xudmFyIGRlZmluZSA9IHJlcXVpcmUoJ2RlZmluZS1wcm9wZXJ0aWVzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc2hpbUVudHJpZXMoKSB7XG5cdHZhciBwb2x5ZmlsbCA9IGdldFBvbHlmaWxsKCk7XG5cdGRlZmluZShPYmplY3QsIHsgZW50cmllczogcG9seWZpbGwgfSwge1xuXHRcdGVudHJpZXM6IGZ1bmN0aW9uIHRlc3RFbnRyaWVzKCkge1xuXHRcdFx0cmV0dXJuIE9iamVjdC5lbnRyaWVzICE9PSBwb2x5ZmlsbDtcblx0XHR9XG5cdH0pO1xuXHRyZXR1cm4gcG9seWZpbGw7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgRVMgPSByZXF1aXJlKCdlcy1hYnN0cmFjdC9lczcnKTtcbnZhciBoYXMgPSByZXF1aXJlKCdoYXMnKTtcbnZhciBiaW5kID0gcmVxdWlyZSgnZnVuY3Rpb24tYmluZCcpO1xudmFyIGlzRW51bWVyYWJsZSA9IGJpbmQuY2FsbChGdW5jdGlvbi5jYWxsLCBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB2YWx1ZXMoTykge1xuXHR2YXIgb2JqID0gRVMuUmVxdWlyZU9iamVjdENvZXJjaWJsZShPKTtcblx0dmFyIHZhbHMgPSBbXTtcblx0Zm9yICh2YXIga2V5IGluIG9iaikge1xuXHRcdGlmIChoYXMob2JqLCBrZXkpICYmIGlzRW51bWVyYWJsZShvYmosIGtleSkpIHtcblx0XHRcdHZhbHMucHVzaChvYmpba2V5XSk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiB2YWxzO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGRlZmluZSA9IHJlcXVpcmUoJ2RlZmluZS1wcm9wZXJ0aWVzJyk7XG5cbnZhciBpbXBsZW1lbnRhdGlvbiA9IHJlcXVpcmUoJy4vaW1wbGVtZW50YXRpb24nKTtcbnZhciBnZXRQb2x5ZmlsbCA9IHJlcXVpcmUoJy4vcG9seWZpbGwnKTtcbnZhciBzaGltID0gcmVxdWlyZSgnLi9zaGltJyk7XG5cbnZhciBwb2x5ZmlsbCA9IGdldFBvbHlmaWxsKCk7XG5cbmRlZmluZShwb2x5ZmlsbCwge1xuXHRnZXRQb2x5ZmlsbDogZ2V0UG9seWZpbGwsXG5cdGltcGxlbWVudGF0aW9uOiBpbXBsZW1lbnRhdGlvbixcblx0c2hpbTogc2hpbVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gcG9seWZpbGw7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBpbXBsZW1lbnRhdGlvbiA9IHJlcXVpcmUoJy4vaW1wbGVtZW50YXRpb24nKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBnZXRQb2x5ZmlsbCgpIHtcblx0cmV0dXJuIHR5cGVvZiBPYmplY3QudmFsdWVzID09PSAnZnVuY3Rpb24nID8gT2JqZWN0LnZhbHVlcyA6IGltcGxlbWVudGF0aW9uO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIGdldFBvbHlmaWxsID0gcmVxdWlyZSgnLi9wb2x5ZmlsbCcpO1xudmFyIGRlZmluZSA9IHJlcXVpcmUoJ2RlZmluZS1wcm9wZXJ0aWVzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc2hpbVZhbHVlcygpIHtcblx0dmFyIHBvbHlmaWxsID0gZ2V0UG9seWZpbGwoKTtcblx0ZGVmaW5lKE9iamVjdCwgeyB2YWx1ZXM6IHBvbHlmaWxsIH0sIHtcblx0XHR2YWx1ZXM6IGZ1bmN0aW9uIHRlc3RWYWx1ZXMoKSB7XG5cdFx0XHRyZXR1cm4gT2JqZWN0LnZhbHVlcyAhPT0gcG9seWZpbGw7XG5cdFx0fVxuXHR9KTtcblx0cmV0dXJuIHBvbHlmaWxsO1xufTtcbiIsIk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxuZXhwb3J0c1snZGVmYXVsdCddID0gaXNQbGFpbk9iamVjdDtcbmZ1bmN0aW9uIGlzUGxhaW5PYmplY3QoeCkge1xuICByZXR1cm4geCAmJiAodHlwZW9mIHggPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHgpKSA9PT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkoeCk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzUGxhaW5PYmplY3QuanMubWFwIiwiT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IGZvcmJpZEV4dHJhUHJvcHM7XG5cbnZhciBfb2JqZWN0ID0gcmVxdWlyZSgnb2JqZWN0LmFzc2lnbicpO1xuXG52YXIgX29iamVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3QpO1xuXG52YXIgX2hhcyA9IHJlcXVpcmUoJ2hhcycpO1xuXG52YXIgX2hhczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9oYXMpO1xuXG52YXIgX2lzUGxhaW5PYmplY3QgPSByZXF1aXJlKCcuL2hlbHBlcnMvaXNQbGFpbk9iamVjdCcpO1xuXG52YXIgX2lzUGxhaW5PYmplY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNQbGFpbk9iamVjdCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxudmFyIHplcm9XaWR0aFNwYWNlID0gJ1xcdTIwMEInO1xudmFyIHNwZWNpYWxQcm9wZXJ0eSA9ICdwcm9wLXR5cGVzLWV4YWN0OiAnICsgemVyb1dpZHRoU3BhY2U7XG52YXIgc2VtYXBob3JlID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgU3ltYm9sWydmb3InXSA9PT0gJ2Z1bmN0aW9uJyA/IFN5bWJvbFsnZm9yJ10oc3BlY2lhbFByb3BlcnR5KSA6IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovc3BlY2lhbFByb3BlcnR5O1xuXG5mdW5jdGlvbiBicmFuZChmbikge1xuICByZXR1cm4gKDAsIF9vYmplY3QyWydkZWZhdWx0J10pKGZuLCBfZGVmaW5lUHJvcGVydHkoe30sIHNwZWNpYWxQcm9wZXJ0eSwgc2VtYXBob3JlKSk7XG59XG5cbmZ1bmN0aW9uIGlzQnJhbmRlZCh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgJiYgdmFsdWVbc3BlY2lhbFByb3BlcnR5XSA9PT0gc2VtYXBob3JlO1xufVxuXG5mdW5jdGlvbiBmb3JiaWRFeHRyYVByb3BzKHByb3BUeXBlcykge1xuICBpZiAoISgwLCBfaXNQbGFpbk9iamVjdDJbJ2RlZmF1bHQnXSkocHJvcFR5cGVzKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2dpdmVuIHByb3BUeXBlcyBtdXN0IGJlIGFuIG9iamVjdCcpO1xuICB9XG4gIGlmICgoMCwgX2hhczJbJ2RlZmF1bHQnXSkocHJvcFR5cGVzLCBzcGVjaWFsUHJvcGVydHkpICYmICFpc0JyYW5kZWQocHJvcFR5cGVzW3NwZWNpYWxQcm9wZXJ0eV0pKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQWdhaW5zdCBhbGwgb2RkcywgeW91IGNyZWF0ZWQgYSBwcm9wVHlwZSBmb3IgYSBwcm9wIHRoYXQgdXNlcyBib3RoIHRoZSB6ZXJvLXdpZHRoIHNwYWNlIGFuZCBvdXIgY3VzdG9tIHN0cmluZyAtIHdoaWNoLCBzYWRseSwgY29uZmxpY3RzIHdpdGggYHByb3AtdHlwZXMtZXhhY3RgJyk7XG4gIH1cblxuICByZXR1cm4gKDAsIF9vYmplY3QyWydkZWZhdWx0J10pKHt9LCBwcm9wVHlwZXMsIF9kZWZpbmVQcm9wZXJ0eSh7fSwgc3BlY2lhbFByb3BlcnR5LCBicmFuZChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gZm9yYmlkVW5rbm93blByb3BzKHByb3BzLCBfLCBjb21wb25lbnROYW1lKSB7XG4gICAgICB2YXIgdW5rbm93blByb3BzID0gT2JqZWN0LmtleXMocHJvcHMpLmZpbHRlcihmdW5jdGlvbiAocHJvcCkge1xuICAgICAgICByZXR1cm4gISgwLCBfaGFzMlsnZGVmYXVsdCddKShwcm9wVHlwZXMsIHByb3ApO1xuICAgICAgfSk7XG4gICAgICBpZiAodW5rbm93blByb3BzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoU3RyaW5nKGNvbXBvbmVudE5hbWUpICsgJzogdW5rbm93biBwcm9wcyBmb3VuZDogJyArIFN0cmluZyh1bmtub3duUHJvcHMuam9pbignLCAnKSkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZvcmJpZFVua25vd25Qcm9wcztcbiAgfSgpKSkpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEBwcm92aWRlc01vZHVsZSBzaGFsbG93Q29tcGFyZVxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIHNoYWxsb3dFcXVhbCA9IHJlcXVpcmUoJ2ZianMvbGliL3NoYWxsb3dFcXVhbCcpO1xuXG4vKipcbiAqIERvZXMgYSBzaGFsbG93IGNvbXBhcmlzb24gZm9yIHByb3BzIGFuZCBzdGF0ZS5cbiAqIFNlZSBSZWFjdENvbXBvbmVudFdpdGhQdXJlUmVuZGVyTWl4aW5cbiAqIFNlZSBhbHNvIGh0dHBzOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0L2RvY3Mvc2hhbGxvdy1jb21wYXJlLmh0bWxcbiAqL1xuZnVuY3Rpb24gc2hhbGxvd0NvbXBhcmUoaW5zdGFuY2UsIG5leHRQcm9wcywgbmV4dFN0YXRlKSB7XG4gIHJldHVybiAoXG4gICAgIXNoYWxsb3dFcXVhbChpbnN0YW5jZS5wcm9wcywgbmV4dFByb3BzKSB8fFxuICAgICFzaGFsbG93RXF1YWwoaW5zdGFuY2Uuc3RhdGUsIG5leHRTdGF0ZSlcbiAgKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzaGFsbG93Q29tcGFyZTtcbiIsIi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW5yZXNvbHZlZFxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2xpYicpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5QdXJlQ2FsZW5kYXJEYXkgPSB1bmRlZmluZWQ7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfb2JqZWN0ID0gcmVxdWlyZSgnb2JqZWN0LmFzc2lnbicpO1xuXG52YXIgX29iamVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3QpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX3JlYWN0QWRkb25zU2hhbGxvd0NvbXBhcmUgPSByZXF1aXJlKCdyZWFjdC1hZGRvbnMtc2hhbGxvdy1jb21wYXJlJyk7XG5cbnZhciBfcmVhY3RBZGRvbnNTaGFsbG93Q29tcGFyZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdEFkZG9uc1NoYWxsb3dDb21wYXJlKTtcblxudmFyIF9yZWFjdE1vbWVudFByb3B0eXBlcyA9IHJlcXVpcmUoJ3JlYWN0LW1vbWVudC1wcm9wdHlwZXMnKTtcblxudmFyIF9yZWFjdE1vbWVudFByb3B0eXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdE1vbWVudFByb3B0eXBlcyk7XG5cbnZhciBfYWlyYm5iUHJvcFR5cGVzID0gcmVxdWlyZSgnYWlyYm5iLXByb3AtdHlwZXMnKTtcblxudmFyIF9yZWFjdFdpdGhTdHlsZXMgPSByZXF1aXJlKCdyZWFjdC13aXRoLXN0eWxlcycpO1xuXG52YXIgX21vbWVudCA9IHJlcXVpcmUoJ21vbWVudCcpO1xuXG52YXIgX21vbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb21lbnQpO1xuXG52YXIgX2RlZmF1bHRQaHJhc2VzID0gcmVxdWlyZSgnLi4vZGVmYXVsdFBocmFzZXMnKTtcblxudmFyIF9nZXRQaHJhc2VQcm9wVHlwZXMgPSByZXF1aXJlKCcuLi91dGlscy9nZXRQaHJhc2VQcm9wVHlwZXMnKTtcblxudmFyIF9nZXRQaHJhc2VQcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UGhyYXNlUHJvcFR5cGVzKTtcblxudmFyIF9nZXRDYWxlbmRhckRheVNldHRpbmdzID0gcmVxdWlyZSgnLi4vdXRpbHMvZ2V0Q2FsZW5kYXJEYXlTZXR0aW5ncycpO1xuXG52YXIgX2dldENhbGVuZGFyRGF5U2V0dGluZ3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0Q2FsZW5kYXJEYXlTZXR0aW5ncyk7XG5cbnZhciBfTW9kaWZpZXJzU2hhcGUgPSByZXF1aXJlKCcuLi9zaGFwZXMvTW9kaWZpZXJzU2hhcGUnKTtcblxudmFyIF9Nb2RpZmllcnNTaGFwZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Nb2RpZmllcnNTaGFwZSk7XG5cbnZhciBfY29uc3RhbnRzID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgcHJvcFR5cGVzID0gKDAsIF9haXJibmJQcm9wVHlwZXMuZm9yYmlkRXh0cmFQcm9wcykoKDAsIF9vYmplY3QyWydkZWZhdWx0J10pKHt9LCBfcmVhY3RXaXRoU3R5bGVzLndpdGhTdHlsZXNQcm9wVHlwZXMsIHtcbiAgZGF5OiBfcmVhY3RNb21lbnRQcm9wdHlwZXMyWydkZWZhdWx0J10ubW9tZW50T2JqLFxuICBkYXlTaXplOiBfYWlyYm5iUHJvcFR5cGVzLm5vbk5lZ2F0aXZlSW50ZWdlcixcbiAgaXNPdXRzaWRlRGF5OiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmJvb2wsXG4gIG1vZGlmaWVyczogX01vZGlmaWVyc1NoYXBlMlsnZGVmYXVsdCddLFxuICBpc0ZvY3VzZWQ6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbCxcbiAgdGFiSW5kZXg6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10ub25lT2YoWzAsIC0xXSksXG4gIG9uRGF5Q2xpY2s6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYyxcbiAgb25EYXlNb3VzZUVudGVyOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsXG4gIG9uRGF5TW91c2VMZWF2ZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuICByZW5kZXJEYXlDb250ZW50czogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuICBhcmlhTGFiZWxGb3JtYXQ6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uc3RyaW5nLFxuXG4gIC8vIGludGVybmF0aW9uYWxpemF0aW9uXG4gIHBocmFzZXM6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uc2hhcGUoKDAsIF9nZXRQaHJhc2VQcm9wVHlwZXMyWydkZWZhdWx0J10pKF9kZWZhdWx0UGhyYXNlcy5DYWxlbmRhckRheVBocmFzZXMpKVxufSkpO1xuXG52YXIgZGVmYXVsdFByb3BzID0ge1xuICBkYXk6ICgwLCBfbW9tZW50MlsnZGVmYXVsdCddKSgpLFxuICBkYXlTaXplOiBfY29uc3RhbnRzLkRBWV9TSVpFLFxuICBpc091dHNpZGVEYXk6IGZhbHNlLFxuICBtb2RpZmllcnM6IG5ldyBTZXQoKSxcbiAgaXNGb2N1c2VkOiBmYWxzZSxcbiAgdGFiSW5kZXg6IC0xLFxuICBvbkRheUNsaWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gb25EYXlDbGljaygpIHt9XG5cbiAgICByZXR1cm4gb25EYXlDbGljaztcbiAgfSgpLFxuICBvbkRheU1vdXNlRW50ZXI6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBvbkRheU1vdXNlRW50ZXIoKSB7fVxuXG4gICAgcmV0dXJuIG9uRGF5TW91c2VFbnRlcjtcbiAgfSgpLFxuICBvbkRheU1vdXNlTGVhdmU6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBvbkRheU1vdXNlTGVhdmUoKSB7fVxuXG4gICAgcmV0dXJuIG9uRGF5TW91c2VMZWF2ZTtcbiAgfSgpLFxuXG4gIHJlbmRlckRheUNvbnRlbnRzOiBudWxsLFxuICBhcmlhTGFiZWxGb3JtYXQ6ICdkZGRkLCBMTCcsXG5cbiAgLy8gaW50ZXJuYXRpb25hbGl6YXRpb25cbiAgcGhyYXNlczogX2RlZmF1bHRQaHJhc2VzLkNhbGVuZGFyRGF5UGhyYXNlc1xufTtcblxudmFyIENhbGVuZGFyRGF5ID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKENhbGVuZGFyRGF5LCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDYWxlbmRhckRheSgpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDYWxlbmRhckRheSk7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoX3JlZiA9IENhbGVuZGFyRGF5Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoQ2FsZW5kYXJEYXkpKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKTtcblxuICAgIF90aGlzLnNldEJ1dHRvblJlZiA9IF90aGlzLnNldEJ1dHRvblJlZi5iaW5kKF90aGlzKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoQ2FsZW5kYXJEYXksIFt7XG4gICAga2V5OiAnc2hvdWxkQ29tcG9uZW50VXBkYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wcywgbmV4dFN0YXRlKSB7XG4gICAgICAgIHJldHVybiAoMCwgX3JlYWN0QWRkb25zU2hhbGxvd0NvbXBhcmUyWydkZWZhdWx0J10pKHRoaXMsIG5leHRQcm9wcywgbmV4dFN0YXRlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNob3VsZENvbXBvbmVudFVwZGF0ZTtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudERpZFVwZGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMpIHtcbiAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBpc0ZvY3VzZWQgPSBfcHJvcHMuaXNGb2N1c2VkLFxuICAgICAgICAgICAgdGFiSW5kZXggPSBfcHJvcHMudGFiSW5kZXg7XG5cbiAgICAgICAgaWYgKHRhYkluZGV4ID09PSAwKSB7XG4gICAgICAgICAgaWYgKGlzRm9jdXNlZCB8fCB0YWJJbmRleCAhPT0gcHJldlByb3BzLnRhYkluZGV4KSB7XG4gICAgICAgICAgICB0aGlzLmJ1dHRvblJlZi5mb2N1cygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29tcG9uZW50RGlkVXBkYXRlO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnb25EYXlDbGljaycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIG9uRGF5Q2xpY2soZGF5LCBlKSB7XG4gICAgICAgIHZhciBvbkRheUNsaWNrID0gdGhpcy5wcm9wcy5vbkRheUNsaWNrO1xuXG4gICAgICAgIG9uRGF5Q2xpY2soZGF5LCBlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9uRGF5Q2xpY2s7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdvbkRheU1vdXNlRW50ZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBvbkRheU1vdXNlRW50ZXIoZGF5LCBlKSB7XG4gICAgICAgIHZhciBvbkRheU1vdXNlRW50ZXIgPSB0aGlzLnByb3BzLm9uRGF5TW91c2VFbnRlcjtcblxuICAgICAgICBvbkRheU1vdXNlRW50ZXIoZGF5LCBlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9uRGF5TW91c2VFbnRlcjtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ29uRGF5TW91c2VMZWF2ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIG9uRGF5TW91c2VMZWF2ZShkYXksIGUpIHtcbiAgICAgICAgdmFyIG9uRGF5TW91c2VMZWF2ZSA9IHRoaXMucHJvcHMub25EYXlNb3VzZUxlYXZlO1xuXG4gICAgICAgIG9uRGF5TW91c2VMZWF2ZShkYXksIGUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gb25EYXlNb3VzZUxlYXZlO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnb25LZXlEb3duJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gb25LZXlEb3duKGRheSwgZSkge1xuICAgICAgICB2YXIgb25EYXlDbGljayA9IHRoaXMucHJvcHMub25EYXlDbGljaztcbiAgICAgICAgdmFyIGtleSA9IGUua2V5O1xuXG4gICAgICAgIGlmIChrZXkgPT09ICdFbnRlcicgfHwga2V5ID09PSAnICcpIHtcbiAgICAgICAgICBvbkRheUNsaWNrKGRheSwgZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9uS2V5RG93bjtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ3NldEJ1dHRvblJlZicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIHNldEJ1dHRvblJlZihyZWYpIHtcbiAgICAgICAgdGhpcy5idXR0b25SZWYgPSByZWY7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZXRCdXR0b25SZWY7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIGRheSA9IF9wcm9wczIuZGF5LFxuICAgICAgICAgICAgYXJpYUxhYmVsRm9ybWF0ID0gX3Byb3BzMi5hcmlhTGFiZWxGb3JtYXQsXG4gICAgICAgICAgICBkYXlTaXplID0gX3Byb3BzMi5kYXlTaXplLFxuICAgICAgICAgICAgaXNPdXRzaWRlRGF5ID0gX3Byb3BzMi5pc091dHNpZGVEYXksXG4gICAgICAgICAgICBtb2RpZmllcnMgPSBfcHJvcHMyLm1vZGlmaWVycyxcbiAgICAgICAgICAgIHJlbmRlckRheUNvbnRlbnRzID0gX3Byb3BzMi5yZW5kZXJEYXlDb250ZW50cyxcbiAgICAgICAgICAgIHRhYkluZGV4ID0gX3Byb3BzMi50YWJJbmRleCxcbiAgICAgICAgICAgIHN0eWxlcyA9IF9wcm9wczIuc3R5bGVzLFxuICAgICAgICAgICAgcGhyYXNlcyA9IF9wcm9wczIucGhyYXNlcztcblxuXG4gICAgICAgIGlmICghZGF5KSByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoJ3RkJywgbnVsbCk7XG5cbiAgICAgICAgdmFyIF9nZXRDYWxlbmRhckRheVNldHRpbiA9ICgwLCBfZ2V0Q2FsZW5kYXJEYXlTZXR0aW5nczJbJ2RlZmF1bHQnXSkoZGF5LCBhcmlhTGFiZWxGb3JtYXQsIGRheVNpemUsIG1vZGlmaWVycywgcGhyYXNlcyksXG4gICAgICAgICAgICBkYXlTaXplU3R5bGVzID0gX2dldENhbGVuZGFyRGF5U2V0dGluLmRheVNpemVTdHlsZXMsXG4gICAgICAgICAgICB1c2VEZWZhdWx0Q3Vyc29yID0gX2dldENhbGVuZGFyRGF5U2V0dGluLnVzZURlZmF1bHRDdXJzb3IsXG4gICAgICAgICAgICBzZWxlY3RlZCA9IF9nZXRDYWxlbmRhckRheVNldHRpbi5zZWxlY3RlZCxcbiAgICAgICAgICAgIGhvdmVyZWRTcGFuID0gX2dldENhbGVuZGFyRGF5U2V0dGluLmhvdmVyZWRTcGFuLFxuICAgICAgICAgICAgaXNPdXRzaWRlUmFuZ2UgPSBfZ2V0Q2FsZW5kYXJEYXlTZXR0aW4uaXNPdXRzaWRlUmFuZ2UsXG4gICAgICAgICAgICBhcmlhTGFiZWwgPSBfZ2V0Q2FsZW5kYXJEYXlTZXR0aW4uYXJpYUxhYmVsO1xuXG4gICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAndGQnLFxuICAgICAgICAgIF9leHRlbmRzKHt9LCAoMCwgX3JlYWN0V2l0aFN0eWxlcy5jc3MpKHN0eWxlcy5DYWxlbmRhckRheSwgdXNlRGVmYXVsdEN1cnNvciAmJiBzdHlsZXMuQ2FsZW5kYXJEYXlfX2RlZmF1bHRDdXJzb3IsIHN0eWxlcy5DYWxlbmRhckRheV9fZGVmYXVsdCwgaXNPdXRzaWRlRGF5ICYmIHN0eWxlcy5DYWxlbmRhckRheV9fb3V0c2lkZSwgbW9kaWZpZXJzLmhhcygndG9kYXknKSAmJiBzdHlsZXMuQ2FsZW5kYXJEYXlfX3RvZGF5LCBtb2RpZmllcnMuaGFzKCdmaXJzdC1kYXktb2Ytd2VlaycpICYmIHN0eWxlcy5DYWxlbmRhckRheV9fZmlyc3REYXlPZldlZWssIG1vZGlmaWVycy5oYXMoJ2xhc3QtZGF5LW9mLXdlZWsnKSAmJiBzdHlsZXMuQ2FsZW5kYXJEYXlfX2xhc3REYXlPZldlZWssIG1vZGlmaWVycy5oYXMoJ2hvdmVyZWQtb2Zmc2V0JykgJiYgc3R5bGVzLkNhbGVuZGFyRGF5X19ob3ZlcmVkX29mZnNldCwgbW9kaWZpZXJzLmhhcygnaGlnaGxpZ2h0ZWQtY2FsZW5kYXInKSAmJiBzdHlsZXMuQ2FsZW5kYXJEYXlfX2hpZ2hsaWdodGVkX2NhbGVuZGFyLCBtb2RpZmllcnMuaGFzKCdibG9ja2VkLW1pbmltdW0tbmlnaHRzJykgJiYgc3R5bGVzLkNhbGVuZGFyRGF5X19ibG9ja2VkX21pbmltdW1fbmlnaHRzLCBtb2RpZmllcnMuaGFzKCdibG9ja2VkLWNhbGVuZGFyJykgJiYgc3R5bGVzLkNhbGVuZGFyRGF5X19ibG9ja2VkX2NhbGVuZGFyLCBob3ZlcmVkU3BhbiAmJiBzdHlsZXMuQ2FsZW5kYXJEYXlfX2hvdmVyZWRfc3BhbiwgbW9kaWZpZXJzLmhhcygnc2VsZWN0ZWQtc3BhbicpICYmIHN0eWxlcy5DYWxlbmRhckRheV9fc2VsZWN0ZWRfc3BhbiwgbW9kaWZpZXJzLmhhcygnbGFzdC1pbi1yYW5nZScpICYmIHN0eWxlcy5DYWxlbmRhckRheV9fbGFzdF9pbl9yYW5nZSwgbW9kaWZpZXJzLmhhcygnc2VsZWN0ZWQtc3RhcnQnKSAmJiBzdHlsZXMuQ2FsZW5kYXJEYXlfX3NlbGVjdGVkX3N0YXJ0LCBtb2RpZmllcnMuaGFzKCdzZWxlY3RlZC1lbmQnKSAmJiBzdHlsZXMuQ2FsZW5kYXJEYXlfX3NlbGVjdGVkX2VuZCwgc2VsZWN0ZWQgJiYgc3R5bGVzLkNhbGVuZGFyRGF5X19zZWxlY3RlZCwgaXNPdXRzaWRlUmFuZ2UgJiYgc3R5bGVzLkNhbGVuZGFyRGF5X19ibG9ja2VkX291dF9vZl9yYW5nZSwgZGF5U2l6ZVN0eWxlcyksIHtcbiAgICAgICAgICAgIHJvbGU6ICdidXR0b24nIC8vIGVzbGludC1kaXNhYmxlLWxpbmUganN4LWExMXkvbm8tbm9uaW50ZXJhY3RpdmUtZWxlbWVudC10by1pbnRlcmFjdGl2ZS1yb2xlXG4gICAgICAgICAgICAsIHJlZjogdGhpcy5zZXRCdXR0b25SZWYsXG4gICAgICAgICAgICAnYXJpYS1sYWJlbCc6IGFyaWFMYWJlbCxcbiAgICAgICAgICAgIG9uTW91c2VFbnRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBmdW5jdGlvbiBvbk1vdXNlRW50ZXIoZSkge1xuICAgICAgICAgICAgICAgIF90aGlzMi5vbkRheU1vdXNlRW50ZXIoZGF5LCBlKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHJldHVybiBvbk1vdXNlRW50ZXI7XG4gICAgICAgICAgICB9KCksXG4gICAgICAgICAgICBvbk1vdXNlTGVhdmU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgZnVuY3Rpb24gb25Nb3VzZUxlYXZlKGUpIHtcbiAgICAgICAgICAgICAgICBfdGhpczIub25EYXlNb3VzZUxlYXZlKGRheSwgZSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICByZXR1cm4gb25Nb3VzZUxlYXZlO1xuICAgICAgICAgICAgfSgpLFxuICAgICAgICAgICAgb25Nb3VzZVVwOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIGZ1bmN0aW9uIG9uTW91c2VVcChlKSB7XG4gICAgICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LmJsdXIoKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHJldHVybiBvbk1vdXNlVXA7XG4gICAgICAgICAgICB9KCksXG4gICAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIGZ1bmN0aW9uIG9uQ2xpY2soZSkge1xuICAgICAgICAgICAgICAgIF90aGlzMi5vbkRheUNsaWNrKGRheSwgZSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICByZXR1cm4gb25DbGljaztcbiAgICAgICAgICAgIH0oKSxcbiAgICAgICAgICAgIG9uS2V5RG93bjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBmdW5jdGlvbiBvbktleURvd24oZSkge1xuICAgICAgICAgICAgICAgIF90aGlzMi5vbktleURvd24oZGF5LCBlKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHJldHVybiBvbktleURvd247XG4gICAgICAgICAgICB9KCksXG4gICAgICAgICAgICB0YWJJbmRleDogdGFiSW5kZXhcbiAgICAgICAgICB9KSxcbiAgICAgICAgICByZW5kZXJEYXlDb250ZW50cyA/IHJlbmRlckRheUNvbnRlbnRzKGRheSwgbW9kaWZpZXJzKSA6IGRheS5mb3JtYXQoJ0QnKVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVuZGVyO1xuICAgIH0oKVxuICB9XSk7XG5cbiAgcmV0dXJuIENhbGVuZGFyRGF5O1xufShfcmVhY3QyWydkZWZhdWx0J10uQ29tcG9uZW50KTtcblxuQ2FsZW5kYXJEYXkucHJvcFR5cGVzID0gcHJvcFR5cGVzO1xuQ2FsZW5kYXJEYXkuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xuXG5leHBvcnRzLlB1cmVDYWxlbmRhckRheSA9IENhbGVuZGFyRGF5O1xuZXhwb3J0c1snZGVmYXVsdCddID0gKDAsIF9yZWFjdFdpdGhTdHlsZXMud2l0aFN0eWxlcykoZnVuY3Rpb24gKF9yZWYyKSB7XG4gIHZhciBfcmVmMiRyZWFjdERhdGVzID0gX3JlZjIucmVhY3REYXRlcyxcbiAgICAgIGNvbG9yID0gX3JlZjIkcmVhY3REYXRlcy5jb2xvcixcbiAgICAgIGZvbnQgPSBfcmVmMiRyZWFjdERhdGVzLmZvbnQ7XG4gIHJldHVybiB7XG4gICAgQ2FsZW5kYXJEYXk6IHtcbiAgICAgIGJveFNpemluZzogJ2JvcmRlci1ib3gnLFxuICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICBmb250U2l6ZTogZm9udC5zaXplLFxuICAgICAgdGV4dEFsaWduOiAnY2VudGVyJyxcblxuICAgICAgJzphY3RpdmUnOiB7XG4gICAgICAgIG91dGxpbmU6IDBcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgQ2FsZW5kYXJEYXlfX2RlZmF1bHRDdXJzb3I6IHtcbiAgICAgIGN1cnNvcjogJ2RlZmF1bHQnXG4gICAgfSxcblxuICAgIENhbGVuZGFyRGF5X19kZWZhdWx0OiB7XG4gICAgICBib3JkZXI6ICcxcHggc29saWQgJyArIFN0cmluZyhjb2xvci5jb3JlLmJvcmRlckxpZ2h0KSxcbiAgICAgIGNvbG9yOiBjb2xvci50ZXh0LFxuICAgICAgYmFja2dyb3VuZDogY29sb3IuYmFja2dyb3VuZCxcblxuICAgICAgJzpob3Zlcic6IHtcbiAgICAgICAgYmFja2dyb3VuZDogY29sb3IuY29yZS5ib3JkZXJMaWdodCxcbiAgICAgICAgYm9yZGVyOiAnMXB4IGRvdWJsZSAnICsgU3RyaW5nKGNvbG9yLmNvcmUuYm9yZGVyTGlnaHQpLFxuICAgICAgICBjb2xvcjogJ2luaGVyaXQnXG4gICAgICB9XG4gICAgfSxcblxuICAgIENhbGVuZGFyRGF5X19ob3ZlcmVkX29mZnNldDoge1xuICAgICAgYmFja2dyb3VuZDogY29sb3IuY29yZS5ib3JkZXJCcmlnaHQsXG4gICAgICBib3JkZXI6ICcxcHggZG91YmxlICcgKyBTdHJpbmcoY29sb3IuY29yZS5ib3JkZXJMaWdodCksXG4gICAgICBjb2xvcjogJ2luaGVyaXQnXG4gICAgfSxcblxuICAgIENhbGVuZGFyRGF5X19vdXRzaWRlOiB7XG4gICAgICBib3JkZXI6IDAsXG4gICAgICBiYWNrZ3JvdW5kOiBjb2xvci5vdXRzaWRlLmJhY2tncm91bmRDb2xvcixcbiAgICAgIGNvbG9yOiBjb2xvci5vdXRzaWRlLmNvbG9yLFxuXG4gICAgICAnOmhvdmVyJzoge1xuICAgICAgICBib3JkZXI6IDBcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgQ2FsZW5kYXJEYXlfX2Jsb2NrZWRfbWluaW11bV9uaWdodHM6IHtcbiAgICAgIGJhY2tncm91bmQ6IGNvbG9yLm1pbmltdW1OaWdodHMuYmFja2dyb3VuZENvbG9yLFxuICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkICcgKyBTdHJpbmcoY29sb3IubWluaW11bU5pZ2h0cy5ib3JkZXJDb2xvciksXG4gICAgICBjb2xvcjogY29sb3IubWluaW11bU5pZ2h0cy5jb2xvcixcblxuICAgICAgJzpob3Zlcic6IHtcbiAgICAgICAgYmFja2dyb3VuZDogY29sb3IubWluaW11bU5pZ2h0cy5iYWNrZ3JvdW5kQ29sb3JfaG92ZXIsXG4gICAgICAgIGNvbG9yOiBjb2xvci5taW5pbXVtTmlnaHRzLmNvbG9yX2FjdGl2ZVxuICAgICAgfSxcblxuICAgICAgJzphY3RpdmUnOiB7XG4gICAgICAgIGJhY2tncm91bmQ6IGNvbG9yLm1pbmltdW1OaWdodHMuYmFja2dyb3VuZENvbG9yX2FjdGl2ZSxcbiAgICAgICAgY29sb3I6IGNvbG9yLm1pbmltdW1OaWdodHMuY29sb3JfYWN0aXZlXG4gICAgICB9XG4gICAgfSxcblxuICAgIENhbGVuZGFyRGF5X19oaWdobGlnaHRlZF9jYWxlbmRhcjoge1xuICAgICAgYmFja2dyb3VuZDogY29sb3IuaGlnaGxpZ2h0ZWQuYmFja2dyb3VuZENvbG9yLFxuICAgICAgY29sb3I6IGNvbG9yLmhpZ2hsaWdodGVkLmNvbG9yLFxuXG4gICAgICAnOmhvdmVyJzoge1xuICAgICAgICBiYWNrZ3JvdW5kOiBjb2xvci5oaWdobGlnaHRlZC5iYWNrZ3JvdW5kQ29sb3JfaG92ZXIsXG4gICAgICAgIGNvbG9yOiBjb2xvci5oaWdobGlnaHRlZC5jb2xvcl9hY3RpdmVcbiAgICAgIH0sXG5cbiAgICAgICc6YWN0aXZlJzoge1xuICAgICAgICBiYWNrZ3JvdW5kOiBjb2xvci5oaWdobGlnaHRlZC5iYWNrZ3JvdW5kQ29sb3JfYWN0aXZlLFxuICAgICAgICBjb2xvcjogY29sb3IuaGlnaGxpZ2h0ZWQuY29sb3JfYWN0aXZlXG4gICAgICB9XG4gICAgfSxcblxuICAgIENhbGVuZGFyRGF5X19zZWxlY3RlZF9zcGFuOiB7XG4gICAgICBiYWNrZ3JvdW5kOiBjb2xvci5zZWxlY3RlZFNwYW4uYmFja2dyb3VuZENvbG9yLFxuICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkICcgKyBTdHJpbmcoY29sb3Iuc2VsZWN0ZWRTcGFuLmJvcmRlckNvbG9yKSxcbiAgICAgIGNvbG9yOiBjb2xvci5zZWxlY3RlZFNwYW4uY29sb3IsXG5cbiAgICAgICc6aG92ZXInOiB7XG4gICAgICAgIGJhY2tncm91bmQ6IGNvbG9yLnNlbGVjdGVkU3Bhbi5iYWNrZ3JvdW5kQ29sb3JfaG92ZXIsXG4gICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCAnICsgU3RyaW5nKGNvbG9yLnNlbGVjdGVkU3Bhbi5ib3JkZXJDb2xvciksXG4gICAgICAgIGNvbG9yOiBjb2xvci5zZWxlY3RlZFNwYW4uY29sb3JfYWN0aXZlXG4gICAgICB9LFxuXG4gICAgICAnOmFjdGl2ZSc6IHtcbiAgICAgICAgYmFja2dyb3VuZDogY29sb3Iuc2VsZWN0ZWRTcGFuLmJhY2tncm91bmRDb2xvcl9hY3RpdmUsXG4gICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCAnICsgU3RyaW5nKGNvbG9yLnNlbGVjdGVkU3Bhbi5ib3JkZXJDb2xvciksXG4gICAgICAgIGNvbG9yOiBjb2xvci5zZWxlY3RlZFNwYW4uY29sb3JfYWN0aXZlXG4gICAgICB9XG4gICAgfSxcblxuICAgIENhbGVuZGFyRGF5X19sYXN0X2luX3JhbmdlOiB7XG4gICAgICBib3JkZXJSaWdodDogY29sb3IuY29yZS5wcmltYXJ5XG4gICAgfSxcblxuICAgIENhbGVuZGFyRGF5X19zZWxlY3RlZDoge1xuICAgICAgYmFja2dyb3VuZDogY29sb3Iuc2VsZWN0ZWQuYmFja2dyb3VuZENvbG9yLFxuICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkICcgKyBTdHJpbmcoY29sb3Iuc2VsZWN0ZWQuYm9yZGVyQ29sb3IpLFxuICAgICAgY29sb3I6IGNvbG9yLnNlbGVjdGVkLmNvbG9yLFxuXG4gICAgICAnOmhvdmVyJzoge1xuICAgICAgICBiYWNrZ3JvdW5kOiBjb2xvci5zZWxlY3RlZC5iYWNrZ3JvdW5kQ29sb3JfaG92ZXIsXG4gICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCAnICsgU3RyaW5nKGNvbG9yLnNlbGVjdGVkLmJvcmRlckNvbG9yKSxcbiAgICAgICAgY29sb3I6IGNvbG9yLnNlbGVjdGVkLmNvbG9yX2FjdGl2ZVxuICAgICAgfSxcblxuICAgICAgJzphY3RpdmUnOiB7XG4gICAgICAgIGJhY2tncm91bmQ6IGNvbG9yLnNlbGVjdGVkLmJhY2tncm91bmRDb2xvcl9hY3RpdmUsXG4gICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCAnICsgU3RyaW5nKGNvbG9yLnNlbGVjdGVkLmJvcmRlckNvbG9yKSxcbiAgICAgICAgY29sb3I6IGNvbG9yLnNlbGVjdGVkLmNvbG9yX2FjdGl2ZVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBDYWxlbmRhckRheV9faG92ZXJlZF9zcGFuOiB7XG4gICAgICBiYWNrZ3JvdW5kOiBjb2xvci5ob3ZlcmVkU3Bhbi5iYWNrZ3JvdW5kQ29sb3IsXG4gICAgICBib3JkZXI6ICcxcHggc29saWQgJyArIFN0cmluZyhjb2xvci5ob3ZlcmVkU3Bhbi5ib3JkZXJDb2xvciksXG4gICAgICBjb2xvcjogY29sb3IuaG92ZXJlZFNwYW4uY29sb3IsXG5cbiAgICAgICc6aG92ZXInOiB7XG4gICAgICAgIGJhY2tncm91bmQ6IGNvbG9yLmhvdmVyZWRTcGFuLmJhY2tncm91bmRDb2xvcl9ob3ZlcixcbiAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkICcgKyBTdHJpbmcoY29sb3IuaG92ZXJlZFNwYW4uYm9yZGVyQ29sb3IpLFxuICAgICAgICBjb2xvcjogY29sb3IuaG92ZXJlZFNwYW4uY29sb3JfYWN0aXZlXG4gICAgICB9LFxuXG4gICAgICAnOmFjdGl2ZSc6IHtcbiAgICAgICAgYmFja2dyb3VuZDogY29sb3IuaG92ZXJlZFNwYW4uYmFja2dyb3VuZENvbG9yX2FjdGl2ZSxcbiAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkICcgKyBTdHJpbmcoY29sb3IuaG92ZXJlZFNwYW4uYm9yZGVyQ29sb3IpLFxuICAgICAgICBjb2xvcjogY29sb3IuaG92ZXJlZFNwYW4uY29sb3JfYWN0aXZlXG4gICAgICB9XG4gICAgfSxcblxuICAgIENhbGVuZGFyRGF5X19ibG9ja2VkX2NhbGVuZGFyOiB7XG4gICAgICBiYWNrZ3JvdW5kOiBjb2xvci5ibG9ja2VkX2NhbGVuZGFyLmJhY2tncm91bmRDb2xvcixcbiAgICAgIGJvcmRlcjogJzFweCBzb2xpZCAnICsgU3RyaW5nKGNvbG9yLmJsb2NrZWRfY2FsZW5kYXIuYm9yZGVyQ29sb3IpLFxuICAgICAgY29sb3I6IGNvbG9yLmJsb2NrZWRfY2FsZW5kYXIuY29sb3IsXG5cbiAgICAgICc6aG92ZXInOiB7XG4gICAgICAgIGJhY2tncm91bmQ6IGNvbG9yLmJsb2NrZWRfY2FsZW5kYXIuYmFja2dyb3VuZENvbG9yX2hvdmVyLFxuICAgICAgICBib3JkZXI6ICcxcHggc29saWQgJyArIFN0cmluZyhjb2xvci5ibG9ja2VkX2NhbGVuZGFyLmJvcmRlckNvbG9yKSxcbiAgICAgICAgY29sb3I6IGNvbG9yLmJsb2NrZWRfY2FsZW5kYXIuY29sb3JfYWN0aXZlXG4gICAgICB9LFxuXG4gICAgICAnOmFjdGl2ZSc6IHtcbiAgICAgICAgYmFja2dyb3VuZDogY29sb3IuYmxvY2tlZF9jYWxlbmRhci5iYWNrZ3JvdW5kQ29sb3JfYWN0aXZlLFxuICAgICAgICBib3JkZXI6ICcxcHggc29saWQgJyArIFN0cmluZyhjb2xvci5ibG9ja2VkX2NhbGVuZGFyLmJvcmRlckNvbG9yKSxcbiAgICAgICAgY29sb3I6IGNvbG9yLmJsb2NrZWRfY2FsZW5kYXIuY29sb3JfYWN0aXZlXG4gICAgICB9XG4gICAgfSxcblxuICAgIENhbGVuZGFyRGF5X19ibG9ja2VkX291dF9vZl9yYW5nZToge1xuICAgICAgYmFja2dyb3VuZDogY29sb3IuYmxvY2tlZF9vdXRfb2ZfcmFuZ2UuYmFja2dyb3VuZENvbG9yLFxuICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkICcgKyBTdHJpbmcoY29sb3IuYmxvY2tlZF9vdXRfb2ZfcmFuZ2UuYm9yZGVyQ29sb3IpLFxuICAgICAgY29sb3I6IGNvbG9yLmJsb2NrZWRfb3V0X29mX3JhbmdlLmNvbG9yLFxuXG4gICAgICAnOmhvdmVyJzoge1xuICAgICAgICBiYWNrZ3JvdW5kOiBjb2xvci5ibG9ja2VkX291dF9vZl9yYW5nZS5iYWNrZ3JvdW5kQ29sb3JfaG92ZXIsXG4gICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCAnICsgU3RyaW5nKGNvbG9yLmJsb2NrZWRfb3V0X29mX3JhbmdlLmJvcmRlckNvbG9yKSxcbiAgICAgICAgY29sb3I6IGNvbG9yLmJsb2NrZWRfb3V0X29mX3JhbmdlLmNvbG9yX2FjdGl2ZVxuICAgICAgfSxcblxuICAgICAgJzphY3RpdmUnOiB7XG4gICAgICAgIGJhY2tncm91bmQ6IGNvbG9yLmJsb2NrZWRfb3V0X29mX3JhbmdlLmJhY2tncm91bmRDb2xvcl9hY3RpdmUsXG4gICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCAnICsgU3RyaW5nKGNvbG9yLmJsb2NrZWRfb3V0X29mX3JhbmdlLmJvcmRlckNvbG9yKSxcbiAgICAgICAgY29sb3I6IGNvbG9yLmJsb2NrZWRfb3V0X29mX3JhbmdlLmNvbG9yX2FjdGl2ZVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBDYWxlbmRhckRheV9fc2VsZWN0ZWRfc3RhcnQ6IHt9LFxuICAgIENhbGVuZGFyRGF5X19zZWxlY3RlZF9lbmQ6IHt9LFxuICAgIENhbGVuZGFyRGF5X190b2RheToge30sXG4gICAgQ2FsZW5kYXJEYXlfX2ZpcnN0RGF5T2ZXZWVrOiB7fSxcbiAgICBDYWxlbmRhckRheV9fbGFzdERheU9mV2Vlazoge31cbiAgfTtcbn0pKENhbGVuZGFyRGF5KTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG52YXIgQ2FsZW5kYXJJY29uID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBDYWxlbmRhckljb24ocHJvcHMpIHtcbiAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAnc3ZnJyxcbiAgICAgIHByb3BzLFxuICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoJ3BhdGgnLCB7XG4gICAgICAgIGQ6ICdNMTA3LjIgMTM5Mi45aDI0MS4xdi0yNDEuMUgxMDcuMnYyNDEuMXptMjk0LjcgMGgyNjcuOXYtMjQxLjFINDAxLjl2MjQxLjF6bS0yOTQuNy0yOTQuN2gyNDEuMVY4MzAuNEgxMDcuMnYyNjcuOHptMjk0LjcgMGgyNjcuOVY4MzAuNEg0MDEuOXYyNjcuOHpNMTA3LjIgNzc2LjhoMjQxLjFWNTM1LjdIMTA3LjJ2MjQxLjF6bTYxNi4yIDYxNi4xaDI2Ny45di0yNDEuMUg3MjMuNHYyNDEuMXpNNDAxLjkgNzc2LjhoMjY3LjlWNTM1LjdINDAxLjl2MjQxLjF6bTY0Mi45IDYxNi4xSDEyODZ2LTI0MS4xaC0yNDEuMXYyNDEuMXptLTMyMS40LTI5NC43aDI2Ny45VjgzMC40SDcyMy40djI2Ny44ek00MjguNyAzNzVWMTMzLjljMC03LjMtMi43LTEzLjUtOC0xOC44LTUuMy01LjMtMTEuNi04LTE4LjgtOGgtNTMuNmMtNy4zIDAtMTMuNSAyLjctMTguOCA4LTUuMyA1LjMtOCAxMS42LTggMTguOFYzNzVjMCA3LjMgMi43IDEzLjUgOCAxOC44IDUuMyA1LjMgMTEuNiA4IDE4LjggOGg1My42YzcuMyAwIDEzLjUtMi43IDE4LjgtOCA1LjMtNS4zIDgtMTEuNSA4LTE4Ljh6bTYxNi4xIDcyMy4ySDEyODZWODMwLjRoLTI0MS4xdjI2Ny44ek03MjMuNCA3NzYuOGgyNjcuOVY1MzUuN0g3MjMuNHYyNDEuMXptMzIxLjQgMEgxMjg2VjUzNS43aC0yNDEuMXYyNDEuMXptMjYuOC00MDEuOFYxMzMuOWMwLTcuMy0yLjctMTMuNS04LTE4LjgtNS4zLTUuMy0xMS42LTgtMTguOC04aC01My42Yy03LjMgMC0xMy41IDIuNy0xOC44IDgtNS4zIDUuMy04IDExLjYtOCAxOC44VjM3NWMwIDcuMyAyLjcgMTMuNSA4IDE4LjggNS4zIDUuMyAxMS42IDggMTguOCA4aDUzLjZjNy4zIDAgMTMuNS0yLjcgMTguOC04IDUuNC01LjMgOC0xMS41IDgtMTguOHptMzIxLjUtNTMuNnYxMDcxLjRjMCAyOS0xMC42IDU0LjEtMzEuOCA3NS4zLTIxLjIgMjEuMi00Ni4zIDMxLjgtNzUuMyAzMS44SDEwNy4yYy0yOSAwLTU0LjEtMTAuNi03NS4zLTMxLjhDMTAuNiAxNDQ3IDAgMTQyMS45IDAgMTM5Mi45VjMyMS40YzAtMjkgMTAuNi01NC4xIDMxLjgtNzUuM3M0Ni4zLTMxLjggNzUuMy0zMS44aDEwNy4ydi04MC40YzAtMzYuOCAxMy4xLTY4LjQgMzkuMy05NC42UzMxMS40IDAgMzQ4LjMgMGg1My42YzM2LjggMCA2OC40IDEzLjEgOTQuNiAzOS4zIDI2LjIgMjYuMiAzOS4zIDU3LjggMzkuMyA5NC42djgwLjRoMzIxLjV2LTgwLjRjMC0zNi44IDEzLjEtNjguNCAzOS4zLTk0LjZDOTIyLjkgMTMuMSA5NTQuNCAwIDk5MS4zIDBoNTMuNmMzNi44IDAgNjguNCAxMy4xIDk0LjYgMzkuM3MzOS4zIDU3LjggMzkuMyA5NC42djgwLjRIMTI4NmMyOSAwIDU0LjEgMTAuNiA3NS4zIDMxLjggMjEuMiAyMS4yIDMxLjggNDYuMyAzMS44IDc1LjN6J1xuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIENhbGVuZGFySWNvbjtcbn0oKTtcblxuQ2FsZW5kYXJJY29uLmRlZmF1bHRQcm9wcyA9IHtcbiAgdmlld0JveDogJzAgMCAxMzkzLjEgMTUwMCdcbn07XG5leHBvcnRzWydkZWZhdWx0J10gPSBDYWxlbmRhckljb247IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX29iamVjdCA9IHJlcXVpcmUoJ29iamVjdC5hc3NpZ24nKTtcblxudmFyIF9vYmplY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0KTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9yZWFjdEFkZG9uc1NoYWxsb3dDb21wYXJlID0gcmVxdWlyZSgncmVhY3QtYWRkb25zLXNoYWxsb3ctY29tcGFyZScpO1xuXG52YXIgX3JlYWN0QWRkb25zU2hhbGxvd0NvbXBhcmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3RBZGRvbnNTaGFsbG93Q29tcGFyZSk7XG5cbnZhciBfcmVhY3RNb21lbnRQcm9wdHlwZXMgPSByZXF1aXJlKCdyZWFjdC1tb21lbnQtcHJvcHR5cGVzJyk7XG5cbnZhciBfcmVhY3RNb21lbnRQcm9wdHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3RNb21lbnRQcm9wdHlwZXMpO1xuXG52YXIgX2FpcmJuYlByb3BUeXBlcyA9IHJlcXVpcmUoJ2FpcmJuYi1wcm9wLXR5cGVzJyk7XG5cbnZhciBfcmVhY3RXaXRoU3R5bGVzID0gcmVxdWlyZSgncmVhY3Qtd2l0aC1zdHlsZXMnKTtcblxudmFyIF9tb21lbnQgPSByZXF1aXJlKCdtb21lbnQnKTtcblxudmFyIF9tb21lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbW9tZW50KTtcblxudmFyIF9kZWZhdWx0UGhyYXNlcyA9IHJlcXVpcmUoJy4uL2RlZmF1bHRQaHJhc2VzJyk7XG5cbnZhciBfZ2V0UGhyYXNlUHJvcFR5cGVzID0gcmVxdWlyZSgnLi4vdXRpbHMvZ2V0UGhyYXNlUHJvcFR5cGVzJyk7XG5cbnZhciBfZ2V0UGhyYXNlUHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFBocmFzZVByb3BUeXBlcyk7XG5cbnZhciBfQ2FsZW5kYXJXZWVrID0gcmVxdWlyZSgnLi9DYWxlbmRhcldlZWsnKTtcblxudmFyIF9DYWxlbmRhcldlZWsyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FsZW5kYXJXZWVrKTtcblxudmFyIF9DYWxlbmRhckRheSA9IHJlcXVpcmUoJy4vQ2FsZW5kYXJEYXknKTtcblxudmFyIF9DYWxlbmRhckRheTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYWxlbmRhckRheSk7XG5cbnZhciBfY2FsY3VsYXRlRGltZW5zaW9uID0gcmVxdWlyZSgnLi4vdXRpbHMvY2FsY3VsYXRlRGltZW5zaW9uJyk7XG5cbnZhciBfY2FsY3VsYXRlRGltZW5zaW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NhbGN1bGF0ZURpbWVuc2lvbik7XG5cbnZhciBfZ2V0Q2FsZW5kYXJNb250aFdlZWtzID0gcmVxdWlyZSgnLi4vdXRpbHMvZ2V0Q2FsZW5kYXJNb250aFdlZWtzJyk7XG5cbnZhciBfZ2V0Q2FsZW5kYXJNb250aFdlZWtzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldENhbGVuZGFyTW9udGhXZWVrcyk7XG5cbnZhciBfaXNTYW1lRGF5ID0gcmVxdWlyZSgnLi4vdXRpbHMvaXNTYW1lRGF5Jyk7XG5cbnZhciBfaXNTYW1lRGF5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzU2FtZURheSk7XG5cbnZhciBfdG9JU09EYXRlU3RyaW5nID0gcmVxdWlyZSgnLi4vdXRpbHMvdG9JU09EYXRlU3RyaW5nJyk7XG5cbnZhciBfdG9JU09EYXRlU3RyaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RvSVNPRGF0ZVN0cmluZyk7XG5cbnZhciBfTW9kaWZpZXJzU2hhcGUgPSByZXF1aXJlKCcuLi9zaGFwZXMvTW9kaWZpZXJzU2hhcGUnKTtcblxudmFyIF9Nb2RpZmllcnNTaGFwZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Nb2RpZmllcnNTaGFwZSk7XG5cbnZhciBfU2Nyb2xsYWJsZU9yaWVudGF0aW9uU2hhcGUgPSByZXF1aXJlKCcuLi9zaGFwZXMvU2Nyb2xsYWJsZU9yaWVudGF0aW9uU2hhcGUnKTtcblxudmFyIF9TY3JvbGxhYmxlT3JpZW50YXRpb25TaGFwZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TY3JvbGxhYmxlT3JpZW50YXRpb25TaGFwZSk7XG5cbnZhciBfRGF5T2ZXZWVrU2hhcGUgPSByZXF1aXJlKCcuLi9zaGFwZXMvRGF5T2ZXZWVrU2hhcGUnKTtcblxudmFyIF9EYXlPZldlZWtTaGFwZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EYXlPZldlZWtTaGFwZSk7XG5cbnZhciBfY29uc3RhbnRzID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfSAvKiBlc2xpbnQgcmVhY3Qvbm8tYXJyYXktaW5kZXgta2V5OiAwICovXG5cbnZhciBwcm9wVHlwZXMgPSAoMCwgX2FpcmJuYlByb3BUeXBlcy5mb3JiaWRFeHRyYVByb3BzKSgoMCwgX29iamVjdDJbJ2RlZmF1bHQnXSkoe30sIF9yZWFjdFdpdGhTdHlsZXMud2l0aFN0eWxlc1Byb3BUeXBlcywge1xuICBtb250aDogX3JlYWN0TW9tZW50UHJvcHR5cGVzMlsnZGVmYXVsdCddLm1vbWVudE9iaixcbiAgaG9yaXpvbnRhbE1vbnRoUGFkZGluZzogX2FpcmJuYlByb3BUeXBlcy5ub25OZWdhdGl2ZUludGVnZXIsXG4gIGlzVmlzaWJsZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ib29sLFxuICBlbmFibGVPdXRzaWRlRGF5czogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ib29sLFxuICBtb2RpZmllcnM6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10ub2JqZWN0T2YoX01vZGlmaWVyc1NoYXBlMlsnZGVmYXVsdCddKSxcbiAgb3JpZW50YXRpb246IF9TY3JvbGxhYmxlT3JpZW50YXRpb25TaGFwZTJbJ2RlZmF1bHQnXSxcbiAgZGF5U2l6ZTogX2FpcmJuYlByb3BUeXBlcy5ub25OZWdhdGl2ZUludGVnZXIsXG4gIG9uRGF5Q2xpY2s6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYyxcbiAgb25EYXlNb3VzZUVudGVyOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsXG4gIG9uRGF5TW91c2VMZWF2ZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuICBvbk1vbnRoU2VsZWN0OiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsXG4gIG9uWWVhclNlbGVjdDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuICByZW5kZXJNb250aFRleHQ6ICgwLCBfYWlyYm5iUHJvcFR5cGVzLm11dHVhbGx5RXhjbHVzaXZlUHJvcHMpKF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYywgJ3JlbmRlck1vbnRoVGV4dCcsICdyZW5kZXJNb250aEVsZW1lbnQnKSxcbiAgcmVuZGVyQ2FsZW5kYXJEYXk6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYyxcbiAgcmVuZGVyRGF5Q29udGVudHM6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYyxcbiAgcmVuZGVyTW9udGhFbGVtZW50OiAoMCwgX2FpcmJuYlByb3BUeXBlcy5tdXR1YWxseUV4Y2x1c2l2ZVByb3BzKShfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsICdyZW5kZXJNb250aFRleHQnLCAncmVuZGVyTW9udGhFbGVtZW50JyksXG4gIGZpcnN0RGF5T2ZXZWVrOiBfRGF5T2ZXZWVrU2hhcGUyWydkZWZhdWx0J10sXG4gIHNldE1vbnRoVGl0bGVIZWlnaHQ6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYyxcbiAgdmVydGljYWxCb3JkZXJTcGFjaW5nOiBfYWlyYm5iUHJvcFR5cGVzLm5vbk5lZ2F0aXZlSW50ZWdlcixcblxuICBmb2N1c2VkRGF0ZTogX3JlYWN0TW9tZW50UHJvcHR5cGVzMlsnZGVmYXVsdCddLm1vbWVudE9iaiwgLy8gaW5kaWNhdGVzIGZvY3VzYWJsZSBkYXlcbiAgaXNGb2N1c2VkOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmJvb2wsIC8vIGluZGljYXRlcyB3aGV0aGVyIG9yIG5vdCB0byBtb3ZlIGZvY3VzIHRvIGZvY3VzYWJsZSBkYXlcblxuICAvLyBpMThuXG4gIG1vbnRoRm9ybWF0OiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLnN0cmluZyxcbiAgcGhyYXNlczogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zaGFwZSgoMCwgX2dldFBocmFzZVByb3BUeXBlczJbJ2RlZmF1bHQnXSkoX2RlZmF1bHRQaHJhc2VzLkNhbGVuZGFyRGF5UGhyYXNlcykpLFxuICBkYXlBcmlhTGFiZWxGb3JtYXQ6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uc3RyaW5nXG59KSk7XG5cbnZhciBkZWZhdWx0UHJvcHMgPSB7XG4gIG1vbnRoOiAoMCwgX21vbWVudDJbJ2RlZmF1bHQnXSkoKSxcbiAgaG9yaXpvbnRhbE1vbnRoUGFkZGluZzogMTMsXG4gIGlzVmlzaWJsZTogdHJ1ZSxcbiAgZW5hYmxlT3V0c2lkZURheXM6IGZhbHNlLFxuICBtb2RpZmllcnM6IHt9LFxuICBvcmllbnRhdGlvbjogX2NvbnN0YW50cy5IT1JJWk9OVEFMX09SSUVOVEFUSU9OLFxuICBkYXlTaXplOiBfY29uc3RhbnRzLkRBWV9TSVpFLFxuICBvbkRheUNsaWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gb25EYXlDbGljaygpIHt9XG5cbiAgICByZXR1cm4gb25EYXlDbGljaztcbiAgfSgpLFxuICBvbkRheU1vdXNlRW50ZXI6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBvbkRheU1vdXNlRW50ZXIoKSB7fVxuXG4gICAgcmV0dXJuIG9uRGF5TW91c2VFbnRlcjtcbiAgfSgpLFxuICBvbkRheU1vdXNlTGVhdmU6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBvbkRheU1vdXNlTGVhdmUoKSB7fVxuXG4gICAgcmV0dXJuIG9uRGF5TW91c2VMZWF2ZTtcbiAgfSgpLFxuICBvbk1vbnRoU2VsZWN0OiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gb25Nb250aFNlbGVjdCgpIHt9XG5cbiAgICByZXR1cm4gb25Nb250aFNlbGVjdDtcbiAgfSgpLFxuICBvblllYXJTZWxlY3Q6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBvblllYXJTZWxlY3QoKSB7fVxuXG4gICAgcmV0dXJuIG9uWWVhclNlbGVjdDtcbiAgfSgpLFxuXG4gIHJlbmRlck1vbnRoVGV4dDogbnVsbCxcbiAgcmVuZGVyQ2FsZW5kYXJEYXk6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiByZW5kZXJDYWxlbmRhckRheShwcm9wcykge1xuICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KF9DYWxlbmRhckRheTJbJ2RlZmF1bHQnXSwgcHJvcHMpO1xuICAgIH1cblxuICAgIHJldHVybiByZW5kZXJDYWxlbmRhckRheTtcbiAgfSgpLFxuICByZW5kZXJEYXlDb250ZW50czogbnVsbCxcbiAgcmVuZGVyTW9udGhFbGVtZW50OiBudWxsLFxuICBmaXJzdERheU9mV2VlazogbnVsbCxcbiAgc2V0TW9udGhUaXRsZUhlaWdodDogbnVsbCxcblxuICBmb2N1c2VkRGF0ZTogbnVsbCxcbiAgaXNGb2N1c2VkOiBmYWxzZSxcblxuICAvLyBpMThuXG4gIG1vbnRoRm9ybWF0OiAnTU1NTSBZWVlZJywgLy8gZW5nbGlzaCBsb2NhbGVcbiAgcGhyYXNlczogX2RlZmF1bHRQaHJhc2VzLkNhbGVuZGFyRGF5UGhyYXNlcyxcbiAgZGF5QXJpYUxhYmVsRm9ybWF0OiB1bmRlZmluZWQsXG4gIHZlcnRpY2FsQm9yZGVyU3BhY2luZzogdW5kZWZpbmVkXG59O1xuXG52YXIgQ2FsZW5kYXJNb250aCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhDYWxlbmRhck1vbnRoLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDYWxlbmRhck1vbnRoKHByb3BzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENhbGVuZGFyTW9udGgpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKENhbGVuZGFyTW9udGguX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihDYWxlbmRhck1vbnRoKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICB3ZWVrczogKDAsIF9nZXRDYWxlbmRhck1vbnRoV2Vla3MyWydkZWZhdWx0J10pKHByb3BzLm1vbnRoLCBwcm9wcy5lbmFibGVPdXRzaWRlRGF5cywgcHJvcHMuZmlyc3REYXlPZldlZWsgPT0gbnVsbCA/IF9tb21lbnQyWydkZWZhdWx0J10ubG9jYWxlRGF0YSgpLmZpcnN0RGF5T2ZXZWVrKCkgOiBwcm9wcy5maXJzdERheU9mV2VlaylcbiAgICB9O1xuXG4gICAgX3RoaXMuc2V0Q2FwdGlvblJlZiA9IF90aGlzLnNldENhcHRpb25SZWYuYmluZChfdGhpcyk7XG4gICAgX3RoaXMuc2V0TW9udGhUaXRsZUhlaWdodCA9IF90aGlzLnNldE1vbnRoVGl0bGVIZWlnaHQuYmluZChfdGhpcyk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKENhbGVuZGFyTW9udGgsIFt7XG4gICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgdGhpcy5zZXRNb250aFRpdGxlSGVpZ2h0VGltZW91dCA9IHNldFRpbWVvdXQodGhpcy5zZXRNb250aFRpdGxlSGVpZ2h0LCAwKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbXBvbmVudERpZE1vdW50O1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICAgIHZhciBtb250aCA9IG5leHRQcm9wcy5tb250aCxcbiAgICAgICAgICAgIGVuYWJsZU91dHNpZGVEYXlzID0gbmV4dFByb3BzLmVuYWJsZU91dHNpZGVEYXlzLFxuICAgICAgICAgICAgZmlyc3REYXlPZldlZWsgPSBuZXh0UHJvcHMuZmlyc3REYXlPZldlZWs7XG4gICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgcHJldk1vbnRoID0gX3Byb3BzLm1vbnRoLFxuICAgICAgICAgICAgcHJldkVuYWJsZU91dHNpZGVEYXlzID0gX3Byb3BzLmVuYWJsZU91dHNpZGVEYXlzLFxuICAgICAgICAgICAgcHJldkZpcnN0RGF5T2ZXZWVrID0gX3Byb3BzLmZpcnN0RGF5T2ZXZWVrO1xuXG4gICAgICAgIGlmICghbW9udGguaXNTYW1lKHByZXZNb250aCkgfHwgZW5hYmxlT3V0c2lkZURheXMgIT09IHByZXZFbmFibGVPdXRzaWRlRGF5cyB8fCBmaXJzdERheU9mV2VlayAhPT0gcHJldkZpcnN0RGF5T2ZXZWVrKSB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICB3ZWVrczogKDAsIF9nZXRDYWxlbmRhck1vbnRoV2Vla3MyWydkZWZhdWx0J10pKG1vbnRoLCBlbmFibGVPdXRzaWRlRGF5cywgZmlyc3REYXlPZldlZWsgPT0gbnVsbCA/IF9tb21lbnQyWydkZWZhdWx0J10ubG9jYWxlRGF0YSgpLmZpcnN0RGF5T2ZXZWVrKCkgOiBmaXJzdERheU9mV2VlaylcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcztcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ3Nob3VsZENvbXBvbmVudFVwZGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHMsIG5leHRTdGF0ZSkge1xuICAgICAgICByZXR1cm4gKDAsIF9yZWFjdEFkZG9uc1NoYWxsb3dDb21wYXJlMlsnZGVmYXVsdCddKSh0aGlzLCBuZXh0UHJvcHMsIG5leHRTdGF0ZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzaG91bGRDb21wb25lbnRVcGRhdGU7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsVW5tb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICBpZiAodGhpcy5zZXRNb250aFRpdGxlSGVpZ2h0VGltZW91dCkge1xuICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnNldE1vbnRoVGl0bGVIZWlnaHRUaW1lb3V0KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29tcG9uZW50V2lsbFVubW91bnQ7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdzZXRNb250aFRpdGxlSGVpZ2h0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gc2V0TW9udGhUaXRsZUhlaWdodCgpIHtcbiAgICAgICAgdmFyIHNldE1vbnRoVGl0bGVIZWlnaHQgPSB0aGlzLnByb3BzLnNldE1vbnRoVGl0bGVIZWlnaHQ7XG5cbiAgICAgICAgaWYgKHNldE1vbnRoVGl0bGVIZWlnaHQpIHtcbiAgICAgICAgICB2YXIgY2FwdGlvbkhlaWdodCA9ICgwLCBfY2FsY3VsYXRlRGltZW5zaW9uMlsnZGVmYXVsdCddKSh0aGlzLmNhcHRpb25SZWYsICdoZWlnaHQnLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgICBzZXRNb250aFRpdGxlSGVpZ2h0KGNhcHRpb25IZWlnaHQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZXRNb250aFRpdGxlSGVpZ2h0O1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnc2V0Q2FwdGlvblJlZicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIHNldENhcHRpb25SZWYocmVmKSB7XG4gICAgICAgIHRoaXMuY2FwdGlvblJlZiA9IHJlZjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNldENhcHRpb25SZWY7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIGRheUFyaWFMYWJlbEZvcm1hdCA9IF9wcm9wczIuZGF5QXJpYUxhYmVsRm9ybWF0LFxuICAgICAgICAgICAgZGF5U2l6ZSA9IF9wcm9wczIuZGF5U2l6ZSxcbiAgICAgICAgICAgIGZvY3VzZWREYXRlID0gX3Byb3BzMi5mb2N1c2VkRGF0ZSxcbiAgICAgICAgICAgIGhvcml6b250YWxNb250aFBhZGRpbmcgPSBfcHJvcHMyLmhvcml6b250YWxNb250aFBhZGRpbmcsXG4gICAgICAgICAgICBpc0ZvY3VzZWQgPSBfcHJvcHMyLmlzRm9jdXNlZCxcbiAgICAgICAgICAgIGlzVmlzaWJsZSA9IF9wcm9wczIuaXNWaXNpYmxlLFxuICAgICAgICAgICAgbW9kaWZpZXJzID0gX3Byb3BzMi5tb2RpZmllcnMsXG4gICAgICAgICAgICBtb250aCA9IF9wcm9wczIubW9udGgsXG4gICAgICAgICAgICBtb250aEZvcm1hdCA9IF9wcm9wczIubW9udGhGb3JtYXQsXG4gICAgICAgICAgICBvbkRheUNsaWNrID0gX3Byb3BzMi5vbkRheUNsaWNrLFxuICAgICAgICAgICAgb25EYXlNb3VzZUVudGVyID0gX3Byb3BzMi5vbkRheU1vdXNlRW50ZXIsXG4gICAgICAgICAgICBvbkRheU1vdXNlTGVhdmUgPSBfcHJvcHMyLm9uRGF5TW91c2VMZWF2ZSxcbiAgICAgICAgICAgIG9uTW9udGhTZWxlY3QgPSBfcHJvcHMyLm9uTW9udGhTZWxlY3QsXG4gICAgICAgICAgICBvblllYXJTZWxlY3QgPSBfcHJvcHMyLm9uWWVhclNlbGVjdCxcbiAgICAgICAgICAgIG9yaWVudGF0aW9uID0gX3Byb3BzMi5vcmllbnRhdGlvbixcbiAgICAgICAgICAgIHBocmFzZXMgPSBfcHJvcHMyLnBocmFzZXMsXG4gICAgICAgICAgICByZW5kZXJDYWxlbmRhckRheSA9IF9wcm9wczIucmVuZGVyQ2FsZW5kYXJEYXksXG4gICAgICAgICAgICByZW5kZXJEYXlDb250ZW50cyA9IF9wcm9wczIucmVuZGVyRGF5Q29udGVudHMsXG4gICAgICAgICAgICByZW5kZXJNb250aEVsZW1lbnQgPSBfcHJvcHMyLnJlbmRlck1vbnRoRWxlbWVudCxcbiAgICAgICAgICAgIHJlbmRlck1vbnRoVGV4dCA9IF9wcm9wczIucmVuZGVyTW9udGhUZXh0LFxuICAgICAgICAgICAgc3R5bGVzID0gX3Byb3BzMi5zdHlsZXMsXG4gICAgICAgICAgICB2ZXJ0aWNhbEJvcmRlclNwYWNpbmcgPSBfcHJvcHMyLnZlcnRpY2FsQm9yZGVyU3BhY2luZztcbiAgICAgICAgdmFyIHdlZWtzID0gdGhpcy5zdGF0ZS53ZWVrcztcblxuICAgICAgICB2YXIgbW9udGhUaXRsZSA9IHJlbmRlck1vbnRoVGV4dCA/IHJlbmRlck1vbnRoVGV4dChtb250aCkgOiBtb250aC5mb3JtYXQobW9udGhGb3JtYXQpO1xuXG4gICAgICAgIHZhciB2ZXJ0aWNhbFNjcm9sbGFibGUgPSBvcmllbnRhdGlvbiA9PT0gX2NvbnN0YW50cy5WRVJUSUNBTF9TQ1JPTExBQkxFO1xuXG4gICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICBfZXh0ZW5kcyh7fSwgKDAsIF9yZWFjdFdpdGhTdHlsZXMuY3NzKShzdHlsZXMuQ2FsZW5kYXJNb250aCwgeyBwYWRkaW5nOiAnMCAnICsgU3RyaW5nKGhvcml6b250YWxNb250aFBhZGRpbmcpICsgJ3B4JyB9KSwge1xuICAgICAgICAgICAgJ2RhdGEtdmlzaWJsZSc6IGlzVmlzaWJsZVxuICAgICAgICAgIH0pLFxuICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICBfZXh0ZW5kcyh7XG4gICAgICAgICAgICAgIHJlZjogdGhpcy5zZXRDYXB0aW9uUmVmXG4gICAgICAgICAgICB9LCAoMCwgX3JlYWN0V2l0aFN0eWxlcy5jc3MpKHN0eWxlcy5DYWxlbmRhck1vbnRoX2NhcHRpb24sIHZlcnRpY2FsU2Nyb2xsYWJsZSAmJiBzdHlsZXMuQ2FsZW5kYXJNb250aF9jYXB0aW9uX192ZXJ0aWNhbFNjcm9sbGFibGUpKSxcbiAgICAgICAgICAgIHJlbmRlck1vbnRoRWxlbWVudCA/IHJlbmRlck1vbnRoRWxlbWVudCh7IG1vbnRoOiBtb250aCwgb25Nb250aFNlbGVjdDogb25Nb250aFNlbGVjdCwgb25ZZWFyU2VsZWN0OiBvblllYXJTZWxlY3QgfSkgOiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgJ3N0cm9uZycsXG4gICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgIG1vbnRoVGl0bGVcbiAgICAgICAgICAgIClcbiAgICAgICAgICApLFxuICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ3RhYmxlJyxcbiAgICAgICAgICAgIF9leHRlbmRzKHt9LCAoMCwgX3JlYWN0V2l0aFN0eWxlcy5jc3MpKCF2ZXJ0aWNhbEJvcmRlclNwYWNpbmcgJiYgc3R5bGVzLkNhbGVuZGFyTW9udGhfdGFibGUsIHZlcnRpY2FsQm9yZGVyU3BhY2luZyAmJiBzdHlsZXMuQ2FsZW5kYXJNb250aF92ZXJ0aWNhbFNwYWNpbmcsIHZlcnRpY2FsQm9yZGVyU3BhY2luZyAmJiB7IGJvcmRlclNwYWNpbmc6ICcwcHggJyArIFN0cmluZyh2ZXJ0aWNhbEJvcmRlclNwYWNpbmcpICsgJ3B4JyB9KSwge1xuICAgICAgICAgICAgICByb2xlOiAncHJlc2VudGF0aW9uJ1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgJ3Rib2R5JyxcbiAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgd2Vla3MubWFwKGZ1bmN0aW9uICh3ZWVrLCBpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgX0NhbGVuZGFyV2VlazJbJ2RlZmF1bHQnXSxcbiAgICAgICAgICAgICAgICAgIHsga2V5OiBpIH0sXG4gICAgICAgICAgICAgICAgICB3ZWVrLm1hcChmdW5jdGlvbiAoZGF5LCBkYXlPZldlZWspIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlbmRlckNhbGVuZGFyRGF5KHtcbiAgICAgICAgICAgICAgICAgICAgICBrZXk6IGRheU9mV2VlayxcbiAgICAgICAgICAgICAgICAgICAgICBkYXk6IGRheSxcbiAgICAgICAgICAgICAgICAgICAgICBkYXlTaXplOiBkYXlTaXplLFxuICAgICAgICAgICAgICAgICAgICAgIGlzT3V0c2lkZURheTogIWRheSB8fCBkYXkubW9udGgoKSAhPT0gbW9udGgubW9udGgoKSxcbiAgICAgICAgICAgICAgICAgICAgICB0YWJJbmRleDogaXNWaXNpYmxlICYmICgwLCBfaXNTYW1lRGF5MlsnZGVmYXVsdCddKShkYXksIGZvY3VzZWREYXRlKSA/IDAgOiAtMSxcbiAgICAgICAgICAgICAgICAgICAgICBpc0ZvY3VzZWQ6IGlzRm9jdXNlZCxcbiAgICAgICAgICAgICAgICAgICAgICBvbkRheU1vdXNlRW50ZXI6IG9uRGF5TW91c2VFbnRlcixcbiAgICAgICAgICAgICAgICAgICAgICBvbkRheU1vdXNlTGVhdmU6IG9uRGF5TW91c2VMZWF2ZSxcbiAgICAgICAgICAgICAgICAgICAgICBvbkRheUNsaWNrOiBvbkRheUNsaWNrLFxuICAgICAgICAgICAgICAgICAgICAgIHJlbmRlckRheUNvbnRlbnRzOiByZW5kZXJEYXlDb250ZW50cyxcbiAgICAgICAgICAgICAgICAgICAgICBwaHJhc2VzOiBwaHJhc2VzLFxuICAgICAgICAgICAgICAgICAgICAgIG1vZGlmaWVyczogbW9kaWZpZXJzWygwLCBfdG9JU09EYXRlU3RyaW5nMlsnZGVmYXVsdCddKShkYXkpXSxcbiAgICAgICAgICAgICAgICAgICAgICBhcmlhTGFiZWxGb3JtYXQ6IGRheUFyaWFMYWJlbEZvcm1hdFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZW5kZXI7XG4gICAgfSgpXG4gIH1dKTtcblxuICByZXR1cm4gQ2FsZW5kYXJNb250aDtcbn0oX3JlYWN0MlsnZGVmYXVsdCddLkNvbXBvbmVudCk7XG5cbkNhbGVuZGFyTW9udGgucHJvcFR5cGVzID0gcHJvcFR5cGVzO1xuQ2FsZW5kYXJNb250aC5kZWZhdWx0UHJvcHMgPSBkZWZhdWx0UHJvcHM7XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9ICgwLCBfcmVhY3RXaXRoU3R5bGVzLndpdGhTdHlsZXMpKGZ1bmN0aW9uIChfcmVmKSB7XG4gIHZhciBfcmVmJHJlYWN0RGF0ZXMgPSBfcmVmLnJlYWN0RGF0ZXMsXG4gICAgICBjb2xvciA9IF9yZWYkcmVhY3REYXRlcy5jb2xvcixcbiAgICAgIGZvbnQgPSBfcmVmJHJlYWN0RGF0ZXMuZm9udCxcbiAgICAgIHNwYWNpbmcgPSBfcmVmJHJlYWN0RGF0ZXMuc3BhY2luZztcbiAgcmV0dXJuIHtcbiAgICBDYWxlbmRhck1vbnRoOiB7XG4gICAgICBiYWNrZ3JvdW5kOiBjb2xvci5iYWNrZ3JvdW5kLFxuICAgICAgdGV4dEFsaWduOiAnY2VudGVyJyxcbiAgICAgIHZlcnRpY2FsQWxpZ246ICd0b3AnLFxuICAgICAgdXNlclNlbGVjdDogJ25vbmUnXG4gICAgfSxcblxuICAgIENhbGVuZGFyTW9udGhfdGFibGU6IHtcbiAgICAgIGJvcmRlckNvbGxhcHNlOiAnY29sbGFwc2UnLFxuICAgICAgYm9yZGVyU3BhY2luZzogMFxuICAgIH0sXG5cbiAgICBDYWxlbmRhck1vbnRoX3ZlcnRpY2FsU3BhY2luZzoge1xuICAgICAgYm9yZGVyQ29sbGFwc2U6ICdzZXBhcmF0ZSdcbiAgICB9LFxuXG4gICAgQ2FsZW5kYXJNb250aF9jYXB0aW9uOiB7XG4gICAgICBjb2xvcjogY29sb3IudGV4dCxcbiAgICAgIGZvbnRTaXplOiBmb250LmNhcHRpb25TaXplLFxuICAgICAgdGV4dEFsaWduOiAnY2VudGVyJyxcbiAgICAgIHBhZGRpbmdUb3A6IHNwYWNpbmcuY2FwdGlvblBhZGRpbmdUb3AsXG4gICAgICBwYWRkaW5nQm90dG9tOiBzcGFjaW5nLmNhcHRpb25QYWRkaW5nQm90dG9tLFxuICAgICAgY2FwdGlvblNpZGU6ICdpbml0aWFsJ1xuICAgIH0sXG5cbiAgICBDYWxlbmRhck1vbnRoX2NhcHRpb25fX3ZlcnRpY2FsU2Nyb2xsYWJsZToge1xuICAgICAgcGFkZGluZ1RvcDogMTIsXG4gICAgICBwYWRkaW5nQm90dG9tOiA3XG4gICAgfVxuICB9O1xufSkoQ2FsZW5kYXJNb250aCk7IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX29iamVjdCA9IHJlcXVpcmUoJ29iamVjdC5hc3NpZ24nKTtcblxudmFyIF9vYmplY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0KTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9yZWFjdEFkZG9uc1NoYWxsb3dDb21wYXJlID0gcmVxdWlyZSgncmVhY3QtYWRkb25zLXNoYWxsb3ctY29tcGFyZScpO1xuXG52YXIgX3JlYWN0QWRkb25zU2hhbGxvd0NvbXBhcmUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3RBZGRvbnNTaGFsbG93Q29tcGFyZSk7XG5cbnZhciBfcmVhY3RNb21lbnRQcm9wdHlwZXMgPSByZXF1aXJlKCdyZWFjdC1tb21lbnQtcHJvcHR5cGVzJyk7XG5cbnZhciBfcmVhY3RNb21lbnRQcm9wdHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3RNb21lbnRQcm9wdHlwZXMpO1xuXG52YXIgX2FpcmJuYlByb3BUeXBlcyA9IHJlcXVpcmUoJ2FpcmJuYi1wcm9wLXR5cGVzJyk7XG5cbnZhciBfcmVhY3RXaXRoU3R5bGVzID0gcmVxdWlyZSgncmVhY3Qtd2l0aC1zdHlsZXMnKTtcblxudmFyIF9tb21lbnQgPSByZXF1aXJlKCdtb21lbnQnKTtcblxudmFyIF9tb21lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbW9tZW50KTtcblxudmFyIF9jb25zb2xpZGF0ZWRFdmVudHMgPSByZXF1aXJlKCdjb25zb2xpZGF0ZWQtZXZlbnRzJyk7XG5cbnZhciBfZGVmYXVsdFBocmFzZXMgPSByZXF1aXJlKCcuLi9kZWZhdWx0UGhyYXNlcycpO1xuXG52YXIgX2dldFBocmFzZVByb3BUeXBlcyA9IHJlcXVpcmUoJy4uL3V0aWxzL2dldFBocmFzZVByb3BUeXBlcycpO1xuXG52YXIgX2dldFBocmFzZVByb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQaHJhc2VQcm9wVHlwZXMpO1xuXG52YXIgX0NhbGVuZGFyTW9udGggPSByZXF1aXJlKCcuL0NhbGVuZGFyTW9udGgnKTtcblxudmFyIF9DYWxlbmRhck1vbnRoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbGVuZGFyTW9udGgpO1xuXG52YXIgX2lzVHJhbnNpdGlvbkVuZFN1cHBvcnRlZCA9IHJlcXVpcmUoJy4uL3V0aWxzL2lzVHJhbnNpdGlvbkVuZFN1cHBvcnRlZCcpO1xuXG52YXIgX2lzVHJhbnNpdGlvbkVuZFN1cHBvcnRlZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc1RyYW5zaXRpb25FbmRTdXBwb3J0ZWQpO1xuXG52YXIgX2dldFRyYW5zZm9ybVN0eWxlcyA9IHJlcXVpcmUoJy4uL3V0aWxzL2dldFRyYW5zZm9ybVN0eWxlcycpO1xuXG52YXIgX2dldFRyYW5zZm9ybVN0eWxlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRUcmFuc2Zvcm1TdHlsZXMpO1xuXG52YXIgX2dldENhbGVuZGFyTW9udGhXaWR0aCA9IHJlcXVpcmUoJy4uL3V0aWxzL2dldENhbGVuZGFyTW9udGhXaWR0aCcpO1xuXG52YXIgX2dldENhbGVuZGFyTW9udGhXaWR0aDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRDYWxlbmRhck1vbnRoV2lkdGgpO1xuXG52YXIgX3RvSVNPTW9udGhTdHJpbmcgPSByZXF1aXJlKCcuLi91dGlscy90b0lTT01vbnRoU3RyaW5nJyk7XG5cbnZhciBfdG9JU09Nb250aFN0cmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90b0lTT01vbnRoU3RyaW5nKTtcblxudmFyIF9pc1ByZXZNb250aCA9IHJlcXVpcmUoJy4uL3V0aWxzL2lzUHJldk1vbnRoJyk7XG5cbnZhciBfaXNQcmV2TW9udGgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNQcmV2TW9udGgpO1xuXG52YXIgX2lzTmV4dE1vbnRoID0gcmVxdWlyZSgnLi4vdXRpbHMvaXNOZXh0TW9udGgnKTtcblxudmFyIF9pc05leHRNb250aDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc05leHRNb250aCk7XG5cbnZhciBfTW9kaWZpZXJzU2hhcGUgPSByZXF1aXJlKCcuLi9zaGFwZXMvTW9kaWZpZXJzU2hhcGUnKTtcblxudmFyIF9Nb2RpZmllcnNTaGFwZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Nb2RpZmllcnNTaGFwZSk7XG5cbnZhciBfU2Nyb2xsYWJsZU9yaWVudGF0aW9uU2hhcGUgPSByZXF1aXJlKCcuLi9zaGFwZXMvU2Nyb2xsYWJsZU9yaWVudGF0aW9uU2hhcGUnKTtcblxudmFyIF9TY3JvbGxhYmxlT3JpZW50YXRpb25TaGFwZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TY3JvbGxhYmxlT3JpZW50YXRpb25TaGFwZSk7XG5cbnZhciBfRGF5T2ZXZWVrU2hhcGUgPSByZXF1aXJlKCcuLi9zaGFwZXMvRGF5T2ZXZWVrU2hhcGUnKTtcblxudmFyIF9EYXlPZldlZWtTaGFwZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EYXlPZldlZWtTaGFwZSk7XG5cbnZhciBfY29uc3RhbnRzID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgcHJvcFR5cGVzID0gKDAsIF9haXJibmJQcm9wVHlwZXMuZm9yYmlkRXh0cmFQcm9wcykoKDAsIF9vYmplY3QyWydkZWZhdWx0J10pKHt9LCBfcmVhY3RXaXRoU3R5bGVzLndpdGhTdHlsZXNQcm9wVHlwZXMsIHtcbiAgZW5hYmxlT3V0c2lkZURheXM6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbCxcbiAgZmlyc3RWaXNpYmxlTW9udGhJbmRleDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5udW1iZXIsXG4gIGhvcml6b250YWxNb250aFBhZGRpbmc6IF9haXJibmJQcm9wVHlwZXMubm9uTmVnYXRpdmVJbnRlZ2VyLFxuICBpbml0aWFsTW9udGg6IF9yZWFjdE1vbWVudFByb3B0eXBlczJbJ2RlZmF1bHQnXS5tb21lbnRPYmosXG4gIGlzQW5pbWF0aW5nOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmJvb2wsXG4gIG51bWJlck9mTW9udGhzOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLm51bWJlcixcbiAgbW9kaWZpZXJzOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLm9iamVjdE9mKF9wcm9wVHlwZXMyWydkZWZhdWx0J10ub2JqZWN0T2YoX01vZGlmaWVyc1NoYXBlMlsnZGVmYXVsdCddKSksXG4gIG9yaWVudGF0aW9uOiBfU2Nyb2xsYWJsZU9yaWVudGF0aW9uU2hhcGUyWydkZWZhdWx0J10sXG4gIG9uRGF5Q2xpY2s6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYyxcbiAgb25EYXlNb3VzZUVudGVyOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsXG4gIG9uRGF5TW91c2VMZWF2ZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuICBvbk1vbnRoVHJhbnNpdGlvbkVuZDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuICBvbk1vbnRoQ2hhbmdlOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsXG4gIG9uWWVhckNoYW5nZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuICByZW5kZXJNb250aFRleHQ6ICgwLCBfYWlyYm5iUHJvcFR5cGVzLm11dHVhbGx5RXhjbHVzaXZlUHJvcHMpKF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYywgJ3JlbmRlck1vbnRoVGV4dCcsICdyZW5kZXJNb250aEVsZW1lbnQnKSxcbiAgcmVuZGVyQ2FsZW5kYXJEYXk6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYyxcbiAgcmVuZGVyRGF5Q29udGVudHM6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYyxcbiAgdHJhbnNsYXRpb25WYWx1ZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5udW1iZXIsXG4gIHJlbmRlck1vbnRoRWxlbWVudDogKDAsIF9haXJibmJQcm9wVHlwZXMubXV0dWFsbHlFeGNsdXNpdmVQcm9wcykoX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLCAncmVuZGVyTW9udGhUZXh0JywgJ3JlbmRlck1vbnRoRWxlbWVudCcpLFxuICBkYXlTaXplOiBfYWlyYm5iUHJvcFR5cGVzLm5vbk5lZ2F0aXZlSW50ZWdlcixcbiAgZm9jdXNlZERhdGU6IF9yZWFjdE1vbWVudFByb3B0eXBlczJbJ2RlZmF1bHQnXS5tb21lbnRPYmosIC8vIGluZGljYXRlcyBmb2N1c2FibGUgZGF5XG4gIGlzRm9jdXNlZDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ib29sLCAvLyBpbmRpY2F0ZXMgd2hldGhlciBvciBub3QgdG8gbW92ZSBmb2N1cyB0byBmb2N1c2FibGUgZGF5XG4gIGZpcnN0RGF5T2ZXZWVrOiBfRGF5T2ZXZWVrU2hhcGUyWydkZWZhdWx0J10sXG4gIHNldE1vbnRoVGl0bGVIZWlnaHQ6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYyxcbiAgaXNSVEw6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbCxcbiAgdHJhbnNpdGlvbkR1cmF0aW9uOiBfYWlyYm5iUHJvcFR5cGVzLm5vbk5lZ2F0aXZlSW50ZWdlcixcbiAgdmVydGljYWxCb3JkZXJTcGFjaW5nOiBfYWlyYm5iUHJvcFR5cGVzLm5vbk5lZ2F0aXZlSW50ZWdlcixcblxuICAvLyBpMThuXG4gIG1vbnRoRm9ybWF0OiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLnN0cmluZyxcbiAgcGhyYXNlczogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zaGFwZSgoMCwgX2dldFBocmFzZVByb3BUeXBlczJbJ2RlZmF1bHQnXSkoX2RlZmF1bHRQaHJhc2VzLkNhbGVuZGFyRGF5UGhyYXNlcykpLFxuICBkYXlBcmlhTGFiZWxGb3JtYXQ6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uc3RyaW5nXG59KSk7XG5cbnZhciBkZWZhdWx0UHJvcHMgPSB7XG4gIGVuYWJsZU91dHNpZGVEYXlzOiBmYWxzZSxcbiAgZmlyc3RWaXNpYmxlTW9udGhJbmRleDogMCxcbiAgaG9yaXpvbnRhbE1vbnRoUGFkZGluZzogMTMsXG4gIGluaXRpYWxNb250aDogKDAsIF9tb21lbnQyWydkZWZhdWx0J10pKCksXG4gIGlzQW5pbWF0aW5nOiBmYWxzZSxcbiAgbnVtYmVyT2ZNb250aHM6IDEsXG4gIG1vZGlmaWVyczoge30sXG4gIG9yaWVudGF0aW9uOiBfY29uc3RhbnRzLkhPUklaT05UQUxfT1JJRU5UQVRJT04sXG4gIG9uRGF5Q2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBvbkRheUNsaWNrKCkge31cblxuICAgIHJldHVybiBvbkRheUNsaWNrO1xuICB9KCksXG4gIG9uRGF5TW91c2VFbnRlcjogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIG9uRGF5TW91c2VFbnRlcigpIHt9XG5cbiAgICByZXR1cm4gb25EYXlNb3VzZUVudGVyO1xuICB9KCksXG4gIG9uRGF5TW91c2VMZWF2ZTogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIG9uRGF5TW91c2VMZWF2ZSgpIHt9XG5cbiAgICByZXR1cm4gb25EYXlNb3VzZUxlYXZlO1xuICB9KCksXG4gIG9uTW9udGhDaGFuZ2U6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBvbk1vbnRoQ2hhbmdlKCkge31cblxuICAgIHJldHVybiBvbk1vbnRoQ2hhbmdlO1xuICB9KCksXG4gIG9uWWVhckNoYW5nZTogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIG9uWWVhckNoYW5nZSgpIHt9XG5cbiAgICByZXR1cm4gb25ZZWFyQ2hhbmdlO1xuICB9KCksXG4gIG9uTW9udGhUcmFuc2l0aW9uRW5kOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gb25Nb250aFRyYW5zaXRpb25FbmQoKSB7fVxuXG4gICAgcmV0dXJuIG9uTW9udGhUcmFuc2l0aW9uRW5kO1xuICB9KCksXG5cbiAgcmVuZGVyTW9udGhUZXh0OiBudWxsLFxuICByZW5kZXJDYWxlbmRhckRheTogdW5kZWZpbmVkLFxuICByZW5kZXJEYXlDb250ZW50czogbnVsbCxcbiAgdHJhbnNsYXRpb25WYWx1ZTogbnVsbCxcbiAgcmVuZGVyTW9udGhFbGVtZW50OiBudWxsLFxuICBkYXlTaXplOiBfY29uc3RhbnRzLkRBWV9TSVpFLFxuICBmb2N1c2VkRGF0ZTogbnVsbCxcbiAgaXNGb2N1c2VkOiBmYWxzZSxcbiAgZmlyc3REYXlPZldlZWs6IG51bGwsXG4gIHNldE1vbnRoVGl0bGVIZWlnaHQ6IG51bGwsXG4gIGlzUlRMOiBmYWxzZSxcbiAgdHJhbnNpdGlvbkR1cmF0aW9uOiAyMDAsXG4gIHZlcnRpY2FsQm9yZGVyU3BhY2luZzogdW5kZWZpbmVkLFxuXG4gIC8vIGkxOG5cbiAgbW9udGhGb3JtYXQ6ICdNTU1NIFlZWVknLCAvLyBlbmdsaXNoIGxvY2FsZVxuICBwaHJhc2VzOiBfZGVmYXVsdFBocmFzZXMuQ2FsZW5kYXJEYXlQaHJhc2VzLFxuICBkYXlBcmlhTGFiZWxGb3JtYXQ6IHVuZGVmaW5lZFxufTtcblxuZnVuY3Rpb24gZ2V0TW9udGhzKGluaXRpYWxNb250aCwgbnVtYmVyT2ZNb250aHMsIHdpdGhvdXRUcmFuc2l0aW9uTW9udGhzKSB7XG4gIHZhciBtb250aCA9IGluaXRpYWxNb250aC5jbG9uZSgpO1xuICBpZiAoIXdpdGhvdXRUcmFuc2l0aW9uTW9udGhzKSBtb250aCA9IG1vbnRoLnN1YnRyYWN0KDEsICdtb250aCcpO1xuXG4gIHZhciBtb250aHMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCAod2l0aG91dFRyYW5zaXRpb25Nb250aHMgPyBudW1iZXJPZk1vbnRocyA6IG51bWJlck9mTW9udGhzICsgMik7IGkgKz0gMSkge1xuICAgIG1vbnRocy5wdXNoKG1vbnRoKTtcbiAgICBtb250aCA9IG1vbnRoLmNsb25lKCkuYWRkKDEsICdtb250aCcpO1xuICB9XG5cbiAgcmV0dXJuIG1vbnRocztcbn1cblxudmFyIENhbGVuZGFyTW9udGhHcmlkID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKENhbGVuZGFyTW9udGhHcmlkLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDYWxlbmRhck1vbnRoR3JpZChwcm9wcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDYWxlbmRhck1vbnRoR3JpZCk7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoQ2FsZW5kYXJNb250aEdyaWQuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihDYWxlbmRhck1vbnRoR3JpZCkpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIHZhciB3aXRob3V0VHJhbnNpdGlvbk1vbnRocyA9IHByb3BzLm9yaWVudGF0aW9uID09PSBfY29uc3RhbnRzLlZFUlRJQ0FMX1NDUk9MTEFCTEU7XG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBtb250aHM6IGdldE1vbnRocyhwcm9wcy5pbml0aWFsTW9udGgsIHByb3BzLm51bWJlck9mTW9udGhzLCB3aXRob3V0VHJhbnNpdGlvbk1vbnRocylcbiAgICB9O1xuXG4gICAgX3RoaXMuaXNUcmFuc2l0aW9uRW5kU3VwcG9ydGVkID0gKDAsIF9pc1RyYW5zaXRpb25FbmRTdXBwb3J0ZWQyWydkZWZhdWx0J10pKCk7XG4gICAgX3RoaXMub25UcmFuc2l0aW9uRW5kID0gX3RoaXMub25UcmFuc2l0aW9uRW5kLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLnNldENvbnRhaW5lclJlZiA9IF90aGlzLnNldENvbnRhaW5lclJlZi5iaW5kKF90aGlzKTtcblxuICAgIF90aGlzLmxvY2FsZSA9IF9tb21lbnQyWydkZWZhdWx0J10ubG9jYWxlKCk7XG4gICAgX3RoaXMub25Nb250aFNlbGVjdCA9IF90aGlzLm9uTW9udGhTZWxlY3QuYmluZChfdGhpcyk7XG4gICAgX3RoaXMub25ZZWFyU2VsZWN0ID0gX3RoaXMub25ZZWFyU2VsZWN0LmJpbmQoX3RoaXMpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhDYWxlbmRhck1vbnRoR3JpZCwgW3tcbiAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSAoMCwgX2NvbnNvbGlkYXRlZEV2ZW50cy5hZGRFdmVudExpc3RlbmVyKSh0aGlzLmNvbnRhaW5lciwgJ3RyYW5zaXRpb25lbmQnLCB0aGlzLm9uVHJhbnNpdGlvbkVuZCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb21wb25lbnREaWRNb3VudDtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICB2YXIgaW5pdGlhbE1vbnRoID0gbmV4dFByb3BzLmluaXRpYWxNb250aCxcbiAgICAgICAgICAgIG51bWJlck9mTW9udGhzID0gbmV4dFByb3BzLm51bWJlck9mTW9udGhzLFxuICAgICAgICAgICAgb3JpZW50YXRpb24gPSBuZXh0UHJvcHMub3JpZW50YXRpb247XG4gICAgICAgIHZhciBtb250aHMgPSB0aGlzLnN0YXRlLm1vbnRocztcbiAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBwcmV2SW5pdGlhbE1vbnRoID0gX3Byb3BzLmluaXRpYWxNb250aCxcbiAgICAgICAgICAgIHByZXZOdW1iZXJPZk1vbnRocyA9IF9wcm9wcy5udW1iZXJPZk1vbnRocztcblxuICAgICAgICB2YXIgaGFzTW9udGhDaGFuZ2VkID0gIXByZXZJbml0aWFsTW9udGguaXNTYW1lKGluaXRpYWxNb250aCwgJ21vbnRoJyk7XG4gICAgICAgIHZhciBoYXNOdW1iZXJPZk1vbnRoc0NoYW5nZWQgPSBwcmV2TnVtYmVyT2ZNb250aHMgIT09IG51bWJlck9mTW9udGhzO1xuICAgICAgICB2YXIgbmV3TW9udGhzID0gbW9udGhzO1xuXG4gICAgICAgIGlmIChoYXNNb250aENoYW5nZWQgJiYgIWhhc051bWJlck9mTW9udGhzQ2hhbmdlZCkge1xuICAgICAgICAgIGlmICgoMCwgX2lzTmV4dE1vbnRoMlsnZGVmYXVsdCddKShwcmV2SW5pdGlhbE1vbnRoLCBpbml0aWFsTW9udGgpKSB7XG4gICAgICAgICAgICBuZXdNb250aHMgPSBtb250aHMuc2xpY2UoMSk7XG4gICAgICAgICAgICBuZXdNb250aHMucHVzaChtb250aHNbbW9udGhzLmxlbmd0aCAtIDFdLmNsb25lKCkuYWRkKDEsICdtb250aCcpKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCgwLCBfaXNQcmV2TW9udGgyWydkZWZhdWx0J10pKHByZXZJbml0aWFsTW9udGgsIGluaXRpYWxNb250aCkpIHtcbiAgICAgICAgICAgIG5ld01vbnRocyA9IG1vbnRocy5zbGljZSgwLCBtb250aHMubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICBuZXdNb250aHMudW5zaGlmdChtb250aHNbMF0uY2xvbmUoKS5zdWJ0cmFjdCgxLCAnbW9udGgnKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciB3aXRob3V0VHJhbnNpdGlvbk1vbnRocyA9IG9yaWVudGF0aW9uID09PSBfY29uc3RhbnRzLlZFUlRJQ0FMX1NDUk9MTEFCTEU7XG4gICAgICAgICAgICBuZXdNb250aHMgPSBnZXRNb250aHMoaW5pdGlhbE1vbnRoLCBudW1iZXJPZk1vbnRocywgd2l0aG91dFRyYW5zaXRpb25Nb250aHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXNOdW1iZXJPZk1vbnRoc0NoYW5nZWQpIHtcbiAgICAgICAgICB2YXIgX3dpdGhvdXRUcmFuc2l0aW9uTW9udGhzID0gb3JpZW50YXRpb24gPT09IF9jb25zdGFudHMuVkVSVElDQUxfU0NST0xMQUJMRTtcbiAgICAgICAgICBuZXdNb250aHMgPSBnZXRNb250aHMoaW5pdGlhbE1vbnRoLCBudW1iZXJPZk1vbnRocywgX3dpdGhvdXRUcmFuc2l0aW9uTW9udGhzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBtb21lbnRMb2NhbGUgPSBfbW9tZW50MlsnZGVmYXVsdCddLmxvY2FsZSgpO1xuICAgICAgICBpZiAodGhpcy5sb2NhbGUgIT09IG1vbWVudExvY2FsZSkge1xuICAgICAgICAgIHRoaXMubG9jYWxlID0gbW9tZW50TG9jYWxlO1xuICAgICAgICAgIG5ld01vbnRocyA9IG5ld01vbnRocy5tYXAoZnVuY3Rpb24gKG0pIHtcbiAgICAgICAgICAgIHJldHVybiBtLmxvY2FsZShfdGhpczIubG9jYWxlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIG1vbnRoczogbmV3TW9udGhzXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcztcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ3Nob3VsZENvbXBvbmVudFVwZGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHMsIG5leHRTdGF0ZSkge1xuICAgICAgICByZXR1cm4gKDAsIF9yZWFjdEFkZG9uc1NoYWxsb3dDb21wYXJlMlsnZGVmYXVsdCddKSh0aGlzLCBuZXh0UHJvcHMsIG5leHRTdGF0ZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzaG91bGRDb21wb25lbnRVcGRhdGU7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnREaWRVcGRhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIGlzQW5pbWF0aW5nID0gX3Byb3BzMi5pc0FuaW1hdGluZyxcbiAgICAgICAgICAgIHRyYW5zaXRpb25EdXJhdGlvbiA9IF9wcm9wczIudHJhbnNpdGlvbkR1cmF0aW9uLFxuICAgICAgICAgICAgb25Nb250aFRyYW5zaXRpb25FbmQgPSBfcHJvcHMyLm9uTW9udGhUcmFuc2l0aW9uRW5kO1xuXG4gICAgICAgIC8vIEZvciBJRTksIGltbWVkaWF0ZWx5IGNhbGwgb25Nb250aFRyYW5zaXRpb25FbmQgaW5zdGVhZCBvZlxuICAgICAgICAvLyB3YWl0aW5nIGZvciB0aGUgYW5pbWF0aW9uIHRvIGNvbXBsZXRlLiBTaW1pbGFybHksIGlmIHRyYW5zaXRpb25EdXJhdGlvblxuICAgICAgICAvLyBpcyBzZXQgdG8gMCwgYWxzbyBpbW1lZGlhdGVseSBpbnZva2UgdGhlIG9uTW9udGhUcmFuc2l0aW9uRW5kIGNhbGxiYWNrXG5cbiAgICAgICAgaWYgKCghdGhpcy5pc1RyYW5zaXRpb25FbmRTdXBwb3J0ZWQgfHwgIXRyYW5zaXRpb25EdXJhdGlvbikgJiYgaXNBbmltYXRpbmcpIHtcbiAgICAgICAgICBvbk1vbnRoVHJhbnNpdGlvbkVuZCgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb21wb25lbnREaWRVcGRhdGU7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsVW5tb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICBpZiAodGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKSB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbXBvbmVudFdpbGxVbm1vdW50O1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnb25UcmFuc2l0aW9uRW5kJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gb25UcmFuc2l0aW9uRW5kKCkge1xuICAgICAgICB2YXIgb25Nb250aFRyYW5zaXRpb25FbmQgPSB0aGlzLnByb3BzLm9uTW9udGhUcmFuc2l0aW9uRW5kO1xuXG4gICAgICAgIG9uTW9udGhUcmFuc2l0aW9uRW5kKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvblRyYW5zaXRpb25FbmQ7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdvbk1vbnRoU2VsZWN0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gb25Nb250aFNlbGVjdChjdXJyZW50TW9udGgsIG5ld01vbnRoVmFsKSB7XG4gICAgICAgIHZhciBuZXdNb250aCA9IGN1cnJlbnRNb250aC5jbG9uZSgpO1xuICAgICAgICB2YXIgX3Byb3BzMyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBvbk1vbnRoQ2hhbmdlID0gX3Byb3BzMy5vbk1vbnRoQ2hhbmdlLFxuICAgICAgICAgICAgb3JpZW50YXRpb24gPSBfcHJvcHMzLm9yaWVudGF0aW9uO1xuICAgICAgICB2YXIgbW9udGhzID0gdGhpcy5zdGF0ZS5tb250aHM7XG5cbiAgICAgICAgdmFyIHdpdGhvdXRUcmFuc2l0aW9uTW9udGhzID0gb3JpZW50YXRpb24gPT09IF9jb25zdGFudHMuVkVSVElDQUxfU0NST0xMQUJMRTtcbiAgICAgICAgdmFyIGluaXRpYWxNb250aFN1YnRyYWN0aW9uID0gbW9udGhzLmluZGV4T2YoY3VycmVudE1vbnRoKTtcbiAgICAgICAgaWYgKCF3aXRob3V0VHJhbnNpdGlvbk1vbnRocykge1xuICAgICAgICAgIGluaXRpYWxNb250aFN1YnRyYWN0aW9uIC09IDE7XG4gICAgICAgIH1cbiAgICAgICAgbmV3TW9udGguc2V0KCdtb250aCcsIG5ld01vbnRoVmFsKS5zdWJ0cmFjdChpbml0aWFsTW9udGhTdWJ0cmFjdGlvbiwgJ21vbnRocycpO1xuICAgICAgICBvbk1vbnRoQ2hhbmdlKG5ld01vbnRoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9uTW9udGhTZWxlY3Q7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdvblllYXJTZWxlY3QnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBvblllYXJTZWxlY3QoY3VycmVudE1vbnRoLCBuZXdZZWFyVmFsKSB7XG4gICAgICAgIHZhciBuZXdNb250aCA9IGN1cnJlbnRNb250aC5jbG9uZSgpO1xuICAgICAgICB2YXIgX3Byb3BzNCA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBvblllYXJDaGFuZ2UgPSBfcHJvcHM0Lm9uWWVhckNoYW5nZSxcbiAgICAgICAgICAgIG9yaWVudGF0aW9uID0gX3Byb3BzNC5vcmllbnRhdGlvbjtcbiAgICAgICAgdmFyIG1vbnRocyA9IHRoaXMuc3RhdGUubW9udGhzO1xuXG4gICAgICAgIHZhciB3aXRob3V0VHJhbnNpdGlvbk1vbnRocyA9IG9yaWVudGF0aW9uID09PSBfY29uc3RhbnRzLlZFUlRJQ0FMX1NDUk9MTEFCTEU7XG4gICAgICAgIHZhciBpbml0aWFsTW9udGhTdWJ0cmFjdGlvbiA9IG1vbnRocy5pbmRleE9mKGN1cnJlbnRNb250aCk7XG4gICAgICAgIGlmICghd2l0aG91dFRyYW5zaXRpb25Nb250aHMpIHtcbiAgICAgICAgICBpbml0aWFsTW9udGhTdWJ0cmFjdGlvbiAtPSAxO1xuICAgICAgICB9XG4gICAgICAgIG5ld01vbnRoLnNldCgneWVhcicsIG5ld1llYXJWYWwpLnN1YnRyYWN0KGluaXRpYWxNb250aFN1YnRyYWN0aW9uLCAnbW9udGhzJyk7XG4gICAgICAgIG9uWWVhckNoYW5nZShuZXdNb250aCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvblllYXJTZWxlY3Q7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdzZXRDb250YWluZXJSZWYnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBzZXRDb250YWluZXJSZWYocmVmKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gcmVmO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2V0Q29udGFpbmVyUmVmO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgICB2YXIgX3Byb3BzNSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBlbmFibGVPdXRzaWRlRGF5cyA9IF9wcm9wczUuZW5hYmxlT3V0c2lkZURheXMsXG4gICAgICAgICAgICBmaXJzdFZpc2libGVNb250aEluZGV4ID0gX3Byb3BzNS5maXJzdFZpc2libGVNb250aEluZGV4LFxuICAgICAgICAgICAgaG9yaXpvbnRhbE1vbnRoUGFkZGluZyA9IF9wcm9wczUuaG9yaXpvbnRhbE1vbnRoUGFkZGluZyxcbiAgICAgICAgICAgIGlzQW5pbWF0aW5nID0gX3Byb3BzNS5pc0FuaW1hdGluZyxcbiAgICAgICAgICAgIG1vZGlmaWVycyA9IF9wcm9wczUubW9kaWZpZXJzLFxuICAgICAgICAgICAgbnVtYmVyT2ZNb250aHMgPSBfcHJvcHM1Lm51bWJlck9mTW9udGhzLFxuICAgICAgICAgICAgbW9udGhGb3JtYXQgPSBfcHJvcHM1Lm1vbnRoRm9ybWF0LFxuICAgICAgICAgICAgb3JpZW50YXRpb24gPSBfcHJvcHM1Lm9yaWVudGF0aW9uLFxuICAgICAgICAgICAgdHJhbnNsYXRpb25WYWx1ZSA9IF9wcm9wczUudHJhbnNsYXRpb25WYWx1ZSxcbiAgICAgICAgICAgIGRheVNpemUgPSBfcHJvcHM1LmRheVNpemUsXG4gICAgICAgICAgICBvbkRheU1vdXNlRW50ZXIgPSBfcHJvcHM1Lm9uRGF5TW91c2VFbnRlcixcbiAgICAgICAgICAgIG9uRGF5TW91c2VMZWF2ZSA9IF9wcm9wczUub25EYXlNb3VzZUxlYXZlLFxuICAgICAgICAgICAgb25EYXlDbGljayA9IF9wcm9wczUub25EYXlDbGljayxcbiAgICAgICAgICAgIHJlbmRlck1vbnRoVGV4dCA9IF9wcm9wczUucmVuZGVyTW9udGhUZXh0LFxuICAgICAgICAgICAgcmVuZGVyQ2FsZW5kYXJEYXkgPSBfcHJvcHM1LnJlbmRlckNhbGVuZGFyRGF5LFxuICAgICAgICAgICAgcmVuZGVyRGF5Q29udGVudHMgPSBfcHJvcHM1LnJlbmRlckRheUNvbnRlbnRzLFxuICAgICAgICAgICAgcmVuZGVyTW9udGhFbGVtZW50ID0gX3Byb3BzNS5yZW5kZXJNb250aEVsZW1lbnQsXG4gICAgICAgICAgICBvbk1vbnRoVHJhbnNpdGlvbkVuZCA9IF9wcm9wczUub25Nb250aFRyYW5zaXRpb25FbmQsXG4gICAgICAgICAgICBmaXJzdERheU9mV2VlayA9IF9wcm9wczUuZmlyc3REYXlPZldlZWssXG4gICAgICAgICAgICBmb2N1c2VkRGF0ZSA9IF9wcm9wczUuZm9jdXNlZERhdGUsXG4gICAgICAgICAgICBpc0ZvY3VzZWQgPSBfcHJvcHM1LmlzRm9jdXNlZCxcbiAgICAgICAgICAgIGlzUlRMID0gX3Byb3BzNS5pc1JUTCxcbiAgICAgICAgICAgIHN0eWxlcyA9IF9wcm9wczUuc3R5bGVzLFxuICAgICAgICAgICAgcGhyYXNlcyA9IF9wcm9wczUucGhyYXNlcyxcbiAgICAgICAgICAgIGRheUFyaWFMYWJlbEZvcm1hdCA9IF9wcm9wczUuZGF5QXJpYUxhYmVsRm9ybWF0LFxuICAgICAgICAgICAgdHJhbnNpdGlvbkR1cmF0aW9uID0gX3Byb3BzNS50cmFuc2l0aW9uRHVyYXRpb24sXG4gICAgICAgICAgICB2ZXJ0aWNhbEJvcmRlclNwYWNpbmcgPSBfcHJvcHM1LnZlcnRpY2FsQm9yZGVyU3BhY2luZyxcbiAgICAgICAgICAgIHNldE1vbnRoVGl0bGVIZWlnaHQgPSBfcHJvcHM1LnNldE1vbnRoVGl0bGVIZWlnaHQ7XG4gICAgICAgIHZhciBtb250aHMgPSB0aGlzLnN0YXRlLm1vbnRocztcblxuICAgICAgICB2YXIgaXNWZXJ0aWNhbCA9IG9yaWVudGF0aW9uID09PSBfY29uc3RhbnRzLlZFUlRJQ0FMX09SSUVOVEFUSU9OO1xuICAgICAgICB2YXIgaXNWZXJ0aWNhbFNjcm9sbGFibGUgPSBvcmllbnRhdGlvbiA9PT0gX2NvbnN0YW50cy5WRVJUSUNBTF9TQ1JPTExBQkxFO1xuICAgICAgICB2YXIgaXNIb3Jpem9udGFsID0gb3JpZW50YXRpb24gPT09IF9jb25zdGFudHMuSE9SSVpPTlRBTF9PUklFTlRBVElPTjtcblxuICAgICAgICB2YXIgY2FsZW5kYXJNb250aFdpZHRoID0gKDAsIF9nZXRDYWxlbmRhck1vbnRoV2lkdGgyWydkZWZhdWx0J10pKGRheVNpemUsIGhvcml6b250YWxNb250aFBhZGRpbmcpO1xuXG4gICAgICAgIHZhciB3aWR0aCA9IGlzVmVydGljYWwgfHwgaXNWZXJ0aWNhbFNjcm9sbGFibGUgPyBjYWxlbmRhck1vbnRoV2lkdGggOiAobnVtYmVyT2ZNb250aHMgKyAyKSAqIGNhbGVuZGFyTW9udGhXaWR0aDtcblxuICAgICAgICB2YXIgdHJhbnNmb3JtVHlwZSA9IGlzVmVydGljYWwgfHwgaXNWZXJ0aWNhbFNjcm9sbGFibGUgPyAndHJhbnNsYXRlWScgOiAndHJhbnNsYXRlWCc7XG4gICAgICAgIHZhciB0cmFuc2Zvcm1WYWx1ZSA9IHRyYW5zZm9ybVR5cGUgKyAnKCcgKyBTdHJpbmcodHJhbnNsYXRpb25WYWx1ZSkgKyAncHgpJztcblxuICAgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgX2V4dGVuZHMoe30sICgwLCBfcmVhY3RXaXRoU3R5bGVzLmNzcykoc3R5bGVzLkNhbGVuZGFyTW9udGhHcmlkLCBpc0hvcml6b250YWwgJiYgc3R5bGVzLkNhbGVuZGFyTW9udGhHcmlkX19ob3Jpem9udGFsLCBpc1ZlcnRpY2FsICYmIHN0eWxlcy5DYWxlbmRhck1vbnRoR3JpZF9fdmVydGljYWwsIGlzVmVydGljYWxTY3JvbGxhYmxlICYmIHN0eWxlcy5DYWxlbmRhck1vbnRoR3JpZF9fdmVydGljYWxfc2Nyb2xsYWJsZSwgaXNBbmltYXRpbmcgJiYgc3R5bGVzLkNhbGVuZGFyTW9udGhHcmlkX19hbmltYXRpbmcsIGlzQW5pbWF0aW5nICYmIHRyYW5zaXRpb25EdXJhdGlvbiAmJiB7XG4gICAgICAgICAgICB0cmFuc2l0aW9uOiAndHJhbnNmb3JtICcgKyBTdHJpbmcodHJhbnNpdGlvbkR1cmF0aW9uKSArICdtcyBlYXNlLWluLW91dCdcbiAgICAgICAgICB9LCAoMCwgX29iamVjdDJbJ2RlZmF1bHQnXSkoe30sICgwLCBfZ2V0VHJhbnNmb3JtU3R5bGVzMlsnZGVmYXVsdCddKSh0cmFuc2Zvcm1WYWx1ZSksIHtcbiAgICAgICAgICAgIHdpZHRoOiB3aWR0aFxuICAgICAgICAgIH0pKSwge1xuICAgICAgICAgICAgcmVmOiB0aGlzLnNldENvbnRhaW5lclJlZixcbiAgICAgICAgICAgIG9uVHJhbnNpdGlvbkVuZDogb25Nb250aFRyYW5zaXRpb25FbmRcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBtb250aHMubWFwKGZ1bmN0aW9uIChtb250aCwgaSkge1xuICAgICAgICAgICAgdmFyIGlzVmlzaWJsZSA9IGkgPj0gZmlyc3RWaXNpYmxlTW9udGhJbmRleCAmJiBpIDwgZmlyc3RWaXNpYmxlTW9udGhJbmRleCArIG51bWJlck9mTW9udGhzO1xuICAgICAgICAgICAgdmFyIGhpZGVGb3JBbmltYXRpb24gPSBpID09PSAwICYmICFpc1Zpc2libGU7XG4gICAgICAgICAgICB2YXIgc2hvd0ZvckFuaW1hdGlvbiA9IGkgPT09IDAgJiYgaXNBbmltYXRpbmcgJiYgaXNWaXNpYmxlO1xuICAgICAgICAgICAgdmFyIG1vbnRoU3RyaW5nID0gKDAsIF90b0lTT01vbnRoU3RyaW5nMlsnZGVmYXVsdCddKShtb250aCk7XG4gICAgICAgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICBfZXh0ZW5kcyh7XG4gICAgICAgICAgICAgICAga2V5OiBtb250aFN0cmluZ1xuICAgICAgICAgICAgICB9LCAoMCwgX3JlYWN0V2l0aFN0eWxlcy5jc3MpKGlzSG9yaXpvbnRhbCAmJiBzdHlsZXMuQ2FsZW5kYXJNb250aEdyaWRfbW9udGhfX2hvcml6b250YWwsIGhpZGVGb3JBbmltYXRpb24gJiYgc3R5bGVzLkNhbGVuZGFyTW9udGhHcmlkX21vbnRoX19oaWRlRm9yQW5pbWF0aW9uLCBzaG93Rm9yQW5pbWF0aW9uICYmICFpc1ZlcnRpY2FsICYmICFpc1JUTCAmJiB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgICAgICAgbGVmdDogLWNhbGVuZGFyTW9udGhXaWR0aFxuICAgICAgICAgICAgICB9LCBzaG93Rm9yQW5pbWF0aW9uICYmICFpc1ZlcnRpY2FsICYmIGlzUlRMICYmIHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgICAgICByaWdodDogMFxuICAgICAgICAgICAgICB9LCBzaG93Rm9yQW5pbWF0aW9uICYmIGlzVmVydGljYWwgJiYge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICAgICAgICAgIHRvcDogLXRyYW5zbGF0aW9uVmFsdWVcbiAgICAgICAgICAgICAgfSwgIWlzVmlzaWJsZSAmJiAhaXNBbmltYXRpbmcgJiYgc3R5bGVzLkNhbGVuZGFyTW9udGhHcmlkX21vbnRoX19oaWRkZW4pKSxcbiAgICAgICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoX0NhbGVuZGFyTW9udGgyWydkZWZhdWx0J10sIHtcbiAgICAgICAgICAgICAgICBtb250aDogbW9udGgsXG4gICAgICAgICAgICAgICAgaXNWaXNpYmxlOiBpc1Zpc2libGUsXG4gICAgICAgICAgICAgICAgZW5hYmxlT3V0c2lkZURheXM6IGVuYWJsZU91dHNpZGVEYXlzLFxuICAgICAgICAgICAgICAgIG1vZGlmaWVyczogbW9kaWZpZXJzW21vbnRoU3RyaW5nXSxcbiAgICAgICAgICAgICAgICBtb250aEZvcm1hdDogbW9udGhGb3JtYXQsXG4gICAgICAgICAgICAgICAgb3JpZW50YXRpb246IG9yaWVudGF0aW9uLFxuICAgICAgICAgICAgICAgIG9uRGF5TW91c2VFbnRlcjogb25EYXlNb3VzZUVudGVyLFxuICAgICAgICAgICAgICAgIG9uRGF5TW91c2VMZWF2ZTogb25EYXlNb3VzZUxlYXZlLFxuICAgICAgICAgICAgICAgIG9uRGF5Q2xpY2s6IG9uRGF5Q2xpY2ssXG4gICAgICAgICAgICAgICAgb25Nb250aFNlbGVjdDogX3RoaXMzLm9uTW9udGhTZWxlY3QsXG4gICAgICAgICAgICAgICAgb25ZZWFyU2VsZWN0OiBfdGhpczMub25ZZWFyU2VsZWN0LFxuICAgICAgICAgICAgICAgIHJlbmRlck1vbnRoVGV4dDogcmVuZGVyTW9udGhUZXh0LFxuICAgICAgICAgICAgICAgIHJlbmRlckNhbGVuZGFyRGF5OiByZW5kZXJDYWxlbmRhckRheSxcbiAgICAgICAgICAgICAgICByZW5kZXJEYXlDb250ZW50czogcmVuZGVyRGF5Q29udGVudHMsXG4gICAgICAgICAgICAgICAgcmVuZGVyTW9udGhFbGVtZW50OiByZW5kZXJNb250aEVsZW1lbnQsXG4gICAgICAgICAgICAgICAgZmlyc3REYXlPZldlZWs6IGZpcnN0RGF5T2ZXZWVrLFxuICAgICAgICAgICAgICAgIGRheVNpemU6IGRheVNpemUsXG4gICAgICAgICAgICAgICAgZm9jdXNlZERhdGU6IGlzVmlzaWJsZSA/IGZvY3VzZWREYXRlIDogbnVsbCxcbiAgICAgICAgICAgICAgICBpc0ZvY3VzZWQ6IGlzRm9jdXNlZCxcbiAgICAgICAgICAgICAgICBwaHJhc2VzOiBwaHJhc2VzLFxuICAgICAgICAgICAgICAgIHNldE1vbnRoVGl0bGVIZWlnaHQ6IHNldE1vbnRoVGl0bGVIZWlnaHQsXG4gICAgICAgICAgICAgICAgZGF5QXJpYUxhYmVsRm9ybWF0OiBkYXlBcmlhTGFiZWxGb3JtYXQsXG4gICAgICAgICAgICAgICAgdmVydGljYWxCb3JkZXJTcGFjaW5nOiB2ZXJ0aWNhbEJvcmRlclNwYWNpbmcsXG4gICAgICAgICAgICAgICAgaG9yaXpvbnRhbE1vbnRoUGFkZGluZzogaG9yaXpvbnRhbE1vbnRoUGFkZGluZ1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVuZGVyO1xuICAgIH0oKVxuICB9XSk7XG5cbiAgcmV0dXJuIENhbGVuZGFyTW9udGhHcmlkO1xufShfcmVhY3QyWydkZWZhdWx0J10uQ29tcG9uZW50KTtcblxuQ2FsZW5kYXJNb250aEdyaWQucHJvcFR5cGVzID0gcHJvcFR5cGVzO1xuQ2FsZW5kYXJNb250aEdyaWQuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSAoMCwgX3JlYWN0V2l0aFN0eWxlcy53aXRoU3R5bGVzKShmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgX3JlZiRyZWFjdERhdGVzID0gX3JlZi5yZWFjdERhdGVzLFxuICAgICAgY29sb3IgPSBfcmVmJHJlYWN0RGF0ZXMuY29sb3IsXG4gICAgICBub1Njcm9sbEJhck9uVmVydGljYWxTY3JvbGxhYmxlID0gX3JlZiRyZWFjdERhdGVzLm5vU2Nyb2xsQmFyT25WZXJ0aWNhbFNjcm9sbGFibGUsXG4gICAgICBzcGFjaW5nID0gX3JlZiRyZWFjdERhdGVzLnNwYWNpbmcsXG4gICAgICB6SW5kZXggPSBfcmVmJHJlYWN0RGF0ZXMuekluZGV4O1xuICByZXR1cm4ge1xuICAgIENhbGVuZGFyTW9udGhHcmlkOiB7XG4gICAgICBiYWNrZ3JvdW5kOiBjb2xvci5iYWNrZ3JvdW5kLFxuICAgICAgdGV4dEFsaWduOiAnbGVmdCcsXG4gICAgICB6SW5kZXg6IHpJbmRleFxuICAgIH0sXG5cbiAgICBDYWxlbmRhck1vbnRoR3JpZF9fYW5pbWF0aW5nOiB7XG4gICAgICB6SW5kZXg6IHpJbmRleCArIDFcbiAgICB9LFxuXG4gICAgQ2FsZW5kYXJNb250aEdyaWRfX2hvcml6b250YWw6IHtcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgbGVmdDogc3BhY2luZy5kYXlQaWNrZXJIb3Jpem9udGFsUGFkZGluZ1xuICAgIH0sXG5cbiAgICBDYWxlbmRhck1vbnRoR3JpZF9fdmVydGljYWw6IHtcbiAgICAgIG1hcmdpbjogJzAgYXV0bydcbiAgICB9LFxuXG4gICAgQ2FsZW5kYXJNb250aEdyaWRfX3ZlcnRpY2FsX3Njcm9sbGFibGU6ICgwLCBfb2JqZWN0MlsnZGVmYXVsdCddKSh7XG4gICAgICBtYXJnaW46ICcwIGF1dG8nLFxuICAgICAgb3ZlcmZsb3dZOiAnc2Nyb2xsJ1xuICAgIH0sIG5vU2Nyb2xsQmFyT25WZXJ0aWNhbFNjcm9sbGFibGUgJiYge1xuICAgICAgJy13ZWJraXRPdmVyZmxvd1Njcm9sbGluZyc6ICd0b3VjaCcsXG4gICAgICAnOjotd2Via2l0LXNjcm9sbGJhcic6IHtcbiAgICAgICAgJy13ZWJraXQtYXBwZWFyYW5jZSc6ICdub25lJyxcbiAgICAgICAgZGlzcGxheTogJ25vbmUnXG4gICAgICB9XG4gICAgfSksXG5cbiAgICBDYWxlbmRhck1vbnRoR3JpZF9tb250aF9faG9yaXpvbnRhbDoge1xuICAgICAgZGlzcGxheTogJ2lubGluZS1ibG9jaycsXG4gICAgICB2ZXJ0aWNhbEFsaWduOiAndG9wJyxcbiAgICAgIG1pbkhlaWdodDogJzEwMCUnXG4gICAgfSxcblxuICAgIENhbGVuZGFyTW9udGhHcmlkX21vbnRoX19oaWRlRm9yQW5pbWF0aW9uOiB7XG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIHpJbmRleDogekluZGV4IC0gMSxcbiAgICAgIG9wYWNpdHk6IDAsXG4gICAgICBwb2ludGVyRXZlbnRzOiAnbm9uZSdcbiAgICB9LFxuXG4gICAgQ2FsZW5kYXJNb250aEdyaWRfbW9udGhfX2hpZGRlbjoge1xuICAgICAgdmlzaWJpbGl0eTogJ2hpZGRlbidcbiAgICB9XG4gIH07XG59KShDYWxlbmRhck1vbnRoR3JpZCk7IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1snZGVmYXVsdCddID0gQ2FsZW5kYXJXZWVrO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfYWlyYm5iUHJvcFR5cGVzID0gcmVxdWlyZSgnYWlyYm5iLXByb3AtdHlwZXMnKTtcblxudmFyIF9DYWxlbmRhckRheSA9IHJlcXVpcmUoJy4vQ2FsZW5kYXJEYXknKTtcblxudmFyIF9DYWxlbmRhckRheTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYWxlbmRhckRheSk7XG5cbnZhciBfQ3VzdG9taXphYmxlQ2FsZW5kYXJEYXkgPSByZXF1aXJlKCcuL0N1c3RvbWl6YWJsZUNhbGVuZGFyRGF5Jyk7XG5cbnZhciBfQ3VzdG9taXphYmxlQ2FsZW5kYXJEYXkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ3VzdG9taXphYmxlQ2FsZW5kYXJEYXkpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbnZhciBwcm9wVHlwZXMgPSAoMCwgX2FpcmJuYlByb3BUeXBlcy5mb3JiaWRFeHRyYVByb3BzKSh7XG4gIGNoaWxkcmVuOiAoMCwgX2FpcmJuYlByb3BUeXBlcy5vcikoWygwLCBfYWlyYm5iUHJvcFR5cGVzLmNoaWxkcmVuT2ZUeXBlKShfQ2FsZW5kYXJEYXkyWydkZWZhdWx0J10pLCAoMCwgX2FpcmJuYlByb3BUeXBlcy5jaGlsZHJlbk9mVHlwZSkoX0N1c3RvbWl6YWJsZUNhbGVuZGFyRGF5MlsnZGVmYXVsdCddKV0pLmlzUmVxdWlyZWRcbn0pO1xuXG5mdW5jdGlvbiBDYWxlbmRhcldlZWsoX3JlZikge1xuICB2YXIgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuO1xuXG4gIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcbiAgICAndHInLFxuICAgIG51bGwsXG4gICAgY2hpbGRyZW5cbiAgKTtcbn1cblxuQ2FsZW5kYXJXZWVrLnByb3BUeXBlcyA9IHByb3BUeXBlczsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG52YXIgQ2hldnJvbkRvd24gPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIENoZXZyb25Eb3duKHByb3BzKSB7XG4gICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuICAgICAgJ3N2ZycsXG4gICAgICBwcm9wcyxcbiAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KCdwYXRoJywge1xuICAgICAgICBkOiAnTTk2Ny41IDI4OC41TDUxNC4zIDc0MC43Yy0xMSAxMS0yMSAxMS0zMiAwTDI5LjEgMjg4LjVjLTQtNS02LTExLTYtMTYgMC0xMyAxMC0yMyAyMy0yMyA2IDAgMTEgMiAxNSA3bDQzNy4yIDQzNi4yIDQzNy4yLTQzNi4yYzQtNSA5LTcgMTYtNyA2IDAgMTEgMiAxNiA3IDkgMTAuOSA5IDIxIDAgMzJ6J1xuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIENoZXZyb25Eb3duO1xufSgpO1xuXG5DaGV2cm9uRG93bi5kZWZhdWx0UHJvcHMgPSB7XG4gIHZpZXdCb3g6ICcwIDAgMTAwMCAxMDAwJ1xufTtcbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IENoZXZyb25Eb3duOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbnZhciBDaGV2cm9uVXAgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIENoZXZyb25VcChwcm9wcykge1xuICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcbiAgICAgICdzdmcnLFxuICAgICAgcHJvcHMsXG4gICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgncGF0aCcsIHtcbiAgICAgICAgZDogJ00zMi4xIDcxMi42bDQ1My4yLTQ1Mi4yYzExLTExIDIxLTExIDMyIDBsNDUzLjIgNDUyLjJjNCA1IDYgMTAgNiAxNiAwIDEzLTEwIDIzLTIyIDIzLTcgMC0xMi0yLTE2LTdMNTAxLjMgMzA4LjUgNjQuMSA3NDQuN2MtNCA1LTkgNy0xNSA3LTcgMC0xMi0yLTE3LTctOS0xMS05LTIxIDAtMzIuMXonXG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICByZXR1cm4gQ2hldnJvblVwO1xufSgpO1xuXG5DaGV2cm9uVXAuZGVmYXVsdFByb3BzID0ge1xuICB2aWV3Qm94OiAnMCAwIDEwMDAgMTAwMCdcbn07XG5leHBvcnRzWydkZWZhdWx0J10gPSBDaGV2cm9uVXA7IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxudmFyIENsb3NlQnV0dG9uID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBDbG9zZUJ1dHRvbihwcm9wcykge1xuICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcbiAgICAgICdzdmcnLFxuICAgICAgcHJvcHMsXG4gICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgncGF0aCcsIHtcbiAgICAgICAgZmlsbFJ1bGU6ICdldmVub2RkJyxcbiAgICAgICAgZDogJ00xMS41My40N2EuNzUuNzUgMCAwIDAtMS4wNjEgMGwtNC40NyA0LjQ3TDEuNTI5LjQ3QS43NS43NSAwIDEgMCAuNDY4IDEuNTMxbDQuNDcgNC40Ny00LjQ3IDQuNDdhLjc1Ljc1IDAgMSAwIDEuMDYxIDEuMDYxbDQuNDctNC40NyA0LjQ3IDQuNDdhLjc1Ljc1IDAgMSAwIDEuMDYxLTEuMDYxbC00LjQ3LTQuNDcgNC40Ny00LjQ3YS43NS43NSAwIDAgMCAwLTEuMDYxeidcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBDbG9zZUJ1dHRvbjtcbn0oKTtcblxuQ2xvc2VCdXR0b24uZGVmYXVsdFByb3BzID0ge1xuICB2aWV3Qm94OiAnMCAwIDEyIDEyJ1xufTtcbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IENsb3NlQnV0dG9uOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuUHVyZUN1c3RvbWl6YWJsZUNhbGVuZGFyRGF5ID0gZXhwb3J0cy5zZWxlY3RlZFN0eWxlcyA9IGV4cG9ydHMubGFzdEluUmFuZ2VTdHlsZXMgPSBleHBvcnRzLnNlbGVjdGVkU3BhblN0eWxlcyA9IGV4cG9ydHMuaG92ZXJlZFNwYW5TdHlsZXMgPSBleHBvcnRzLmJsb2NrZWRPdXRPZlJhbmdlU3R5bGVzID0gZXhwb3J0cy5ibG9ja2VkQ2FsZW5kYXJTdHlsZXMgPSBleHBvcnRzLmJsb2NrZWRNaW5OaWdodHNTdHlsZXMgPSBleHBvcnRzLmhpZ2hsaWdodGVkQ2FsZW5kYXJTdHlsZXMgPSBleHBvcnRzLm91dHNpZGVTdHlsZXMgPSBleHBvcnRzLmRlZmF1bHRTdHlsZXMgPSB1bmRlZmluZWQ7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfb2JqZWN0ID0gcmVxdWlyZSgnb2JqZWN0LmFzc2lnbicpO1xuXG52YXIgX29iamVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3QpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX3JlYWN0QWRkb25zU2hhbGxvd0NvbXBhcmUgPSByZXF1aXJlKCdyZWFjdC1hZGRvbnMtc2hhbGxvdy1jb21wYXJlJyk7XG5cbnZhciBfcmVhY3RBZGRvbnNTaGFsbG93Q29tcGFyZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdEFkZG9uc1NoYWxsb3dDb21wYXJlKTtcblxudmFyIF9yZWFjdE1vbWVudFByb3B0eXBlcyA9IHJlcXVpcmUoJ3JlYWN0LW1vbWVudC1wcm9wdHlwZXMnKTtcblxudmFyIF9yZWFjdE1vbWVudFByb3B0eXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdE1vbWVudFByb3B0eXBlcyk7XG5cbnZhciBfYWlyYm5iUHJvcFR5cGVzID0gcmVxdWlyZSgnYWlyYm5iLXByb3AtdHlwZXMnKTtcblxudmFyIF9yZWFjdFdpdGhTdHlsZXMgPSByZXF1aXJlKCdyZWFjdC13aXRoLXN0eWxlcycpO1xuXG52YXIgX21vbWVudCA9IHJlcXVpcmUoJ21vbWVudCcpO1xuXG52YXIgX21vbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb21lbnQpO1xuXG52YXIgX2RlZmF1bHRQaHJhc2VzID0gcmVxdWlyZSgnLi4vZGVmYXVsdFBocmFzZXMnKTtcblxudmFyIF9nZXRQaHJhc2VQcm9wVHlwZXMgPSByZXF1aXJlKCcuLi91dGlscy9nZXRQaHJhc2VQcm9wVHlwZXMnKTtcblxudmFyIF9nZXRQaHJhc2VQcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UGhyYXNlUHJvcFR5cGVzKTtcblxudmFyIF9nZXRDYWxlbmRhckRheVNldHRpbmdzID0gcmVxdWlyZSgnLi4vdXRpbHMvZ2V0Q2FsZW5kYXJEYXlTZXR0aW5ncycpO1xuXG52YXIgX2dldENhbGVuZGFyRGF5U2V0dGluZ3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0Q2FsZW5kYXJEYXlTZXR0aW5ncyk7XG5cbnZhciBfY29uc3RhbnRzID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzJyk7XG5cbnZhciBfRGVmYXVsdFRoZW1lID0gcmVxdWlyZSgnLi4vdGhlbWUvRGVmYXVsdFRoZW1lJyk7XG5cbnZhciBfRGVmYXVsdFRoZW1lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RlZmF1bHRUaGVtZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgY29sb3IgPSBfRGVmYXVsdFRoZW1lMlsnZGVmYXVsdCddLnJlYWN0RGF0ZXMuY29sb3I7XG5cblxuZnVuY3Rpb24gZ2V0U3R5bGVzKHN0eWxlc09iaiwgaXNIb3ZlcmVkKSB7XG4gIGlmICghc3R5bGVzT2JqKSByZXR1cm4gbnVsbDtcblxuICB2YXIgaG92ZXIgPSBzdHlsZXNPYmouaG92ZXI7XG5cbiAgaWYgKGlzSG92ZXJlZCAmJiBob3Zlcikge1xuICAgIHJldHVybiBob3ZlcjtcbiAgfVxuXG4gIHJldHVybiBzdHlsZXNPYmo7XG59XG5cbnZhciBEYXlTdHlsZVNoYXBlID0gX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zaGFwZSh7XG4gIGJhY2tncm91bmQ6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uc3RyaW5nLFxuICBib3JkZXI6ICgwLCBfYWlyYm5iUHJvcFR5cGVzLm9yKShbX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zdHJpbmcsIF9wcm9wVHlwZXMyWydkZWZhdWx0J10ubnVtYmVyXSksXG4gIGNvbG9yOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLnN0cmluZyxcblxuICBob3ZlcjogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zaGFwZSh7XG4gICAgYmFja2dyb3VuZDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zdHJpbmcsXG4gICAgYm9yZGVyOiAoMCwgX2FpcmJuYlByb3BUeXBlcy5vcikoW19wcm9wVHlwZXMyWydkZWZhdWx0J10uc3RyaW5nLCBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLm51bWJlcl0pLFxuICAgIGNvbG9yOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLnN0cmluZ1xuICB9KVxufSk7XG5cbnZhciBwcm9wVHlwZXMgPSAoMCwgX2FpcmJuYlByb3BUeXBlcy5mb3JiaWRFeHRyYVByb3BzKSgoMCwgX29iamVjdDJbJ2RlZmF1bHQnXSkoe30sIF9yZWFjdFdpdGhTdHlsZXMud2l0aFN0eWxlc1Byb3BUeXBlcywge1xuICBkYXk6IF9yZWFjdE1vbWVudFByb3B0eXBlczJbJ2RlZmF1bHQnXS5tb21lbnRPYmosXG4gIGRheVNpemU6IF9haXJibmJQcm9wVHlwZXMubm9uTmVnYXRpdmVJbnRlZ2VyLFxuICBpc091dHNpZGVEYXk6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbCxcbiAgbW9kaWZpZXJzOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmluc3RhbmNlT2YoU2V0KSxcbiAgaXNGb2N1c2VkOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmJvb2wsXG4gIHRhYkluZGV4OiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLm9uZU9mKFswLCAtMV0pLFxuICBvbkRheUNsaWNrOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsXG4gIG9uRGF5TW91c2VFbnRlcjogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuICBvbkRheU1vdXNlTGVhdmU6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYyxcbiAgcmVuZGVyRGF5Q29udGVudHM6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYyxcbiAgYXJpYUxhYmVsRm9ybWF0OiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLnN0cmluZyxcblxuICAvLyBzdHlsZSBvdmVycmlkZXNcbiAgZGVmYXVsdFN0eWxlczogRGF5U3R5bGVTaGFwZSxcbiAgb3V0c2lkZVN0eWxlczogRGF5U3R5bGVTaGFwZSxcbiAgdG9kYXlTdHlsZXM6IERheVN0eWxlU2hhcGUsXG4gIGZpcnN0RGF5T2ZXZWVrU3R5bGVzOiBEYXlTdHlsZVNoYXBlLFxuICBsYXN0RGF5T2ZXZWVrU3R5bGVzOiBEYXlTdHlsZVNoYXBlLFxuICBoaWdobGlnaHRlZENhbGVuZGFyU3R5bGVzOiBEYXlTdHlsZVNoYXBlLFxuICBibG9ja2VkTWluTmlnaHRzU3R5bGVzOiBEYXlTdHlsZVNoYXBlLFxuICBibG9ja2VkQ2FsZW5kYXJTdHlsZXM6IERheVN0eWxlU2hhcGUsXG4gIGJsb2NrZWRPdXRPZlJhbmdlU3R5bGVzOiBEYXlTdHlsZVNoYXBlLFxuICBob3ZlcmVkU3BhblN0eWxlczogRGF5U3R5bGVTaGFwZSxcbiAgc2VsZWN0ZWRTcGFuU3R5bGVzOiBEYXlTdHlsZVNoYXBlLFxuICBsYXN0SW5SYW5nZVN0eWxlczogRGF5U3R5bGVTaGFwZSxcbiAgc2VsZWN0ZWRTdHlsZXM6IERheVN0eWxlU2hhcGUsXG4gIHNlbGVjdGVkU3RhcnRTdHlsZXM6IERheVN0eWxlU2hhcGUsXG4gIHNlbGVjdGVkRW5kU3R5bGVzOiBEYXlTdHlsZVNoYXBlLFxuICBhZnRlckhvdmVyZWRTdGFydFN0eWxlczogRGF5U3R5bGVTaGFwZSxcblxuICAvLyBpbnRlcm5hdGlvbmFsaXphdGlvblxuICBwaHJhc2VzOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLnNoYXBlKCgwLCBfZ2V0UGhyYXNlUHJvcFR5cGVzMlsnZGVmYXVsdCddKShfZGVmYXVsdFBocmFzZXMuQ2FsZW5kYXJEYXlQaHJhc2VzKSlcbn0pKTtcblxudmFyIGRlZmF1bHRTdHlsZXMgPSBleHBvcnRzLmRlZmF1bHRTdHlsZXMgPSB7XG4gIGJvcmRlcjogJzFweCBzb2xpZCAnICsgU3RyaW5nKGNvbG9yLmNvcmUuYm9yZGVyTGlnaHQpLFxuICBjb2xvcjogY29sb3IudGV4dCxcbiAgYmFja2dyb3VuZDogY29sb3IuYmFja2dyb3VuZCxcblxuICBob3Zlcjoge1xuICAgIGJhY2tncm91bmQ6IGNvbG9yLmNvcmUuYm9yZGVyTGlnaHQsXG4gICAgYm9yZGVyOiAnMXB4IGRvdWJsZSAnICsgU3RyaW5nKGNvbG9yLmNvcmUuYm9yZGVyTGlnaHQpLFxuICAgIGNvbG9yOiAnaW5oZXJpdCdcbiAgfVxufTtcblxudmFyIG91dHNpZGVTdHlsZXMgPSBleHBvcnRzLm91dHNpZGVTdHlsZXMgPSB7XG4gIGJhY2tncm91bmQ6IGNvbG9yLm91dHNpZGUuYmFja2dyb3VuZENvbG9yLFxuICBib3JkZXI6IDAsXG4gIGNvbG9yOiBjb2xvci5vdXRzaWRlLmNvbG9yXG59O1xuXG52YXIgaGlnaGxpZ2h0ZWRDYWxlbmRhclN0eWxlcyA9IGV4cG9ydHMuaGlnaGxpZ2h0ZWRDYWxlbmRhclN0eWxlcyA9IHtcbiAgYmFja2dyb3VuZDogY29sb3IuaGlnaGxpZ2h0ZWQuYmFja2dyb3VuZENvbG9yLFxuICBjb2xvcjogY29sb3IuaGlnaGxpZ2h0ZWQuY29sb3IsXG5cbiAgaG92ZXI6IHtcbiAgICBiYWNrZ3JvdW5kOiBjb2xvci5oaWdobGlnaHRlZC5iYWNrZ3JvdW5kQ29sb3JfaG92ZXIsXG4gICAgY29sb3I6IGNvbG9yLmhpZ2hsaWdodGVkLmNvbG9yX2FjdGl2ZVxuICB9XG59O1xuXG52YXIgYmxvY2tlZE1pbk5pZ2h0c1N0eWxlcyA9IGV4cG9ydHMuYmxvY2tlZE1pbk5pZ2h0c1N0eWxlcyA9IHtcbiAgYmFja2dyb3VuZDogY29sb3IubWluaW11bU5pZ2h0cy5iYWNrZ3JvdW5kQ29sb3IsXG4gIGJvcmRlcjogJzFweCBzb2xpZCAnICsgU3RyaW5nKGNvbG9yLm1pbmltdW1OaWdodHMuYm9yZGVyQ29sb3IpLFxuICBjb2xvcjogY29sb3IubWluaW11bU5pZ2h0cy5jb2xvcixcblxuICBob3Zlcjoge1xuICAgIGJhY2tncm91bmQ6IGNvbG9yLm1pbmltdW1OaWdodHMuYmFja2dyb3VuZENvbG9yX2hvdmVyLFxuICAgIGNvbG9yOiBjb2xvci5taW5pbXVtTmlnaHRzLmNvbG9yX2FjdGl2ZVxuICB9XG59O1xuXG52YXIgYmxvY2tlZENhbGVuZGFyU3R5bGVzID0gZXhwb3J0cy5ibG9ja2VkQ2FsZW5kYXJTdHlsZXMgPSB7XG4gIGJhY2tncm91bmQ6IGNvbG9yLmJsb2NrZWRfY2FsZW5kYXIuYmFja2dyb3VuZENvbG9yLFxuICBib3JkZXI6ICcxcHggc29saWQgJyArIFN0cmluZyhjb2xvci5ibG9ja2VkX2NhbGVuZGFyLmJvcmRlckNvbG9yKSxcbiAgY29sb3I6IGNvbG9yLmJsb2NrZWRfY2FsZW5kYXIuY29sb3IsXG5cbiAgaG92ZXI6IHtcbiAgICBiYWNrZ3JvdW5kOiBjb2xvci5ibG9ja2VkX2NhbGVuZGFyLmJhY2tncm91bmRDb2xvcl9ob3ZlcixcbiAgICBib3JkZXI6ICcxcHggc29saWQgJyArIFN0cmluZyhjb2xvci5ibG9ja2VkX2NhbGVuZGFyLmJvcmRlckNvbG9yKSxcbiAgICBjb2xvcjogY29sb3IuYmxvY2tlZF9jYWxlbmRhci5jb2xvcl9hY3RpdmVcbiAgfVxufTtcblxudmFyIGJsb2NrZWRPdXRPZlJhbmdlU3R5bGVzID0gZXhwb3J0cy5ibG9ja2VkT3V0T2ZSYW5nZVN0eWxlcyA9IHtcbiAgYmFja2dyb3VuZDogY29sb3IuYmxvY2tlZF9vdXRfb2ZfcmFuZ2UuYmFja2dyb3VuZENvbG9yLFxuICBib3JkZXI6ICcxcHggc29saWQgJyArIFN0cmluZyhjb2xvci5ibG9ja2VkX291dF9vZl9yYW5nZS5ib3JkZXJDb2xvciksXG4gIGNvbG9yOiBjb2xvci5ibG9ja2VkX291dF9vZl9yYW5nZS5jb2xvcixcblxuICBob3Zlcjoge1xuICAgIGJhY2tncm91bmQ6IGNvbG9yLmJsb2NrZWRfb3V0X29mX3JhbmdlLmJhY2tncm91bmRDb2xvcl9ob3ZlcixcbiAgICBib3JkZXI6ICcxcHggc29saWQgJyArIFN0cmluZyhjb2xvci5ibG9ja2VkX291dF9vZl9yYW5nZS5ib3JkZXJDb2xvciksXG4gICAgY29sb3I6IGNvbG9yLmJsb2NrZWRfb3V0X29mX3JhbmdlLmNvbG9yX2FjdGl2ZVxuICB9XG59O1xuXG52YXIgaG92ZXJlZFNwYW5TdHlsZXMgPSBleHBvcnRzLmhvdmVyZWRTcGFuU3R5bGVzID0ge1xuICBiYWNrZ3JvdW5kOiBjb2xvci5ob3ZlcmVkU3Bhbi5iYWNrZ3JvdW5kQ29sb3IsXG4gIGJvcmRlcjogJzFweCBzb2xpZCAnICsgU3RyaW5nKGNvbG9yLmhvdmVyZWRTcGFuLmJvcmRlckNvbG9yKSxcbiAgY29sb3I6IGNvbG9yLmhvdmVyZWRTcGFuLmNvbG9yLFxuXG4gIGhvdmVyOiB7XG4gICAgYmFja2dyb3VuZDogY29sb3IuaG92ZXJlZFNwYW4uYmFja2dyb3VuZENvbG9yX2hvdmVyLFxuICAgIGJvcmRlcjogJzFweCBzb2xpZCAnICsgU3RyaW5nKGNvbG9yLmhvdmVyZWRTcGFuLmJvcmRlckNvbG9yKSxcbiAgICBjb2xvcjogY29sb3IuaG92ZXJlZFNwYW4uY29sb3JfYWN0aXZlXG4gIH1cbn07XG5cbnZhciBzZWxlY3RlZFNwYW5TdHlsZXMgPSBleHBvcnRzLnNlbGVjdGVkU3BhblN0eWxlcyA9IHtcbiAgYmFja2dyb3VuZDogY29sb3Iuc2VsZWN0ZWRTcGFuLmJhY2tncm91bmRDb2xvcixcbiAgYm9yZGVyOiAnMXB4IHNvbGlkICcgKyBTdHJpbmcoY29sb3Iuc2VsZWN0ZWRTcGFuLmJvcmRlckNvbG9yKSxcbiAgY29sb3I6IGNvbG9yLnNlbGVjdGVkU3Bhbi5jb2xvcixcblxuICBob3Zlcjoge1xuICAgIGJhY2tncm91bmQ6IGNvbG9yLnNlbGVjdGVkU3Bhbi5iYWNrZ3JvdW5kQ29sb3JfaG92ZXIsXG4gICAgYm9yZGVyOiAnMXB4IHNvbGlkICcgKyBTdHJpbmcoY29sb3Iuc2VsZWN0ZWRTcGFuLmJvcmRlckNvbG9yKSxcbiAgICBjb2xvcjogY29sb3Iuc2VsZWN0ZWRTcGFuLmNvbG9yX2FjdGl2ZVxuICB9XG59O1xuXG52YXIgbGFzdEluUmFuZ2VTdHlsZXMgPSBleHBvcnRzLmxhc3RJblJhbmdlU3R5bGVzID0ge1xuICBib3JkZXJSaWdodDogY29sb3IuY29yZS5wcmltYXJ5XG59O1xuXG52YXIgc2VsZWN0ZWRTdHlsZXMgPSBleHBvcnRzLnNlbGVjdGVkU3R5bGVzID0ge1xuICBiYWNrZ3JvdW5kOiBjb2xvci5zZWxlY3RlZC5iYWNrZ3JvdW5kQ29sb3IsXG4gIGJvcmRlcjogJzFweCBzb2xpZCAnICsgU3RyaW5nKGNvbG9yLnNlbGVjdGVkLmJvcmRlckNvbG9yKSxcbiAgY29sb3I6IGNvbG9yLnNlbGVjdGVkLmNvbG9yLFxuXG4gIGhvdmVyOiB7XG4gICAgYmFja2dyb3VuZDogY29sb3Iuc2VsZWN0ZWQuYmFja2dyb3VuZENvbG9yX2hvdmVyLFxuICAgIGJvcmRlcjogJzFweCBzb2xpZCAnICsgU3RyaW5nKGNvbG9yLnNlbGVjdGVkLmJvcmRlckNvbG9yKSxcbiAgICBjb2xvcjogY29sb3Iuc2VsZWN0ZWQuY29sb3JfYWN0aXZlXG4gIH1cbn07XG5cbnZhciBkZWZhdWx0UHJvcHMgPSB7XG4gIGRheTogKDAsIF9tb21lbnQyWydkZWZhdWx0J10pKCksXG4gIGRheVNpemU6IF9jb25zdGFudHMuREFZX1NJWkUsXG4gIGlzT3V0c2lkZURheTogZmFsc2UsXG4gIG1vZGlmaWVyczogbmV3IFNldCgpLFxuICBpc0ZvY3VzZWQ6IGZhbHNlLFxuICB0YWJJbmRleDogLTEsXG4gIG9uRGF5Q2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBvbkRheUNsaWNrKCkge31cblxuICAgIHJldHVybiBvbkRheUNsaWNrO1xuICB9KCksXG4gIG9uRGF5TW91c2VFbnRlcjogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIG9uRGF5TW91c2VFbnRlcigpIHt9XG5cbiAgICByZXR1cm4gb25EYXlNb3VzZUVudGVyO1xuICB9KCksXG4gIG9uRGF5TW91c2VMZWF2ZTogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIG9uRGF5TW91c2VMZWF2ZSgpIHt9XG5cbiAgICByZXR1cm4gb25EYXlNb3VzZUxlYXZlO1xuICB9KCksXG5cbiAgcmVuZGVyRGF5Q29udGVudHM6IG51bGwsXG4gIGFyaWFMYWJlbEZvcm1hdDogJ2RkZGQsIExMJyxcblxuICAvLyBzdHlsZSBkZWZhdWx0c1xuICBkZWZhdWx0U3R5bGVzOiBkZWZhdWx0U3R5bGVzLFxuICBvdXRzaWRlU3R5bGVzOiBvdXRzaWRlU3R5bGVzLFxuICB0b2RheVN0eWxlczoge30sXG4gIGhpZ2hsaWdodGVkQ2FsZW5kYXJTdHlsZXM6IGhpZ2hsaWdodGVkQ2FsZW5kYXJTdHlsZXMsXG4gIGJsb2NrZWRNaW5OaWdodHNTdHlsZXM6IGJsb2NrZWRNaW5OaWdodHNTdHlsZXMsXG4gIGJsb2NrZWRDYWxlbmRhclN0eWxlczogYmxvY2tlZENhbGVuZGFyU3R5bGVzLFxuICBibG9ja2VkT3V0T2ZSYW5nZVN0eWxlczogYmxvY2tlZE91dE9mUmFuZ2VTdHlsZXMsXG4gIGhvdmVyZWRTcGFuU3R5bGVzOiBob3ZlcmVkU3BhblN0eWxlcyxcbiAgc2VsZWN0ZWRTcGFuU3R5bGVzOiBzZWxlY3RlZFNwYW5TdHlsZXMsXG4gIGxhc3RJblJhbmdlU3R5bGVzOiBsYXN0SW5SYW5nZVN0eWxlcyxcbiAgc2VsZWN0ZWRTdHlsZXM6IHNlbGVjdGVkU3R5bGVzLFxuICBzZWxlY3RlZFN0YXJ0U3R5bGVzOiB7fSxcbiAgc2VsZWN0ZWRFbmRTdHlsZXM6IHt9LFxuICBhZnRlckhvdmVyZWRTdGFydFN0eWxlczoge30sXG4gIGZpcnN0RGF5T2ZXZWVrU3R5bGVzOiB7fSxcbiAgbGFzdERheU9mV2Vla1N0eWxlczoge30sXG5cbiAgLy8gaW50ZXJuYXRpb25hbGl6YXRpb25cbiAgcGhyYXNlczogX2RlZmF1bHRQaHJhc2VzLkNhbGVuZGFyRGF5UGhyYXNlc1xufTtcblxudmFyIEN1c3RvbWl6YWJsZUNhbGVuZGFyRGF5ID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKEN1c3RvbWl6YWJsZUNhbGVuZGFyRGF5LCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDdXN0b21pemFibGVDYWxlbmRhckRheSgpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDdXN0b21pemFibGVDYWxlbmRhckRheSk7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoX3JlZiA9IEN1c3RvbWl6YWJsZUNhbGVuZGFyRGF5Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoQ3VzdG9taXphYmxlQ2FsZW5kYXJEYXkpKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKTtcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgaXNIb3ZlcmVkOiBmYWxzZVxuICAgIH07XG5cbiAgICBfdGhpcy5zZXRCdXR0b25SZWYgPSBfdGhpcy5zZXRCdXR0b25SZWYuYmluZChfdGhpcyk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEN1c3RvbWl6YWJsZUNhbGVuZGFyRGF5LCBbe1xuICAgIGtleTogJ3Nob3VsZENvbXBvbmVudFVwZGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIHNob3VsZENvbXBvbmVudFVwZGF0ZShuZXh0UHJvcHMsIG5leHRTdGF0ZSkge1xuICAgICAgICByZXR1cm4gKDAsIF9yZWFjdEFkZG9uc1NoYWxsb3dDb21wYXJlMlsnZGVmYXVsdCddKSh0aGlzLCBuZXh0UHJvcHMsIG5leHRTdGF0ZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzaG91bGRDb21wb25lbnRVcGRhdGU7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnREaWRVcGRhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgaXNGb2N1c2VkID0gX3Byb3BzLmlzRm9jdXNlZCxcbiAgICAgICAgICAgIHRhYkluZGV4ID0gX3Byb3BzLnRhYkluZGV4O1xuXG4gICAgICAgIGlmICh0YWJJbmRleCA9PT0gMCkge1xuICAgICAgICAgIGlmIChpc0ZvY3VzZWQgfHwgdGFiSW5kZXggIT09IHByZXZQcm9wcy50YWJJbmRleCkge1xuICAgICAgICAgICAgdGhpcy5idXR0b25SZWYuZm9jdXMoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbXBvbmVudERpZFVwZGF0ZTtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ29uRGF5Q2xpY2snLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBvbkRheUNsaWNrKGRheSwgZSkge1xuICAgICAgICB2YXIgb25EYXlDbGljayA9IHRoaXMucHJvcHMub25EYXlDbGljaztcblxuICAgICAgICBvbkRheUNsaWNrKGRheSwgZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvbkRheUNsaWNrO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnb25EYXlNb3VzZUVudGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gb25EYXlNb3VzZUVudGVyKGRheSwgZSkge1xuICAgICAgICB2YXIgb25EYXlNb3VzZUVudGVyID0gdGhpcy5wcm9wcy5vbkRheU1vdXNlRW50ZXI7XG5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzSG92ZXJlZDogdHJ1ZSB9KTtcbiAgICAgICAgb25EYXlNb3VzZUVudGVyKGRheSwgZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvbkRheU1vdXNlRW50ZXI7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdvbkRheU1vdXNlTGVhdmUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBvbkRheU1vdXNlTGVhdmUoZGF5LCBlKSB7XG4gICAgICAgIHZhciBvbkRheU1vdXNlTGVhdmUgPSB0aGlzLnByb3BzLm9uRGF5TW91c2VMZWF2ZTtcblxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNIb3ZlcmVkOiBmYWxzZSB9KTtcbiAgICAgICAgb25EYXlNb3VzZUxlYXZlKGRheSwgZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvbkRheU1vdXNlTGVhdmU7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdvbktleURvd24nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBvbktleURvd24oZGF5LCBlKSB7XG4gICAgICAgIHZhciBvbkRheUNsaWNrID0gdGhpcy5wcm9wcy5vbkRheUNsaWNrO1xuICAgICAgICB2YXIga2V5ID0gZS5rZXk7XG5cbiAgICAgICAgaWYgKGtleSA9PT0gJ0VudGVyJyB8fCBrZXkgPT09ICcgJykge1xuICAgICAgICAgIG9uRGF5Q2xpY2soZGF5LCBlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gb25LZXlEb3duO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnc2V0QnV0dG9uUmVmJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gc2V0QnV0dG9uUmVmKHJlZikge1xuICAgICAgICB0aGlzLmJ1dHRvblJlZiA9IHJlZjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNldEJ1dHRvblJlZjtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgZGF5ID0gX3Byb3BzMi5kYXksXG4gICAgICAgICAgICBhcmlhTGFiZWxGb3JtYXQgPSBfcHJvcHMyLmFyaWFMYWJlbEZvcm1hdCxcbiAgICAgICAgICAgIGRheVNpemUgPSBfcHJvcHMyLmRheVNpemUsXG4gICAgICAgICAgICBpc091dHNpZGVEYXkgPSBfcHJvcHMyLmlzT3V0c2lkZURheSxcbiAgICAgICAgICAgIG1vZGlmaWVycyA9IF9wcm9wczIubW9kaWZpZXJzLFxuICAgICAgICAgICAgdGFiSW5kZXggPSBfcHJvcHMyLnRhYkluZGV4LFxuICAgICAgICAgICAgcmVuZGVyRGF5Q29udGVudHMgPSBfcHJvcHMyLnJlbmRlckRheUNvbnRlbnRzLFxuICAgICAgICAgICAgc3R5bGVzID0gX3Byb3BzMi5zdHlsZXMsXG4gICAgICAgICAgICBwaHJhc2VzID0gX3Byb3BzMi5waHJhc2VzLFxuICAgICAgICAgICAgZGVmYXVsdFN0eWxlc1dpdGhIb3ZlciA9IF9wcm9wczIuZGVmYXVsdFN0eWxlcyxcbiAgICAgICAgICAgIG91dHNpZGVTdHlsZXNXaXRoSG92ZXIgPSBfcHJvcHMyLm91dHNpZGVTdHlsZXMsXG4gICAgICAgICAgICB0b2RheVN0eWxlc1dpdGhIb3ZlciA9IF9wcm9wczIudG9kYXlTdHlsZXMsXG4gICAgICAgICAgICBmaXJzdERheU9mV2Vla1N0eWxlc1dpdGhIb3ZlciA9IF9wcm9wczIuZmlyc3REYXlPZldlZWtTdHlsZXMsXG4gICAgICAgICAgICBsYXN0RGF5T2ZXZWVrU3R5bGVzV2l0aEhvdmVyID0gX3Byb3BzMi5sYXN0RGF5T2ZXZWVrU3R5bGVzLFxuICAgICAgICAgICAgaGlnaGxpZ2h0ZWRDYWxlbmRhclN0eWxlc1dpdGhIb3ZlciA9IF9wcm9wczIuaGlnaGxpZ2h0ZWRDYWxlbmRhclN0eWxlcyxcbiAgICAgICAgICAgIGJsb2NrZWRNaW5OaWdodHNTdHlsZXNXaXRoSG92ZXIgPSBfcHJvcHMyLmJsb2NrZWRNaW5OaWdodHNTdHlsZXMsXG4gICAgICAgICAgICBibG9ja2VkQ2FsZW5kYXJTdHlsZXNXaXRoSG92ZXIgPSBfcHJvcHMyLmJsb2NrZWRDYWxlbmRhclN0eWxlcyxcbiAgICAgICAgICAgIGJsb2NrZWRPdXRPZlJhbmdlU3R5bGVzV2l0aEhvdmVyID0gX3Byb3BzMi5ibG9ja2VkT3V0T2ZSYW5nZVN0eWxlcyxcbiAgICAgICAgICAgIGhvdmVyZWRTcGFuU3R5bGVzV2l0aEhvdmVyID0gX3Byb3BzMi5ob3ZlcmVkU3BhblN0eWxlcyxcbiAgICAgICAgICAgIHNlbGVjdGVkU3BhblN0eWxlc1dpdGhIb3ZlciA9IF9wcm9wczIuc2VsZWN0ZWRTcGFuU3R5bGVzLFxuICAgICAgICAgICAgbGFzdEluUmFuZ2VTdHlsZXNXaXRoSG92ZXIgPSBfcHJvcHMyLmxhc3RJblJhbmdlU3R5bGVzLFxuICAgICAgICAgICAgc2VsZWN0ZWRTdHlsZXNXaXRoSG92ZXIgPSBfcHJvcHMyLnNlbGVjdGVkU3R5bGVzLFxuICAgICAgICAgICAgc2VsZWN0ZWRTdGFydFN0eWxlc1dpdGhIb3ZlciA9IF9wcm9wczIuc2VsZWN0ZWRTdGFydFN0eWxlcyxcbiAgICAgICAgICAgIHNlbGVjdGVkRW5kU3R5bGVzV2l0aEhvdmVyID0gX3Byb3BzMi5zZWxlY3RlZEVuZFN0eWxlcyxcbiAgICAgICAgICAgIGFmdGVySG92ZXJlZFN0YXJ0U3R5bGVzV2l0aEhvdmVyID0gX3Byb3BzMi5hZnRlckhvdmVyZWRTdGFydFN0eWxlcztcbiAgICAgICAgdmFyIGlzSG92ZXJlZCA9IHRoaXMuc3RhdGUuaXNIb3ZlcmVkO1xuXG5cbiAgICAgICAgaWYgKCFkYXkpIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgndGQnLCBudWxsKTtcblxuICAgICAgICB2YXIgX2dldENhbGVuZGFyRGF5U2V0dGluID0gKDAsIF9nZXRDYWxlbmRhckRheVNldHRpbmdzMlsnZGVmYXVsdCddKShkYXksIGFyaWFMYWJlbEZvcm1hdCwgZGF5U2l6ZSwgbW9kaWZpZXJzLCBwaHJhc2VzKSxcbiAgICAgICAgICAgIGRheVNpemVTdHlsZXMgPSBfZ2V0Q2FsZW5kYXJEYXlTZXR0aW4uZGF5U2l6ZVN0eWxlcyxcbiAgICAgICAgICAgIHVzZURlZmF1bHRDdXJzb3IgPSBfZ2V0Q2FsZW5kYXJEYXlTZXR0aW4udXNlRGVmYXVsdEN1cnNvcixcbiAgICAgICAgICAgIHNlbGVjdGVkID0gX2dldENhbGVuZGFyRGF5U2V0dGluLnNlbGVjdGVkLFxuICAgICAgICAgICAgaG92ZXJlZFNwYW4gPSBfZ2V0Q2FsZW5kYXJEYXlTZXR0aW4uaG92ZXJlZFNwYW4sXG4gICAgICAgICAgICBpc091dHNpZGVSYW5nZSA9IF9nZXRDYWxlbmRhckRheVNldHRpbi5pc091dHNpZGVSYW5nZSxcbiAgICAgICAgICAgIGFyaWFMYWJlbCA9IF9nZXRDYWxlbmRhckRheVNldHRpbi5hcmlhTGFiZWw7XG5cbiAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICd0ZCcsXG4gICAgICAgICAgX2V4dGVuZHMoe30sICgwLCBfcmVhY3RXaXRoU3R5bGVzLmNzcykoc3R5bGVzLkNhbGVuZGFyRGF5LCB1c2VEZWZhdWx0Q3Vyc29yICYmIHN0eWxlcy5DYWxlbmRhckRheV9fZGVmYXVsdEN1cnNvciwgZGF5U2l6ZVN0eWxlcywgZ2V0U3R5bGVzKGRlZmF1bHRTdHlsZXNXaXRoSG92ZXIsIGlzSG92ZXJlZCksIGlzT3V0c2lkZURheSAmJiBnZXRTdHlsZXMob3V0c2lkZVN0eWxlc1dpdGhIb3ZlciwgaXNIb3ZlcmVkKSwgbW9kaWZpZXJzLmhhcygndG9kYXknKSAmJiBnZXRTdHlsZXModG9kYXlTdHlsZXNXaXRoSG92ZXIsIGlzSG92ZXJlZCksIG1vZGlmaWVycy5oYXMoJ2ZpcnN0LWRheS1vZi13ZWVrJykgJiYgZ2V0U3R5bGVzKGZpcnN0RGF5T2ZXZWVrU3R5bGVzV2l0aEhvdmVyLCBpc0hvdmVyZWQpLCBtb2RpZmllcnMuaGFzKCdsYXN0LWRheS1vZi13ZWVrJykgJiYgZ2V0U3R5bGVzKGxhc3REYXlPZldlZWtTdHlsZXNXaXRoSG92ZXIsIGlzSG92ZXJlZCksIG1vZGlmaWVycy5oYXMoJ2hpZ2hsaWdodGVkLWNhbGVuZGFyJykgJiYgZ2V0U3R5bGVzKGhpZ2hsaWdodGVkQ2FsZW5kYXJTdHlsZXNXaXRoSG92ZXIsIGlzSG92ZXJlZCksIG1vZGlmaWVycy5oYXMoJ2Jsb2NrZWQtbWluaW11bS1uaWdodHMnKSAmJiBnZXRTdHlsZXMoYmxvY2tlZE1pbk5pZ2h0c1N0eWxlc1dpdGhIb3ZlciwgaXNIb3ZlcmVkKSwgbW9kaWZpZXJzLmhhcygnYmxvY2tlZC1jYWxlbmRhcicpICYmIGdldFN0eWxlcyhibG9ja2VkQ2FsZW5kYXJTdHlsZXNXaXRoSG92ZXIsIGlzSG92ZXJlZCksIGhvdmVyZWRTcGFuICYmIGdldFN0eWxlcyhob3ZlcmVkU3BhblN0eWxlc1dpdGhIb3ZlciwgaXNIb3ZlcmVkKSwgbW9kaWZpZXJzLmhhcygnYWZ0ZXItaG92ZXJlZC1zdGFydCcpICYmIGdldFN0eWxlcyhhZnRlckhvdmVyZWRTdGFydFN0eWxlc1dpdGhIb3ZlciwgaXNIb3ZlcmVkKSwgbW9kaWZpZXJzLmhhcygnc2VsZWN0ZWQtc3BhbicpICYmIGdldFN0eWxlcyhzZWxlY3RlZFNwYW5TdHlsZXNXaXRoSG92ZXIsIGlzSG92ZXJlZCksIG1vZGlmaWVycy5oYXMoJ2xhc3QtaW4tcmFuZ2UnKSAmJiBnZXRTdHlsZXMobGFzdEluUmFuZ2VTdHlsZXNXaXRoSG92ZXIsIGlzSG92ZXJlZCksIHNlbGVjdGVkICYmIGdldFN0eWxlcyhzZWxlY3RlZFN0eWxlc1dpdGhIb3ZlciwgaXNIb3ZlcmVkKSwgbW9kaWZpZXJzLmhhcygnc2VsZWN0ZWQtc3RhcnQnKSAmJiBnZXRTdHlsZXMoc2VsZWN0ZWRTdGFydFN0eWxlc1dpdGhIb3ZlciwgaXNIb3ZlcmVkKSwgbW9kaWZpZXJzLmhhcygnc2VsZWN0ZWQtZW5kJykgJiYgZ2V0U3R5bGVzKHNlbGVjdGVkRW5kU3R5bGVzV2l0aEhvdmVyLCBpc0hvdmVyZWQpLCBpc091dHNpZGVSYW5nZSAmJiBnZXRTdHlsZXMoYmxvY2tlZE91dE9mUmFuZ2VTdHlsZXNXaXRoSG92ZXIsIGlzSG92ZXJlZCkpLCB7XG4gICAgICAgICAgICByb2xlOiAnYnV0dG9uJyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGpzeC1hMTF5L25vLW5vbmludGVyYWN0aXZlLWVsZW1lbnQtdG8taW50ZXJhY3RpdmUtcm9sZVxuICAgICAgICAgICAgLCByZWY6IHRoaXMuc2V0QnV0dG9uUmVmLFxuICAgICAgICAgICAgJ2FyaWEtbGFiZWwnOiBhcmlhTGFiZWwsXG4gICAgICAgICAgICBvbk1vdXNlRW50ZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgZnVuY3Rpb24gb25Nb3VzZUVudGVyKGUpIHtcbiAgICAgICAgICAgICAgICBfdGhpczIub25EYXlNb3VzZUVudGVyKGRheSwgZSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICByZXR1cm4gb25Nb3VzZUVudGVyO1xuICAgICAgICAgICAgfSgpLFxuICAgICAgICAgICAgb25Nb3VzZUxlYXZlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIGZ1bmN0aW9uIG9uTW91c2VMZWF2ZShlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMyLm9uRGF5TW91c2VMZWF2ZShkYXksIGUpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgcmV0dXJuIG9uTW91c2VMZWF2ZTtcbiAgICAgICAgICAgIH0oKSxcbiAgICAgICAgICAgIG9uTW91c2VVcDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBmdW5jdGlvbiBvbk1vdXNlVXAoZSkge1xuICAgICAgICAgICAgICAgIGUuY3VycmVudFRhcmdldC5ibHVyKCk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICByZXR1cm4gb25Nb3VzZVVwO1xuICAgICAgICAgICAgfSgpLFxuICAgICAgICAgICAgb25DbGljazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBmdW5jdGlvbiBvbkNsaWNrKGUpIHtcbiAgICAgICAgICAgICAgICBfdGhpczIub25EYXlDbGljayhkYXksIGUpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgcmV0dXJuIG9uQ2xpY2s7XG4gICAgICAgICAgICB9KCksXG4gICAgICAgICAgICBvbktleURvd246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgZnVuY3Rpb24gb25LZXlEb3duKGUpIHtcbiAgICAgICAgICAgICAgICBfdGhpczIub25LZXlEb3duKGRheSwgZSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICByZXR1cm4gb25LZXlEb3duO1xuICAgICAgICAgICAgfSgpLFxuICAgICAgICAgICAgdGFiSW5kZXg6IHRhYkluZGV4XG4gICAgICAgICAgfSksXG4gICAgICAgICAgcmVuZGVyRGF5Q29udGVudHMgPyByZW5kZXJEYXlDb250ZW50cyhkYXksIG1vZGlmaWVycykgOiBkYXkuZm9ybWF0KCdEJylcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlbmRlcjtcbiAgICB9KClcbiAgfV0pO1xuXG4gIHJldHVybiBDdXN0b21pemFibGVDYWxlbmRhckRheTtcbn0oX3JlYWN0MlsnZGVmYXVsdCddLkNvbXBvbmVudCk7XG5cbkN1c3RvbWl6YWJsZUNhbGVuZGFyRGF5LnByb3BUeXBlcyA9IHByb3BUeXBlcztcbkN1c3RvbWl6YWJsZUNhbGVuZGFyRGF5LmRlZmF1bHRQcm9wcyA9IGRlZmF1bHRQcm9wcztcblxuZXhwb3J0cy5QdXJlQ3VzdG9taXphYmxlQ2FsZW5kYXJEYXkgPSBDdXN0b21pemFibGVDYWxlbmRhckRheTtcbmV4cG9ydHNbJ2RlZmF1bHQnXSA9ICgwLCBfcmVhY3RXaXRoU3R5bGVzLndpdGhTdHlsZXMpKGZ1bmN0aW9uIChfcmVmMikge1xuICB2YXIgZm9udCA9IF9yZWYyLnJlYWN0RGF0ZXMuZm9udDtcbiAgcmV0dXJuIHtcbiAgICBDYWxlbmRhckRheToge1xuICAgICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgIGZvbnRTaXplOiBmb250LnNpemUsXG4gICAgICB0ZXh0QWxpZ246ICdjZW50ZXInLFxuXG4gICAgICAnOmFjdGl2ZSc6IHtcbiAgICAgICAgb3V0bGluZTogMFxuICAgICAgfVxuICAgIH0sXG5cbiAgICBDYWxlbmRhckRheV9fZGVmYXVsdEN1cnNvcjoge1xuICAgICAgY3Vyc29yOiAnZGVmYXVsdCdcbiAgICB9XG4gIH07XG59KShDdXN0b21pemFibGVDYWxlbmRhckRheSk7IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX29iamVjdCA9IHJlcXVpcmUoJ29iamVjdC5hc3NpZ24nKTtcblxudmFyIF9vYmplY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0KTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9haXJibmJQcm9wVHlwZXMgPSByZXF1aXJlKCdhaXJibmItcHJvcC10eXBlcycpO1xuXG52YXIgX3JlYWN0V2l0aFN0eWxlcyA9IHJlcXVpcmUoJ3JlYWN0LXdpdGgtc3R5bGVzJyk7XG5cbnZhciBfdGhyb3R0bGUgPSByZXF1aXJlKCdsb2Rhc2gvdGhyb3R0bGUnKTtcblxudmFyIF90aHJvdHRsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90aHJvdHRsZSk7XG5cbnZhciBfaXNUb3VjaERldmljZSA9IHJlcXVpcmUoJ2lzLXRvdWNoLWRldmljZScpO1xuXG52YXIgX2lzVG91Y2hEZXZpY2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNUb3VjaERldmljZSk7XG5cbnZhciBfZ2V0SW5wdXRIZWlnaHQgPSByZXF1aXJlKCcuLi91dGlscy9nZXRJbnB1dEhlaWdodCcpO1xuXG52YXIgX2dldElucHV0SGVpZ2h0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldElucHV0SGVpZ2h0KTtcblxudmFyIF9PcGVuRGlyZWN0aW9uU2hhcGUgPSByZXF1aXJlKCcuLi9zaGFwZXMvT3BlbkRpcmVjdGlvblNoYXBlJyk7XG5cbnZhciBfT3BlbkRpcmVjdGlvblNoYXBlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX09wZW5EaXJlY3Rpb25TaGFwZSk7XG5cbnZhciBfY29uc3RhbnRzID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgRkFOR19QQVRIX1RPUCA9ICdNMCwnICsgU3RyaW5nKF9jb25zdGFudHMuRkFOR19IRUlHSFRfUFgpICsgJyAnICsgU3RyaW5nKF9jb25zdGFudHMuRkFOR19XSURUSF9QWCkgKyAnLCcgKyBTdHJpbmcoX2NvbnN0YW50cy5GQU5HX0hFSUdIVF9QWCkgKyAnICcgKyBfY29uc3RhbnRzLkZBTkdfV0lEVEhfUFggLyAyICsgJywweic7XG52YXIgRkFOR19TVFJPS0VfVE9QID0gJ00wLCcgKyBTdHJpbmcoX2NvbnN0YW50cy5GQU5HX0hFSUdIVF9QWCkgKyAnICcgKyBfY29uc3RhbnRzLkZBTkdfV0lEVEhfUFggLyAyICsgJywwICcgKyBTdHJpbmcoX2NvbnN0YW50cy5GQU5HX1dJRFRIX1BYKSArICcsJyArIFN0cmluZyhfY29uc3RhbnRzLkZBTkdfSEVJR0hUX1BYKTtcbnZhciBGQU5HX1BBVEhfQk9UVE9NID0gJ00wLDAgJyArIFN0cmluZyhfY29uc3RhbnRzLkZBTkdfV0lEVEhfUFgpICsgJywwICcgKyBfY29uc3RhbnRzLkZBTkdfV0lEVEhfUFggLyAyICsgJywnICsgU3RyaW5nKF9jb25zdGFudHMuRkFOR19IRUlHSFRfUFgpICsgJ3onO1xudmFyIEZBTkdfU1RST0tFX0JPVFRPTSA9ICdNMCwwICcgKyBfY29uc3RhbnRzLkZBTkdfV0lEVEhfUFggLyAyICsgJywnICsgU3RyaW5nKF9jb25zdGFudHMuRkFOR19IRUlHSFRfUFgpICsgJyAnICsgU3RyaW5nKF9jb25zdGFudHMuRkFOR19XSURUSF9QWCkgKyAnLDAnO1xuXG52YXIgcHJvcFR5cGVzID0gKDAsIF9haXJibmJQcm9wVHlwZXMuZm9yYmlkRXh0cmFQcm9wcykoKDAsIF9vYmplY3QyWydkZWZhdWx0J10pKHt9LCBfcmVhY3RXaXRoU3R5bGVzLndpdGhTdHlsZXNQcm9wVHlwZXMsIHtcbiAgaWQ6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uc3RyaW5nLmlzUmVxdWlyZWQsXG4gIHBsYWNlaG9sZGVyOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLnN0cmluZywgLy8gYWxzbyB1c2VkIGFzIGxhYmVsXG4gIGRpc3BsYXlWYWx1ZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zdHJpbmcsXG4gIHNjcmVlblJlYWRlck1lc3NhZ2U6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uc3RyaW5nLFxuICBmb2N1c2VkOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmJvb2wsXG4gIGRpc2FibGVkOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmJvb2wsXG4gIHJlcXVpcmVkOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmJvb2wsXG4gIHJlYWRPbmx5OiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmJvb2wsXG4gIG9wZW5EaXJlY3Rpb246IF9PcGVuRGlyZWN0aW9uU2hhcGUyWydkZWZhdWx0J10sXG4gIHNob3dDYXJldDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ib29sLFxuICB2ZXJ0aWNhbFNwYWNpbmc6IF9haXJibmJQcm9wVHlwZXMubm9uTmVnYXRpdmVJbnRlZ2VyLFxuICBzbWFsbDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ib29sLFxuICBibG9jazogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ib29sLFxuICByZWd1bGFyOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmJvb2wsXG5cbiAgb25DaGFuZ2U6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYyxcbiAgb25Gb2N1czogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuICBvbktleURvd25TaGlmdFRhYjogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuICBvbktleURvd25UYWI6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYyxcblxuICBvbktleURvd25BcnJvd0Rvd246IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYyxcbiAgb25LZXlEb3duUXVlc3Rpb25NYXJrOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsXG5cbiAgLy8gYWNjZXNzaWJpbGl0eVxuICBpc0ZvY3VzZWQ6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbCAvLyBkZXNjcmliZXMgYWN0dWFsIERPTSBmb2N1c1xufSkpO1xuXG52YXIgZGVmYXVsdFByb3BzID0ge1xuICBwbGFjZWhvbGRlcjogJ1NlbGVjdCBEYXRlJyxcbiAgZGlzcGxheVZhbHVlOiAnJyxcbiAgc2NyZWVuUmVhZGVyTWVzc2FnZTogJycsXG4gIGZvY3VzZWQ6IGZhbHNlLFxuICBkaXNhYmxlZDogZmFsc2UsXG4gIHJlcXVpcmVkOiBmYWxzZSxcbiAgcmVhZE9ubHk6IG51bGwsXG4gIG9wZW5EaXJlY3Rpb246IF9jb25zdGFudHMuT1BFTl9ET1dOLFxuICBzaG93Q2FyZXQ6IGZhbHNlLFxuICB2ZXJ0aWNhbFNwYWNpbmc6IF9jb25zdGFudHMuREVGQVVMVF9WRVJUSUNBTF9TUEFDSU5HLFxuICBzbWFsbDogZmFsc2UsXG4gIGJsb2NrOiBmYWxzZSxcbiAgcmVndWxhcjogZmFsc2UsXG5cbiAgb25DaGFuZ2U6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBvbkNoYW5nZSgpIHt9XG5cbiAgICByZXR1cm4gb25DaGFuZ2U7XG4gIH0oKSxcbiAgb25Gb2N1czogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIG9uRm9jdXMoKSB7fVxuXG4gICAgcmV0dXJuIG9uRm9jdXM7XG4gIH0oKSxcbiAgb25LZXlEb3duU2hpZnRUYWI6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBvbktleURvd25TaGlmdFRhYigpIHt9XG5cbiAgICByZXR1cm4gb25LZXlEb3duU2hpZnRUYWI7XG4gIH0oKSxcbiAgb25LZXlEb3duVGFiOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gb25LZXlEb3duVGFiKCkge31cblxuICAgIHJldHVybiBvbktleURvd25UYWI7XG4gIH0oKSxcbiAgb25LZXlEb3duQXJyb3dEb3duOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gb25LZXlEb3duQXJyb3dEb3duKCkge31cblxuICAgIHJldHVybiBvbktleURvd25BcnJvd0Rvd247XG4gIH0oKSxcbiAgb25LZXlEb3duUXVlc3Rpb25NYXJrOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gb25LZXlEb3duUXVlc3Rpb25NYXJrKCkge31cblxuICAgIHJldHVybiBvbktleURvd25RdWVzdGlvbk1hcms7XG4gIH0oKSxcblxuXG4gIC8vIGFjY2Vzc2liaWxpdHlcbiAgaXNGb2N1c2VkOiBmYWxzZVxufTtcblxudmFyIERhdGVJbnB1dCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhEYXRlSW5wdXQsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIERhdGVJbnB1dChwcm9wcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEYXRlSW5wdXQpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKERhdGVJbnB1dC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKERhdGVJbnB1dCkpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgZGF0ZVN0cmluZzogJycsXG4gICAgICBpc1RvdWNoRGV2aWNlOiBmYWxzZVxuICAgIH07XG5cbiAgICBfdGhpcy5vbkNoYW5nZSA9IF90aGlzLm9uQ2hhbmdlLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLm9uS2V5RG93biA9IF90aGlzLm9uS2V5RG93bi5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5zZXRJbnB1dFJlZiA9IF90aGlzLnNldElucHV0UmVmLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLnRocm90dGxlZEtleURvd24gPSAoMCwgX3Rocm90dGxlMlsnZGVmYXVsdCddKShfdGhpcy5vbkZpbmFsS2V5RG93biwgMzAwLCB7IHRyYWlsaW5nOiBmYWxzZSB9KTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoRGF0ZUlucHV0LCBbe1xuICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc1RvdWNoRGV2aWNlOiAoMCwgX2lzVG91Y2hEZXZpY2UyWydkZWZhdWx0J10pKCkgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb21wb25lbnREaWRNb3VudDtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgICB2YXIgZGF0ZVN0cmluZyA9IHRoaXMuc3RhdGUuZGF0ZVN0cmluZztcblxuICAgICAgICBpZiAoZGF0ZVN0cmluZyAmJiBuZXh0UHJvcHMuZGlzcGxheVZhbHVlKSB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBkYXRlU3RyaW5nOiAnJ1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50RGlkVXBkYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykge1xuICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIGZvY3VzZWQgPSBfcHJvcHMuZm9jdXNlZCxcbiAgICAgICAgICAgIGlzRm9jdXNlZCA9IF9wcm9wcy5pc0ZvY3VzZWQ7XG5cbiAgICAgICAgaWYgKHByZXZQcm9wcy5mb2N1c2VkID09PSBmb2N1c2VkICYmIHByZXZQcm9wcy5pc0ZvY3VzZWQgPT09IGlzRm9jdXNlZCkgcmV0dXJuO1xuXG4gICAgICAgIGlmIChmb2N1c2VkICYmIGlzRm9jdXNlZCkge1xuICAgICAgICAgIHRoaXMuaW5wdXRSZWYuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29tcG9uZW50RGlkVXBkYXRlO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnb25DaGFuZ2UnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBvbkNoYW5nZShlKSB7XG4gICAgICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIG9uQ2hhbmdlID0gX3Byb3BzMi5vbkNoYW5nZSxcbiAgICAgICAgICAgIG9uS2V5RG93blF1ZXN0aW9uTWFyayA9IF9wcm9wczIub25LZXlEb3duUXVlc3Rpb25NYXJrO1xuXG4gICAgICAgIHZhciBkYXRlU3RyaW5nID0gZS50YXJnZXQudmFsdWU7XG5cbiAgICAgICAgLy8gSW4gU2FmYXJpLCBvbktleURvd24gZG9lcyBub3QgY29uc2lzdGVudGx5IGZpcmUgYWhlYWQgb2Ygb25DaGFuZ2UuIEFzIGEgcmVzdWx0LCB3ZSBuZWVkIHRvXG4gICAgICAgIC8vIHNwZWNpYWwgY2FzZSB0aGUgYD9gIGtleSBzbyB0aGF0IGl0IGFsd2F5cyB0cmlnZ2VycyB0aGUgYXBwcm9wcmlhdGUgY2FsbGJhY2ssIGluc3RlYWQgb2ZcbiAgICAgICAgLy8gbW9kaWZ5aW5nIHRoZSBpbnB1dCB2YWx1ZVxuICAgICAgICBpZiAoZGF0ZVN0cmluZ1tkYXRlU3RyaW5nLmxlbmd0aCAtIDFdID09PSAnPycpIHtcbiAgICAgICAgICBvbktleURvd25RdWVzdGlvbk1hcmsoZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGRhdGVTdHJpbmc6IGRhdGVTdHJpbmcgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIG9uQ2hhbmdlKGRhdGVTdHJpbmcpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvbkNoYW5nZTtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ29uS2V5RG93bicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIG9uS2V5RG93bihlKSB7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGlmICghX2NvbnN0YW50cy5NT0RJRklFUl9LRVlfTkFNRVMuaGFzKGUua2V5KSkge1xuICAgICAgICAgIHRoaXMudGhyb3R0bGVkS2V5RG93bihlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gb25LZXlEb3duO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnb25GaW5hbEtleURvd24nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBvbkZpbmFsS2V5RG93bihlKSB7XG4gICAgICAgIHZhciBfcHJvcHMzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIG9uS2V5RG93blNoaWZ0VGFiID0gX3Byb3BzMy5vbktleURvd25TaGlmdFRhYixcbiAgICAgICAgICAgIG9uS2V5RG93blRhYiA9IF9wcm9wczMub25LZXlEb3duVGFiLFxuICAgICAgICAgICAgb25LZXlEb3duQXJyb3dEb3duID0gX3Byb3BzMy5vbktleURvd25BcnJvd0Rvd24sXG4gICAgICAgICAgICBvbktleURvd25RdWVzdGlvbk1hcmsgPSBfcHJvcHMzLm9uS2V5RG93blF1ZXN0aW9uTWFyaztcbiAgICAgICAgdmFyIGtleSA9IGUua2V5O1xuXG5cbiAgICAgICAgaWYgKGtleSA9PT0gJ1RhYicpIHtcbiAgICAgICAgICBpZiAoZS5zaGlmdEtleSkge1xuICAgICAgICAgICAgb25LZXlEb3duU2hpZnRUYWIoZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9uS2V5RG93blRhYihlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnQXJyb3dEb3duJykge1xuICAgICAgICAgIG9uS2V5RG93bkFycm93RG93bihlKTtcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICc/Jykge1xuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBvbktleURvd25RdWVzdGlvbk1hcmsoZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9uRmluYWxLZXlEb3duO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnc2V0SW5wdXRSZWYnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBzZXRJbnB1dFJlZihyZWYpIHtcbiAgICAgICAgdGhpcy5pbnB1dFJlZiA9IHJlZjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNldElucHV0UmVmO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICB2YXIgX3N0YXRlID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICAgIGRhdGVTdHJpbmcgPSBfc3RhdGUuZGF0ZVN0cmluZyxcbiAgICAgICAgICAgIGlzVG91Y2ggPSBfc3RhdGUuaXNUb3VjaERldmljZTtcbiAgICAgICAgdmFyIF9wcm9wczQgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgaWQgPSBfcHJvcHM0LmlkLFxuICAgICAgICAgICAgcGxhY2Vob2xkZXIgPSBfcHJvcHM0LnBsYWNlaG9sZGVyLFxuICAgICAgICAgICAgZGlzcGxheVZhbHVlID0gX3Byb3BzNC5kaXNwbGF5VmFsdWUsXG4gICAgICAgICAgICBzY3JlZW5SZWFkZXJNZXNzYWdlID0gX3Byb3BzNC5zY3JlZW5SZWFkZXJNZXNzYWdlLFxuICAgICAgICAgICAgZm9jdXNlZCA9IF9wcm9wczQuZm9jdXNlZCxcbiAgICAgICAgICAgIHNob3dDYXJldCA9IF9wcm9wczQuc2hvd0NhcmV0LFxuICAgICAgICAgICAgb25Gb2N1cyA9IF9wcm9wczQub25Gb2N1cyxcbiAgICAgICAgICAgIGRpc2FibGVkID0gX3Byb3BzNC5kaXNhYmxlZCxcbiAgICAgICAgICAgIHJlcXVpcmVkID0gX3Byb3BzNC5yZXF1aXJlZCxcbiAgICAgICAgICAgIHJlYWRPbmx5ID0gX3Byb3BzNC5yZWFkT25seSxcbiAgICAgICAgICAgIG9wZW5EaXJlY3Rpb24gPSBfcHJvcHM0Lm9wZW5EaXJlY3Rpb24sXG4gICAgICAgICAgICB2ZXJ0aWNhbFNwYWNpbmcgPSBfcHJvcHM0LnZlcnRpY2FsU3BhY2luZyxcbiAgICAgICAgICAgIHNtYWxsID0gX3Byb3BzNC5zbWFsbCxcbiAgICAgICAgICAgIHJlZ3VsYXIgPSBfcHJvcHM0LnJlZ3VsYXIsXG4gICAgICAgICAgICBibG9jayA9IF9wcm9wczQuYmxvY2ssXG4gICAgICAgICAgICBzdHlsZXMgPSBfcHJvcHM0LnN0eWxlcyxcbiAgICAgICAgICAgIHJlYWN0RGF0ZXMgPSBfcHJvcHM0LnRoZW1lLnJlYWN0RGF0ZXM7XG5cblxuICAgICAgICB2YXIgdmFsdWUgPSBkYXRlU3RyaW5nIHx8IGRpc3BsYXlWYWx1ZSB8fCAnJztcbiAgICAgICAgdmFyIHNjcmVlblJlYWRlck1lc3NhZ2VJZCA9ICdEYXRlSW5wdXRfX3NjcmVlbi1yZWFkZXItbWVzc2FnZS0nICsgU3RyaW5nKGlkKTtcblxuICAgICAgICB2YXIgd2l0aEZhbmcgPSBzaG93Q2FyZXQgJiYgZm9jdXNlZDtcblxuICAgICAgICB2YXIgaW5wdXRIZWlnaHQgPSAoMCwgX2dldElucHV0SGVpZ2h0MlsnZGVmYXVsdCddKShyZWFjdERhdGVzLCBzbWFsbCk7XG5cbiAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICgwLCBfcmVhY3RXaXRoU3R5bGVzLmNzcykoc3R5bGVzLkRhdGVJbnB1dCwgc21hbGwgJiYgc3R5bGVzLkRhdGVJbnB1dF9fc21hbGwsIGJsb2NrICYmIHN0eWxlcy5EYXRlSW5wdXRfX2Jsb2NrLCB3aXRoRmFuZyAmJiBzdHlsZXMuRGF0ZUlucHV0X193aXRoRmFuZywgZGlzYWJsZWQgJiYgc3R5bGVzLkRhdGVJbnB1dF9fZGlzYWJsZWQsIHdpdGhGYW5nICYmIG9wZW5EaXJlY3Rpb24gPT09IF9jb25zdGFudHMuT1BFTl9ET1dOICYmIHN0eWxlcy5EYXRlSW5wdXRfX29wZW5Eb3duLCB3aXRoRmFuZyAmJiBvcGVuRGlyZWN0aW9uID09PSBfY29uc3RhbnRzLk9QRU5fVVAgJiYgc3R5bGVzLkRhdGVJbnB1dF9fb3BlblVwKSxcbiAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudCgnaW5wdXQnLCBfZXh0ZW5kcyh7fSwgKDAsIF9yZWFjdFdpdGhTdHlsZXMuY3NzKShzdHlsZXMuRGF0ZUlucHV0X2lucHV0LCBzbWFsbCAmJiBzdHlsZXMuRGF0ZUlucHV0X2lucHV0X19zbWFsbCwgcmVndWxhciAmJiBzdHlsZXMuRGF0ZUlucHV0X2lucHV0X19yZWd1bGFyLCByZWFkT25seSAmJiBzdHlsZXMuRGF0ZUlucHV0X2lucHV0X19yZWFkT25seSwgZm9jdXNlZCAmJiBzdHlsZXMuRGF0ZUlucHV0X2lucHV0X19mb2N1c2VkLCBkaXNhYmxlZCAmJiBzdHlsZXMuRGF0ZUlucHV0X2lucHV0X19kaXNhYmxlZCksIHtcbiAgICAgICAgICAgICdhcmlhLWxhYmVsJzogcGxhY2Vob2xkZXIsXG4gICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICBuYW1lOiBpZCxcbiAgICAgICAgICAgIHJlZjogdGhpcy5zZXRJbnB1dFJlZixcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLm9uQ2hhbmdlLFxuICAgICAgICAgICAgb25LZXlEb3duOiB0aGlzLm9uS2V5RG93bixcbiAgICAgICAgICAgIG9uRm9jdXM6IG9uRm9jdXMsXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogcGxhY2Vob2xkZXIsXG4gICAgICAgICAgICBhdXRvQ29tcGxldGU6ICdvZmYnLFxuICAgICAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgICAgICAgICAgcmVhZE9ubHk6IHR5cGVvZiByZWFkT25seSA9PT0gJ2Jvb2xlYW4nID8gcmVhZE9ubHkgOiBpc1RvdWNoLFxuICAgICAgICAgICAgcmVxdWlyZWQ6IHJlcXVpcmVkLFxuICAgICAgICAgICAgJ2FyaWEtZGVzY3JpYmVkYnknOiBzY3JlZW5SZWFkZXJNZXNzYWdlICYmIHNjcmVlblJlYWRlck1lc3NhZ2VJZFxuICAgICAgICAgIH0pKSxcbiAgICAgICAgICB3aXRoRmFuZyAmJiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdzdmcnLFxuICAgICAgICAgICAgX2V4dGVuZHMoe1xuICAgICAgICAgICAgICByb2xlOiAncHJlc2VudGF0aW9uJyxcbiAgICAgICAgICAgICAgZm9jdXNhYmxlOiAnZmFsc2UnXG4gICAgICAgICAgICB9LCAoMCwgX3JlYWN0V2l0aFN0eWxlcy5jc3MpKHN0eWxlcy5EYXRlSW5wdXRfZmFuZywgb3BlbkRpcmVjdGlvbiA9PT0gX2NvbnN0YW50cy5PUEVOX0RPV04gJiYge1xuICAgICAgICAgICAgICB0b3A6IGlucHV0SGVpZ2h0ICsgdmVydGljYWxTcGFjaW5nIC0gX2NvbnN0YW50cy5GQU5HX0hFSUdIVF9QWCAtIDFcbiAgICAgICAgICAgIH0sIG9wZW5EaXJlY3Rpb24gPT09IF9jb25zdGFudHMuT1BFTl9VUCAmJiB7XG4gICAgICAgICAgICAgIGJvdHRvbTogaW5wdXRIZWlnaHQgKyB2ZXJ0aWNhbFNwYWNpbmcgLSBfY29uc3RhbnRzLkZBTkdfSEVJR0hUX1BYIC0gMVxuICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoJ3BhdGgnLCBfZXh0ZW5kcyh7fSwgKDAsIF9yZWFjdFdpdGhTdHlsZXMuY3NzKShzdHlsZXMuRGF0ZUlucHV0X2ZhbmdTaGFwZSksIHtcbiAgICAgICAgICAgICAgZDogb3BlbkRpcmVjdGlvbiA9PT0gX2NvbnN0YW50cy5PUEVOX0RPV04gPyBGQU5HX1BBVEhfVE9QIDogRkFOR19QQVRIX0JPVFRPTVxuICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoJ3BhdGgnLCBfZXh0ZW5kcyh7fSwgKDAsIF9yZWFjdFdpdGhTdHlsZXMuY3NzKShzdHlsZXMuRGF0ZUlucHV0X2ZhbmdTdHJva2UpLCB7XG4gICAgICAgICAgICAgIGQ6IG9wZW5EaXJlY3Rpb24gPT09IF9jb25zdGFudHMuT1BFTl9ET1dOID8gRkFOR19TVFJPS0VfVE9QIDogRkFOR19TVFJPS0VfQk9UVE9NXG4gICAgICAgICAgICB9KSlcbiAgICAgICAgICApLFxuICAgICAgICAgIHNjcmVlblJlYWRlck1lc3NhZ2UgJiYgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAncCcsXG4gICAgICAgICAgICBfZXh0ZW5kcyh7fSwgKDAsIF9yZWFjdFdpdGhTdHlsZXMuY3NzKShzdHlsZXMuRGF0ZUlucHV0X3NjcmVlblJlYWRlck1lc3NhZ2UpLCB7IGlkOiBzY3JlZW5SZWFkZXJNZXNzYWdlSWQgfSksXG4gICAgICAgICAgICBzY3JlZW5SZWFkZXJNZXNzYWdlXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVuZGVyO1xuICAgIH0oKVxuICB9XSk7XG5cbiAgcmV0dXJuIERhdGVJbnB1dDtcbn0oX3JlYWN0MlsnZGVmYXVsdCddLkNvbXBvbmVudCk7XG5cbkRhdGVJbnB1dC5wcm9wVHlwZXMgPSBwcm9wVHlwZXM7XG5EYXRlSW5wdXQuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSAoMCwgX3JlYWN0V2l0aFN0eWxlcy53aXRoU3R5bGVzKShmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgX3JlZiRyZWFjdERhdGVzID0gX3JlZi5yZWFjdERhdGVzLFxuICAgICAgYm9yZGVyID0gX3JlZiRyZWFjdERhdGVzLmJvcmRlcixcbiAgICAgIGNvbG9yID0gX3JlZiRyZWFjdERhdGVzLmNvbG9yLFxuICAgICAgc2l6aW5nID0gX3JlZiRyZWFjdERhdGVzLnNpemluZyxcbiAgICAgIHNwYWNpbmcgPSBfcmVmJHJlYWN0RGF0ZXMuc3BhY2luZyxcbiAgICAgIGZvbnQgPSBfcmVmJHJlYWN0RGF0ZXMuZm9udCxcbiAgICAgIHpJbmRleCA9IF9yZWYkcmVhY3REYXRlcy56SW5kZXg7XG4gIHJldHVybiB7XG4gICAgRGF0ZUlucHV0OiB7XG4gICAgICBtYXJnaW46IDAsXG4gICAgICBwYWRkaW5nOiBzcGFjaW5nLmlucHV0UGFkZGluZyxcbiAgICAgIGJhY2tncm91bmQ6IGNvbG9yLmJhY2tncm91bmQsXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgd2lkdGg6IHNpemluZy5pbnB1dFdpZHRoLFxuICAgICAgdmVydGljYWxBbGlnbjogJ21pZGRsZSdcbiAgICB9LFxuXG4gICAgRGF0ZUlucHV0X19zbWFsbDoge1xuICAgICAgd2lkdGg6IHNpemluZy5pbnB1dFdpZHRoX3NtYWxsXG4gICAgfSxcblxuICAgIERhdGVJbnB1dF9fYmxvY2s6IHtcbiAgICAgIHdpZHRoOiAnMTAwJSdcbiAgICB9LFxuXG4gICAgRGF0ZUlucHV0X19kaXNhYmxlZDoge1xuICAgICAgYmFja2dyb3VuZDogY29sb3IuZGlzYWJsZWQsXG4gICAgICBjb2xvcjogY29sb3IudGV4dERpc2FibGVkXG4gICAgfSxcblxuICAgIERhdGVJbnB1dF9pbnB1dDoge1xuICAgICAgZm9udFdlaWdodDogMjAwLFxuICAgICAgZm9udFNpemU6IGZvbnQuaW5wdXQuc2l6ZSxcbiAgICAgIGxpbmVIZWlnaHQ6IGZvbnQuaW5wdXQubGluZUhlaWdodCxcbiAgICAgIGNvbG9yOiBjb2xvci50ZXh0LFxuICAgICAgYmFja2dyb3VuZENvbG9yOiBjb2xvci5iYWNrZ3JvdW5kLFxuICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgIHBhZGRpbmc6IFN0cmluZyhzcGFjaW5nLmRpc3BsYXlUZXh0UGFkZGluZ1ZlcnRpY2FsKSArICdweCAnICsgU3RyaW5nKHNwYWNpbmcuZGlzcGxheVRleHRQYWRkaW5nSG9yaXpvbnRhbCkgKyAncHgnLFxuICAgICAgcGFkZGluZ1RvcDogc3BhY2luZy5kaXNwbGF5VGV4dFBhZGRpbmdUb3AsXG4gICAgICBwYWRkaW5nQm90dG9tOiBzcGFjaW5nLmRpc3BsYXlUZXh0UGFkZGluZ0JvdHRvbSxcbiAgICAgIHBhZGRpbmdMZWZ0OiBzcGFjaW5nLmRpc3BsYXlUZXh0UGFkZGluZ0xlZnQsXG4gICAgICBwYWRkaW5nUmlnaHQ6IHNwYWNpbmcuZGlzcGxheVRleHRQYWRkaW5nUmlnaHQsXG4gICAgICBib3JkZXI6IGJvcmRlci5pbnB1dC5ib3JkZXIsXG4gICAgICBib3JkZXJUb3A6IGJvcmRlci5pbnB1dC5ib3JkZXJUb3AsXG4gICAgICBib3JkZXJSaWdodDogYm9yZGVyLmlucHV0LmJvcmRlclJpZ2h0LFxuICAgICAgYm9yZGVyQm90dG9tOiBib3JkZXIuaW5wdXQuYm9yZGVyQm90dG9tLFxuICAgICAgYm9yZGVyTGVmdDogYm9yZGVyLmlucHV0LmJvcmRlckxlZnQsXG4gICAgICBib3JkZXJSYWRpdXM6IGJvcmRlci5pbnB1dC5ib3JkZXJSYWRpdXNcbiAgICB9LFxuXG4gICAgRGF0ZUlucHV0X2lucHV0X19zbWFsbDoge1xuICAgICAgZm9udFNpemU6IGZvbnQuaW5wdXQuc2l6ZV9zbWFsbCxcbiAgICAgIGxpbmVIZWlnaHQ6IGZvbnQuaW5wdXQubGluZUhlaWdodF9zbWFsbCxcbiAgICAgIGxldHRlclNwYWNpbmc6IGZvbnQuaW5wdXQubGV0dGVyU3BhY2luZ19zbWFsbCxcbiAgICAgIHBhZGRpbmc6IFN0cmluZyhzcGFjaW5nLmRpc3BsYXlUZXh0UGFkZGluZ1ZlcnRpY2FsX3NtYWxsKSArICdweCAnICsgU3RyaW5nKHNwYWNpbmcuZGlzcGxheVRleHRQYWRkaW5nSG9yaXpvbnRhbF9zbWFsbCkgKyAncHgnLFxuICAgICAgcGFkZGluZ1RvcDogc3BhY2luZy5kaXNwbGF5VGV4dFBhZGRpbmdUb3Bfc21hbGwsXG4gICAgICBwYWRkaW5nQm90dG9tOiBzcGFjaW5nLmRpc3BsYXlUZXh0UGFkZGluZ0JvdHRvbV9zbWFsbCxcbiAgICAgIHBhZGRpbmdMZWZ0OiBzcGFjaW5nLmRpc3BsYXlUZXh0UGFkZGluZ0xlZnRfc21hbGwsXG4gICAgICBwYWRkaW5nUmlnaHQ6IHNwYWNpbmcuZGlzcGxheVRleHRQYWRkaW5nUmlnaHRfc21hbGxcbiAgICB9LFxuXG4gICAgRGF0ZUlucHV0X2lucHV0X19yZWd1bGFyOiB7XG4gICAgICBmb250V2VpZ2h0OiAnYXV0bydcbiAgICB9LFxuXG4gICAgRGF0ZUlucHV0X2lucHV0X19yZWFkT25seToge1xuICAgICAgdXNlclNlbGVjdDogJ25vbmUnXG4gICAgfSxcblxuICAgIERhdGVJbnB1dF9pbnB1dF9fZm9jdXNlZDoge1xuICAgICAgb3V0bGluZTogYm9yZGVyLmlucHV0Lm91dGxpbmVGb2N1c2VkLFxuICAgICAgYmFja2dyb3VuZDogY29sb3IuYmFja2dyb3VuZEZvY3VzZWQsXG4gICAgICBib3JkZXI6IGJvcmRlci5pbnB1dC5ib3JkZXJGb2N1c2VkLFxuICAgICAgYm9yZGVyVG9wOiBib3JkZXIuaW5wdXQuYm9yZGVyVG9wRm9jdXNlZCxcbiAgICAgIGJvcmRlclJpZ2h0OiBib3JkZXIuaW5wdXQuYm9yZGVyUmlnaHRGb2N1c2VkLFxuICAgICAgYm9yZGVyQm90dG9tOiBib3JkZXIuaW5wdXQuYm9yZGVyQm90dG9tRm9jdXNlZCxcbiAgICAgIGJvcmRlckxlZnQ6IGJvcmRlci5pbnB1dC5ib3JkZXJMZWZ0Rm9jdXNlZFxuICAgIH0sXG5cbiAgICBEYXRlSW5wdXRfaW5wdXRfX2Rpc2FibGVkOiB7XG4gICAgICBiYWNrZ3JvdW5kOiBjb2xvci5kaXNhYmxlZCxcbiAgICAgIGZvbnRTdHlsZTogZm9udC5pbnB1dC5zdHlsZURpc2FibGVkXG4gICAgfSxcblxuICAgIERhdGVJbnB1dF9zY3JlZW5SZWFkZXJNZXNzYWdlOiB7XG4gICAgICBib3JkZXI6IDAsXG4gICAgICBjbGlwOiAncmVjdCgwLCAwLCAwLCAwKScsXG4gICAgICBoZWlnaHQ6IDEsXG4gICAgICBtYXJnaW46IC0xLFxuICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICAgICAgcGFkZGluZzogMCxcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgd2lkdGg6IDFcbiAgICB9LFxuXG4gICAgRGF0ZUlucHV0X2Zhbmc6IHtcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgd2lkdGg6IF9jb25zdGFudHMuRkFOR19XSURUSF9QWCxcbiAgICAgIGhlaWdodDogX2NvbnN0YW50cy5GQU5HX0hFSUdIVF9QWCxcbiAgICAgIGxlZnQ6IDIyLFxuICAgICAgekluZGV4OiB6SW5kZXggKyAyXG4gICAgfSxcblxuICAgIERhdGVJbnB1dF9mYW5nU2hhcGU6IHtcbiAgICAgIGZpbGw6IGNvbG9yLmJhY2tncm91bmRcbiAgICB9LFxuXG4gICAgRGF0ZUlucHV0X2ZhbmdTdHJva2U6IHtcbiAgICAgIHN0cm9rZTogY29sb3IuY29yZS5ib3JkZXIsXG4gICAgICBmaWxsOiAndHJhbnNwYXJlbnQnXG4gICAgfVxuICB9O1xufSkoRGF0ZUlucHV0KTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLlB1cmVEYXRlUmFuZ2VQaWNrZXIgPSB1bmRlZmluZWQ7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfb2JqZWN0ID0gcmVxdWlyZSgnb2JqZWN0LmFzc2lnbicpO1xuXG52YXIgX29iamVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3QpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcmVhY3RBZGRvbnNTaGFsbG93Q29tcGFyZSA9IHJlcXVpcmUoJ3JlYWN0LWFkZG9ucy1zaGFsbG93LWNvbXBhcmUnKTtcblxudmFyIF9yZWFjdEFkZG9uc1NoYWxsb3dDb21wYXJlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0QWRkb25zU2hhbGxvd0NvbXBhcmUpO1xuXG52YXIgX21vbWVudCA9IHJlcXVpcmUoJ21vbWVudCcpO1xuXG52YXIgX21vbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb21lbnQpO1xuXG52YXIgX3JlYWN0V2l0aFN0eWxlcyA9IHJlcXVpcmUoJ3JlYWN0LXdpdGgtc3R5bGVzJyk7XG5cbnZhciBfcmVhY3RQb3J0YWwgPSByZXF1aXJlKCdyZWFjdC1wb3J0YWwnKTtcblxudmFyIF9haXJibmJQcm9wVHlwZXMgPSByZXF1aXJlKCdhaXJibmItcHJvcC10eXBlcycpO1xuXG52YXIgX2NvbnNvbGlkYXRlZEV2ZW50cyA9IHJlcXVpcmUoJ2NvbnNvbGlkYXRlZC1ldmVudHMnKTtcblxudmFyIF9pc1RvdWNoRGV2aWNlID0gcmVxdWlyZSgnaXMtdG91Y2gtZGV2aWNlJyk7XG5cbnZhciBfaXNUb3VjaERldmljZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc1RvdWNoRGV2aWNlKTtcblxudmFyIF9yZWFjdE91dHNpZGVDbGlja0hhbmRsZXIgPSByZXF1aXJlKCdyZWFjdC1vdXRzaWRlLWNsaWNrLWhhbmRsZXInKTtcblxudmFyIF9yZWFjdE91dHNpZGVDbGlja0hhbmRsZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3RPdXRzaWRlQ2xpY2tIYW5kbGVyKTtcblxudmFyIF9EYXRlUmFuZ2VQaWNrZXJTaGFwZSA9IHJlcXVpcmUoJy4uL3NoYXBlcy9EYXRlUmFuZ2VQaWNrZXJTaGFwZScpO1xuXG52YXIgX0RhdGVSYW5nZVBpY2tlclNoYXBlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RhdGVSYW5nZVBpY2tlclNoYXBlKTtcblxudmFyIF9kZWZhdWx0UGhyYXNlcyA9IHJlcXVpcmUoJy4uL2RlZmF1bHRQaHJhc2VzJyk7XG5cbnZhciBfZ2V0UmVzcG9uc2l2ZUNvbnRhaW5lclN0eWxlcyA9IHJlcXVpcmUoJy4uL3V0aWxzL2dldFJlc3BvbnNpdmVDb250YWluZXJTdHlsZXMnKTtcblxudmFyIF9nZXRSZXNwb25zaXZlQ29udGFpbmVyU3R5bGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFJlc3BvbnNpdmVDb250YWluZXJTdHlsZXMpO1xuXG52YXIgX2dldERldGFjaGVkQ29udGFpbmVyU3R5bGVzID0gcmVxdWlyZSgnLi4vdXRpbHMvZ2V0RGV0YWNoZWRDb250YWluZXJTdHlsZXMnKTtcblxudmFyIF9nZXREZXRhY2hlZENvbnRhaW5lclN0eWxlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXREZXRhY2hlZENvbnRhaW5lclN0eWxlcyk7XG5cbnZhciBfZ2V0SW5wdXRIZWlnaHQgPSByZXF1aXJlKCcuLi91dGlscy9nZXRJbnB1dEhlaWdodCcpO1xuXG52YXIgX2dldElucHV0SGVpZ2h0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldElucHV0SGVpZ2h0KTtcblxudmFyIF9pc0luY2x1c2l2ZWx5QWZ0ZXJEYXkgPSByZXF1aXJlKCcuLi91dGlscy9pc0luY2x1c2l2ZWx5QWZ0ZXJEYXknKTtcblxudmFyIF9pc0luY2x1c2l2ZWx5QWZ0ZXJEYXkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNJbmNsdXNpdmVseUFmdGVyRGF5KTtcblxudmFyIF9kaXNhYmxlU2Nyb2xsMiA9IHJlcXVpcmUoJy4uL3V0aWxzL2Rpc2FibGVTY3JvbGwnKTtcblxudmFyIF9kaXNhYmxlU2Nyb2xsMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Rpc2FibGVTY3JvbGwyKTtcblxudmFyIF9EYXRlUmFuZ2VQaWNrZXJJbnB1dENvbnRyb2xsZXIgPSByZXF1aXJlKCcuL0RhdGVSYW5nZVBpY2tlcklucHV0Q29udHJvbGxlcicpO1xuXG52YXIgX0RhdGVSYW5nZVBpY2tlcklucHV0Q29udHJvbGxlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EYXRlUmFuZ2VQaWNrZXJJbnB1dENvbnRyb2xsZXIpO1xuXG52YXIgX0RheVBpY2tlclJhbmdlQ29udHJvbGxlciA9IHJlcXVpcmUoJy4vRGF5UGlja2VyUmFuZ2VDb250cm9sbGVyJyk7XG5cbnZhciBfRGF5UGlja2VyUmFuZ2VDb250cm9sbGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RheVBpY2tlclJhbmdlQ29udHJvbGxlcik7XG5cbnZhciBfQ2xvc2VCdXR0b24gPSByZXF1aXJlKCcuL0Nsb3NlQnV0dG9uJyk7XG5cbnZhciBfQ2xvc2VCdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2xvc2VCdXR0b24pO1xuXG52YXIgX2NvbnN0YW50cyA9IHJlcXVpcmUoJy4uL2NvbnN0YW50cycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIHByb3BUeXBlcyA9ICgwLCBfYWlyYm5iUHJvcFR5cGVzLmZvcmJpZEV4dHJhUHJvcHMpKCgwLCBfb2JqZWN0MlsnZGVmYXVsdCddKSh7fSwgX3JlYWN0V2l0aFN0eWxlcy53aXRoU3R5bGVzUHJvcFR5cGVzLCBfRGF0ZVJhbmdlUGlja2VyU2hhcGUyWydkZWZhdWx0J10pKTtcblxudmFyIGRlZmF1bHRQcm9wcyA9IHtcbiAgLy8gcmVxdWlyZWQgcHJvcHMgZm9yIGEgZnVuY3Rpb25hbCBpbnRlcmFjdGl2ZSBEYXRlUmFuZ2VQaWNrZXJcbiAgc3RhcnREYXRlOiBudWxsLFxuICBlbmREYXRlOiBudWxsLFxuICBmb2N1c2VkSW5wdXQ6IG51bGwsXG5cbiAgLy8gaW5wdXQgcmVsYXRlZCBwcm9wc1xuICBzdGFydERhdGVQbGFjZWhvbGRlclRleHQ6ICdTdGFydCBEYXRlJyxcbiAgZW5kRGF0ZVBsYWNlaG9sZGVyVGV4dDogJ0VuZCBEYXRlJyxcbiAgZGlzYWJsZWQ6IGZhbHNlLFxuICByZXF1aXJlZDogZmFsc2UsXG4gIHJlYWRPbmx5OiBmYWxzZSxcbiAgc2NyZWVuUmVhZGVySW5wdXRNZXNzYWdlOiAnJyxcbiAgc2hvd0NsZWFyRGF0ZXM6IGZhbHNlLFxuICBzaG93RGVmYXVsdElucHV0SWNvbjogZmFsc2UsXG4gIGlucHV0SWNvblBvc2l0aW9uOiBfY29uc3RhbnRzLklDT05fQkVGT1JFX1BPU0lUSU9OLFxuICBjdXN0b21JbnB1dEljb246IG51bGwsXG4gIGN1c3RvbUFycm93SWNvbjogbnVsbCxcbiAgY3VzdG9tQ2xvc2VJY29uOiBudWxsLFxuICBub0JvcmRlcjogZmFsc2UsXG4gIGJsb2NrOiBmYWxzZSxcbiAgc21hbGw6IGZhbHNlLFxuICByZWd1bGFyOiBmYWxzZSxcbiAga2VlcEZvY3VzT25JbnB1dDogZmFsc2UsXG5cbiAgLy8gY2FsZW5kYXIgcHJlc2VudGF0aW9uIGFuZCBpbnRlcmFjdGlvbiByZWxhdGVkIHByb3BzXG4gIHJlbmRlck1vbnRoVGV4dDogbnVsbCxcbiAgb3JpZW50YXRpb246IF9jb25zdGFudHMuSE9SSVpPTlRBTF9PUklFTlRBVElPTixcbiAgYW5jaG9yRGlyZWN0aW9uOiBfY29uc3RhbnRzLkFOQ0hPUl9MRUZULFxuICBvcGVuRGlyZWN0aW9uOiBfY29uc3RhbnRzLk9QRU5fRE9XTixcbiAgaG9yaXpvbnRhbE1hcmdpbjogMCxcbiAgd2l0aFBvcnRhbDogZmFsc2UsXG4gIHdpdGhGdWxsU2NyZWVuUG9ydGFsOiBmYWxzZSxcbiAgYXBwZW5kVG9Cb2R5OiBmYWxzZSxcbiAgZGlzYWJsZVNjcm9sbDogZmFsc2UsXG4gIGluaXRpYWxWaXNpYmxlTW9udGg6IG51bGwsXG4gIG51bWJlck9mTW9udGhzOiAyLFxuICBrZWVwT3Blbk9uRGF0ZVNlbGVjdDogZmFsc2UsXG4gIHJlb3BlblBpY2tlck9uQ2xlYXJEYXRlczogZmFsc2UsXG4gIHJlbmRlckNhbGVuZGFySW5mbzogbnVsbCxcbiAgY2FsZW5kYXJJbmZvUG9zaXRpb246IF9jb25zdGFudHMuSU5GT19QT1NJVElPTl9CT1RUT00sXG4gIGhpZGVLZXlib2FyZFNob3J0Y3V0c1BhbmVsOiBmYWxzZSxcbiAgZGF5U2l6ZTogX2NvbnN0YW50cy5EQVlfU0laRSxcbiAgaXNSVEw6IGZhbHNlLFxuICBmaXJzdERheU9mV2VlazogbnVsbCxcbiAgdmVydGljYWxIZWlnaHQ6IG51bGwsXG4gIHRyYW5zaXRpb25EdXJhdGlvbjogdW5kZWZpbmVkLFxuICB2ZXJ0aWNhbFNwYWNpbmc6IF9jb25zdGFudHMuREVGQVVMVF9WRVJUSUNBTF9TUEFDSU5HLFxuXG4gIC8vIG5hdmlnYXRpb24gcmVsYXRlZCBwcm9wc1xuICBuYXZQcmV2OiBudWxsLFxuICBuYXZOZXh0OiBudWxsLFxuXG4gIG9uUHJldk1vbnRoQ2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBvblByZXZNb250aENsaWNrKCkge31cblxuICAgIHJldHVybiBvblByZXZNb250aENsaWNrO1xuICB9KCksXG4gIG9uTmV4dE1vbnRoQ2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBvbk5leHRNb250aENsaWNrKCkge31cblxuICAgIHJldHVybiBvbk5leHRNb250aENsaWNrO1xuICB9KCksXG4gIG9uQ2xvc2U6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBvbkNsb3NlKCkge31cblxuICAgIHJldHVybiBvbkNsb3NlO1xuICB9KCksXG5cblxuICAvLyBkYXkgcHJlc2VudGF0aW9uIGFuZCBpbnRlcmFjdGlvbiByZWxhdGVkIHByb3BzXG4gIHJlbmRlckNhbGVuZGFyRGF5OiB1bmRlZmluZWQsXG4gIHJlbmRlckRheUNvbnRlbnRzOiBudWxsLFxuICByZW5kZXJNb250aEVsZW1lbnQ6IG51bGwsXG4gIG1pbmltdW1OaWdodHM6IDEsXG4gIGVuYWJsZU91dHNpZGVEYXlzOiBmYWxzZSxcbiAgaXNEYXlCbG9ja2VkOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gaXNEYXlCbG9ja2VkKCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiBpc0RheUJsb2NrZWQ7XG4gIH0oKSxcbiAgaXNPdXRzaWRlUmFuZ2U6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBpc091dHNpZGVSYW5nZShkYXkpIHtcbiAgICAgIHJldHVybiAhKDAsIF9pc0luY2x1c2l2ZWx5QWZ0ZXJEYXkyWydkZWZhdWx0J10pKGRheSwgKDAsIF9tb21lbnQyWydkZWZhdWx0J10pKCkpO1xuICAgIH1cblxuICAgIHJldHVybiBpc091dHNpZGVSYW5nZTtcbiAgfSgpLFxuICBpc0RheUhpZ2hsaWdodGVkOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gaXNEYXlIaWdobGlnaHRlZCgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gaXNEYXlIaWdobGlnaHRlZDtcbiAgfSgpLFxuXG4gIC8vIGludGVybmF0aW9uYWxpemF0aW9uXG4gIGRpc3BsYXlGb3JtYXQ6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBkaXNwbGF5Rm9ybWF0KCkge1xuICAgICAgcmV0dXJuIF9tb21lbnQyWydkZWZhdWx0J10ubG9jYWxlRGF0YSgpLmxvbmdEYXRlRm9ybWF0KCdMJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRpc3BsYXlGb3JtYXQ7XG4gIH0oKSxcbiAgbW9udGhGb3JtYXQ6ICdNTU1NIFlZWVknLFxuICB3ZWVrRGF5Rm9ybWF0OiAnZGQnLFxuICBwaHJhc2VzOiBfZGVmYXVsdFBocmFzZXMuRGF0ZVJhbmdlUGlja2VyUGhyYXNlcyxcbiAgZGF5QXJpYUxhYmVsRm9ybWF0OiB1bmRlZmluZWRcbn07XG5cbnZhciBEYXRlUmFuZ2VQaWNrZXIgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoRGF0ZVJhbmdlUGlja2VyLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBEYXRlUmFuZ2VQaWNrZXIocHJvcHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRGF0ZVJhbmdlUGlja2VyKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChEYXRlUmFuZ2VQaWNrZXIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihEYXRlUmFuZ2VQaWNrZXIpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGRheVBpY2tlckNvbnRhaW5lclN0eWxlczoge30sXG4gICAgICBpc0RhdGVSYW5nZVBpY2tlcklucHV0Rm9jdXNlZDogZmFsc2UsXG4gICAgICBpc0RheVBpY2tlckZvY3VzZWQ6IGZhbHNlLFxuICAgICAgc2hvd0tleWJvYXJkU2hvcnRjdXRzOiBmYWxzZVxuICAgIH07XG5cbiAgICBfdGhpcy5pc1RvdWNoRGV2aWNlID0gZmFsc2U7XG5cbiAgICBfdGhpcy5vbk91dHNpZGVDbGljayA9IF90aGlzLm9uT3V0c2lkZUNsaWNrLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLm9uRGF0ZVJhbmdlUGlja2VySW5wdXRGb2N1cyA9IF90aGlzLm9uRGF0ZVJhbmdlUGlja2VySW5wdXRGb2N1cy5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5vbkRheVBpY2tlckZvY3VzID0gX3RoaXMub25EYXlQaWNrZXJGb2N1cy5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5vbkRheVBpY2tlckJsdXIgPSBfdGhpcy5vbkRheVBpY2tlckJsdXIuYmluZChfdGhpcyk7XG4gICAgX3RoaXMuc2hvd0tleWJvYXJkU2hvcnRjdXRzUGFuZWwgPSBfdGhpcy5zaG93S2V5Ym9hcmRTaG9ydGN1dHNQYW5lbC5iaW5kKF90aGlzKTtcblxuICAgIF90aGlzLnJlc3BvbnNpdml6ZVBpY2tlclBvc2l0aW9uID0gX3RoaXMucmVzcG9uc2l2aXplUGlja2VyUG9zaXRpb24uYmluZChfdGhpcyk7XG4gICAgX3RoaXMuZGlzYWJsZVNjcm9sbCA9IF90aGlzLmRpc2FibGVTY3JvbGwuYmluZChfdGhpcyk7XG5cbiAgICBfdGhpcy5zZXREYXlQaWNrZXJDb250YWluZXJSZWYgPSBfdGhpcy5zZXREYXlQaWNrZXJDb250YWluZXJSZWYuYmluZChfdGhpcyk7XG4gICAgX3RoaXMuc2V0Q29udGFpbmVyUmVmID0gX3RoaXMuc2V0Q29udGFpbmVyUmVmLmJpbmQoX3RoaXMpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhEYXRlUmFuZ2VQaWNrZXIsIFt7XG4gICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyID0gKDAsIF9jb25zb2xpZGF0ZWRFdmVudHMuYWRkRXZlbnRMaXN0ZW5lcikod2luZG93LCAncmVzaXplJywgdGhpcy5yZXNwb25zaXZpemVQaWNrZXJQb3NpdGlvbiwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICAgICAgICB0aGlzLnJlc3BvbnNpdml6ZVBpY2tlclBvc2l0aW9uKCk7XG4gICAgICAgIHRoaXMuZGlzYWJsZVNjcm9sbCgpO1xuXG4gICAgICAgIHZhciBmb2N1c2VkSW5wdXQgPSB0aGlzLnByb3BzLmZvY3VzZWRJbnB1dDtcblxuICAgICAgICBpZiAoZm9jdXNlZElucHV0KSB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBpc0RhdGVSYW5nZVBpY2tlcklucHV0Rm9jdXNlZDogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pc1RvdWNoRGV2aWNlID0gKDAsIF9pc1RvdWNoRGV2aWNlMlsnZGVmYXVsdCddKSgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29tcG9uZW50RGlkTW91bnQ7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdzaG91bGRDb21wb25lbnRVcGRhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzLCBuZXh0U3RhdGUpIHtcbiAgICAgICAgcmV0dXJuICgwLCBfcmVhY3RBZGRvbnNTaGFsbG93Q29tcGFyZTJbJ2RlZmF1bHQnXSkodGhpcywgbmV4dFByb3BzLCBuZXh0U3RhdGUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2hvdWxkQ29tcG9uZW50VXBkYXRlO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50RGlkVXBkYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykge1xuICAgICAgICB2YXIgZm9jdXNlZElucHV0ID0gdGhpcy5wcm9wcy5mb2N1c2VkSW5wdXQ7XG5cbiAgICAgICAgaWYgKCFwcmV2UHJvcHMuZm9jdXNlZElucHV0ICYmIGZvY3VzZWRJbnB1dCAmJiB0aGlzLmlzT3BlbmVkKCkpIHtcbiAgICAgICAgICAvLyBUaGUgZGF0ZSBwaWNrZXIganVzdCBjaGFuZ2VkIGZyb20gYmVpbmcgY2xvc2VkIHRvIGJlaW5nIG9wZW4uXG4gICAgICAgICAgdGhpcy5yZXNwb25zaXZpemVQaWNrZXJQb3NpdGlvbigpO1xuICAgICAgICAgIHRoaXMuZGlzYWJsZVNjcm9sbCgpO1xuICAgICAgICB9IGVsc2UgaWYgKHByZXZQcm9wcy5mb2N1c2VkSW5wdXQgJiYgIWZvY3VzZWRJbnB1dCAmJiAhdGhpcy5pc09wZW5lZCgpKSB7XG4gICAgICAgICAgLy8gVGhlIGRhdGUgcGlja2VyIGp1c3QgY2hhbmdlZCBmcm9tIGJlaW5nIG9wZW4gdG8gYmVpbmcgY2xvc2VkLlxuICAgICAgICAgIGlmICh0aGlzLmVuYWJsZVNjcm9sbCkgdGhpcy5lbmFibGVTY3JvbGwoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29tcG9uZW50RGlkVXBkYXRlO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgaWYgKHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcikgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCk7XG4gICAgICAgIGlmICh0aGlzLmVuYWJsZVNjcm9sbCkgdGhpcy5lbmFibGVTY3JvbGwoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbXBvbmVudFdpbGxVbm1vdW50O1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnb25PdXRzaWRlQ2xpY2snLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBvbk91dHNpZGVDbGljayhldmVudCkge1xuICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIG9uRm9jdXNDaGFuZ2UgPSBfcHJvcHMub25Gb2N1c0NoYW5nZSxcbiAgICAgICAgICAgIG9uQ2xvc2UgPSBfcHJvcHMub25DbG9zZSxcbiAgICAgICAgICAgIHN0YXJ0RGF0ZSA9IF9wcm9wcy5zdGFydERhdGUsXG4gICAgICAgICAgICBlbmREYXRlID0gX3Byb3BzLmVuZERhdGUsXG4gICAgICAgICAgICBhcHBlbmRUb0JvZHkgPSBfcHJvcHMuYXBwZW5kVG9Cb2R5O1xuXG4gICAgICAgIGlmICghdGhpcy5pc09wZW5lZCgpKSByZXR1cm47XG4gICAgICAgIGlmIChhcHBlbmRUb0JvZHkgJiYgdGhpcy5kYXlQaWNrZXJDb250YWluZXIuY29udGFpbnMoZXZlbnQudGFyZ2V0KSkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzRGF0ZVJhbmdlUGlja2VySW5wdXRGb2N1c2VkOiBmYWxzZSxcbiAgICAgICAgICBpc0RheVBpY2tlckZvY3VzZWQ6IGZhbHNlLFxuICAgICAgICAgIHNob3dLZXlib2FyZFNob3J0Y3V0czogZmFsc2VcbiAgICAgICAgfSk7XG5cbiAgICAgICAgb25Gb2N1c0NoYW5nZShudWxsKTtcbiAgICAgICAgb25DbG9zZSh7IHN0YXJ0RGF0ZTogc3RhcnREYXRlLCBlbmREYXRlOiBlbmREYXRlIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gb25PdXRzaWRlQ2xpY2s7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdvbkRhdGVSYW5nZVBpY2tlcklucHV0Rm9jdXMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBvbkRhdGVSYW5nZVBpY2tlcklucHV0Rm9jdXMoZm9jdXNlZElucHV0KSB7XG4gICAgICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIG9uRm9jdXNDaGFuZ2UgPSBfcHJvcHMyLm9uRm9jdXNDaGFuZ2UsXG4gICAgICAgICAgICByZWFkT25seSA9IF9wcm9wczIucmVhZE9ubHksXG4gICAgICAgICAgICB3aXRoUG9ydGFsID0gX3Byb3BzMi53aXRoUG9ydGFsLFxuICAgICAgICAgICAgd2l0aEZ1bGxTY3JlZW5Qb3J0YWwgPSBfcHJvcHMyLndpdGhGdWxsU2NyZWVuUG9ydGFsLFxuICAgICAgICAgICAga2VlcEZvY3VzT25JbnB1dCA9IF9wcm9wczIua2VlcEZvY3VzT25JbnB1dDtcblxuXG4gICAgICAgIGlmIChmb2N1c2VkSW5wdXQpIHtcbiAgICAgICAgICB2YXIgd2l0aEFueVBvcnRhbCA9IHdpdGhQb3J0YWwgfHwgd2l0aEZ1bGxTY3JlZW5Qb3J0YWw7XG4gICAgICAgICAgdmFyIG1vdmVGb2N1c1RvRGF5UGlja2VyID0gd2l0aEFueVBvcnRhbCB8fCByZWFkT25seSAmJiAha2VlcEZvY3VzT25JbnB1dCB8fCB0aGlzLmlzVG91Y2hEZXZpY2UgJiYgIWtlZXBGb2N1c09uSW5wdXQ7XG5cbiAgICAgICAgICBpZiAobW92ZUZvY3VzVG9EYXlQaWNrZXIpIHtcbiAgICAgICAgICAgIHRoaXMub25EYXlQaWNrZXJGb2N1cygpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm9uRGF5UGlja2VyQmx1cigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIG9uRm9jdXNDaGFuZ2UoZm9jdXNlZElucHV0KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9uRGF0ZVJhbmdlUGlja2VySW5wdXRGb2N1cztcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ29uRGF5UGlja2VyRm9jdXMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBvbkRheVBpY2tlckZvY3VzKCkge1xuICAgICAgICB2YXIgX3Byb3BzMyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBmb2N1c2VkSW5wdXQgPSBfcHJvcHMzLmZvY3VzZWRJbnB1dCxcbiAgICAgICAgICAgIG9uRm9jdXNDaGFuZ2UgPSBfcHJvcHMzLm9uRm9jdXNDaGFuZ2U7XG5cbiAgICAgICAgaWYgKCFmb2N1c2VkSW5wdXQpIG9uRm9jdXNDaGFuZ2UoX2NvbnN0YW50cy5TVEFSVF9EQVRFKTtcblxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpc0RhdGVSYW5nZVBpY2tlcklucHV0Rm9jdXNlZDogZmFsc2UsXG4gICAgICAgICAgaXNEYXlQaWNrZXJGb2N1c2VkOiB0cnVlLFxuICAgICAgICAgIHNob3dLZXlib2FyZFNob3J0Y3V0czogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvbkRheVBpY2tlckZvY3VzO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnb25EYXlQaWNrZXJCbHVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gb25EYXlQaWNrZXJCbHVyKCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpc0RhdGVSYW5nZVBpY2tlcklucHV0Rm9jdXNlZDogdHJ1ZSxcbiAgICAgICAgICBpc0RheVBpY2tlckZvY3VzZWQ6IGZhbHNlLFxuICAgICAgICAgIHNob3dLZXlib2FyZFNob3J0Y3V0czogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvbkRheVBpY2tlckJsdXI7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdzZXREYXlQaWNrZXJDb250YWluZXJSZWYnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBzZXREYXlQaWNrZXJDb250YWluZXJSZWYocmVmKSB7XG4gICAgICAgIHRoaXMuZGF5UGlja2VyQ29udGFpbmVyID0gcmVmO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2V0RGF5UGlja2VyQ29udGFpbmVyUmVmO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnc2V0Q29udGFpbmVyUmVmJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gc2V0Q29udGFpbmVyUmVmKHJlZikge1xuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IHJlZjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNldENvbnRhaW5lclJlZjtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ2lzT3BlbmVkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gaXNPcGVuZWQoKSB7XG4gICAgICAgIHZhciBmb2N1c2VkSW5wdXQgPSB0aGlzLnByb3BzLmZvY3VzZWRJbnB1dDtcblxuICAgICAgICByZXR1cm4gZm9jdXNlZElucHV0ID09PSBfY29uc3RhbnRzLlNUQVJUX0RBVEUgfHwgZm9jdXNlZElucHV0ID09PSBfY29uc3RhbnRzLkVORF9EQVRFO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaXNPcGVuZWQ7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdkaXNhYmxlU2Nyb2xsJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gZGlzYWJsZVNjcm9sbCgpIHtcbiAgICAgICAgdmFyIF9wcm9wczQgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgYXBwZW5kVG9Cb2R5ID0gX3Byb3BzNC5hcHBlbmRUb0JvZHksXG4gICAgICAgICAgICBwcm9wRGlzYWJsZVNjcm9sbCA9IF9wcm9wczQuZGlzYWJsZVNjcm9sbDtcblxuICAgICAgICBpZiAoIWFwcGVuZFRvQm9keSAmJiAhcHJvcERpc2FibGVTY3JvbGwpIHJldHVybjtcbiAgICAgICAgaWYgKCF0aGlzLmlzT3BlbmVkKCkpIHJldHVybjtcblxuICAgICAgICAvLyBEaXNhYmxlIHNjcm9sbCBmb3IgZXZlcnkgYW5jZXN0b3Igb2YgdGhpcyBEYXRlUmFuZ2VQaWNrZXIgdXAgdG8gdGhlXG4gICAgICAgIC8vIGRvY3VtZW50IGxldmVsLiBUaGlzIGVuc3VyZXMgdGhlIGlucHV0IGFuZCB0aGUgcGlja2VyIG5ldmVyIG1vdmUuIE90aGVyXG4gICAgICAgIC8vIHNpYmxpbmcgZWxlbWVudHMgb3IgdGhlIHBpY2tlciBpdHNlbGYgY2FuIHNjcm9sbC5cbiAgICAgICAgdGhpcy5lbmFibGVTY3JvbGwgPSAoMCwgX2Rpc2FibGVTY3JvbGwzWydkZWZhdWx0J10pKHRoaXMuY29udGFpbmVyKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRpc2FibGVTY3JvbGw7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdyZXNwb25zaXZpemVQaWNrZXJQb3NpdGlvbicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIHJlc3BvbnNpdml6ZVBpY2tlclBvc2l0aW9uKCkge1xuICAgICAgICAvLyBJdCdzIHBvc3NpYmxlIHRoZSBwb3J0YWwgcHJvcHMgaGF2ZSBiZWVuIGNoYW5nZWQgaW4gcmVzcG9uc2UgdG8gd2luZG93IHJlc2l6ZXNcbiAgICAgICAgLy8gU28gbGV0J3MgZW5zdXJlIHdlIHJlc2V0IHRoaXMgYmFjayB0byB0aGUgYmFzZSBzdGF0ZSBlYWNoIHRpbWVcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGRheVBpY2tlckNvbnRhaW5lclN0eWxlczoge30gfSk7XG5cbiAgICAgICAgaWYgKCF0aGlzLmlzT3BlbmVkKCkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgX3Byb3BzNSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBvcGVuRGlyZWN0aW9uID0gX3Byb3BzNS5vcGVuRGlyZWN0aW9uLFxuICAgICAgICAgICAgYW5jaG9yRGlyZWN0aW9uID0gX3Byb3BzNS5hbmNob3JEaXJlY3Rpb24sXG4gICAgICAgICAgICBob3Jpem9udGFsTWFyZ2luID0gX3Byb3BzNS5ob3Jpem9udGFsTWFyZ2luLFxuICAgICAgICAgICAgd2l0aFBvcnRhbCA9IF9wcm9wczUud2l0aFBvcnRhbCxcbiAgICAgICAgICAgIHdpdGhGdWxsU2NyZWVuUG9ydGFsID0gX3Byb3BzNS53aXRoRnVsbFNjcmVlblBvcnRhbCxcbiAgICAgICAgICAgIGFwcGVuZFRvQm9keSA9IF9wcm9wczUuYXBwZW5kVG9Cb2R5O1xuICAgICAgICB2YXIgZGF5UGlja2VyQ29udGFpbmVyU3R5bGVzID0gdGhpcy5zdGF0ZS5kYXlQaWNrZXJDb250YWluZXJTdHlsZXM7XG5cblxuICAgICAgICB2YXIgaXNBbmNob3JlZExlZnQgPSBhbmNob3JEaXJlY3Rpb24gPT09IF9jb25zdGFudHMuQU5DSE9SX0xFRlQ7XG4gICAgICAgIGlmICghd2l0aFBvcnRhbCAmJiAhd2l0aEZ1bGxTY3JlZW5Qb3J0YWwpIHtcbiAgICAgICAgICB2YXIgY29udGFpbmVyUmVjdCA9IHRoaXMuZGF5UGlja2VyQ29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgIHZhciBjdXJyZW50T2Zmc2V0ID0gZGF5UGlja2VyQ29udGFpbmVyU3R5bGVzW2FuY2hvckRpcmVjdGlvbl0gfHwgMDtcbiAgICAgICAgICB2YXIgY29udGFpbmVyRWRnZSA9IGlzQW5jaG9yZWRMZWZ0ID8gY29udGFpbmVyUmVjdFtfY29uc3RhbnRzLkFOQ0hPUl9SSUdIVF0gOiBjb250YWluZXJSZWN0W19jb25zdGFudHMuQU5DSE9SX0xFRlRdO1xuXG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBkYXlQaWNrZXJDb250YWluZXJTdHlsZXM6ICgwLCBfb2JqZWN0MlsnZGVmYXVsdCddKSh7fSwgKDAsIF9nZXRSZXNwb25zaXZlQ29udGFpbmVyU3R5bGVzMlsnZGVmYXVsdCddKShhbmNob3JEaXJlY3Rpb24sIGN1cnJlbnRPZmZzZXQsIGNvbnRhaW5lckVkZ2UsIGhvcml6b250YWxNYXJnaW4pLCBhcHBlbmRUb0JvZHkgJiYgKDAsIF9nZXREZXRhY2hlZENvbnRhaW5lclN0eWxlczJbJ2RlZmF1bHQnXSkob3BlbkRpcmVjdGlvbiwgYW5jaG9yRGlyZWN0aW9uLCB0aGlzLmNvbnRhaW5lcikpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3BvbnNpdml6ZVBpY2tlclBvc2l0aW9uO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnc2hvd0tleWJvYXJkU2hvcnRjdXRzUGFuZWwnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBzaG93S2V5Ym9hcmRTaG9ydGN1dHNQYW5lbCgpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNEYXRlUmFuZ2VQaWNrZXJJbnB1dEZvY3VzZWQ6IGZhbHNlLFxuICAgICAgICAgIGlzRGF5UGlja2VyRm9jdXNlZDogdHJ1ZSxcbiAgICAgICAgICBzaG93S2V5Ym9hcmRTaG9ydGN1dHM6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzaG93S2V5Ym9hcmRTaG9ydGN1dHNQYW5lbDtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ21heWJlUmVuZGVyRGF5UGlja2VyV2l0aFBvcnRhbCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIG1heWJlUmVuZGVyRGF5UGlja2VyV2l0aFBvcnRhbCgpIHtcbiAgICAgICAgdmFyIF9wcm9wczYgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgd2l0aFBvcnRhbCA9IF9wcm9wczYud2l0aFBvcnRhbCxcbiAgICAgICAgICAgIHdpdGhGdWxsU2NyZWVuUG9ydGFsID0gX3Byb3BzNi53aXRoRnVsbFNjcmVlblBvcnRhbCxcbiAgICAgICAgICAgIGFwcGVuZFRvQm9keSA9IF9wcm9wczYuYXBwZW5kVG9Cb2R5O1xuXG5cbiAgICAgICAgaWYgKCF0aGlzLmlzT3BlbmVkKCkpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh3aXRoUG9ydGFsIHx8IHdpdGhGdWxsU2NyZWVuUG9ydGFsIHx8IGFwcGVuZFRvQm9keSkge1xuICAgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgIF9yZWFjdFBvcnRhbC5Qb3J0YWwsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgdGhpcy5yZW5kZXJEYXlQaWNrZXIoKVxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJEYXlQaWNrZXIoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1heWJlUmVuZGVyRGF5UGlja2VyV2l0aFBvcnRhbDtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ3JlbmRlckRheVBpY2tlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIHJlbmRlckRheVBpY2tlcigpIHtcbiAgICAgICAgdmFyIF9wcm9wczcgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgYW5jaG9yRGlyZWN0aW9uID0gX3Byb3BzNy5hbmNob3JEaXJlY3Rpb24sXG4gICAgICAgICAgICBvcGVuRGlyZWN0aW9uID0gX3Byb3BzNy5vcGVuRGlyZWN0aW9uLFxuICAgICAgICAgICAgaXNEYXlCbG9ja2VkID0gX3Byb3BzNy5pc0RheUJsb2NrZWQsXG4gICAgICAgICAgICBpc0RheUhpZ2hsaWdodGVkID0gX3Byb3BzNy5pc0RheUhpZ2hsaWdodGVkLFxuICAgICAgICAgICAgaXNPdXRzaWRlUmFuZ2UgPSBfcHJvcHM3LmlzT3V0c2lkZVJhbmdlLFxuICAgICAgICAgICAgbnVtYmVyT2ZNb250aHMgPSBfcHJvcHM3Lm51bWJlck9mTW9udGhzLFxuICAgICAgICAgICAgb3JpZW50YXRpb24gPSBfcHJvcHM3Lm9yaWVudGF0aW9uLFxuICAgICAgICAgICAgbW9udGhGb3JtYXQgPSBfcHJvcHM3Lm1vbnRoRm9ybWF0LFxuICAgICAgICAgICAgcmVuZGVyTW9udGhUZXh0ID0gX3Byb3BzNy5yZW5kZXJNb250aFRleHQsXG4gICAgICAgICAgICBuYXZQcmV2ID0gX3Byb3BzNy5uYXZQcmV2LFxuICAgICAgICAgICAgbmF2TmV4dCA9IF9wcm9wczcubmF2TmV4dCxcbiAgICAgICAgICAgIG9uUHJldk1vbnRoQ2xpY2sgPSBfcHJvcHM3Lm9uUHJldk1vbnRoQ2xpY2ssXG4gICAgICAgICAgICBvbk5leHRNb250aENsaWNrID0gX3Byb3BzNy5vbk5leHRNb250aENsaWNrLFxuICAgICAgICAgICAgb25EYXRlc0NoYW5nZSA9IF9wcm9wczcub25EYXRlc0NoYW5nZSxcbiAgICAgICAgICAgIG9uRm9jdXNDaGFuZ2UgPSBfcHJvcHM3Lm9uRm9jdXNDaGFuZ2UsXG4gICAgICAgICAgICB3aXRoUG9ydGFsID0gX3Byb3BzNy53aXRoUG9ydGFsLFxuICAgICAgICAgICAgd2l0aEZ1bGxTY3JlZW5Qb3J0YWwgPSBfcHJvcHM3LndpdGhGdWxsU2NyZWVuUG9ydGFsLFxuICAgICAgICAgICAgZGF5U2l6ZSA9IF9wcm9wczcuZGF5U2l6ZSxcbiAgICAgICAgICAgIGVuYWJsZU91dHNpZGVEYXlzID0gX3Byb3BzNy5lbmFibGVPdXRzaWRlRGF5cyxcbiAgICAgICAgICAgIGZvY3VzZWRJbnB1dCA9IF9wcm9wczcuZm9jdXNlZElucHV0LFxuICAgICAgICAgICAgc3RhcnREYXRlID0gX3Byb3BzNy5zdGFydERhdGUsXG4gICAgICAgICAgICBlbmREYXRlID0gX3Byb3BzNy5lbmREYXRlLFxuICAgICAgICAgICAgbWluaW11bU5pZ2h0cyA9IF9wcm9wczcubWluaW11bU5pZ2h0cyxcbiAgICAgICAgICAgIGtlZXBPcGVuT25EYXRlU2VsZWN0ID0gX3Byb3BzNy5rZWVwT3Blbk9uRGF0ZVNlbGVjdCxcbiAgICAgICAgICAgIHJlbmRlckNhbGVuZGFyRGF5ID0gX3Byb3BzNy5yZW5kZXJDYWxlbmRhckRheSxcbiAgICAgICAgICAgIHJlbmRlckRheUNvbnRlbnRzID0gX3Byb3BzNy5yZW5kZXJEYXlDb250ZW50cyxcbiAgICAgICAgICAgIHJlbmRlckNhbGVuZGFySW5mbyA9IF9wcm9wczcucmVuZGVyQ2FsZW5kYXJJbmZvLFxuICAgICAgICAgICAgcmVuZGVyTW9udGhFbGVtZW50ID0gX3Byb3BzNy5yZW5kZXJNb250aEVsZW1lbnQsXG4gICAgICAgICAgICBjYWxlbmRhckluZm9Qb3NpdGlvbiA9IF9wcm9wczcuY2FsZW5kYXJJbmZvUG9zaXRpb24sXG4gICAgICAgICAgICBmaXJzdERheU9mV2VlayA9IF9wcm9wczcuZmlyc3REYXlPZldlZWssXG4gICAgICAgICAgICBpbml0aWFsVmlzaWJsZU1vbnRoID0gX3Byb3BzNy5pbml0aWFsVmlzaWJsZU1vbnRoLFxuICAgICAgICAgICAgaGlkZUtleWJvYXJkU2hvcnRjdXRzUGFuZWwgPSBfcHJvcHM3LmhpZGVLZXlib2FyZFNob3J0Y3V0c1BhbmVsLFxuICAgICAgICAgICAgY3VzdG9tQ2xvc2VJY29uID0gX3Byb3BzNy5jdXN0b21DbG9zZUljb24sXG4gICAgICAgICAgICBvbkNsb3NlID0gX3Byb3BzNy5vbkNsb3NlLFxuICAgICAgICAgICAgcGhyYXNlcyA9IF9wcm9wczcucGhyYXNlcyxcbiAgICAgICAgICAgIGRheUFyaWFMYWJlbEZvcm1hdCA9IF9wcm9wczcuZGF5QXJpYUxhYmVsRm9ybWF0LFxuICAgICAgICAgICAgaXNSVEwgPSBfcHJvcHM3LmlzUlRMLFxuICAgICAgICAgICAgd2Vla0RheUZvcm1hdCA9IF9wcm9wczcud2Vla0RheUZvcm1hdCxcbiAgICAgICAgICAgIHN0eWxlcyA9IF9wcm9wczcuc3R5bGVzLFxuICAgICAgICAgICAgdmVydGljYWxIZWlnaHQgPSBfcHJvcHM3LnZlcnRpY2FsSGVpZ2h0LFxuICAgICAgICAgICAgdHJhbnNpdGlvbkR1cmF0aW9uID0gX3Byb3BzNy50cmFuc2l0aW9uRHVyYXRpb24sXG4gICAgICAgICAgICB2ZXJ0aWNhbFNwYWNpbmcgPSBfcHJvcHM3LnZlcnRpY2FsU3BhY2luZyxcbiAgICAgICAgICAgIHNtYWxsID0gX3Byb3BzNy5zbWFsbCxcbiAgICAgICAgICAgIGRpc2FibGVkID0gX3Byb3BzNy5kaXNhYmxlZCxcbiAgICAgICAgICAgIHJlYWN0RGF0ZXMgPSBfcHJvcHM3LnRoZW1lLnJlYWN0RGF0ZXM7XG4gICAgICAgIHZhciBfc3RhdGUgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgICAgZGF5UGlja2VyQ29udGFpbmVyU3R5bGVzID0gX3N0YXRlLmRheVBpY2tlckNvbnRhaW5lclN0eWxlcyxcbiAgICAgICAgICAgIGlzRGF5UGlja2VyRm9jdXNlZCA9IF9zdGF0ZS5pc0RheVBpY2tlckZvY3VzZWQsXG4gICAgICAgICAgICBzaG93S2V5Ym9hcmRTaG9ydGN1dHMgPSBfc3RhdGUuc2hvd0tleWJvYXJkU2hvcnRjdXRzO1xuXG5cbiAgICAgICAgdmFyIG9uT3V0c2lkZUNsaWNrID0gIXdpdGhGdWxsU2NyZWVuUG9ydGFsICYmIHdpdGhQb3J0YWwgPyB0aGlzLm9uT3V0c2lkZUNsaWNrIDogdW5kZWZpbmVkO1xuICAgICAgICB2YXIgaW5pdGlhbFZpc2libGVNb250aFRodW5rID0gaW5pdGlhbFZpc2libGVNb250aCB8fCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHN0YXJ0RGF0ZSB8fCBlbmREYXRlIHx8ICgwLCBfbW9tZW50MlsnZGVmYXVsdCddKSgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBjbG9zZUljb24gPSBjdXN0b21DbG9zZUljb24gfHwgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoX0Nsb3NlQnV0dG9uMlsnZGVmYXVsdCddLCAoMCwgX3JlYWN0V2l0aFN0eWxlcy5jc3MpKHN0eWxlcy5EYXRlUmFuZ2VQaWNrZXJfY2xvc2VCdXR0b25fc3ZnKSk7XG5cbiAgICAgICAgdmFyIGlucHV0SGVpZ2h0ID0gKDAsIF9nZXRJbnB1dEhlaWdodDJbJ2RlZmF1bHQnXSkocmVhY3REYXRlcywgc21hbGwpO1xuXG4gICAgICAgIHZhciB3aXRoQW55UG9ydGFsID0gd2l0aFBvcnRhbCB8fCB3aXRoRnVsbFNjcmVlblBvcnRhbDtcblxuICAgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgX2V4dGVuZHMoeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGpzeC1hMTF5L25vLXN0YXRpYy1lbGVtZW50LWludGVyYWN0aW9uc1xuICAgICAgICAgICAgcmVmOiB0aGlzLnNldERheVBpY2tlckNvbnRhaW5lclJlZlxuICAgICAgICAgIH0sICgwLCBfcmVhY3RXaXRoU3R5bGVzLmNzcykoc3R5bGVzLkRhdGVSYW5nZVBpY2tlcl9waWNrZXIsIGFuY2hvckRpcmVjdGlvbiA9PT0gX2NvbnN0YW50cy5BTkNIT1JfTEVGVCAmJiBzdHlsZXMuRGF0ZVJhbmdlUGlja2VyX3BpY2tlcl9fZGlyZWN0aW9uTGVmdCwgYW5jaG9yRGlyZWN0aW9uID09PSBfY29uc3RhbnRzLkFOQ0hPUl9SSUdIVCAmJiBzdHlsZXMuRGF0ZVJhbmdlUGlja2VyX3BpY2tlcl9fZGlyZWN0aW9uUmlnaHQsIG9yaWVudGF0aW9uID09PSBfY29uc3RhbnRzLkhPUklaT05UQUxfT1JJRU5UQVRJT04gJiYgc3R5bGVzLkRhdGVSYW5nZVBpY2tlcl9waWNrZXJfX2hvcml6b250YWwsIG9yaWVudGF0aW9uID09PSBfY29uc3RhbnRzLlZFUlRJQ0FMX09SSUVOVEFUSU9OICYmIHN0eWxlcy5EYXRlUmFuZ2VQaWNrZXJfcGlja2VyX192ZXJ0aWNhbCwgIXdpdGhBbnlQb3J0YWwgJiYgb3BlbkRpcmVjdGlvbiA9PT0gX2NvbnN0YW50cy5PUEVOX0RPV04gJiYge1xuICAgICAgICAgICAgdG9wOiBpbnB1dEhlaWdodCArIHZlcnRpY2FsU3BhY2luZ1xuICAgICAgICAgIH0sICF3aXRoQW55UG9ydGFsICYmIG9wZW5EaXJlY3Rpb24gPT09IF9jb25zdGFudHMuT1BFTl9VUCAmJiB7XG4gICAgICAgICAgICBib3R0b206IGlucHV0SGVpZ2h0ICsgdmVydGljYWxTcGFjaW5nXG4gICAgICAgICAgfSwgd2l0aEFueVBvcnRhbCAmJiBzdHlsZXMuRGF0ZVJhbmdlUGlja2VyX3BpY2tlcl9fcG9ydGFsLCB3aXRoRnVsbFNjcmVlblBvcnRhbCAmJiBzdHlsZXMuRGF0ZVJhbmdlUGlja2VyX3BpY2tlcl9fZnVsbFNjcmVlblBvcnRhbCwgaXNSVEwgJiYgc3R5bGVzLkRhdGVSYW5nZVBpY2tlcl9waWNrZXJfX3J0bCwgZGF5UGlja2VyQ29udGFpbmVyU3R5bGVzKSwge1xuICAgICAgICAgICAgb25DbGljazogb25PdXRzaWRlQ2xpY2tcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChfRGF5UGlja2VyUmFuZ2VDb250cm9sbGVyMlsnZGVmYXVsdCddLCB7XG4gICAgICAgICAgICBvcmllbnRhdGlvbjogb3JpZW50YXRpb24sXG4gICAgICAgICAgICBlbmFibGVPdXRzaWRlRGF5czogZW5hYmxlT3V0c2lkZURheXMsXG4gICAgICAgICAgICBudW1iZXJPZk1vbnRoczogbnVtYmVyT2ZNb250aHMsXG4gICAgICAgICAgICBvblByZXZNb250aENsaWNrOiBvblByZXZNb250aENsaWNrLFxuICAgICAgICAgICAgb25OZXh0TW9udGhDbGljazogb25OZXh0TW9udGhDbGljayxcbiAgICAgICAgICAgIG9uRGF0ZXNDaGFuZ2U6IG9uRGF0ZXNDaGFuZ2UsXG4gICAgICAgICAgICBvbkZvY3VzQ2hhbmdlOiBvbkZvY3VzQ2hhbmdlLFxuICAgICAgICAgICAgb25DbG9zZTogb25DbG9zZSxcbiAgICAgICAgICAgIGZvY3VzZWRJbnB1dDogZm9jdXNlZElucHV0LFxuICAgICAgICAgICAgc3RhcnREYXRlOiBzdGFydERhdGUsXG4gICAgICAgICAgICBlbmREYXRlOiBlbmREYXRlLFxuICAgICAgICAgICAgbW9udGhGb3JtYXQ6IG1vbnRoRm9ybWF0LFxuICAgICAgICAgICAgcmVuZGVyTW9udGhUZXh0OiByZW5kZXJNb250aFRleHQsXG4gICAgICAgICAgICB3aXRoUG9ydGFsOiB3aXRoQW55UG9ydGFsLFxuICAgICAgICAgICAgZGF5U2l6ZTogZGF5U2l6ZSxcbiAgICAgICAgICAgIGluaXRpYWxWaXNpYmxlTW9udGg6IGluaXRpYWxWaXNpYmxlTW9udGhUaHVuayxcbiAgICAgICAgICAgIGhpZGVLZXlib2FyZFNob3J0Y3V0c1BhbmVsOiBoaWRlS2V5Ym9hcmRTaG9ydGN1dHNQYW5lbCxcbiAgICAgICAgICAgIG5hdlByZXY6IG5hdlByZXYsXG4gICAgICAgICAgICBuYXZOZXh0OiBuYXZOZXh0LFxuICAgICAgICAgICAgbWluaW11bU5pZ2h0czogbWluaW11bU5pZ2h0cyxcbiAgICAgICAgICAgIGlzT3V0c2lkZVJhbmdlOiBpc091dHNpZGVSYW5nZSxcbiAgICAgICAgICAgIGlzRGF5SGlnaGxpZ2h0ZWQ6IGlzRGF5SGlnaGxpZ2h0ZWQsXG4gICAgICAgICAgICBpc0RheUJsb2NrZWQ6IGlzRGF5QmxvY2tlZCxcbiAgICAgICAgICAgIGtlZXBPcGVuT25EYXRlU2VsZWN0OiBrZWVwT3Blbk9uRGF0ZVNlbGVjdCxcbiAgICAgICAgICAgIHJlbmRlckNhbGVuZGFyRGF5OiByZW5kZXJDYWxlbmRhckRheSxcbiAgICAgICAgICAgIHJlbmRlckRheUNvbnRlbnRzOiByZW5kZXJEYXlDb250ZW50cyxcbiAgICAgICAgICAgIHJlbmRlckNhbGVuZGFySW5mbzogcmVuZGVyQ2FsZW5kYXJJbmZvLFxuICAgICAgICAgICAgcmVuZGVyTW9udGhFbGVtZW50OiByZW5kZXJNb250aEVsZW1lbnQsXG4gICAgICAgICAgICBjYWxlbmRhckluZm9Qb3NpdGlvbjogY2FsZW5kYXJJbmZvUG9zaXRpb24sXG4gICAgICAgICAgICBpc0ZvY3VzZWQ6IGlzRGF5UGlja2VyRm9jdXNlZCxcbiAgICAgICAgICAgIHNob3dLZXlib2FyZFNob3J0Y3V0czogc2hvd0tleWJvYXJkU2hvcnRjdXRzLFxuICAgICAgICAgICAgb25CbHVyOiB0aGlzLm9uRGF5UGlja2VyQmx1cixcbiAgICAgICAgICAgIHBocmFzZXM6IHBocmFzZXMsXG4gICAgICAgICAgICBkYXlBcmlhTGFiZWxGb3JtYXQ6IGRheUFyaWFMYWJlbEZvcm1hdCxcbiAgICAgICAgICAgIGlzUlRMOiBpc1JUTCxcbiAgICAgICAgICAgIGZpcnN0RGF5T2ZXZWVrOiBmaXJzdERheU9mV2VlayxcbiAgICAgICAgICAgIHdlZWtEYXlGb3JtYXQ6IHdlZWtEYXlGb3JtYXQsXG4gICAgICAgICAgICB2ZXJ0aWNhbEhlaWdodDogdmVydGljYWxIZWlnaHQsXG4gICAgICAgICAgICB0cmFuc2l0aW9uRHVyYXRpb246IHRyYW5zaXRpb25EdXJhdGlvbixcbiAgICAgICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZFxuICAgICAgICAgIH0pLFxuICAgICAgICAgIHdpdGhGdWxsU2NyZWVuUG9ydGFsICYmIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ2J1dHRvbicsXG4gICAgICAgICAgICBfZXh0ZW5kcyh7fSwgKDAsIF9yZWFjdFdpdGhTdHlsZXMuY3NzKShzdHlsZXMuRGF0ZVJhbmdlUGlja2VyX2Nsb3NlQnV0dG9uKSwge1xuICAgICAgICAgICAgICB0eXBlOiAnYnV0dG9uJyxcbiAgICAgICAgICAgICAgb25DbGljazogdGhpcy5vbk91dHNpZGVDbGljayxcbiAgICAgICAgICAgICAgJ2FyaWEtbGFiZWwnOiBwaHJhc2VzLmNsb3NlRGF0ZVBpY2tlclxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBjbG9zZUljb25cbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZW5kZXJEYXlQaWNrZXI7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHZhciBfcHJvcHM4ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIHN0YXJ0RGF0ZSA9IF9wcm9wczguc3RhcnREYXRlLFxuICAgICAgICAgICAgc3RhcnREYXRlSWQgPSBfcHJvcHM4LnN0YXJ0RGF0ZUlkLFxuICAgICAgICAgICAgc3RhcnREYXRlUGxhY2Vob2xkZXJUZXh0ID0gX3Byb3BzOC5zdGFydERhdGVQbGFjZWhvbGRlclRleHQsXG4gICAgICAgICAgICBlbmREYXRlID0gX3Byb3BzOC5lbmREYXRlLFxuICAgICAgICAgICAgZW5kRGF0ZUlkID0gX3Byb3BzOC5lbmREYXRlSWQsXG4gICAgICAgICAgICBlbmREYXRlUGxhY2Vob2xkZXJUZXh0ID0gX3Byb3BzOC5lbmREYXRlUGxhY2Vob2xkZXJUZXh0LFxuICAgICAgICAgICAgZm9jdXNlZElucHV0ID0gX3Byb3BzOC5mb2N1c2VkSW5wdXQsXG4gICAgICAgICAgICBzY3JlZW5SZWFkZXJJbnB1dE1lc3NhZ2UgPSBfcHJvcHM4LnNjcmVlblJlYWRlcklucHV0TWVzc2FnZSxcbiAgICAgICAgICAgIHNob3dDbGVhckRhdGVzID0gX3Byb3BzOC5zaG93Q2xlYXJEYXRlcyxcbiAgICAgICAgICAgIHNob3dEZWZhdWx0SW5wdXRJY29uID0gX3Byb3BzOC5zaG93RGVmYXVsdElucHV0SWNvbixcbiAgICAgICAgICAgIGlucHV0SWNvblBvc2l0aW9uID0gX3Byb3BzOC5pbnB1dEljb25Qb3NpdGlvbixcbiAgICAgICAgICAgIGN1c3RvbUlucHV0SWNvbiA9IF9wcm9wczguY3VzdG9tSW5wdXRJY29uLFxuICAgICAgICAgICAgY3VzdG9tQXJyb3dJY29uID0gX3Byb3BzOC5jdXN0b21BcnJvd0ljb24sXG4gICAgICAgICAgICBjdXN0b21DbG9zZUljb24gPSBfcHJvcHM4LmN1c3RvbUNsb3NlSWNvbixcbiAgICAgICAgICAgIGRpc2FibGVkID0gX3Byb3BzOC5kaXNhYmxlZCxcbiAgICAgICAgICAgIHJlcXVpcmVkID0gX3Byb3BzOC5yZXF1aXJlZCxcbiAgICAgICAgICAgIHJlYWRPbmx5ID0gX3Byb3BzOC5yZWFkT25seSxcbiAgICAgICAgICAgIG9wZW5EaXJlY3Rpb24gPSBfcHJvcHM4Lm9wZW5EaXJlY3Rpb24sXG4gICAgICAgICAgICBwaHJhc2VzID0gX3Byb3BzOC5waHJhc2VzLFxuICAgICAgICAgICAgaXNPdXRzaWRlUmFuZ2UgPSBfcHJvcHM4LmlzT3V0c2lkZVJhbmdlLFxuICAgICAgICAgICAgbWluaW11bU5pZ2h0cyA9IF9wcm9wczgubWluaW11bU5pZ2h0cyxcbiAgICAgICAgICAgIHdpdGhQb3J0YWwgPSBfcHJvcHM4LndpdGhQb3J0YWwsXG4gICAgICAgICAgICB3aXRoRnVsbFNjcmVlblBvcnRhbCA9IF9wcm9wczgud2l0aEZ1bGxTY3JlZW5Qb3J0YWwsXG4gICAgICAgICAgICBkaXNwbGF5Rm9ybWF0ID0gX3Byb3BzOC5kaXNwbGF5Rm9ybWF0LFxuICAgICAgICAgICAgcmVvcGVuUGlja2VyT25DbGVhckRhdGVzID0gX3Byb3BzOC5yZW9wZW5QaWNrZXJPbkNsZWFyRGF0ZXMsXG4gICAgICAgICAgICBrZWVwT3Blbk9uRGF0ZVNlbGVjdCA9IF9wcm9wczgua2VlcE9wZW5PbkRhdGVTZWxlY3QsXG4gICAgICAgICAgICBvbkRhdGVzQ2hhbmdlID0gX3Byb3BzOC5vbkRhdGVzQ2hhbmdlLFxuICAgICAgICAgICAgb25DbG9zZSA9IF9wcm9wczgub25DbG9zZSxcbiAgICAgICAgICAgIGlzUlRMID0gX3Byb3BzOC5pc1JUTCxcbiAgICAgICAgICAgIG5vQm9yZGVyID0gX3Byb3BzOC5ub0JvcmRlcixcbiAgICAgICAgICAgIGJsb2NrID0gX3Byb3BzOC5ibG9jayxcbiAgICAgICAgICAgIHZlcnRpY2FsU3BhY2luZyA9IF9wcm9wczgudmVydGljYWxTcGFjaW5nLFxuICAgICAgICAgICAgc21hbGwgPSBfcHJvcHM4LnNtYWxsLFxuICAgICAgICAgICAgcmVndWxhciA9IF9wcm9wczgucmVndWxhcixcbiAgICAgICAgICAgIHN0eWxlcyA9IF9wcm9wczguc3R5bGVzO1xuICAgICAgICB2YXIgaXNEYXRlUmFuZ2VQaWNrZXJJbnB1dEZvY3VzZWQgPSB0aGlzLnN0YXRlLmlzRGF0ZVJhbmdlUGlja2VySW5wdXRGb2N1c2VkO1xuXG5cbiAgICAgICAgdmFyIGVuYWJsZU91dHNpZGVDbGljayA9ICF3aXRoUG9ydGFsICYmICF3aXRoRnVsbFNjcmVlblBvcnRhbDtcblxuICAgICAgICB2YXIgaGlkZUZhbmcgPSB2ZXJ0aWNhbFNwYWNpbmcgPCBfY29uc3RhbnRzLkZBTkdfSEVJR0hUX1BYO1xuXG4gICAgICAgIHZhciBpbnB1dCA9IF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KF9EYXRlUmFuZ2VQaWNrZXJJbnB1dENvbnRyb2xsZXIyWydkZWZhdWx0J10sIHtcbiAgICAgICAgICBzdGFydERhdGU6IHN0YXJ0RGF0ZSxcbiAgICAgICAgICBzdGFydERhdGVJZDogc3RhcnREYXRlSWQsXG4gICAgICAgICAgc3RhcnREYXRlUGxhY2Vob2xkZXJUZXh0OiBzdGFydERhdGVQbGFjZWhvbGRlclRleHQsXG4gICAgICAgICAgaXNTdGFydERhdGVGb2N1c2VkOiBmb2N1c2VkSW5wdXQgPT09IF9jb25zdGFudHMuU1RBUlRfREFURSxcbiAgICAgICAgICBlbmREYXRlOiBlbmREYXRlLFxuICAgICAgICAgIGVuZERhdGVJZDogZW5kRGF0ZUlkLFxuICAgICAgICAgIGVuZERhdGVQbGFjZWhvbGRlclRleHQ6IGVuZERhdGVQbGFjZWhvbGRlclRleHQsXG4gICAgICAgICAgaXNFbmREYXRlRm9jdXNlZDogZm9jdXNlZElucHV0ID09PSBfY29uc3RhbnRzLkVORF9EQVRFLFxuICAgICAgICAgIGRpc3BsYXlGb3JtYXQ6IGRpc3BsYXlGb3JtYXQsXG4gICAgICAgICAgc2hvd0NsZWFyRGF0ZXM6IHNob3dDbGVhckRhdGVzLFxuICAgICAgICAgIHNob3dDYXJldDogIXdpdGhQb3J0YWwgJiYgIXdpdGhGdWxsU2NyZWVuUG9ydGFsICYmICFoaWRlRmFuZyxcbiAgICAgICAgICBzaG93RGVmYXVsdElucHV0SWNvbjogc2hvd0RlZmF1bHRJbnB1dEljb24sXG4gICAgICAgICAgaW5wdXRJY29uUG9zaXRpb246IGlucHV0SWNvblBvc2l0aW9uLFxuICAgICAgICAgIGN1c3RvbUlucHV0SWNvbjogY3VzdG9tSW5wdXRJY29uLFxuICAgICAgICAgIGN1c3RvbUFycm93SWNvbjogY3VzdG9tQXJyb3dJY29uLFxuICAgICAgICAgIGN1c3RvbUNsb3NlSWNvbjogY3VzdG9tQ2xvc2VJY29uLFxuICAgICAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgICAgICByZXF1aXJlZDogcmVxdWlyZWQsXG4gICAgICAgICAgcmVhZE9ubHk6IHJlYWRPbmx5LFxuICAgICAgICAgIG9wZW5EaXJlY3Rpb246IG9wZW5EaXJlY3Rpb24sXG4gICAgICAgICAgcmVvcGVuUGlja2VyT25DbGVhckRhdGVzOiByZW9wZW5QaWNrZXJPbkNsZWFyRGF0ZXMsXG4gICAgICAgICAga2VlcE9wZW5PbkRhdGVTZWxlY3Q6IGtlZXBPcGVuT25EYXRlU2VsZWN0LFxuICAgICAgICAgIGlzT3V0c2lkZVJhbmdlOiBpc091dHNpZGVSYW5nZSxcbiAgICAgICAgICBtaW5pbXVtTmlnaHRzOiBtaW5pbXVtTmlnaHRzLFxuICAgICAgICAgIHdpdGhGdWxsU2NyZWVuUG9ydGFsOiB3aXRoRnVsbFNjcmVlblBvcnRhbCxcbiAgICAgICAgICBvbkRhdGVzQ2hhbmdlOiBvbkRhdGVzQ2hhbmdlLFxuICAgICAgICAgIG9uRm9jdXNDaGFuZ2U6IHRoaXMub25EYXRlUmFuZ2VQaWNrZXJJbnB1dEZvY3VzLFxuICAgICAgICAgIG9uS2V5RG93bkFycm93RG93bjogdGhpcy5vbkRheVBpY2tlckZvY3VzLFxuICAgICAgICAgIG9uS2V5RG93blF1ZXN0aW9uTWFyazogdGhpcy5zaG93S2V5Ym9hcmRTaG9ydGN1dHNQYW5lbCxcbiAgICAgICAgICBvbkNsb3NlOiBvbkNsb3NlLFxuICAgICAgICAgIHBocmFzZXM6IHBocmFzZXMsXG4gICAgICAgICAgc2NyZWVuUmVhZGVyTWVzc2FnZTogc2NyZWVuUmVhZGVySW5wdXRNZXNzYWdlLFxuICAgICAgICAgIGlzRm9jdXNlZDogaXNEYXRlUmFuZ2VQaWNrZXJJbnB1dEZvY3VzZWQsXG4gICAgICAgICAgaXNSVEw6IGlzUlRMLFxuICAgICAgICAgIG5vQm9yZGVyOiBub0JvcmRlcixcbiAgICAgICAgICBibG9jazogYmxvY2ssXG4gICAgICAgICAgc21hbGw6IHNtYWxsLFxuICAgICAgICAgIHJlZ3VsYXI6IHJlZ3VsYXIsXG4gICAgICAgICAgdmVydGljYWxTcGFjaW5nOiB2ZXJ0aWNhbFNwYWNpbmdcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIF9leHRlbmRzKHtcbiAgICAgICAgICAgIHJlZjogdGhpcy5zZXRDb250YWluZXJSZWZcbiAgICAgICAgICB9LCAoMCwgX3JlYWN0V2l0aFN0eWxlcy5jc3MpKHN0eWxlcy5EYXRlUmFuZ2VQaWNrZXIsIGJsb2NrICYmIHN0eWxlcy5EYXRlUmFuZ2VQaWNrZXJfX2Jsb2NrKSksXG4gICAgICAgICAgZW5hYmxlT3V0c2lkZUNsaWNrICYmIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgX3JlYWN0T3V0c2lkZUNsaWNrSGFuZGxlcjJbJ2RlZmF1bHQnXSxcbiAgICAgICAgICAgIHsgb25PdXRzaWRlQ2xpY2s6IHRoaXMub25PdXRzaWRlQ2xpY2sgfSxcbiAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgdGhpcy5tYXliZVJlbmRlckRheVBpY2tlcldpdGhQb3J0YWwoKVxuICAgICAgICAgICksXG4gICAgICAgICAgIWVuYWJsZU91dHNpZGVDbGljayAmJiBpbnB1dCxcbiAgICAgICAgICAhZW5hYmxlT3V0c2lkZUNsaWNrICYmIHRoaXMubWF5YmVSZW5kZXJEYXlQaWNrZXJXaXRoUG9ydGFsKClcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlbmRlcjtcbiAgICB9KClcbiAgfV0pO1xuXG4gIHJldHVybiBEYXRlUmFuZ2VQaWNrZXI7XG59KF9yZWFjdDJbJ2RlZmF1bHQnXS5Db21wb25lbnQpO1xuXG5EYXRlUmFuZ2VQaWNrZXIucHJvcFR5cGVzID0gcHJvcFR5cGVzO1xuRGF0ZVJhbmdlUGlja2VyLmRlZmF1bHRQcm9wcyA9IGRlZmF1bHRQcm9wcztcblxuZXhwb3J0cy5QdXJlRGF0ZVJhbmdlUGlja2VyID0gRGF0ZVJhbmdlUGlja2VyO1xuZXhwb3J0c1snZGVmYXVsdCddID0gKDAsIF9yZWFjdFdpdGhTdHlsZXMud2l0aFN0eWxlcykoZnVuY3Rpb24gKF9yZWYpIHtcbiAgdmFyIF9yZWYkcmVhY3REYXRlcyA9IF9yZWYucmVhY3REYXRlcyxcbiAgICAgIGNvbG9yID0gX3JlZiRyZWFjdERhdGVzLmNvbG9yLFxuICAgICAgekluZGV4ID0gX3JlZiRyZWFjdERhdGVzLnpJbmRleDtcbiAgcmV0dXJuIHtcbiAgICBEYXRlUmFuZ2VQaWNrZXI6IHtcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgZGlzcGxheTogJ2lubGluZS1ibG9jaydcbiAgICB9LFxuXG4gICAgRGF0ZVJhbmdlUGlja2VyX19ibG9jazoge1xuICAgICAgZGlzcGxheTogJ2Jsb2NrJ1xuICAgIH0sXG5cbiAgICBEYXRlUmFuZ2VQaWNrZXJfcGlja2VyOiB7XG4gICAgICB6SW5kZXg6IHpJbmRleCArIDEsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IGNvbG9yLmJhY2tncm91bmQsXG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJ1xuICAgIH0sXG5cbiAgICBEYXRlUmFuZ2VQaWNrZXJfcGlja2VyX19ydGw6IHtcbiAgICAgIGRpcmVjdGlvbjogJ3J0bCdcbiAgICB9LFxuXG4gICAgRGF0ZVJhbmdlUGlja2VyX3BpY2tlcl9fZGlyZWN0aW9uTGVmdDoge1xuICAgICAgbGVmdDogMFxuICAgIH0sXG5cbiAgICBEYXRlUmFuZ2VQaWNrZXJfcGlja2VyX19kaXJlY3Rpb25SaWdodDoge1xuICAgICAgcmlnaHQ6IDBcbiAgICB9LFxuXG4gICAgRGF0ZVJhbmdlUGlja2VyX3BpY2tlcl9fcG9ydGFsOiB7XG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDAsIDAsIDAsIDAuMyknLFxuICAgICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgICB0b3A6IDAsXG4gICAgICBsZWZ0OiAwLFxuICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICB3aWR0aDogJzEwMCUnXG4gICAgfSxcblxuICAgIERhdGVSYW5nZVBpY2tlcl9waWNrZXJfX2Z1bGxTY3JlZW5Qb3J0YWw6IHtcbiAgICAgIGJhY2tncm91bmRDb2xvcjogY29sb3IuYmFja2dyb3VuZFxuICAgIH0sXG5cbiAgICBEYXRlUmFuZ2VQaWNrZXJfY2xvc2VCdXR0b246IHtcbiAgICAgIGJhY2tncm91bmQ6ICdub25lJyxcbiAgICAgIGJvcmRlcjogMCxcbiAgICAgIGNvbG9yOiAnaW5oZXJpdCcsXG4gICAgICBmb250OiAnaW5oZXJpdCcsXG4gICAgICBsaW5lSGVpZ2h0OiAnbm9ybWFsJyxcbiAgICAgIG92ZXJmbG93OiAndmlzaWJsZScsXG4gICAgICBjdXJzb3I6ICdwb2ludGVyJyxcblxuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICB0b3A6IDAsXG4gICAgICByaWdodDogMCxcbiAgICAgIHBhZGRpbmc6IDE1LFxuICAgICAgekluZGV4OiB6SW5kZXggKyAyLFxuXG4gICAgICAnOmhvdmVyJzoge1xuICAgICAgICBjb2xvcjogJ2RhcmtlbignICsgU3RyaW5nKGNvbG9yLmNvcmUuZ3JheUxpZ2h0ZXIpICsgJywgMTAlKScsXG4gICAgICAgIHRleHREZWNvcmF0aW9uOiAnbm9uZSdcbiAgICAgIH0sXG5cbiAgICAgICc6Zm9jdXMnOiB7XG4gICAgICAgIGNvbG9yOiAnZGFya2VuKCcgKyBTdHJpbmcoY29sb3IuY29yZS5ncmF5TGlnaHRlcikgKyAnLCAxMCUpJyxcbiAgICAgICAgdGV4dERlY29yYXRpb246ICdub25lJ1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBEYXRlUmFuZ2VQaWNrZXJfY2xvc2VCdXR0b25fc3ZnOiB7XG4gICAgICBoZWlnaHQ6IDE1LFxuICAgICAgd2lkdGg6IDE1LFxuICAgICAgZmlsbDogY29sb3IuY29yZS5ncmF5TGlnaHRlclxuICAgIH1cbiAgfTtcbn0pKERhdGVSYW5nZVBpY2tlcik7IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX29iamVjdCA9IHJlcXVpcmUoJ29iamVjdC5hc3NpZ24nKTtcblxudmFyIF9vYmplY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0KTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9haXJibmJQcm9wVHlwZXMgPSByZXF1aXJlKCdhaXJibmItcHJvcC10eXBlcycpO1xuXG52YXIgX3JlYWN0V2l0aFN0eWxlcyA9IHJlcXVpcmUoJ3JlYWN0LXdpdGgtc3R5bGVzJyk7XG5cbnZhciBfZGVmYXVsdFBocmFzZXMgPSByZXF1aXJlKCcuLi9kZWZhdWx0UGhyYXNlcycpO1xuXG52YXIgX2dldFBocmFzZVByb3BUeXBlcyA9IHJlcXVpcmUoJy4uL3V0aWxzL2dldFBocmFzZVByb3BUeXBlcycpO1xuXG52YXIgX2dldFBocmFzZVByb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQaHJhc2VQcm9wVHlwZXMpO1xuXG52YXIgX09wZW5EaXJlY3Rpb25TaGFwZSA9IHJlcXVpcmUoJy4uL3NoYXBlcy9PcGVuRGlyZWN0aW9uU2hhcGUnKTtcblxudmFyIF9PcGVuRGlyZWN0aW9uU2hhcGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfT3BlbkRpcmVjdGlvblNoYXBlKTtcblxudmFyIF9EYXRlSW5wdXQgPSByZXF1aXJlKCcuL0RhdGVJbnB1dCcpO1xuXG52YXIgX0RhdGVJbnB1dDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EYXRlSW5wdXQpO1xuXG52YXIgX0ljb25Qb3NpdGlvblNoYXBlID0gcmVxdWlyZSgnLi4vc2hhcGVzL0ljb25Qb3NpdGlvblNoYXBlJyk7XG5cbnZhciBfSWNvblBvc2l0aW9uU2hhcGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSWNvblBvc2l0aW9uU2hhcGUpO1xuXG52YXIgX0Rpc2FibGVkU2hhcGUgPSByZXF1aXJlKCcuLi9zaGFwZXMvRGlzYWJsZWRTaGFwZScpO1xuXG52YXIgX0Rpc2FibGVkU2hhcGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGlzYWJsZWRTaGFwZSk7XG5cbnZhciBfUmlnaHRBcnJvdyA9IHJlcXVpcmUoJy4vUmlnaHRBcnJvdycpO1xuXG52YXIgX1JpZ2h0QXJyb3cyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUmlnaHRBcnJvdyk7XG5cbnZhciBfTGVmdEFycm93ID0gcmVxdWlyZSgnLi9MZWZ0QXJyb3cnKTtcblxudmFyIF9MZWZ0QXJyb3cyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTGVmdEFycm93KTtcblxudmFyIF9DbG9zZUJ1dHRvbiA9IHJlcXVpcmUoJy4vQ2xvc2VCdXR0b24nKTtcblxudmFyIF9DbG9zZUJ1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DbG9zZUJ1dHRvbik7XG5cbnZhciBfQ2FsZW5kYXJJY29uID0gcmVxdWlyZSgnLi9DYWxlbmRhckljb24nKTtcblxudmFyIF9DYWxlbmRhckljb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FsZW5kYXJJY29uKTtcblxudmFyIF9jb25zdGFudHMgPSByZXF1aXJlKCcuLi9jb25zdGFudHMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG52YXIgcHJvcFR5cGVzID0gKDAsIF9haXJibmJQcm9wVHlwZXMuZm9yYmlkRXh0cmFQcm9wcykoKDAsIF9vYmplY3QyWydkZWZhdWx0J10pKHt9LCBfcmVhY3RXaXRoU3R5bGVzLndpdGhTdHlsZXNQcm9wVHlwZXMsIHtcbiAgc3RhcnREYXRlSWQ6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uc3RyaW5nLFxuICBzdGFydERhdGVQbGFjZWhvbGRlclRleHQ6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uc3RyaW5nLFxuICBzY3JlZW5SZWFkZXJNZXNzYWdlOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLnN0cmluZyxcblxuICBlbmREYXRlSWQ6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uc3RyaW5nLFxuICBlbmREYXRlUGxhY2Vob2xkZXJUZXh0OiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLnN0cmluZyxcblxuICBvblN0YXJ0RGF0ZUZvY3VzOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsXG4gIG9uRW5kRGF0ZUZvY3VzOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsXG4gIG9uU3RhcnREYXRlQ2hhbmdlOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsXG4gIG9uRW5kRGF0ZUNoYW5nZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuICBvblN0YXJ0RGF0ZVNoaWZ0VGFiOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsXG4gIG9uRW5kRGF0ZVRhYjogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuICBvbkNsZWFyRGF0ZXM6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYyxcbiAgb25LZXlEb3duQXJyb3dEb3duOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsXG4gIG9uS2V5RG93blF1ZXN0aW9uTWFyazogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuXG4gIHN0YXJ0RGF0ZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zdHJpbmcsXG4gIGVuZERhdGU6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uc3RyaW5nLFxuXG4gIGlzU3RhcnREYXRlRm9jdXNlZDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ib29sLFxuICBpc0VuZERhdGVGb2N1c2VkOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmJvb2wsXG4gIHNob3dDbGVhckRhdGVzOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmJvb2wsXG4gIGRpc2FibGVkOiBfRGlzYWJsZWRTaGFwZTJbJ2RlZmF1bHQnXSxcbiAgcmVxdWlyZWQ6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbCxcbiAgcmVhZE9ubHk6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbCxcbiAgb3BlbkRpcmVjdGlvbjogX09wZW5EaXJlY3Rpb25TaGFwZTJbJ2RlZmF1bHQnXSxcbiAgc2hvd0NhcmV0OiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmJvb2wsXG4gIHNob3dEZWZhdWx0SW5wdXRJY29uOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmJvb2wsXG4gIGlucHV0SWNvblBvc2l0aW9uOiBfSWNvblBvc2l0aW9uU2hhcGUyWydkZWZhdWx0J10sXG4gIGN1c3RvbUlucHV0SWNvbjogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ub2RlLFxuICBjdXN0b21BcnJvd0ljb246IF9wcm9wVHlwZXMyWydkZWZhdWx0J10ubm9kZSxcbiAgY3VzdG9tQ2xvc2VJY29uOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLm5vZGUsXG4gIG5vQm9yZGVyOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmJvb2wsXG4gIGJsb2NrOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmJvb2wsXG4gIHNtYWxsOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmJvb2wsXG4gIHJlZ3VsYXI6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbCxcbiAgdmVydGljYWxTcGFjaW5nOiBfYWlyYm5iUHJvcFR5cGVzLm5vbk5lZ2F0aXZlSW50ZWdlcixcblxuICAvLyBhY2Nlc3NpYmlsaXR5XG4gIGlzRm9jdXNlZDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ib29sLCAvLyBkZXNjcmliZXMgYWN0dWFsIERPTSBmb2N1c1xuXG4gIC8vIGkxOG5cbiAgcGhyYXNlczogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zaGFwZSgoMCwgX2dldFBocmFzZVByb3BUeXBlczJbJ2RlZmF1bHQnXSkoX2RlZmF1bHRQaHJhc2VzLkRhdGVSYW5nZVBpY2tlcklucHV0UGhyYXNlcykpLFxuXG4gIGlzUlRMOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmJvb2xcbn0pKTtcblxudmFyIGRlZmF1bHRQcm9wcyA9IHtcbiAgc3RhcnREYXRlSWQ6IF9jb25zdGFudHMuU1RBUlRfREFURSxcbiAgZW5kRGF0ZUlkOiBfY29uc3RhbnRzLkVORF9EQVRFLFxuICBzdGFydERhdGVQbGFjZWhvbGRlclRleHQ6ICdTdGFydCBEYXRlJyxcbiAgZW5kRGF0ZVBsYWNlaG9sZGVyVGV4dDogJ0VuZCBEYXRlJyxcbiAgc2NyZWVuUmVhZGVyTWVzc2FnZTogJycsXG4gIG9uU3RhcnREYXRlRm9jdXM6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBvblN0YXJ0RGF0ZUZvY3VzKCkge31cblxuICAgIHJldHVybiBvblN0YXJ0RGF0ZUZvY3VzO1xuICB9KCksXG4gIG9uRW5kRGF0ZUZvY3VzOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gb25FbmREYXRlRm9jdXMoKSB7fVxuXG4gICAgcmV0dXJuIG9uRW5kRGF0ZUZvY3VzO1xuICB9KCksXG4gIG9uU3RhcnREYXRlQ2hhbmdlOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gb25TdGFydERhdGVDaGFuZ2UoKSB7fVxuXG4gICAgcmV0dXJuIG9uU3RhcnREYXRlQ2hhbmdlO1xuICB9KCksXG4gIG9uRW5kRGF0ZUNoYW5nZTogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIG9uRW5kRGF0ZUNoYW5nZSgpIHt9XG5cbiAgICByZXR1cm4gb25FbmREYXRlQ2hhbmdlO1xuICB9KCksXG4gIG9uU3RhcnREYXRlU2hpZnRUYWI6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBvblN0YXJ0RGF0ZVNoaWZ0VGFiKCkge31cblxuICAgIHJldHVybiBvblN0YXJ0RGF0ZVNoaWZ0VGFiO1xuICB9KCksXG4gIG9uRW5kRGF0ZVRhYjogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIG9uRW5kRGF0ZVRhYigpIHt9XG5cbiAgICByZXR1cm4gb25FbmREYXRlVGFiO1xuICB9KCksXG4gIG9uQ2xlYXJEYXRlczogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIG9uQ2xlYXJEYXRlcygpIHt9XG5cbiAgICByZXR1cm4gb25DbGVhckRhdGVzO1xuICB9KCksXG4gIG9uS2V5RG93bkFycm93RG93bjogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIG9uS2V5RG93bkFycm93RG93bigpIHt9XG5cbiAgICByZXR1cm4gb25LZXlEb3duQXJyb3dEb3duO1xuICB9KCksXG4gIG9uS2V5RG93blF1ZXN0aW9uTWFyazogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIG9uS2V5RG93blF1ZXN0aW9uTWFyaygpIHt9XG5cbiAgICByZXR1cm4gb25LZXlEb3duUXVlc3Rpb25NYXJrO1xuICB9KCksXG5cblxuICBzdGFydERhdGU6ICcnLFxuICBlbmREYXRlOiAnJyxcblxuICBpc1N0YXJ0RGF0ZUZvY3VzZWQ6IGZhbHNlLFxuICBpc0VuZERhdGVGb2N1c2VkOiBmYWxzZSxcbiAgc2hvd0NsZWFyRGF0ZXM6IGZhbHNlLFxuICBkaXNhYmxlZDogZmFsc2UsXG4gIHJlcXVpcmVkOiBmYWxzZSxcbiAgcmVhZE9ubHk6IGZhbHNlLFxuICBvcGVuRGlyZWN0aW9uOiBfY29uc3RhbnRzLk9QRU5fRE9XTixcbiAgc2hvd0NhcmV0OiBmYWxzZSxcbiAgc2hvd0RlZmF1bHRJbnB1dEljb246IGZhbHNlLFxuICBpbnB1dEljb25Qb3NpdGlvbjogX2NvbnN0YW50cy5JQ09OX0JFRk9SRV9QT1NJVElPTixcbiAgY3VzdG9tSW5wdXRJY29uOiBudWxsLFxuICBjdXN0b21BcnJvd0ljb246IG51bGwsXG4gIGN1c3RvbUNsb3NlSWNvbjogbnVsbCxcbiAgbm9Cb3JkZXI6IGZhbHNlLFxuICBibG9jazogZmFsc2UsXG4gIHNtYWxsOiBmYWxzZSxcbiAgcmVndWxhcjogZmFsc2UsXG4gIHZlcnRpY2FsU3BhY2luZzogdW5kZWZpbmVkLFxuXG4gIC8vIGFjY2Vzc2liaWxpdHlcbiAgaXNGb2N1c2VkOiBmYWxzZSxcblxuICAvLyBpMThuXG4gIHBocmFzZXM6IF9kZWZhdWx0UGhyYXNlcy5EYXRlUmFuZ2VQaWNrZXJJbnB1dFBocmFzZXMsXG5cbiAgaXNSVEw6IGZhbHNlXG59O1xuXG5mdW5jdGlvbiBEYXRlUmFuZ2VQaWNrZXJJbnB1dChfcmVmKSB7XG4gIHZhciBzdGFydERhdGUgPSBfcmVmLnN0YXJ0RGF0ZSxcbiAgICAgIHN0YXJ0RGF0ZUlkID0gX3JlZi5zdGFydERhdGVJZCxcbiAgICAgIHN0YXJ0RGF0ZVBsYWNlaG9sZGVyVGV4dCA9IF9yZWYuc3RhcnREYXRlUGxhY2Vob2xkZXJUZXh0LFxuICAgICAgc2NyZWVuUmVhZGVyTWVzc2FnZSA9IF9yZWYuc2NyZWVuUmVhZGVyTWVzc2FnZSxcbiAgICAgIGlzU3RhcnREYXRlRm9jdXNlZCA9IF9yZWYuaXNTdGFydERhdGVGb2N1c2VkLFxuICAgICAgb25TdGFydERhdGVDaGFuZ2UgPSBfcmVmLm9uU3RhcnREYXRlQ2hhbmdlLFxuICAgICAgb25TdGFydERhdGVGb2N1cyA9IF9yZWYub25TdGFydERhdGVGb2N1cyxcbiAgICAgIG9uU3RhcnREYXRlU2hpZnRUYWIgPSBfcmVmLm9uU3RhcnREYXRlU2hpZnRUYWIsXG4gICAgICBlbmREYXRlID0gX3JlZi5lbmREYXRlLFxuICAgICAgZW5kRGF0ZUlkID0gX3JlZi5lbmREYXRlSWQsXG4gICAgICBlbmREYXRlUGxhY2Vob2xkZXJUZXh0ID0gX3JlZi5lbmREYXRlUGxhY2Vob2xkZXJUZXh0LFxuICAgICAgaXNFbmREYXRlRm9jdXNlZCA9IF9yZWYuaXNFbmREYXRlRm9jdXNlZCxcbiAgICAgIG9uRW5kRGF0ZUNoYW5nZSA9IF9yZWYub25FbmREYXRlQ2hhbmdlLFxuICAgICAgb25FbmREYXRlRm9jdXMgPSBfcmVmLm9uRW5kRGF0ZUZvY3VzLFxuICAgICAgb25FbmREYXRlVGFiID0gX3JlZi5vbkVuZERhdGVUYWIsXG4gICAgICBvbktleURvd25BcnJvd0Rvd24gPSBfcmVmLm9uS2V5RG93bkFycm93RG93bixcbiAgICAgIG9uS2V5RG93blF1ZXN0aW9uTWFyayA9IF9yZWYub25LZXlEb3duUXVlc3Rpb25NYXJrLFxuICAgICAgb25DbGVhckRhdGVzID0gX3JlZi5vbkNsZWFyRGF0ZXMsXG4gICAgICBzaG93Q2xlYXJEYXRlcyA9IF9yZWYuc2hvd0NsZWFyRGF0ZXMsXG4gICAgICBkaXNhYmxlZCA9IF9yZWYuZGlzYWJsZWQsXG4gICAgICByZXF1aXJlZCA9IF9yZWYucmVxdWlyZWQsXG4gICAgICByZWFkT25seSA9IF9yZWYucmVhZE9ubHksXG4gICAgICBzaG93Q2FyZXQgPSBfcmVmLnNob3dDYXJldCxcbiAgICAgIG9wZW5EaXJlY3Rpb24gPSBfcmVmLm9wZW5EaXJlY3Rpb24sXG4gICAgICBzaG93RGVmYXVsdElucHV0SWNvbiA9IF9yZWYuc2hvd0RlZmF1bHRJbnB1dEljb24sXG4gICAgICBpbnB1dEljb25Qb3NpdGlvbiA9IF9yZWYuaW5wdXRJY29uUG9zaXRpb24sXG4gICAgICBjdXN0b21JbnB1dEljb24gPSBfcmVmLmN1c3RvbUlucHV0SWNvbixcbiAgICAgIGN1c3RvbUFycm93SWNvbiA9IF9yZWYuY3VzdG9tQXJyb3dJY29uLFxuICAgICAgY3VzdG9tQ2xvc2VJY29uID0gX3JlZi5jdXN0b21DbG9zZUljb24sXG4gICAgICBpc0ZvY3VzZWQgPSBfcmVmLmlzRm9jdXNlZCxcbiAgICAgIHBocmFzZXMgPSBfcmVmLnBocmFzZXMsXG4gICAgICBpc1JUTCA9IF9yZWYuaXNSVEwsXG4gICAgICBub0JvcmRlciA9IF9yZWYubm9Cb3JkZXIsXG4gICAgICBibG9jayA9IF9yZWYuYmxvY2ssXG4gICAgICB2ZXJ0aWNhbFNwYWNpbmcgPSBfcmVmLnZlcnRpY2FsU3BhY2luZyxcbiAgICAgIHNtYWxsID0gX3JlZi5zbWFsbCxcbiAgICAgIHJlZ3VsYXIgPSBfcmVmLnJlZ3VsYXIsXG4gICAgICBzdHlsZXMgPSBfcmVmLnN0eWxlcztcblxuICB2YXIgY2FsZW5kYXJJY29uID0gY3VzdG9tSW5wdXRJY29uIHx8IF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KF9DYWxlbmRhckljb24yWydkZWZhdWx0J10sICgwLCBfcmVhY3RXaXRoU3R5bGVzLmNzcykoc3R5bGVzLkRhdGVSYW5nZVBpY2tlcklucHV0X2NhbGVuZGFySWNvbl9zdmcpKTtcblxuICB2YXIgYXJyb3dJY29uID0gY3VzdG9tQXJyb3dJY29uIHx8IF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KF9SaWdodEFycm93MlsnZGVmYXVsdCddLCAoMCwgX3JlYWN0V2l0aFN0eWxlcy5jc3MpKHN0eWxlcy5EYXRlUmFuZ2VQaWNrZXJJbnB1dF9hcnJvd19zdmcpKTtcbiAgaWYgKGlzUlRMKSBhcnJvd0ljb24gPSBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChfTGVmdEFycm93MlsnZGVmYXVsdCddLCAoMCwgX3JlYWN0V2l0aFN0eWxlcy5jc3MpKHN0eWxlcy5EYXRlUmFuZ2VQaWNrZXJJbnB1dF9hcnJvd19zdmcpKTtcbiAgaWYgKHNtYWxsKSBhcnJvd0ljb24gPSAnLSc7XG5cbiAgdmFyIGNsb3NlSWNvbiA9IGN1c3RvbUNsb3NlSWNvbiB8fCBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChfQ2xvc2VCdXR0b24yWydkZWZhdWx0J10sICgwLCBfcmVhY3RXaXRoU3R5bGVzLmNzcykoc3R5bGVzLkRhdGVSYW5nZVBpY2tlcklucHV0X2NsZWFyRGF0ZXNfc3ZnLCBzbWFsbCAmJiBzdHlsZXMuRGF0ZVJhbmdlUGlja2VySW5wdXRfY2xlYXJEYXRlc19zdmdfX3NtYWxsKSk7XG4gIHZhciBzY3JlZW5SZWFkZXJUZXh0ID0gc2NyZWVuUmVhZGVyTWVzc2FnZSB8fCBwaHJhc2VzLmtleWJvYXJkTmF2aWdhdGlvbkluc3RydWN0aW9ucztcbiAgdmFyIGlucHV0SWNvbiA9IChzaG93RGVmYXVsdElucHV0SWNvbiB8fCBjdXN0b21JbnB1dEljb24gIT09IG51bGwpICYmIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuICAgICdidXR0b24nLFxuICAgIF9leHRlbmRzKHt9LCAoMCwgX3JlYWN0V2l0aFN0eWxlcy5jc3MpKHN0eWxlcy5EYXRlUmFuZ2VQaWNrZXJJbnB1dF9jYWxlbmRhckljb24pLCB7XG4gICAgICB0eXBlOiAnYnV0dG9uJyxcbiAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgICdhcmlhLWxhYmVsJzogcGhyYXNlcy5mb2N1c1N0YXJ0RGF0ZSxcbiAgICAgIG9uQ2xpY2s6IG9uS2V5RG93bkFycm93RG93blxuICAgIH0pLFxuICAgIGNhbGVuZGFySWNvblxuICApO1xuICB2YXIgc3RhcnREYXRlRGlzYWJsZWQgPSBkaXNhYmxlZCA9PT0gX2NvbnN0YW50cy5TVEFSVF9EQVRFIHx8IGRpc2FibGVkID09PSB0cnVlO1xuICB2YXIgZW5kRGF0ZURpc2FibGVkID0gZGlzYWJsZWQgPT09IF9jb25zdGFudHMuRU5EX0RBVEUgfHwgZGlzYWJsZWQgPT09IHRydWU7XG5cbiAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuICAgICdkaXYnLFxuICAgICgwLCBfcmVhY3RXaXRoU3R5bGVzLmNzcykoc3R5bGVzLkRhdGVSYW5nZVBpY2tlcklucHV0LCBkaXNhYmxlZCAmJiBzdHlsZXMuRGF0ZVJhbmdlUGlja2VySW5wdXRfX2Rpc2FibGVkLCBpc1JUTCAmJiBzdHlsZXMuRGF0ZVJhbmdlUGlja2VySW5wdXRfX3J0bCwgIW5vQm9yZGVyICYmIHN0eWxlcy5EYXRlUmFuZ2VQaWNrZXJJbnB1dF9fd2l0aEJvcmRlciwgYmxvY2sgJiYgc3R5bGVzLkRhdGVSYW5nZVBpY2tlcklucHV0X19ibG9jaywgc2hvd0NsZWFyRGF0ZXMgJiYgc3R5bGVzLkRhdGVSYW5nZVBpY2tlcklucHV0X19zaG93Q2xlYXJEYXRlcyksXG4gICAgaW5wdXRJY29uUG9zaXRpb24gPT09IF9jb25zdGFudHMuSUNPTl9CRUZPUkVfUE9TSVRJT04gJiYgaW5wdXRJY29uLFxuICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KF9EYXRlSW5wdXQyWydkZWZhdWx0J10sIHtcbiAgICAgIGlkOiBzdGFydERhdGVJZCxcbiAgICAgIHBsYWNlaG9sZGVyOiBzdGFydERhdGVQbGFjZWhvbGRlclRleHQsXG4gICAgICBkaXNwbGF5VmFsdWU6IHN0YXJ0RGF0ZSxcbiAgICAgIHNjcmVlblJlYWRlck1lc3NhZ2U6IHNjcmVlblJlYWRlclRleHQsXG4gICAgICBmb2N1c2VkOiBpc1N0YXJ0RGF0ZUZvY3VzZWQsXG4gICAgICBpc0ZvY3VzZWQ6IGlzRm9jdXNlZCxcbiAgICAgIGRpc2FibGVkOiBzdGFydERhdGVEaXNhYmxlZCxcbiAgICAgIHJlcXVpcmVkOiByZXF1aXJlZCxcbiAgICAgIHJlYWRPbmx5OiByZWFkT25seSxcbiAgICAgIHNob3dDYXJldDogc2hvd0NhcmV0LFxuICAgICAgb3BlbkRpcmVjdGlvbjogb3BlbkRpcmVjdGlvbixcbiAgICAgIG9uQ2hhbmdlOiBvblN0YXJ0RGF0ZUNoYW5nZSxcbiAgICAgIG9uRm9jdXM6IG9uU3RhcnREYXRlRm9jdXMsXG4gICAgICBvbktleURvd25TaGlmdFRhYjogb25TdGFydERhdGVTaGlmdFRhYixcbiAgICAgIG9uS2V5RG93bkFycm93RG93bjogb25LZXlEb3duQXJyb3dEb3duLFxuICAgICAgb25LZXlEb3duUXVlc3Rpb25NYXJrOiBvbktleURvd25RdWVzdGlvbk1hcmssXG4gICAgICB2ZXJ0aWNhbFNwYWNpbmc6IHZlcnRpY2FsU3BhY2luZyxcbiAgICAgIHNtYWxsOiBzbWFsbCxcbiAgICAgIHJlZ3VsYXI6IHJlZ3VsYXJcbiAgICB9KSxcbiAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcbiAgICAgICdkaXYnLFxuICAgICAgX2V4dGVuZHMoe30sICgwLCBfcmVhY3RXaXRoU3R5bGVzLmNzcykoc3R5bGVzLkRhdGVSYW5nZVBpY2tlcklucHV0X2Fycm93KSwge1xuICAgICAgICAnYXJpYS1oaWRkZW4nOiAndHJ1ZScsXG4gICAgICAgIHJvbGU6ICdwcmVzZW50YXRpb24nXG4gICAgICB9KSxcbiAgICAgIGFycm93SWNvblxuICAgICksXG4gICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoX0RhdGVJbnB1dDJbJ2RlZmF1bHQnXSwge1xuICAgICAgaWQ6IGVuZERhdGVJZCxcbiAgICAgIHBsYWNlaG9sZGVyOiBlbmREYXRlUGxhY2Vob2xkZXJUZXh0LFxuICAgICAgZGlzcGxheVZhbHVlOiBlbmREYXRlLFxuICAgICAgc2NyZWVuUmVhZGVyTWVzc2FnZTogc2NyZWVuUmVhZGVyVGV4dCxcbiAgICAgIGZvY3VzZWQ6IGlzRW5kRGF0ZUZvY3VzZWQsXG4gICAgICBpc0ZvY3VzZWQ6IGlzRm9jdXNlZCxcbiAgICAgIGRpc2FibGVkOiBlbmREYXRlRGlzYWJsZWQsXG4gICAgICByZXF1aXJlZDogcmVxdWlyZWQsXG4gICAgICByZWFkT25seTogcmVhZE9ubHksXG4gICAgICBzaG93Q2FyZXQ6IHNob3dDYXJldCxcbiAgICAgIG9wZW5EaXJlY3Rpb246IG9wZW5EaXJlY3Rpb24sXG4gICAgICBvbkNoYW5nZTogb25FbmREYXRlQ2hhbmdlLFxuICAgICAgb25Gb2N1czogb25FbmREYXRlRm9jdXMsXG4gICAgICBvbktleURvd25UYWI6IG9uRW5kRGF0ZVRhYixcbiAgICAgIG9uS2V5RG93bkFycm93RG93bjogb25LZXlEb3duQXJyb3dEb3duLFxuICAgICAgb25LZXlEb3duUXVlc3Rpb25NYXJrOiBvbktleURvd25RdWVzdGlvbk1hcmssXG4gICAgICB2ZXJ0aWNhbFNwYWNpbmc6IHZlcnRpY2FsU3BhY2luZyxcbiAgICAgIHNtYWxsOiBzbWFsbCxcbiAgICAgIHJlZ3VsYXI6IHJlZ3VsYXJcbiAgICB9KSxcbiAgICBzaG93Q2xlYXJEYXRlcyAmJiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcbiAgICAgICdidXR0b24nLFxuICAgICAgX2V4dGVuZHMoe1xuICAgICAgICB0eXBlOiAnYnV0dG9uJyxcbiAgICAgICAgJ2FyaWEtbGFiZWwnOiBwaHJhc2VzLmNsZWFyRGF0ZXNcbiAgICAgIH0sICgwLCBfcmVhY3RXaXRoU3R5bGVzLmNzcykoc3R5bGVzLkRhdGVSYW5nZVBpY2tlcklucHV0X2NsZWFyRGF0ZXMsIHNtYWxsICYmIHN0eWxlcy5EYXRlUmFuZ2VQaWNrZXJJbnB1dF9jbGVhckRhdGVzX19zbWFsbCwgIWN1c3RvbUNsb3NlSWNvbiAmJiBzdHlsZXMuRGF0ZVJhbmdlUGlja2VySW5wdXRfY2xlYXJEYXRlc19kZWZhdWx0LCAhKHN0YXJ0RGF0ZSB8fCBlbmREYXRlKSAmJiBzdHlsZXMuRGF0ZVJhbmdlUGlja2VySW5wdXRfY2xlYXJEYXRlc19faGlkZSksIHtcbiAgICAgICAgb25DbGljazogb25DbGVhckRhdGVzLFxuICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWRcbiAgICAgIH0pLFxuICAgICAgY2xvc2VJY29uXG4gICAgKSxcbiAgICBpbnB1dEljb25Qb3NpdGlvbiA9PT0gX2NvbnN0YW50cy5JQ09OX0FGVEVSX1BPU0lUSU9OICYmIGlucHV0SWNvblxuICApO1xufVxuXG5EYXRlUmFuZ2VQaWNrZXJJbnB1dC5wcm9wVHlwZXMgPSBwcm9wVHlwZXM7XG5EYXRlUmFuZ2VQaWNrZXJJbnB1dC5kZWZhdWx0UHJvcHMgPSBkZWZhdWx0UHJvcHM7XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9ICgwLCBfcmVhY3RXaXRoU3R5bGVzLndpdGhTdHlsZXMpKGZ1bmN0aW9uIChfcmVmMikge1xuICB2YXIgX3JlZjIkcmVhY3REYXRlcyA9IF9yZWYyLnJlYWN0RGF0ZXMsXG4gICAgICBib3JkZXIgPSBfcmVmMiRyZWFjdERhdGVzLmJvcmRlcixcbiAgICAgIGNvbG9yID0gX3JlZjIkcmVhY3REYXRlcy5jb2xvcixcbiAgICAgIHNpemluZyA9IF9yZWYyJHJlYWN0RGF0ZXMuc2l6aW5nO1xuICByZXR1cm4ge1xuICAgIERhdGVSYW5nZVBpY2tlcklucHV0OiB7XG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IGNvbG9yLmJhY2tncm91bmQsXG4gICAgICBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJ1xuICAgIH0sXG5cbiAgICBEYXRlUmFuZ2VQaWNrZXJJbnB1dF9fZGlzYWJsZWQ6IHtcbiAgICAgIGJhY2tncm91bmQ6IGNvbG9yLmRpc2FibGVkXG4gICAgfSxcblxuICAgIERhdGVSYW5nZVBpY2tlcklucHV0X193aXRoQm9yZGVyOiB7XG4gICAgICBib3JkZXJDb2xvcjogY29sb3IuYm9yZGVyLFxuICAgICAgYm9yZGVyV2lkdGg6IGJvcmRlci5waWNrZXJJbnB1dC5ib3JkZXJXaWR0aCxcbiAgICAgIGJvcmRlclN0eWxlOiBib3JkZXIucGlja2VySW5wdXQuYm9yZGVyU3R5bGUsXG4gICAgICBib3JkZXJSYWRpdXM6IGJvcmRlci5waWNrZXJJbnB1dC5ib3JkZXJSYWRpdXNcbiAgICB9LFxuXG4gICAgRGF0ZVJhbmdlUGlja2VySW5wdXRfX3J0bDoge1xuICAgICAgZGlyZWN0aW9uOiAncnRsJ1xuICAgIH0sXG5cbiAgICBEYXRlUmFuZ2VQaWNrZXJJbnB1dF9fYmxvY2s6IHtcbiAgICAgIGRpc3BsYXk6ICdibG9jaydcbiAgICB9LFxuXG4gICAgRGF0ZVJhbmdlUGlja2VySW5wdXRfX3Nob3dDbGVhckRhdGVzOiB7XG4gICAgICBwYWRkaW5nUmlnaHQ6IDMwXG4gICAgfSxcblxuICAgIERhdGVSYW5nZVBpY2tlcklucHV0X2Fycm93OiB7XG4gICAgICBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJyxcbiAgICAgIHZlcnRpY2FsQWxpZ246ICdtaWRkbGUnLFxuICAgICAgY29sb3I6IGNvbG9yLnRleHRcbiAgICB9LFxuXG4gICAgRGF0ZVJhbmdlUGlja2VySW5wdXRfYXJyb3dfc3ZnOiB7XG4gICAgICB2ZXJ0aWNhbEFsaWduOiAnbWlkZGxlJyxcbiAgICAgIGZpbGw6IGNvbG9yLnRleHQsXG4gICAgICBoZWlnaHQ6IHNpemluZy5hcnJvd1dpZHRoLFxuICAgICAgd2lkdGg6IHNpemluZy5hcnJvd1dpZHRoXG4gICAgfSxcblxuICAgIERhdGVSYW5nZVBpY2tlcklucHV0X2NsZWFyRGF0ZXM6IHtcbiAgICAgIGJhY2tncm91bmQ6ICdub25lJyxcbiAgICAgIGJvcmRlcjogMCxcbiAgICAgIGNvbG9yOiAnaW5oZXJpdCcsXG4gICAgICBmb250OiAnaW5oZXJpdCcsXG4gICAgICBsaW5lSGVpZ2h0OiAnbm9ybWFsJyxcbiAgICAgIG92ZXJmbG93OiAndmlzaWJsZScsXG5cbiAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgcGFkZGluZzogMTAsXG4gICAgICBtYXJnaW46ICcwIDEwcHggMCA1cHgnLFxuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICByaWdodDogMCxcbiAgICAgIHRvcDogJzUwJScsXG4gICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGVZKC01MCUpJ1xuICAgIH0sXG5cbiAgICBEYXRlUmFuZ2VQaWNrZXJJbnB1dF9jbGVhckRhdGVzX19zbWFsbDoge1xuICAgICAgcGFkZGluZzogNlxuICAgIH0sXG5cbiAgICBEYXRlUmFuZ2VQaWNrZXJJbnB1dF9jbGVhckRhdGVzX2RlZmF1bHQ6IHtcbiAgICAgICc6Zm9jdXMnOiB7XG4gICAgICAgIGJhY2tncm91bmQ6IGNvbG9yLmNvcmUuYm9yZGVyLFxuICAgICAgICBib3JkZXJSYWRpdXM6ICc1MCUnXG4gICAgICB9LFxuXG4gICAgICAnOmhvdmVyJzoge1xuICAgICAgICBiYWNrZ3JvdW5kOiBjb2xvci5jb3JlLmJvcmRlcixcbiAgICAgICAgYm9yZGVyUmFkaXVzOiAnNTAlJ1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBEYXRlUmFuZ2VQaWNrZXJJbnB1dF9jbGVhckRhdGVzX19oaWRlOiB7XG4gICAgICB2aXNpYmlsaXR5OiAnaGlkZGVuJ1xuICAgIH0sXG5cbiAgICBEYXRlUmFuZ2VQaWNrZXJJbnB1dF9jbGVhckRhdGVzX3N2Zzoge1xuICAgICAgZmlsbDogY29sb3IuY29yZS5ncmF5TGlnaHQsXG4gICAgICBoZWlnaHQ6IDEyLFxuICAgICAgd2lkdGg6IDE1LFxuICAgICAgdmVydGljYWxBbGlnbjogJ21pZGRsZSdcbiAgICB9LFxuXG4gICAgRGF0ZVJhbmdlUGlja2VySW5wdXRfY2xlYXJEYXRlc19zdmdfX3NtYWxsOiB7XG4gICAgICBoZWlnaHQ6IDlcbiAgICB9LFxuXG4gICAgRGF0ZVJhbmdlUGlja2VySW5wdXRfY2FsZW5kYXJJY29uOiB7XG4gICAgICBiYWNrZ3JvdW5kOiAnbm9uZScsXG4gICAgICBib3JkZXI6IDAsXG4gICAgICBjb2xvcjogJ2luaGVyaXQnLFxuICAgICAgZm9udDogJ2luaGVyaXQnLFxuICAgICAgbGluZUhlaWdodDogJ25vcm1hbCcsXG4gICAgICBvdmVyZmxvdzogJ3Zpc2libGUnLFxuXG4gICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgdmVydGljYWxBbGlnbjogJ21pZGRsZScsXG4gICAgICBwYWRkaW5nOiAxMCxcbiAgICAgIG1hcmdpbjogJzAgNXB4IDAgMTBweCdcbiAgICB9LFxuXG4gICAgRGF0ZVJhbmdlUGlja2VySW5wdXRfY2FsZW5kYXJJY29uX3N2Zzoge1xuICAgICAgZmlsbDogY29sb3IuY29yZS5ncmF5TGlnaHQsXG4gICAgICBoZWlnaHQ6IDE1LFxuICAgICAgd2lkdGg6IDE0LFxuICAgICAgdmVydGljYWxBbGlnbjogJ21pZGRsZSdcbiAgICB9XG4gIH07XG59KShEYXRlUmFuZ2VQaWNrZXJJbnB1dCk7IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX21vbWVudCA9IHJlcXVpcmUoJ21vbWVudCcpO1xuXG52YXIgX21vbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb21lbnQpO1xuXG52YXIgX3JlYWN0TW9tZW50UHJvcHR5cGVzID0gcmVxdWlyZSgncmVhY3QtbW9tZW50LXByb3B0eXBlcycpO1xuXG52YXIgX3JlYWN0TW9tZW50UHJvcHR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0TW9tZW50UHJvcHR5cGVzKTtcblxudmFyIF9haXJibmJQcm9wVHlwZXMgPSByZXF1aXJlKCdhaXJibmItcHJvcC10eXBlcycpO1xuXG52YXIgX09wZW5EaXJlY3Rpb25TaGFwZSA9IHJlcXVpcmUoJy4uL3NoYXBlcy9PcGVuRGlyZWN0aW9uU2hhcGUnKTtcblxudmFyIF9PcGVuRGlyZWN0aW9uU2hhcGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfT3BlbkRpcmVjdGlvblNoYXBlKTtcblxudmFyIF9kZWZhdWx0UGhyYXNlcyA9IHJlcXVpcmUoJy4uL2RlZmF1bHRQaHJhc2VzJyk7XG5cbnZhciBfZ2V0UGhyYXNlUHJvcFR5cGVzID0gcmVxdWlyZSgnLi4vdXRpbHMvZ2V0UGhyYXNlUHJvcFR5cGVzJyk7XG5cbnZhciBfZ2V0UGhyYXNlUHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFBocmFzZVByb3BUeXBlcyk7XG5cbnZhciBfRGF0ZVJhbmdlUGlja2VySW5wdXQgPSByZXF1aXJlKCcuL0RhdGVSYW5nZVBpY2tlcklucHV0Jyk7XG5cbnZhciBfRGF0ZVJhbmdlUGlja2VySW5wdXQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGF0ZVJhbmdlUGlja2VySW5wdXQpO1xuXG52YXIgX0ljb25Qb3NpdGlvblNoYXBlID0gcmVxdWlyZSgnLi4vc2hhcGVzL0ljb25Qb3NpdGlvblNoYXBlJyk7XG5cbnZhciBfSWNvblBvc2l0aW9uU2hhcGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSWNvblBvc2l0aW9uU2hhcGUpO1xuXG52YXIgX0Rpc2FibGVkU2hhcGUgPSByZXF1aXJlKCcuLi9zaGFwZXMvRGlzYWJsZWRTaGFwZScpO1xuXG52YXIgX0Rpc2FibGVkU2hhcGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGlzYWJsZWRTaGFwZSk7XG5cbnZhciBfdG9Nb21lbnRPYmplY3QgPSByZXF1aXJlKCcuLi91dGlscy90b01vbWVudE9iamVjdCcpO1xuXG52YXIgX3RvTW9tZW50T2JqZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RvTW9tZW50T2JqZWN0KTtcblxudmFyIF90b0xvY2FsaXplZERhdGVTdHJpbmcgPSByZXF1aXJlKCcuLi91dGlscy90b0xvY2FsaXplZERhdGVTdHJpbmcnKTtcblxudmFyIF90b0xvY2FsaXplZERhdGVTdHJpbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdG9Mb2NhbGl6ZWREYXRlU3RyaW5nKTtcblxudmFyIF9pc0luY2x1c2l2ZWx5QWZ0ZXJEYXkgPSByZXF1aXJlKCcuLi91dGlscy9pc0luY2x1c2l2ZWx5QWZ0ZXJEYXknKTtcblxudmFyIF9pc0luY2x1c2l2ZWx5QWZ0ZXJEYXkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNJbmNsdXNpdmVseUFmdGVyRGF5KTtcblxudmFyIF9pc0JlZm9yZURheSA9IHJlcXVpcmUoJy4uL3V0aWxzL2lzQmVmb3JlRGF5Jyk7XG5cbnZhciBfaXNCZWZvcmVEYXkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNCZWZvcmVEYXkpO1xuXG52YXIgX2NvbnN0YW50cyA9IHJlcXVpcmUoJy4uL2NvbnN0YW50cycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIHByb3BUeXBlcyA9ICgwLCBfYWlyYm5iUHJvcFR5cGVzLmZvcmJpZEV4dHJhUHJvcHMpKHtcbiAgc3RhcnREYXRlOiBfcmVhY3RNb21lbnRQcm9wdHlwZXMyWydkZWZhdWx0J10ubW9tZW50T2JqLFxuICBzdGFydERhdGVJZDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zdHJpbmcsXG4gIHN0YXJ0RGF0ZVBsYWNlaG9sZGVyVGV4dDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zdHJpbmcsXG4gIGlzU3RhcnREYXRlRm9jdXNlZDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ib29sLFxuXG4gIGVuZERhdGU6IF9yZWFjdE1vbWVudFByb3B0eXBlczJbJ2RlZmF1bHQnXS5tb21lbnRPYmosXG4gIGVuZERhdGVJZDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zdHJpbmcsXG4gIGVuZERhdGVQbGFjZWhvbGRlclRleHQ6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uc3RyaW5nLFxuICBpc0VuZERhdGVGb2N1c2VkOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmJvb2wsXG5cbiAgc2NyZWVuUmVhZGVyTWVzc2FnZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zdHJpbmcsXG4gIHNob3dDbGVhckRhdGVzOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmJvb2wsXG4gIHNob3dDYXJldDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ib29sLFxuICBzaG93RGVmYXVsdElucHV0SWNvbjogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ib29sLFxuICBpbnB1dEljb25Qb3NpdGlvbjogX0ljb25Qb3NpdGlvblNoYXBlMlsnZGVmYXVsdCddLFxuICBkaXNhYmxlZDogX0Rpc2FibGVkU2hhcGUyWydkZWZhdWx0J10sXG4gIHJlcXVpcmVkOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmJvb2wsXG4gIHJlYWRPbmx5OiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmJvb2wsXG4gIG9wZW5EaXJlY3Rpb246IF9PcGVuRGlyZWN0aW9uU2hhcGUyWydkZWZhdWx0J10sXG4gIG5vQm9yZGVyOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmJvb2wsXG4gIGJsb2NrOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmJvb2wsXG4gIHNtYWxsOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmJvb2wsXG4gIHJlZ3VsYXI6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbCxcbiAgdmVydGljYWxTcGFjaW5nOiBfYWlyYm5iUHJvcFR5cGVzLm5vbk5lZ2F0aXZlSW50ZWdlcixcblxuICBrZWVwT3Blbk9uRGF0ZVNlbGVjdDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ib29sLFxuICByZW9wZW5QaWNrZXJPbkNsZWFyRGF0ZXM6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbCxcbiAgd2l0aEZ1bGxTY3JlZW5Qb3J0YWw6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbCxcbiAgbWluaW11bU5pZ2h0czogX2FpcmJuYlByb3BUeXBlcy5ub25OZWdhdGl2ZUludGVnZXIsXG4gIGlzT3V0c2lkZVJhbmdlOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsXG4gIGRpc3BsYXlGb3JtYXQ6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10ub25lT2ZUeXBlKFtfcHJvcFR5cGVzMlsnZGVmYXVsdCddLnN0cmluZywgX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jXSksXG5cbiAgb25Gb2N1c0NoYW5nZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuICBvbkNsb3NlOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsXG4gIG9uRGF0ZXNDaGFuZ2U6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYyxcbiAgb25LZXlEb3duQXJyb3dEb3duOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsXG4gIG9uS2V5RG93blF1ZXN0aW9uTWFyazogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuXG4gIGN1c3RvbUlucHV0SWNvbjogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ub2RlLFxuICBjdXN0b21BcnJvd0ljb246IF9wcm9wVHlwZXMyWydkZWZhdWx0J10ubm9kZSxcbiAgY3VzdG9tQ2xvc2VJY29uOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLm5vZGUsXG5cbiAgLy8gYWNjZXNzaWJpbGl0eVxuICBpc0ZvY3VzZWQ6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbCxcblxuICAvLyBpMThuXG4gIHBocmFzZXM6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uc2hhcGUoKDAsIF9nZXRQaHJhc2VQcm9wVHlwZXMyWydkZWZhdWx0J10pKF9kZWZhdWx0UGhyYXNlcy5EYXRlUmFuZ2VQaWNrZXJJbnB1dFBocmFzZXMpKSxcblxuICBpc1JUTDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ib29sXG59KTtcblxudmFyIGRlZmF1bHRQcm9wcyA9IHtcbiAgc3RhcnREYXRlOiBudWxsLFxuICBzdGFydERhdGVJZDogX2NvbnN0YW50cy5TVEFSVF9EQVRFLFxuICBzdGFydERhdGVQbGFjZWhvbGRlclRleHQ6ICdTdGFydCBEYXRlJyxcbiAgaXNTdGFydERhdGVGb2N1c2VkOiBmYWxzZSxcblxuICBlbmREYXRlOiBudWxsLFxuICBlbmREYXRlSWQ6IF9jb25zdGFudHMuRU5EX0RBVEUsXG4gIGVuZERhdGVQbGFjZWhvbGRlclRleHQ6ICdFbmQgRGF0ZScsXG4gIGlzRW5kRGF0ZUZvY3VzZWQ6IGZhbHNlLFxuXG4gIHNjcmVlblJlYWRlck1lc3NhZ2U6ICcnLFxuICBzaG93Q2xlYXJEYXRlczogZmFsc2UsXG4gIHNob3dDYXJldDogZmFsc2UsXG4gIHNob3dEZWZhdWx0SW5wdXRJY29uOiBmYWxzZSxcbiAgaW5wdXRJY29uUG9zaXRpb246IF9jb25zdGFudHMuSUNPTl9CRUZPUkVfUE9TSVRJT04sXG4gIGRpc2FibGVkOiBmYWxzZSxcbiAgcmVxdWlyZWQ6IGZhbHNlLFxuICByZWFkT25seTogZmFsc2UsXG4gIG9wZW5EaXJlY3Rpb246IF9jb25zdGFudHMuT1BFTl9ET1dOLFxuICBub0JvcmRlcjogZmFsc2UsXG4gIGJsb2NrOiBmYWxzZSxcbiAgc21hbGw6IGZhbHNlLFxuICByZWd1bGFyOiBmYWxzZSxcbiAgdmVydGljYWxTcGFjaW5nOiB1bmRlZmluZWQsXG5cbiAga2VlcE9wZW5PbkRhdGVTZWxlY3Q6IGZhbHNlLFxuICByZW9wZW5QaWNrZXJPbkNsZWFyRGF0ZXM6IGZhbHNlLFxuICB3aXRoRnVsbFNjcmVlblBvcnRhbDogZmFsc2UsXG4gIG1pbmltdW1OaWdodHM6IDEsXG4gIGlzT3V0c2lkZVJhbmdlOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gaXNPdXRzaWRlUmFuZ2UoZGF5KSB7XG4gICAgICByZXR1cm4gISgwLCBfaXNJbmNsdXNpdmVseUFmdGVyRGF5MlsnZGVmYXVsdCddKShkYXksICgwLCBfbW9tZW50MlsnZGVmYXVsdCddKSgpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gaXNPdXRzaWRlUmFuZ2U7XG4gIH0oKSxcbiAgZGlzcGxheUZvcm1hdDogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGRpc3BsYXlGb3JtYXQoKSB7XG4gICAgICByZXR1cm4gX21vbWVudDJbJ2RlZmF1bHQnXS5sb2NhbGVEYXRhKCkubG9uZ0RhdGVGb3JtYXQoJ0wnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGlzcGxheUZvcm1hdDtcbiAgfSgpLFxuXG4gIG9uRm9jdXNDaGFuZ2U6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBvbkZvY3VzQ2hhbmdlKCkge31cblxuICAgIHJldHVybiBvbkZvY3VzQ2hhbmdlO1xuICB9KCksXG4gIG9uQ2xvc2U6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBvbkNsb3NlKCkge31cblxuICAgIHJldHVybiBvbkNsb3NlO1xuICB9KCksXG4gIG9uRGF0ZXNDaGFuZ2U6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBvbkRhdGVzQ2hhbmdlKCkge31cblxuICAgIHJldHVybiBvbkRhdGVzQ2hhbmdlO1xuICB9KCksXG4gIG9uS2V5RG93bkFycm93RG93bjogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIG9uS2V5RG93bkFycm93RG93bigpIHt9XG5cbiAgICByZXR1cm4gb25LZXlEb3duQXJyb3dEb3duO1xuICB9KCksXG4gIG9uS2V5RG93blF1ZXN0aW9uTWFyazogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIG9uS2V5RG93blF1ZXN0aW9uTWFyaygpIHt9XG5cbiAgICByZXR1cm4gb25LZXlEb3duUXVlc3Rpb25NYXJrO1xuICB9KCksXG5cblxuICBjdXN0b21JbnB1dEljb246IG51bGwsXG4gIGN1c3RvbUFycm93SWNvbjogbnVsbCxcbiAgY3VzdG9tQ2xvc2VJY29uOiBudWxsLFxuXG4gIC8vIGFjY2Vzc2liaWxpdHlcbiAgaXNGb2N1c2VkOiBmYWxzZSxcblxuICAvLyBpMThuXG4gIHBocmFzZXM6IF9kZWZhdWx0UGhyYXNlcy5EYXRlUmFuZ2VQaWNrZXJJbnB1dFBocmFzZXMsXG5cbiAgaXNSVEw6IGZhbHNlXG59O1xuXG52YXIgRGF0ZVJhbmdlUGlja2VySW5wdXRDb250cm9sbGVyID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKERhdGVSYW5nZVBpY2tlcklucHV0Q29udHJvbGxlciwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gRGF0ZVJhbmdlUGlja2VySW5wdXRDb250cm9sbGVyKHByb3BzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERhdGVSYW5nZVBpY2tlcklucHV0Q29udHJvbGxlcik7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoRGF0ZVJhbmdlUGlja2VySW5wdXRDb250cm9sbGVyLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoRGF0ZVJhbmdlUGlja2VySW5wdXRDb250cm9sbGVyKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgX3RoaXMub25DbGVhckZvY3VzID0gX3RoaXMub25DbGVhckZvY3VzLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLm9uU3RhcnREYXRlQ2hhbmdlID0gX3RoaXMub25TdGFydERhdGVDaGFuZ2UuYmluZChfdGhpcyk7XG4gICAgX3RoaXMub25TdGFydERhdGVGb2N1cyA9IF90aGlzLm9uU3RhcnREYXRlRm9jdXMuYmluZChfdGhpcyk7XG4gICAgX3RoaXMub25FbmREYXRlQ2hhbmdlID0gX3RoaXMub25FbmREYXRlQ2hhbmdlLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLm9uRW5kRGF0ZUZvY3VzID0gX3RoaXMub25FbmREYXRlRm9jdXMuYmluZChfdGhpcyk7XG4gICAgX3RoaXMuY2xlYXJEYXRlcyA9IF90aGlzLmNsZWFyRGF0ZXMuYmluZChfdGhpcyk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKERhdGVSYW5nZVBpY2tlcklucHV0Q29udHJvbGxlciwgW3tcbiAgICBrZXk6ICdvbkNsZWFyRm9jdXMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBvbkNsZWFyRm9jdXMoKSB7XG4gICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgb25Gb2N1c0NoYW5nZSA9IF9wcm9wcy5vbkZvY3VzQ2hhbmdlLFxuICAgICAgICAgICAgb25DbG9zZSA9IF9wcm9wcy5vbkNsb3NlLFxuICAgICAgICAgICAgc3RhcnREYXRlID0gX3Byb3BzLnN0YXJ0RGF0ZSxcbiAgICAgICAgICAgIGVuZERhdGUgPSBfcHJvcHMuZW5kRGF0ZTtcblxuXG4gICAgICAgIG9uRm9jdXNDaGFuZ2UobnVsbCk7XG4gICAgICAgIG9uQ2xvc2UoeyBzdGFydERhdGU6IHN0YXJ0RGF0ZSwgZW5kRGF0ZTogZW5kRGF0ZSB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9uQ2xlYXJGb2N1cztcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ29uRW5kRGF0ZUNoYW5nZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIG9uRW5kRGF0ZUNoYW5nZShlbmREYXRlU3RyaW5nKSB7XG4gICAgICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIHN0YXJ0RGF0ZSA9IF9wcm9wczIuc3RhcnREYXRlLFxuICAgICAgICAgICAgaXNPdXRzaWRlUmFuZ2UgPSBfcHJvcHMyLmlzT3V0c2lkZVJhbmdlLFxuICAgICAgICAgICAgbWluaW11bU5pZ2h0cyA9IF9wcm9wczIubWluaW11bU5pZ2h0cyxcbiAgICAgICAgICAgIGtlZXBPcGVuT25EYXRlU2VsZWN0ID0gX3Byb3BzMi5rZWVwT3Blbk9uRGF0ZVNlbGVjdCxcbiAgICAgICAgICAgIG9uRGF0ZXNDaGFuZ2UgPSBfcHJvcHMyLm9uRGF0ZXNDaGFuZ2U7XG5cblxuICAgICAgICB2YXIgZW5kRGF0ZSA9ICgwLCBfdG9Nb21lbnRPYmplY3QyWydkZWZhdWx0J10pKGVuZERhdGVTdHJpbmcsIHRoaXMuZ2V0RGlzcGxheUZvcm1hdCgpKTtcblxuICAgICAgICB2YXIgaXNFbmREYXRlVmFsaWQgPSBlbmREYXRlICYmICFpc091dHNpZGVSYW5nZShlbmREYXRlKSAmJiAhKHN0YXJ0RGF0ZSAmJiAoMCwgX2lzQmVmb3JlRGF5MlsnZGVmYXVsdCddKShlbmREYXRlLCBzdGFydERhdGUuY2xvbmUoKS5hZGQobWluaW11bU5pZ2h0cywgJ2RheXMnKSkpO1xuICAgICAgICBpZiAoaXNFbmREYXRlVmFsaWQpIHtcbiAgICAgICAgICBvbkRhdGVzQ2hhbmdlKHsgc3RhcnREYXRlOiBzdGFydERhdGUsIGVuZERhdGU6IGVuZERhdGUgfSk7XG4gICAgICAgICAgaWYgKCFrZWVwT3Blbk9uRGF0ZVNlbGVjdCkgdGhpcy5vbkNsZWFyRm9jdXMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvbkRhdGVzQ2hhbmdlKHtcbiAgICAgICAgICAgIHN0YXJ0RGF0ZTogc3RhcnREYXRlLFxuICAgICAgICAgICAgZW5kRGF0ZTogbnVsbFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvbkVuZERhdGVDaGFuZ2U7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdvbkVuZERhdGVGb2N1cycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIG9uRW5kRGF0ZUZvY3VzKCkge1xuICAgICAgICB2YXIgX3Byb3BzMyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBzdGFydERhdGUgPSBfcHJvcHMzLnN0YXJ0RGF0ZSxcbiAgICAgICAgICAgIG9uRm9jdXNDaGFuZ2UgPSBfcHJvcHMzLm9uRm9jdXNDaGFuZ2UsXG4gICAgICAgICAgICB3aXRoRnVsbFNjcmVlblBvcnRhbCA9IF9wcm9wczMud2l0aEZ1bGxTY3JlZW5Qb3J0YWwsXG4gICAgICAgICAgICBkaXNhYmxlZCA9IF9wcm9wczMuZGlzYWJsZWQ7XG5cblxuICAgICAgICBpZiAoIXN0YXJ0RGF0ZSAmJiB3aXRoRnVsbFNjcmVlblBvcnRhbCAmJiAoIWRpc2FibGVkIHx8IGRpc2FibGVkID09PSBfY29uc3RhbnRzLkVORF9EQVRFKSkge1xuICAgICAgICAgIC8vIFdoZW4gdGhlIGRhdGVwaWNrZXIgaXMgZnVsbCBzY3JlZW4sIHdlIG5ldmVyIHdhbnQgdG8gZm9jdXMgdGhlIGVuZCBkYXRlIGZpcnN0XG4gICAgICAgICAgLy8gYmVjYXVzZSB0aGVyZSdzIG5vIGluZGljYXRpb24gdGhhdCB0aGF0IGlzIHRoZSBjYXNlIG9uY2UgdGhlIGRhdGVwaWNrZXIgaXMgb3BlbiBhbmQgaXRcbiAgICAgICAgICAvLyBtaWdodCBjb25mdXNlIHRoZSB1c2VyXG4gICAgICAgICAgb25Gb2N1c0NoYW5nZShfY29uc3RhbnRzLlNUQVJUX0RBVEUpO1xuICAgICAgICB9IGVsc2UgaWYgKCFkaXNhYmxlZCB8fCBkaXNhYmxlZCA9PT0gX2NvbnN0YW50cy5TVEFSVF9EQVRFKSB7XG4gICAgICAgICAgb25Gb2N1c0NoYW5nZShfY29uc3RhbnRzLkVORF9EQVRFKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gb25FbmREYXRlRm9jdXM7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdvblN0YXJ0RGF0ZUNoYW5nZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIG9uU3RhcnREYXRlQ2hhbmdlKHN0YXJ0RGF0ZVN0cmluZykge1xuICAgICAgICB2YXIgZW5kRGF0ZSA9IHRoaXMucHJvcHMuZW5kRGF0ZTtcbiAgICAgICAgdmFyIF9wcm9wczQgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgaXNPdXRzaWRlUmFuZ2UgPSBfcHJvcHM0LmlzT3V0c2lkZVJhbmdlLFxuICAgICAgICAgICAgbWluaW11bU5pZ2h0cyA9IF9wcm9wczQubWluaW11bU5pZ2h0cyxcbiAgICAgICAgICAgIG9uRGF0ZXNDaGFuZ2UgPSBfcHJvcHM0Lm9uRGF0ZXNDaGFuZ2UsXG4gICAgICAgICAgICBvbkZvY3VzQ2hhbmdlID0gX3Byb3BzNC5vbkZvY3VzQ2hhbmdlLFxuICAgICAgICAgICAgZGlzYWJsZWQgPSBfcHJvcHM0LmRpc2FibGVkO1xuXG5cbiAgICAgICAgdmFyIHN0YXJ0RGF0ZSA9ICgwLCBfdG9Nb21lbnRPYmplY3QyWydkZWZhdWx0J10pKHN0YXJ0RGF0ZVN0cmluZywgdGhpcy5nZXREaXNwbGF5Rm9ybWF0KCkpO1xuICAgICAgICB2YXIgaXNFbmREYXRlQmVmb3JlU3RhcnREYXRlID0gc3RhcnREYXRlICYmICgwLCBfaXNCZWZvcmVEYXkyWydkZWZhdWx0J10pKGVuZERhdGUsIHN0YXJ0RGF0ZS5jbG9uZSgpLmFkZChtaW5pbXVtTmlnaHRzLCAnZGF5cycpKTtcbiAgICAgICAgdmFyIGlzU3RhcnREYXRlVmFsaWQgPSBzdGFydERhdGUgJiYgIWlzT3V0c2lkZVJhbmdlKHN0YXJ0RGF0ZSkgJiYgIShkaXNhYmxlZCA9PT0gX2NvbnN0YW50cy5FTkRfREFURSAmJiBpc0VuZERhdGVCZWZvcmVTdGFydERhdGUpO1xuXG4gICAgICAgIGlmIChpc1N0YXJ0RGF0ZVZhbGlkKSB7XG4gICAgICAgICAgaWYgKGlzRW5kRGF0ZUJlZm9yZVN0YXJ0RGF0ZSkge1xuICAgICAgICAgICAgZW5kRGF0ZSA9IG51bGw7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgb25EYXRlc0NoYW5nZSh7IHN0YXJ0RGF0ZTogc3RhcnREYXRlLCBlbmREYXRlOiBlbmREYXRlIH0pO1xuICAgICAgICAgIG9uRm9jdXNDaGFuZ2UoX2NvbnN0YW50cy5FTkRfREFURSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb25EYXRlc0NoYW5nZSh7XG4gICAgICAgICAgICBzdGFydERhdGU6IG51bGwsXG4gICAgICAgICAgICBlbmREYXRlOiBlbmREYXRlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9uU3RhcnREYXRlQ2hhbmdlO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnb25TdGFydERhdGVGb2N1cycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIG9uU3RhcnREYXRlRm9jdXMoKSB7XG4gICAgICAgIHZhciBfcHJvcHM1ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIGRpc2FibGVkID0gX3Byb3BzNS5kaXNhYmxlZCxcbiAgICAgICAgICAgIG9uRm9jdXNDaGFuZ2UgPSBfcHJvcHM1Lm9uRm9jdXNDaGFuZ2U7XG5cbiAgICAgICAgaWYgKCFkaXNhYmxlZCB8fCBkaXNhYmxlZCA9PT0gX2NvbnN0YW50cy5FTkRfREFURSkge1xuICAgICAgICAgIG9uRm9jdXNDaGFuZ2UoX2NvbnN0YW50cy5TVEFSVF9EQVRFKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gb25TdGFydERhdGVGb2N1cztcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ2dldERpc3BsYXlGb3JtYXQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBnZXREaXNwbGF5Rm9ybWF0KCkge1xuICAgICAgICB2YXIgZGlzcGxheUZvcm1hdCA9IHRoaXMucHJvcHMuZGlzcGxheUZvcm1hdDtcblxuICAgICAgICByZXR1cm4gdHlwZW9mIGRpc3BsYXlGb3JtYXQgPT09ICdzdHJpbmcnID8gZGlzcGxheUZvcm1hdCA6IGRpc3BsYXlGb3JtYXQoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldERpc3BsYXlGb3JtYXQ7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdnZXREYXRlU3RyaW5nJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gZ2V0RGF0ZVN0cmluZyhkYXRlKSB7XG4gICAgICAgIHZhciBkaXNwbGF5Rm9ybWF0ID0gdGhpcy5nZXREaXNwbGF5Rm9ybWF0KCk7XG4gICAgICAgIGlmIChkYXRlICYmIGRpc3BsYXlGb3JtYXQpIHtcbiAgICAgICAgICByZXR1cm4gZGF0ZSAmJiBkYXRlLmZvcm1hdChkaXNwbGF5Rm9ybWF0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKDAsIF90b0xvY2FsaXplZERhdGVTdHJpbmcyWydkZWZhdWx0J10pKGRhdGUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0RGF0ZVN0cmluZztcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ2NsZWFyRGF0ZXMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBjbGVhckRhdGVzKCkge1xuICAgICAgICB2YXIgX3Byb3BzNiA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBvbkRhdGVzQ2hhbmdlID0gX3Byb3BzNi5vbkRhdGVzQ2hhbmdlLFxuICAgICAgICAgICAgcmVvcGVuUGlja2VyT25DbGVhckRhdGVzID0gX3Byb3BzNi5yZW9wZW5QaWNrZXJPbkNsZWFyRGF0ZXMsXG4gICAgICAgICAgICBvbkZvY3VzQ2hhbmdlID0gX3Byb3BzNi5vbkZvY3VzQ2hhbmdlO1xuXG4gICAgICAgIG9uRGF0ZXNDaGFuZ2UoeyBzdGFydERhdGU6IG51bGwsIGVuZERhdGU6IG51bGwgfSk7XG4gICAgICAgIGlmIChyZW9wZW5QaWNrZXJPbkNsZWFyRGF0ZXMpIHtcbiAgICAgICAgICBvbkZvY3VzQ2hhbmdlKF9jb25zdGFudHMuU1RBUlRfREFURSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNsZWFyRGF0ZXM7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHZhciBfcHJvcHM3ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIHN0YXJ0RGF0ZSA9IF9wcm9wczcuc3RhcnREYXRlLFxuICAgICAgICAgICAgc3RhcnREYXRlSWQgPSBfcHJvcHM3LnN0YXJ0RGF0ZUlkLFxuICAgICAgICAgICAgc3RhcnREYXRlUGxhY2Vob2xkZXJUZXh0ID0gX3Byb3BzNy5zdGFydERhdGVQbGFjZWhvbGRlclRleHQsXG4gICAgICAgICAgICBpc1N0YXJ0RGF0ZUZvY3VzZWQgPSBfcHJvcHM3LmlzU3RhcnREYXRlRm9jdXNlZCxcbiAgICAgICAgICAgIGVuZERhdGUgPSBfcHJvcHM3LmVuZERhdGUsXG4gICAgICAgICAgICBlbmREYXRlSWQgPSBfcHJvcHM3LmVuZERhdGVJZCxcbiAgICAgICAgICAgIGVuZERhdGVQbGFjZWhvbGRlclRleHQgPSBfcHJvcHM3LmVuZERhdGVQbGFjZWhvbGRlclRleHQsXG4gICAgICAgICAgICBpc0VuZERhdGVGb2N1c2VkID0gX3Byb3BzNy5pc0VuZERhdGVGb2N1c2VkLFxuICAgICAgICAgICAgc2NyZWVuUmVhZGVyTWVzc2FnZSA9IF9wcm9wczcuc2NyZWVuUmVhZGVyTWVzc2FnZSxcbiAgICAgICAgICAgIHNob3dDbGVhckRhdGVzID0gX3Byb3BzNy5zaG93Q2xlYXJEYXRlcyxcbiAgICAgICAgICAgIHNob3dDYXJldCA9IF9wcm9wczcuc2hvd0NhcmV0LFxuICAgICAgICAgICAgc2hvd0RlZmF1bHRJbnB1dEljb24gPSBfcHJvcHM3LnNob3dEZWZhdWx0SW5wdXRJY29uLFxuICAgICAgICAgICAgaW5wdXRJY29uUG9zaXRpb24gPSBfcHJvcHM3LmlucHV0SWNvblBvc2l0aW9uLFxuICAgICAgICAgICAgY3VzdG9tSW5wdXRJY29uID0gX3Byb3BzNy5jdXN0b21JbnB1dEljb24sXG4gICAgICAgICAgICBjdXN0b21BcnJvd0ljb24gPSBfcHJvcHM3LmN1c3RvbUFycm93SWNvbixcbiAgICAgICAgICAgIGN1c3RvbUNsb3NlSWNvbiA9IF9wcm9wczcuY3VzdG9tQ2xvc2VJY29uLFxuICAgICAgICAgICAgZGlzYWJsZWQgPSBfcHJvcHM3LmRpc2FibGVkLFxuICAgICAgICAgICAgcmVxdWlyZWQgPSBfcHJvcHM3LnJlcXVpcmVkLFxuICAgICAgICAgICAgcmVhZE9ubHkgPSBfcHJvcHM3LnJlYWRPbmx5LFxuICAgICAgICAgICAgb3BlbkRpcmVjdGlvbiA9IF9wcm9wczcub3BlbkRpcmVjdGlvbixcbiAgICAgICAgICAgIGlzRm9jdXNlZCA9IF9wcm9wczcuaXNGb2N1c2VkLFxuICAgICAgICAgICAgcGhyYXNlcyA9IF9wcm9wczcucGhyYXNlcyxcbiAgICAgICAgICAgIG9uS2V5RG93bkFycm93RG93biA9IF9wcm9wczcub25LZXlEb3duQXJyb3dEb3duLFxuICAgICAgICAgICAgb25LZXlEb3duUXVlc3Rpb25NYXJrID0gX3Byb3BzNy5vbktleURvd25RdWVzdGlvbk1hcmssXG4gICAgICAgICAgICBpc1JUTCA9IF9wcm9wczcuaXNSVEwsXG4gICAgICAgICAgICBub0JvcmRlciA9IF9wcm9wczcubm9Cb3JkZXIsXG4gICAgICAgICAgICBibG9jayA9IF9wcm9wczcuYmxvY2ssXG4gICAgICAgICAgICBzbWFsbCA9IF9wcm9wczcuc21hbGwsXG4gICAgICAgICAgICByZWd1bGFyID0gX3Byb3BzNy5yZWd1bGFyLFxuICAgICAgICAgICAgdmVydGljYWxTcGFjaW5nID0gX3Byb3BzNy52ZXJ0aWNhbFNwYWNpbmc7XG5cblxuICAgICAgICB2YXIgc3RhcnREYXRlU3RyaW5nID0gdGhpcy5nZXREYXRlU3RyaW5nKHN0YXJ0RGF0ZSk7XG4gICAgICAgIHZhciBlbmREYXRlU3RyaW5nID0gdGhpcy5nZXREYXRlU3RyaW5nKGVuZERhdGUpO1xuXG4gICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChfRGF0ZVJhbmdlUGlja2VySW5wdXQyWydkZWZhdWx0J10sIHtcbiAgICAgICAgICBzdGFydERhdGU6IHN0YXJ0RGF0ZVN0cmluZyxcbiAgICAgICAgICBzdGFydERhdGVJZDogc3RhcnREYXRlSWQsXG4gICAgICAgICAgc3RhcnREYXRlUGxhY2Vob2xkZXJUZXh0OiBzdGFydERhdGVQbGFjZWhvbGRlclRleHQsXG4gICAgICAgICAgaXNTdGFydERhdGVGb2N1c2VkOiBpc1N0YXJ0RGF0ZUZvY3VzZWQsXG4gICAgICAgICAgZW5kRGF0ZTogZW5kRGF0ZVN0cmluZyxcbiAgICAgICAgICBlbmREYXRlSWQ6IGVuZERhdGVJZCxcbiAgICAgICAgICBlbmREYXRlUGxhY2Vob2xkZXJUZXh0OiBlbmREYXRlUGxhY2Vob2xkZXJUZXh0LFxuICAgICAgICAgIGlzRW5kRGF0ZUZvY3VzZWQ6IGlzRW5kRGF0ZUZvY3VzZWQsXG4gICAgICAgICAgaXNGb2N1c2VkOiBpc0ZvY3VzZWQsXG4gICAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgICAgICAgIHJlcXVpcmVkOiByZXF1aXJlZCxcbiAgICAgICAgICByZWFkT25seTogcmVhZE9ubHksXG4gICAgICAgICAgb3BlbkRpcmVjdGlvbjogb3BlbkRpcmVjdGlvbixcbiAgICAgICAgICBzaG93Q2FyZXQ6IHNob3dDYXJldCxcbiAgICAgICAgICBzaG93RGVmYXVsdElucHV0SWNvbjogc2hvd0RlZmF1bHRJbnB1dEljb24sXG4gICAgICAgICAgaW5wdXRJY29uUG9zaXRpb246IGlucHV0SWNvblBvc2l0aW9uLFxuICAgICAgICAgIGN1c3RvbUlucHV0SWNvbjogY3VzdG9tSW5wdXRJY29uLFxuICAgICAgICAgIGN1c3RvbUFycm93SWNvbjogY3VzdG9tQXJyb3dJY29uLFxuICAgICAgICAgIGN1c3RvbUNsb3NlSWNvbjogY3VzdG9tQ2xvc2VJY29uLFxuICAgICAgICAgIHBocmFzZXM6IHBocmFzZXMsXG4gICAgICAgICAgb25TdGFydERhdGVDaGFuZ2U6IHRoaXMub25TdGFydERhdGVDaGFuZ2UsXG4gICAgICAgICAgb25TdGFydERhdGVGb2N1czogdGhpcy5vblN0YXJ0RGF0ZUZvY3VzLFxuICAgICAgICAgIG9uU3RhcnREYXRlU2hpZnRUYWI6IHRoaXMub25DbGVhckZvY3VzLFxuICAgICAgICAgIG9uRW5kRGF0ZUNoYW5nZTogdGhpcy5vbkVuZERhdGVDaGFuZ2UsXG4gICAgICAgICAgb25FbmREYXRlRm9jdXM6IHRoaXMub25FbmREYXRlRm9jdXMsXG4gICAgICAgICAgb25FbmREYXRlVGFiOiB0aGlzLm9uQ2xlYXJGb2N1cyxcbiAgICAgICAgICBzaG93Q2xlYXJEYXRlczogc2hvd0NsZWFyRGF0ZXMsXG4gICAgICAgICAgb25DbGVhckRhdGVzOiB0aGlzLmNsZWFyRGF0ZXMsXG4gICAgICAgICAgc2NyZWVuUmVhZGVyTWVzc2FnZTogc2NyZWVuUmVhZGVyTWVzc2FnZSxcbiAgICAgICAgICBvbktleURvd25BcnJvd0Rvd246IG9uS2V5RG93bkFycm93RG93bixcbiAgICAgICAgICBvbktleURvd25RdWVzdGlvbk1hcms6IG9uS2V5RG93blF1ZXN0aW9uTWFyayxcbiAgICAgICAgICBpc1JUTDogaXNSVEwsXG4gICAgICAgICAgbm9Cb3JkZXI6IG5vQm9yZGVyLFxuICAgICAgICAgIGJsb2NrOiBibG9jayxcbiAgICAgICAgICBzbWFsbDogc21hbGwsXG4gICAgICAgICAgcmVndWxhcjogcmVndWxhcixcbiAgICAgICAgICB2ZXJ0aWNhbFNwYWNpbmc6IHZlcnRpY2FsU3BhY2luZ1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlbmRlcjtcbiAgICB9KClcbiAgfV0pO1xuXG4gIHJldHVybiBEYXRlUmFuZ2VQaWNrZXJJbnB1dENvbnRyb2xsZXI7XG59KF9yZWFjdDJbJ2RlZmF1bHQnXS5Db21wb25lbnQpO1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBEYXRlUmFuZ2VQaWNrZXJJbnB1dENvbnRyb2xsZXI7XG5cblxuRGF0ZVJhbmdlUGlja2VySW5wdXRDb250cm9sbGVyLnByb3BUeXBlcyA9IHByb3BUeXBlcztcbkRhdGVSYW5nZVBpY2tlcklucHV0Q29udHJvbGxlci5kZWZhdWx0UHJvcHMgPSBkZWZhdWx0UHJvcHM7IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5QdXJlRGF5UGlja2VyID0gZXhwb3J0cy5kZWZhdWx0UHJvcHMgPSB1bmRlZmluZWQ7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfb2JqZWN0ID0gcmVxdWlyZSgnb2JqZWN0LmFzc2lnbicpO1xuXG52YXIgX29iamVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3QpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX3JlYWN0QWRkb25zU2hhbGxvd0NvbXBhcmUgPSByZXF1aXJlKCdyZWFjdC1hZGRvbnMtc2hhbGxvdy1jb21wYXJlJyk7XG5cbnZhciBfcmVhY3RBZGRvbnNTaGFsbG93Q29tcGFyZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdEFkZG9uc1NoYWxsb3dDb21wYXJlKTtcblxudmFyIF9haXJibmJQcm9wVHlwZXMgPSByZXF1aXJlKCdhaXJibmItcHJvcC10eXBlcycpO1xuXG52YXIgX3JlYWN0V2l0aFN0eWxlcyA9IHJlcXVpcmUoJ3JlYWN0LXdpdGgtc3R5bGVzJyk7XG5cbnZhciBfbW9tZW50ID0gcmVxdWlyZSgnbW9tZW50Jyk7XG5cbnZhciBfbW9tZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21vbWVudCk7XG5cbnZhciBfdGhyb3R0bGUgPSByZXF1aXJlKCdsb2Rhc2gvdGhyb3R0bGUnKTtcblxudmFyIF90aHJvdHRsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90aHJvdHRsZSk7XG5cbnZhciBfaXNUb3VjaERldmljZSA9IHJlcXVpcmUoJ2lzLXRvdWNoLWRldmljZScpO1xuXG52YXIgX2lzVG91Y2hEZXZpY2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNUb3VjaERldmljZSk7XG5cbnZhciBfcmVhY3RPdXRzaWRlQ2xpY2tIYW5kbGVyID0gcmVxdWlyZSgncmVhY3Qtb3V0c2lkZS1jbGljay1oYW5kbGVyJyk7XG5cbnZhciBfcmVhY3RPdXRzaWRlQ2xpY2tIYW5kbGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0T3V0c2lkZUNsaWNrSGFuZGxlcik7XG5cbnZhciBfZGVmYXVsdFBocmFzZXMgPSByZXF1aXJlKCcuLi9kZWZhdWx0UGhyYXNlcycpO1xuXG52YXIgX2dldFBocmFzZVByb3BUeXBlcyA9IHJlcXVpcmUoJy4uL3V0aWxzL2dldFBocmFzZVByb3BUeXBlcycpO1xuXG52YXIgX2dldFBocmFzZVByb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQaHJhc2VQcm9wVHlwZXMpO1xuXG52YXIgX0NhbGVuZGFyTW9udGhHcmlkID0gcmVxdWlyZSgnLi9DYWxlbmRhck1vbnRoR3JpZCcpO1xuXG52YXIgX0NhbGVuZGFyTW9udGhHcmlkMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbGVuZGFyTW9udGhHcmlkKTtcblxudmFyIF9EYXlQaWNrZXJOYXZpZ2F0aW9uID0gcmVxdWlyZSgnLi9EYXlQaWNrZXJOYXZpZ2F0aW9uJyk7XG5cbnZhciBfRGF5UGlja2VyTmF2aWdhdGlvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EYXlQaWNrZXJOYXZpZ2F0aW9uKTtcblxudmFyIF9EYXlQaWNrZXJLZXlib2FyZFNob3J0Y3V0cyA9IHJlcXVpcmUoJy4vRGF5UGlja2VyS2V5Ym9hcmRTaG9ydGN1dHMnKTtcblxudmFyIF9EYXlQaWNrZXJLZXlib2FyZFNob3J0Y3V0czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EYXlQaWNrZXJLZXlib2FyZFNob3J0Y3V0cyk7XG5cbnZhciBfZ2V0TnVtYmVyT2ZDYWxlbmRhck1vbnRoV2Vla3MgPSByZXF1aXJlKCcuLi91dGlscy9nZXROdW1iZXJPZkNhbGVuZGFyTW9udGhXZWVrcycpO1xuXG52YXIgX2dldE51bWJlck9mQ2FsZW5kYXJNb250aFdlZWtzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldE51bWJlck9mQ2FsZW5kYXJNb250aFdlZWtzKTtcblxudmFyIF9nZXRDYWxlbmRhck1vbnRoV2lkdGggPSByZXF1aXJlKCcuLi91dGlscy9nZXRDYWxlbmRhck1vbnRoV2lkdGgnKTtcblxudmFyIF9nZXRDYWxlbmRhck1vbnRoV2lkdGgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0Q2FsZW5kYXJNb250aFdpZHRoKTtcblxudmFyIF9jYWxjdWxhdGVEaW1lbnNpb24gPSByZXF1aXJlKCcuLi91dGlscy9jYWxjdWxhdGVEaW1lbnNpb24nKTtcblxudmFyIF9jYWxjdWxhdGVEaW1lbnNpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY2FsY3VsYXRlRGltZW5zaW9uKTtcblxudmFyIF9nZXRBY3RpdmVFbGVtZW50ID0gcmVxdWlyZSgnLi4vdXRpbHMvZ2V0QWN0aXZlRWxlbWVudCcpO1xuXG52YXIgX2dldEFjdGl2ZUVsZW1lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0QWN0aXZlRWxlbWVudCk7XG5cbnZhciBfaXNEYXlWaXNpYmxlID0gcmVxdWlyZSgnLi4vdXRpbHMvaXNEYXlWaXNpYmxlJyk7XG5cbnZhciBfaXNEYXlWaXNpYmxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzRGF5VmlzaWJsZSk7XG5cbnZhciBfTW9kaWZpZXJzU2hhcGUgPSByZXF1aXJlKCcuLi9zaGFwZXMvTW9kaWZpZXJzU2hhcGUnKTtcblxudmFyIF9Nb2RpZmllcnNTaGFwZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Nb2RpZmllcnNTaGFwZSk7XG5cbnZhciBfU2Nyb2xsYWJsZU9yaWVudGF0aW9uU2hhcGUgPSByZXF1aXJlKCcuLi9zaGFwZXMvU2Nyb2xsYWJsZU9yaWVudGF0aW9uU2hhcGUnKTtcblxudmFyIF9TY3JvbGxhYmxlT3JpZW50YXRpb25TaGFwZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TY3JvbGxhYmxlT3JpZW50YXRpb25TaGFwZSk7XG5cbnZhciBfRGF5T2ZXZWVrU2hhcGUgPSByZXF1aXJlKCcuLi9zaGFwZXMvRGF5T2ZXZWVrU2hhcGUnKTtcblxudmFyIF9EYXlPZldlZWtTaGFwZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EYXlPZldlZWtTaGFwZSk7XG5cbnZhciBfQ2FsZW5kYXJJbmZvUG9zaXRpb25TaGFwZSA9IHJlcXVpcmUoJy4uL3NoYXBlcy9DYWxlbmRhckluZm9Qb3NpdGlvblNoYXBlJyk7XG5cbnZhciBfQ2FsZW5kYXJJbmZvUG9zaXRpb25TaGFwZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYWxlbmRhckluZm9Qb3NpdGlvblNoYXBlKTtcblxudmFyIF9jb25zdGFudHMgPSByZXF1aXJlKCcuLi9jb25zdGFudHMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgTU9OVEhfUEFERElORyA9IDIzO1xudmFyIFBSRVZfVFJBTlNJVElPTiA9ICdwcmV2JztcbnZhciBORVhUX1RSQU5TSVRJT04gPSAnbmV4dCc7XG52YXIgTU9OVEhfU0VMRUNUSU9OX1RSQU5TSVRJT04gPSAnbW9udGhfc2VsZWN0aW9uJztcbnZhciBZRUFSX1NFTEVDVElPTl9UUkFOU0lUSU9OID0gJ3llYXJfc2VsZWN0aW9uJztcblxudmFyIHByb3BUeXBlcyA9ICgwLCBfYWlyYm5iUHJvcFR5cGVzLmZvcmJpZEV4dHJhUHJvcHMpKCgwLCBfb2JqZWN0MlsnZGVmYXVsdCddKSh7fSwgX3JlYWN0V2l0aFN0eWxlcy53aXRoU3R5bGVzUHJvcFR5cGVzLCB7XG5cbiAgLy8gY2FsZW5kYXIgcHJlc2VudGF0aW9uIHByb3BzXG4gIGVuYWJsZU91dHNpZGVEYXlzOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmJvb2wsXG4gIG51bWJlck9mTW9udGhzOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLm51bWJlcixcbiAgb3JpZW50YXRpb246IF9TY3JvbGxhYmxlT3JpZW50YXRpb25TaGFwZTJbJ2RlZmF1bHQnXSxcbiAgd2l0aFBvcnRhbDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ib29sLFxuICBvbk91dHNpZGVDbGljazogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuICBoaWRkZW46IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbCxcbiAgaW5pdGlhbFZpc2libGVNb250aDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuICBmaXJzdERheU9mV2VlazogX0RheU9mV2Vla1NoYXBlMlsnZGVmYXVsdCddLFxuICByZW5kZXJDYWxlbmRhckluZm86IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYyxcbiAgY2FsZW5kYXJJbmZvUG9zaXRpb246IF9DYWxlbmRhckluZm9Qb3NpdGlvblNoYXBlMlsnZGVmYXVsdCddLFxuICBoaWRlS2V5Ym9hcmRTaG9ydGN1dHNQYW5lbDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ib29sLFxuICBkYXlTaXplOiBfYWlyYm5iUHJvcFR5cGVzLm5vbk5lZ2F0aXZlSW50ZWdlcixcbiAgaXNSVEw6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbCxcbiAgdmVydGljYWxIZWlnaHQ6IF9haXJibmJQcm9wVHlwZXMubm9uTmVnYXRpdmVJbnRlZ2VyLFxuICBub0JvcmRlcjogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ib29sLFxuICB0cmFuc2l0aW9uRHVyYXRpb246IF9haXJibmJQcm9wVHlwZXMubm9uTmVnYXRpdmVJbnRlZ2VyLFxuICB2ZXJ0aWNhbEJvcmRlclNwYWNpbmc6IF9haXJibmJQcm9wVHlwZXMubm9uTmVnYXRpdmVJbnRlZ2VyLFxuICBob3Jpem9udGFsTW9udGhQYWRkaW5nOiBfYWlyYm5iUHJvcFR5cGVzLm5vbk5lZ2F0aXZlSW50ZWdlcixcblxuICAvLyBuYXZpZ2F0aW9uIHByb3BzXG4gIG5hdlByZXY6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10ubm9kZSxcbiAgbmF2TmV4dDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ub2RlLFxuICBub05hdkJ1dHRvbnM6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbCxcbiAgb25QcmV2TW9udGhDbGljazogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuICBvbk5leHRNb250aENsaWNrOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsXG4gIG9uTW9udGhDaGFuZ2U6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYyxcbiAgb25ZZWFyQ2hhbmdlOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsXG4gIG9uTXVsdGlwbHlTY3JvbGxhYmxlTW9udGhzOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsIC8vIFZFUlRJQ0FMX1NDUk9MTEFCTEUgZGF5cGlja2VycyBvbmx5XG5cbiAgLy8gbW9udGggcHJvcHNcbiAgcmVuZGVyTW9udGhUZXh0OiAoMCwgX2FpcmJuYlByb3BUeXBlcy5tdXR1YWxseUV4Y2x1c2l2ZVByb3BzKShfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsICdyZW5kZXJNb250aFRleHQnLCAncmVuZGVyTW9udGhFbGVtZW50JyksXG4gIHJlbmRlck1vbnRoRWxlbWVudDogKDAsIF9haXJibmJQcm9wVHlwZXMubXV0dWFsbHlFeGNsdXNpdmVQcm9wcykoX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLCAncmVuZGVyTW9udGhUZXh0JywgJ3JlbmRlck1vbnRoRWxlbWVudCcpLFxuXG4gIC8vIGRheSBwcm9wc1xuICBtb2RpZmllcnM6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10ub2JqZWN0T2YoX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5vYmplY3RPZihfTW9kaWZpZXJzU2hhcGUyWydkZWZhdWx0J10pKSxcbiAgcmVuZGVyQ2FsZW5kYXJEYXk6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYyxcbiAgcmVuZGVyRGF5Q29udGVudHM6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYyxcbiAgb25EYXlDbGljazogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuICBvbkRheU1vdXNlRW50ZXI6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYyxcbiAgb25EYXlNb3VzZUxlYXZlOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsXG5cbiAgLy8gYWNjZXNzaWJpbGl0eSBwcm9wc1xuICBpc0ZvY3VzZWQ6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbCxcbiAgZ2V0Rmlyc3RGb2N1c2FibGVEYXk6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYyxcbiAgb25CbHVyOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsXG4gIHNob3dLZXlib2FyZFNob3J0Y3V0czogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ib29sLFxuXG4gIC8vIGludGVybmF0aW9uYWxpemF0aW9uXG4gIG1vbnRoRm9ybWF0OiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLnN0cmluZyxcbiAgd2Vla0RheUZvcm1hdDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zdHJpbmcsXG4gIHBocmFzZXM6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uc2hhcGUoKDAsIF9nZXRQaHJhc2VQcm9wVHlwZXMyWydkZWZhdWx0J10pKF9kZWZhdWx0UGhyYXNlcy5EYXlQaWNrZXJQaHJhc2VzKSksXG4gIGRheUFyaWFMYWJlbEZvcm1hdDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zdHJpbmdcbn0pKTtcblxudmFyIGRlZmF1bHRQcm9wcyA9IGV4cG9ydHMuZGVmYXVsdFByb3BzID0ge1xuICAvLyBjYWxlbmRhciBwcmVzZW50YXRpb24gcHJvcHNcbiAgZW5hYmxlT3V0c2lkZURheXM6IGZhbHNlLFxuICBudW1iZXJPZk1vbnRoczogMixcbiAgb3JpZW50YXRpb246IF9jb25zdGFudHMuSE9SSVpPTlRBTF9PUklFTlRBVElPTixcbiAgd2l0aFBvcnRhbDogZmFsc2UsXG4gIG9uT3V0c2lkZUNsaWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gb25PdXRzaWRlQ2xpY2soKSB7fVxuXG4gICAgcmV0dXJuIG9uT3V0c2lkZUNsaWNrO1xuICB9KCksXG5cbiAgaGlkZGVuOiBmYWxzZSxcbiAgaW5pdGlhbFZpc2libGVNb250aDogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGluaXRpYWxWaXNpYmxlTW9udGgoKSB7XG4gICAgICByZXR1cm4gKDAsIF9tb21lbnQyWydkZWZhdWx0J10pKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGluaXRpYWxWaXNpYmxlTW9udGg7XG4gIH0oKSxcbiAgZmlyc3REYXlPZldlZWs6IG51bGwsXG4gIHJlbmRlckNhbGVuZGFySW5mbzogbnVsbCxcbiAgY2FsZW5kYXJJbmZvUG9zaXRpb246IF9jb25zdGFudHMuSU5GT19QT1NJVElPTl9CT1RUT00sXG4gIGhpZGVLZXlib2FyZFNob3J0Y3V0c1BhbmVsOiBmYWxzZSxcbiAgZGF5U2l6ZTogX2NvbnN0YW50cy5EQVlfU0laRSxcbiAgaXNSVEw6IGZhbHNlLFxuICB2ZXJ0aWNhbEhlaWdodDogbnVsbCxcbiAgbm9Cb3JkZXI6IGZhbHNlLFxuICB0cmFuc2l0aW9uRHVyYXRpb246IHVuZGVmaW5lZCxcbiAgdmVydGljYWxCb3JkZXJTcGFjaW5nOiB1bmRlZmluZWQsXG4gIGhvcml6b250YWxNb250aFBhZGRpbmc6IDEzLFxuXG4gIC8vIG5hdmlnYXRpb24gcHJvcHNcbiAgbmF2UHJldjogbnVsbCxcbiAgbmF2TmV4dDogbnVsbCxcbiAgbm9OYXZCdXR0b25zOiBmYWxzZSxcbiAgb25QcmV2TW9udGhDbGljazogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIG9uUHJldk1vbnRoQ2xpY2soKSB7fVxuXG4gICAgcmV0dXJuIG9uUHJldk1vbnRoQ2xpY2s7XG4gIH0oKSxcbiAgb25OZXh0TW9udGhDbGljazogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIG9uTmV4dE1vbnRoQ2xpY2soKSB7fVxuXG4gICAgcmV0dXJuIG9uTmV4dE1vbnRoQ2xpY2s7XG4gIH0oKSxcbiAgb25Nb250aENoYW5nZTogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIG9uTW9udGhDaGFuZ2UoKSB7fVxuXG4gICAgcmV0dXJuIG9uTW9udGhDaGFuZ2U7XG4gIH0oKSxcbiAgb25ZZWFyQ2hhbmdlOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gb25ZZWFyQ2hhbmdlKCkge31cblxuICAgIHJldHVybiBvblllYXJDaGFuZ2U7XG4gIH0oKSxcbiAgb25NdWx0aXBseVNjcm9sbGFibGVNb250aHM6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBvbk11bHRpcGx5U2Nyb2xsYWJsZU1vbnRocygpIHt9XG5cbiAgICByZXR1cm4gb25NdWx0aXBseVNjcm9sbGFibGVNb250aHM7XG4gIH0oKSxcblxuXG4gIC8vIG1vbnRoIHByb3BzXG4gIHJlbmRlck1vbnRoVGV4dDogbnVsbCxcbiAgcmVuZGVyTW9udGhFbGVtZW50OiBudWxsLFxuXG4gIC8vIGRheSBwcm9wc1xuICBtb2RpZmllcnM6IHt9LFxuICByZW5kZXJDYWxlbmRhckRheTogdW5kZWZpbmVkLFxuICByZW5kZXJEYXlDb250ZW50czogbnVsbCxcbiAgb25EYXlDbGljazogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIG9uRGF5Q2xpY2soKSB7fVxuXG4gICAgcmV0dXJuIG9uRGF5Q2xpY2s7XG4gIH0oKSxcbiAgb25EYXlNb3VzZUVudGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gb25EYXlNb3VzZUVudGVyKCkge31cblxuICAgIHJldHVybiBvbkRheU1vdXNlRW50ZXI7XG4gIH0oKSxcbiAgb25EYXlNb3VzZUxlYXZlOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gb25EYXlNb3VzZUxlYXZlKCkge31cblxuICAgIHJldHVybiBvbkRheU1vdXNlTGVhdmU7XG4gIH0oKSxcblxuXG4gIC8vIGFjY2Vzc2liaWxpdHkgcHJvcHNcbiAgaXNGb2N1c2VkOiBmYWxzZSxcbiAgZ2V0Rmlyc3RGb2N1c2FibGVEYXk6IG51bGwsXG4gIG9uQmx1cjogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIG9uQmx1cigpIHt9XG5cbiAgICByZXR1cm4gb25CbHVyO1xuICB9KCksXG5cbiAgc2hvd0tleWJvYXJkU2hvcnRjdXRzOiBmYWxzZSxcblxuICAvLyBpbnRlcm5hdGlvbmFsaXphdGlvblxuICBtb250aEZvcm1hdDogJ01NTU0gWVlZWScsXG4gIHdlZWtEYXlGb3JtYXQ6ICdkZCcsXG4gIHBocmFzZXM6IF9kZWZhdWx0UGhyYXNlcy5EYXlQaWNrZXJQaHJhc2VzLFxuICBkYXlBcmlhTGFiZWxGb3JtYXQ6IHVuZGVmaW5lZFxufTtcblxudmFyIERheVBpY2tlciA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhEYXlQaWNrZXIsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIERheVBpY2tlcihwcm9wcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEYXlQaWNrZXIpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKERheVBpY2tlci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKERheVBpY2tlcikpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIHZhciBjdXJyZW50TW9udGggPSBwcm9wcy5oaWRkZW4gPyAoMCwgX21vbWVudDJbJ2RlZmF1bHQnXSkoKSA6IHByb3BzLmluaXRpYWxWaXNpYmxlTW9udGgoKTtcblxuICAgIHZhciBmb2N1c2VkRGF0ZSA9IGN1cnJlbnRNb250aC5jbG9uZSgpLnN0YXJ0T2YoJ21vbnRoJyk7XG4gICAgaWYgKHByb3BzLmdldEZpcnN0Rm9jdXNhYmxlRGF5KSB7XG4gICAgICBmb2N1c2VkRGF0ZSA9IHByb3BzLmdldEZpcnN0Rm9jdXNhYmxlRGF5KGN1cnJlbnRNb250aCk7XG4gICAgfVxuXG4gICAgdmFyIGhvcml6b250YWxNb250aFBhZGRpbmcgPSBwcm9wcy5ob3Jpem9udGFsTW9udGhQYWRkaW5nO1xuXG5cbiAgICB2YXIgdHJhbnNsYXRpb25WYWx1ZSA9IHByb3BzLmlzUlRMICYmIF90aGlzLmlzSG9yaXpvbnRhbCgpID8gLSgwLCBfZ2V0Q2FsZW5kYXJNb250aFdpZHRoMlsnZGVmYXVsdCddKShwcm9wcy5kYXlTaXplLCBob3Jpem9udGFsTW9udGhQYWRkaW5nKSA6IDA7XG5cbiAgICBfdGhpcy5oYXNTZXRJbml0aWFsVmlzaWJsZU1vbnRoID0gIXByb3BzLmhpZGRlbjtcbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGN1cnJlbnRNb250aDogY3VycmVudE1vbnRoLFxuICAgICAgbW9udGhUcmFuc2l0aW9uOiBudWxsLFxuICAgICAgdHJhbnNsYXRpb25WYWx1ZTogdHJhbnNsYXRpb25WYWx1ZSxcbiAgICAgIHNjcm9sbGFibGVNb250aE11bHRpcGxlOiAxLFxuICAgICAgY2FsZW5kYXJNb250aFdpZHRoOiAoMCwgX2dldENhbGVuZGFyTW9udGhXaWR0aDJbJ2RlZmF1bHQnXSkocHJvcHMuZGF5U2l6ZSwgaG9yaXpvbnRhbE1vbnRoUGFkZGluZyksXG4gICAgICBmb2N1c2VkRGF0ZTogIXByb3BzLmhpZGRlbiB8fCBwcm9wcy5pc0ZvY3VzZWQgPyBmb2N1c2VkRGF0ZSA6IG51bGwsXG4gICAgICBuZXh0Rm9jdXNlZERhdGU6IG51bGwsXG4gICAgICBzaG93S2V5Ym9hcmRTaG9ydGN1dHM6IHByb3BzLnNob3dLZXlib2FyZFNob3J0Y3V0cyxcbiAgICAgIG9uS2V5Ym9hcmRTaG9ydGN1dHNQYW5lbENsb3NlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIG9uS2V5Ym9hcmRTaG9ydGN1dHNQYW5lbENsb3NlKCkge31cblxuICAgICAgICByZXR1cm4gb25LZXlib2FyZFNob3J0Y3V0c1BhbmVsQ2xvc2U7XG4gICAgICB9KCksXG5cbiAgICAgIGlzVG91Y2hEZXZpY2U6ICgwLCBfaXNUb3VjaERldmljZTJbJ2RlZmF1bHQnXSkoKSxcbiAgICAgIHdpdGhNb3VzZUludGVyYWN0aW9uczogdHJ1ZSxcbiAgICAgIGNhbGVuZGFySW5mb1dpZHRoOiAwLFxuICAgICAgbW9udGhUaXRsZUhlaWdodDogbnVsbCxcbiAgICAgIGhhc1NldEhlaWdodDogZmFsc2VcbiAgICB9O1xuXG4gICAgX3RoaXMuc2V0Q2FsZW5kYXJNb250aFdlZWtzKGN1cnJlbnRNb250aCk7XG5cbiAgICBfdGhpcy5jYWxlbmRhck1vbnRoR3JpZEhlaWdodCA9IDA7XG4gICAgX3RoaXMuc2V0Q2FsZW5kYXJJbmZvV2lkdGhUaW1lb3V0ID0gbnVsbDtcblxuICAgIF90aGlzLm9uS2V5RG93biA9IF90aGlzLm9uS2V5RG93bi5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy50aHJvdHRsZWRLZXlEb3duID0gKDAsIF90aHJvdHRsZTJbJ2RlZmF1bHQnXSkoX3RoaXMub25GaW5hbEtleURvd24sIDIwMCwgeyB0cmFpbGluZzogZmFsc2UgfSk7XG4gICAgX3RoaXMub25QcmV2TW9udGhDbGljayA9IF90aGlzLm9uUHJldk1vbnRoQ2xpY2suYmluZChfdGhpcyk7XG4gICAgX3RoaXMub25OZXh0TW9udGhDbGljayA9IF90aGlzLm9uTmV4dE1vbnRoQ2xpY2suYmluZChfdGhpcyk7XG4gICAgX3RoaXMub25Nb250aENoYW5nZSA9IF90aGlzLm9uTW9udGhDaGFuZ2UuYmluZChfdGhpcyk7XG4gICAgX3RoaXMub25ZZWFyQ2hhbmdlID0gX3RoaXMub25ZZWFyQ2hhbmdlLmJpbmQoX3RoaXMpO1xuXG4gICAgX3RoaXMubXVsdGlwbHlTY3JvbGxhYmxlTW9udGhzID0gX3RoaXMubXVsdGlwbHlTY3JvbGxhYmxlTW9udGhzLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLnVwZGF0ZVN0YXRlQWZ0ZXJNb250aFRyYW5zaXRpb24gPSBfdGhpcy51cGRhdGVTdGF0ZUFmdGVyTW9udGhUcmFuc2l0aW9uLmJpbmQoX3RoaXMpO1xuXG4gICAgX3RoaXMub3BlbktleWJvYXJkU2hvcnRjdXRzUGFuZWwgPSBfdGhpcy5vcGVuS2V5Ym9hcmRTaG9ydGN1dHNQYW5lbC5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5jbG9zZUtleWJvYXJkU2hvcnRjdXRzUGFuZWwgPSBfdGhpcy5jbG9zZUtleWJvYXJkU2hvcnRjdXRzUGFuZWwuYmluZChfdGhpcyk7XG5cbiAgICBfdGhpcy5zZXRDYWxlbmRhckluZm9SZWYgPSBfdGhpcy5zZXRDYWxlbmRhckluZm9SZWYuYmluZChfdGhpcyk7XG4gICAgX3RoaXMuc2V0Q29udGFpbmVyUmVmID0gX3RoaXMuc2V0Q29udGFpbmVyUmVmLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLnNldFRyYW5zaXRpb25Db250YWluZXJSZWYgPSBfdGhpcy5zZXRUcmFuc2l0aW9uQ29udGFpbmVyUmVmLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLnNldE1vbnRoVGl0bGVIZWlnaHQgPSBfdGhpcy5zZXRNb250aFRpdGxlSGVpZ2h0LmJpbmQoX3RoaXMpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhEYXlQaWNrZXIsIFt7XG4gICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRNb250aCA9IHRoaXMuc3RhdGUuY3VycmVudE1vbnRoO1xuXG4gICAgICAgIGlmICh0aGlzLmNhbGVuZGFySW5mbykge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgaXNUb3VjaERldmljZTogKDAsIF9pc1RvdWNoRGV2aWNlMlsnZGVmYXVsdCddKSgpLFxuICAgICAgICAgICAgY2FsZW5kYXJJbmZvV2lkdGg6ICgwLCBfY2FsY3VsYXRlRGltZW5zaW9uMlsnZGVmYXVsdCddKSh0aGlzLmNhbGVuZGFySW5mbywgJ3dpZHRoJywgdHJ1ZSwgdHJ1ZSlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNUb3VjaERldmljZTogKDAsIF9pc1RvdWNoRGV2aWNlMlsnZGVmYXVsdCddKSgpIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXRDYWxlbmRhck1vbnRoV2Vla3MoY3VycmVudE1vbnRoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbXBvbmVudERpZE1vdW50O1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICAgIHZhciBoaWRkZW4gPSBuZXh0UHJvcHMuaGlkZGVuLFxuICAgICAgICAgICAgaXNGb2N1c2VkID0gbmV4dFByb3BzLmlzRm9jdXNlZCxcbiAgICAgICAgICAgIHNob3dLZXlib2FyZFNob3J0Y3V0cyA9IG5leHRQcm9wcy5zaG93S2V5Ym9hcmRTaG9ydGN1dHMsXG4gICAgICAgICAgICBvbkJsdXIgPSBuZXh0UHJvcHMub25CbHVyLFxuICAgICAgICAgICAgcmVuZGVyTW9udGhUZXh0ID0gbmV4dFByb3BzLnJlbmRlck1vbnRoVGV4dCxcbiAgICAgICAgICAgIGhvcml6b250YWxNb250aFBhZGRpbmcgPSBuZXh0UHJvcHMuaG9yaXpvbnRhbE1vbnRoUGFkZGluZztcbiAgICAgICAgdmFyIGN1cnJlbnRNb250aCA9IHRoaXMuc3RhdGUuY3VycmVudE1vbnRoO1xuXG5cbiAgICAgICAgaWYgKCFoaWRkZW4pIHtcbiAgICAgICAgICBpZiAoIXRoaXMuaGFzU2V0SW5pdGlhbFZpc2libGVNb250aCkge1xuICAgICAgICAgICAgdGhpcy5oYXNTZXRJbml0aWFsVmlzaWJsZU1vbnRoID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICBjdXJyZW50TW9udGg6IG5leHRQcm9wcy5pbml0aWFsVmlzaWJsZU1vbnRoKClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgZGF5U2l6ZSA9IF9wcm9wcy5kYXlTaXplLFxuICAgICAgICAgICAgcHJldklzRm9jdXNlZCA9IF9wcm9wcy5pc0ZvY3VzZWQsXG4gICAgICAgICAgICBwcmV2UmVuZGVyTW9udGhUZXh0ID0gX3Byb3BzLnJlbmRlck1vbnRoVGV4dDtcblxuXG4gICAgICAgIGlmIChuZXh0UHJvcHMuZGF5U2l6ZSAhPT0gZGF5U2l6ZSkge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgY2FsZW5kYXJNb250aFdpZHRoOiAoMCwgX2dldENhbGVuZGFyTW9udGhXaWR0aDJbJ2RlZmF1bHQnXSkobmV4dFByb3BzLmRheVNpemUsIGhvcml6b250YWxNb250aFBhZGRpbmcpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNGb2N1c2VkICE9PSBwcmV2SXNGb2N1c2VkKSB7XG4gICAgICAgICAgaWYgKGlzRm9jdXNlZCkge1xuICAgICAgICAgICAgdmFyIGZvY3VzZWREYXRlID0gdGhpcy5nZXRGb2N1c2VkRGF5KGN1cnJlbnRNb250aCk7XG5cbiAgICAgICAgICAgIHZhciBvbktleWJvYXJkU2hvcnRjdXRzUGFuZWxDbG9zZSA9IHRoaXMuc3RhdGUub25LZXlib2FyZFNob3J0Y3V0c1BhbmVsQ2xvc2U7XG5cbiAgICAgICAgICAgIGlmIChuZXh0UHJvcHMuc2hvd0tleWJvYXJkU2hvcnRjdXRzKSB7XG4gICAgICAgICAgICAgIC8vIHRoZSA/IHNob3J0Y3V0IGNhbWUgZnJvbSB0aGUgaW5wdXQgYW5kIHdlIHNob3VsZCByZXR1cm4gaW5wdXQgdGhlcmUgb25jZSBpdCBpcyBjbG9zZVxuICAgICAgICAgICAgICBvbktleWJvYXJkU2hvcnRjdXRzUGFuZWxDbG9zZSA9IG9uQmx1cjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgIHNob3dLZXlib2FyZFNob3J0Y3V0czogc2hvd0tleWJvYXJkU2hvcnRjdXRzLFxuICAgICAgICAgICAgICBvbktleWJvYXJkU2hvcnRjdXRzUGFuZWxDbG9zZTogb25LZXlib2FyZFNob3J0Y3V0c1BhbmVsQ2xvc2UsXG4gICAgICAgICAgICAgIGZvY3VzZWREYXRlOiBmb2N1c2VkRGF0ZSxcbiAgICAgICAgICAgICAgd2l0aE1vdXNlSW50ZXJhY3Rpb25zOiBmYWxzZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBmb2N1c2VkRGF0ZTogbnVsbCB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVuZGVyTW9udGhUZXh0ICE9PSBwcmV2UmVuZGVyTW9udGhUZXh0KSB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBtb250aFRpdGxlSGVpZ2h0OiBudWxsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdzaG91bGRDb21wb25lbnRVcGRhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzLCBuZXh0U3RhdGUpIHtcbiAgICAgICAgcmV0dXJuICgwLCBfcmVhY3RBZGRvbnNTaGFsbG93Q29tcGFyZTJbJ2RlZmF1bHQnXSkodGhpcywgbmV4dFByb3BzLCBuZXh0U3RhdGUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2hvdWxkQ29tcG9uZW50VXBkYXRlO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFVwZGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVcGRhdGUoKSB7XG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgIHZhciB0cmFuc2l0aW9uRHVyYXRpb24gPSB0aGlzLnByb3BzLnRyYW5zaXRpb25EdXJhdGlvbjtcblxuICAgICAgICAvLyBDYWxjdWxhdGluZyB0aGUgZGltZW5zaW9ucyB0cmlnZ2VyIGEgRE9NIHJlcGFpbnQgd2hpY2hcbiAgICAgICAgLy8gYnJlYWtzIHRoZSBDU1MgdHJhbnNpdGlvbi5cbiAgICAgICAgLy8gVGhlIHNldFRpbWVvdXQgd2lsbCB3YWl0IHVudGlsIHRoZSB0cmFuc2l0aW9uIGVuZHMuXG5cbiAgICAgICAgaWYgKHRoaXMuY2FsZW5kYXJJbmZvKSB7XG4gICAgICAgICAgdGhpcy5zZXRDYWxlbmRhckluZm9XaWR0aFRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBjYWxlbmRhckluZm9XaWR0aCA9IF90aGlzMi5zdGF0ZS5jYWxlbmRhckluZm9XaWR0aDtcblxuICAgICAgICAgICAgdmFyIGNhbGVuZGFySW5mb1BhbmVsV2lkdGggPSAoMCwgX2NhbGN1bGF0ZURpbWVuc2lvbjJbJ2RlZmF1bHQnXSkoX3RoaXMyLmNhbGVuZGFySW5mbywgJ3dpZHRoJywgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICAgICBpZiAoY2FsZW5kYXJJbmZvV2lkdGggIT09IGNhbGVuZGFySW5mb1BhbmVsV2lkdGgpIHtcbiAgICAgICAgICAgICAgX3RoaXMyLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBjYWxlbmRhckluZm9XaWR0aDogY2FsZW5kYXJJbmZvUGFuZWxXaWR0aFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCB0cmFuc2l0aW9uRHVyYXRpb24pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb21wb25lbnRXaWxsVXBkYXRlO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50RGlkVXBkYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcykge1xuICAgICAgICB2YXIgX3Byb3BzMiA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBvcmllbnRhdGlvbiA9IF9wcm9wczIub3JpZW50YXRpb24sXG4gICAgICAgICAgICBkYXlTaXplID0gX3Byb3BzMi5kYXlTaXplLFxuICAgICAgICAgICAgaXNGb2N1c2VkID0gX3Byb3BzMi5pc0ZvY3VzZWQsXG4gICAgICAgICAgICBudW1iZXJPZk1vbnRocyA9IF9wcm9wczIubnVtYmVyT2ZNb250aHM7XG4gICAgICAgIHZhciBfc3RhdGUgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgICAgZm9jdXNlZERhdGUgPSBfc3RhdGUuZm9jdXNlZERhdGUsXG4gICAgICAgICAgICBtb250aFRpdGxlSGVpZ2h0ID0gX3N0YXRlLm1vbnRoVGl0bGVIZWlnaHQ7XG5cblxuICAgICAgICBpZiAodGhpcy5pc0hvcml6b250YWwoKSAmJiAob3JpZW50YXRpb24gIT09IHByZXZQcm9wcy5vcmllbnRhdGlvbiB8fCBkYXlTaXplICE9PSBwcmV2UHJvcHMuZGF5U2l6ZSkpIHtcbiAgICAgICAgICB2YXIgdmlzaWJsZUNhbGVuZGFyV2Vla3MgPSB0aGlzLmNhbGVuZGFyTW9udGhXZWVrcy5zbGljZSgxLCBudW1iZXJPZk1vbnRocyArIDEpO1xuICAgICAgICAgIHZhciBjYWxlbmRhck1vbnRoV2Vla3NIZWlnaHQgPSBNYXRoLm1heC5hcHBseShNYXRoLCBbMF0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheSh2aXNpYmxlQ2FsZW5kYXJXZWVrcykpKSAqIChkYXlTaXplIC0gMSk7XG4gICAgICAgICAgdmFyIG5ld01vbnRoSGVpZ2h0ID0gbW9udGhUaXRsZUhlaWdodCArIGNhbGVuZGFyTW9udGhXZWVrc0hlaWdodCArIDE7XG4gICAgICAgICAgdGhpcy5hZGp1c3REYXlQaWNrZXJIZWlnaHQobmV3TW9udGhIZWlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFwcmV2UHJvcHMuaXNGb2N1c2VkICYmIGlzRm9jdXNlZCAmJiAhZm9jdXNlZERhdGUpIHtcbiAgICAgICAgICB0aGlzLmNvbnRhaW5lci5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb21wb25lbnREaWRVcGRhdGU7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsVW5tb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5zZXRDYWxlbmRhckluZm9XaWR0aFRpbWVvdXQpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29tcG9uZW50V2lsbFVubW91bnQ7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdvbktleURvd24nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBvbktleURvd24oZSkge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBpZiAoIV9jb25zdGFudHMuTU9ESUZJRVJfS0VZX05BTUVTLmhhcyhlLmtleSkpIHtcbiAgICAgICAgICB0aGlzLnRocm90dGxlZEtleURvd24oZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9uS2V5RG93bjtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ29uRmluYWxLZXlEb3duJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gb25GaW5hbEtleURvd24oZSkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgd2l0aE1vdXNlSW50ZXJhY3Rpb25zOiBmYWxzZSB9KTtcblxuICAgICAgICB2YXIgX3Byb3BzMyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBvbkJsdXIgPSBfcHJvcHMzLm9uQmx1cixcbiAgICAgICAgICAgIGlzUlRMID0gX3Byb3BzMy5pc1JUTDtcbiAgICAgICAgdmFyIF9zdGF0ZTIgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgICAgZm9jdXNlZERhdGUgPSBfc3RhdGUyLmZvY3VzZWREYXRlLFxuICAgICAgICAgICAgc2hvd0tleWJvYXJkU2hvcnRjdXRzID0gX3N0YXRlMi5zaG93S2V5Ym9hcmRTaG9ydGN1dHM7XG5cbiAgICAgICAgaWYgKCFmb2N1c2VkRGF0ZSkgcmV0dXJuO1xuXG4gICAgICAgIHZhciBuZXdGb2N1c2VkRGF0ZSA9IGZvY3VzZWREYXRlLmNsb25lKCk7XG5cbiAgICAgICAgdmFyIGRpZFRyYW5zaXRpb25Nb250aCA9IGZhbHNlO1xuXG4gICAgICAgIC8vIGZvY3VzIG1pZ2h0IGJlIGFueXdoZXJlIHdoZW4gdGhlIGtleWJvYXJkIHNob3J0Y3V0cyBwYW5lbCBpcyBvcGVuZWQgc28gd2Ugd2FudCB0b1xuICAgICAgICAvLyByZXR1cm4gaXQgdG8gd2hlcmV2ZXIgaXQgd2FzIGJlZm9yZSB3aGVuIHRoZSBwYW5lbCB3YXMgb3BlbmVkXG4gICAgICAgIHZhciBhY3RpdmVFbGVtZW50ID0gKDAsIF9nZXRBY3RpdmVFbGVtZW50MlsnZGVmYXVsdCddKSgpO1xuICAgICAgICB2YXIgb25LZXlib2FyZFNob3J0Y3V0c1BhbmVsQ2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgZnVuY3Rpb24gb25LZXlib2FyZFNob3J0Y3V0c1BhbmVsQ2xvc2UoKSB7XG4gICAgICAgICAgICBpZiAoYWN0aXZlRWxlbWVudCkgYWN0aXZlRWxlbWVudC5mb2N1cygpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBvbktleWJvYXJkU2hvcnRjdXRzUGFuZWxDbG9zZTtcbiAgICAgICAgfSgpO1xuXG4gICAgICAgIHN3aXRjaCAoZS5rZXkpIHtcbiAgICAgICAgICBjYXNlICdBcnJvd1VwJzpcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIG5ld0ZvY3VzZWREYXRlLnN1YnRyYWN0KDEsICd3ZWVrJyk7XG4gICAgICAgICAgICBkaWRUcmFuc2l0aW9uTW9udGggPSB0aGlzLm1heWJlVHJhbnNpdGlvblByZXZNb250aChuZXdGb2N1c2VkRGF0ZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdBcnJvd0xlZnQnOlxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgaWYgKGlzUlRMKSB7XG4gICAgICAgICAgICAgIG5ld0ZvY3VzZWREYXRlLmFkZCgxLCAnZGF5Jyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBuZXdGb2N1c2VkRGF0ZS5zdWJ0cmFjdCgxLCAnZGF5Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkaWRUcmFuc2l0aW9uTW9udGggPSB0aGlzLm1heWJlVHJhbnNpdGlvblByZXZNb250aChuZXdGb2N1c2VkRGF0ZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdIb21lJzpcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIG5ld0ZvY3VzZWREYXRlLnN0YXJ0T2YoJ3dlZWsnKTtcbiAgICAgICAgICAgIGRpZFRyYW5zaXRpb25Nb250aCA9IHRoaXMubWF5YmVUcmFuc2l0aW9uUHJldk1vbnRoKG5ld0ZvY3VzZWREYXRlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ1BhZ2VVcCc6XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBuZXdGb2N1c2VkRGF0ZS5zdWJ0cmFjdCgxLCAnbW9udGgnKTtcbiAgICAgICAgICAgIGRpZFRyYW5zaXRpb25Nb250aCA9IHRoaXMubWF5YmVUcmFuc2l0aW9uUHJldk1vbnRoKG5ld0ZvY3VzZWREYXRlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnQXJyb3dEb3duJzpcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIG5ld0ZvY3VzZWREYXRlLmFkZCgxLCAnd2VlaycpO1xuICAgICAgICAgICAgZGlkVHJhbnNpdGlvbk1vbnRoID0gdGhpcy5tYXliZVRyYW5zaXRpb25OZXh0TW9udGgobmV3Rm9jdXNlZERhdGUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnQXJyb3dSaWdodCc6XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBpZiAoaXNSVEwpIHtcbiAgICAgICAgICAgICAgbmV3Rm9jdXNlZERhdGUuc3VidHJhY3QoMSwgJ2RheScpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbmV3Rm9jdXNlZERhdGUuYWRkKDEsICdkYXknKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRpZFRyYW5zaXRpb25Nb250aCA9IHRoaXMubWF5YmVUcmFuc2l0aW9uTmV4dE1vbnRoKG5ld0ZvY3VzZWREYXRlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ0VuZCc6XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBuZXdGb2N1c2VkRGF0ZS5lbmRPZignd2VlaycpO1xuICAgICAgICAgICAgZGlkVHJhbnNpdGlvbk1vbnRoID0gdGhpcy5tYXliZVRyYW5zaXRpb25OZXh0TW9udGgobmV3Rm9jdXNlZERhdGUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnUGFnZURvd24nOlxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgbmV3Rm9jdXNlZERhdGUuYWRkKDEsICdtb250aCcpO1xuICAgICAgICAgICAgZGlkVHJhbnNpdGlvbk1vbnRoID0gdGhpcy5tYXliZVRyYW5zaXRpb25OZXh0TW9udGgobmV3Rm9jdXNlZERhdGUpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICc/JzpcbiAgICAgICAgICAgIHRoaXMub3BlbktleWJvYXJkU2hvcnRjdXRzUGFuZWwob25LZXlib2FyZFNob3J0Y3V0c1BhbmVsQ2xvc2UpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICdFc2NhcGUnOlxuICAgICAgICAgICAgaWYgKHNob3dLZXlib2FyZFNob3J0Y3V0cykge1xuICAgICAgICAgICAgICB0aGlzLmNsb3NlS2V5Ym9hcmRTaG9ydGN1dHNQYW5lbCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgb25CbHVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHRoZXJlIHdhcyBhIG1vbnRoIHRyYW5zaXRpb24sIGRvIG5vdCB1cGRhdGUgdGhlIGZvY3VzZWQgZGF0ZSB1bnRpbCB0aGUgdHJhbnNpdGlvbiBoYXNcbiAgICAgICAgLy8gY29tcGxldGVkLiBPdGhlcndpc2UsIGF0dGVtcHRpbmcgdG8gZm9jdXMgb24gYSBET00gbm9kZSBtYXkgaW50ZXJydXB0IHRoZSBDU1MgYW5pbWF0aW9uLiBJZlxuICAgICAgICAvLyBkaWRUcmFuc2l0aW9uTW9udGggaXMgdHJ1ZSwgdGhlIGZvY3VzZWREYXRlIGdldHMgdXBkYXRlZCBpbiAjdXBkYXRlU3RhdGVBZnRlck1vbnRoVHJhbnNpdGlvblxuICAgICAgICBpZiAoIWRpZFRyYW5zaXRpb25Nb250aCkge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgZm9jdXNlZERhdGU6IG5ld0ZvY3VzZWREYXRlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9uRmluYWxLZXlEb3duO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnb25QcmV2TW9udGhDbGljaycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIG9uUHJldk1vbnRoQ2xpY2sobmV4dEZvY3VzZWREYXRlLCBlKSB7XG4gICAgICAgIHZhciBfcHJvcHM0ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIGRheVNpemUgPSBfcHJvcHM0LmRheVNpemUsXG4gICAgICAgICAgICBpc1JUTCA9IF9wcm9wczQuaXNSVEwsXG4gICAgICAgICAgICBudW1iZXJPZk1vbnRocyA9IF9wcm9wczQubnVtYmVyT2ZNb250aHM7XG4gICAgICAgIHZhciBfc3RhdGUzID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICAgIGNhbGVuZGFyTW9udGhXaWR0aCA9IF9zdGF0ZTMuY2FsZW5kYXJNb250aFdpZHRoLFxuICAgICAgICAgICAgbW9udGhUaXRsZUhlaWdodCA9IF9zdGF0ZTMubW9udGhUaXRsZUhlaWdodDtcblxuXG4gICAgICAgIGlmIChlKSBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgdmFyIHRyYW5zbGF0aW9uVmFsdWUgPSB2b2lkIDA7XG4gICAgICAgIGlmICh0aGlzLmlzVmVydGljYWwoKSkge1xuICAgICAgICAgIHZhciBjYWxlbmRhck1vbnRoV2Vla3NIZWlnaHQgPSB0aGlzLmNhbGVuZGFyTW9udGhXZWVrc1swXSAqIChkYXlTaXplIC0gMSk7XG4gICAgICAgICAgdHJhbnNsYXRpb25WYWx1ZSA9IG1vbnRoVGl0bGVIZWlnaHQgKyBjYWxlbmRhck1vbnRoV2Vla3NIZWlnaHQgKyAxO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNIb3Jpem9udGFsKCkpIHtcbiAgICAgICAgICB0cmFuc2xhdGlvblZhbHVlID0gY2FsZW5kYXJNb250aFdpZHRoO1xuICAgICAgICAgIGlmIChpc1JUTCkge1xuICAgICAgICAgICAgdHJhbnNsYXRpb25WYWx1ZSA9IC0yICogY2FsZW5kYXJNb250aFdpZHRoO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciB2aXNpYmxlQ2FsZW5kYXJXZWVrcyA9IHRoaXMuY2FsZW5kYXJNb250aFdlZWtzLnNsaWNlKDAsIG51bWJlck9mTW9udGhzKTtcbiAgICAgICAgICB2YXIgX2NhbGVuZGFyTW9udGhXZWVrc0hlaWdodCA9IE1hdGgubWF4LmFwcGx5KE1hdGgsIFswXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHZpc2libGVDYWxlbmRhcldlZWtzKSkpICogKGRheVNpemUgLSAxKTtcbiAgICAgICAgICB2YXIgbmV3TW9udGhIZWlnaHQgPSBtb250aFRpdGxlSGVpZ2h0ICsgX2NhbGVuZGFyTW9udGhXZWVrc0hlaWdodCArIDE7XG4gICAgICAgICAgdGhpcy5hZGp1c3REYXlQaWNrZXJIZWlnaHQobmV3TW9udGhIZWlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgbW9udGhUcmFuc2l0aW9uOiBQUkVWX1RSQU5TSVRJT04sXG4gICAgICAgICAgdHJhbnNsYXRpb25WYWx1ZTogdHJhbnNsYXRpb25WYWx1ZSxcbiAgICAgICAgICBmb2N1c2VkRGF0ZTogbnVsbCxcbiAgICAgICAgICBuZXh0Rm9jdXNlZERhdGU6IG5leHRGb2N1c2VkRGF0ZVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9uUHJldk1vbnRoQ2xpY2s7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdvbk1vbnRoQ2hhbmdlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gb25Nb250aENoYW5nZShjdXJyZW50TW9udGgpIHtcbiAgICAgICAgdGhpcy5zZXRDYWxlbmRhck1vbnRoV2Vla3MoY3VycmVudE1vbnRoKTtcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVBbmRTZXREYXlQaWNrZXJIZWlnaHQoKTtcblxuICAgICAgICAvLyBUcmFuc2xhdGlvbiB2YWx1ZSBpcyBhIGhhY2sgdG8gZm9yY2UgYW4gaW52aXNpYmxlIHRyYW5zaXRpb24gdGhhdFxuICAgICAgICAvLyBwcm9wZXJseSByZXJlbmRlcnMgdGhlIENhbGVuZGFyTW9udGhHcmlkXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIG1vbnRoVHJhbnNpdGlvbjogTU9OVEhfU0VMRUNUSU9OX1RSQU5TSVRJT04sXG4gICAgICAgICAgdHJhbnNsYXRpb25WYWx1ZTogMC4wMDAwMSxcbiAgICAgICAgICBmb2N1c2VkRGF0ZTogbnVsbCxcbiAgICAgICAgICBuZXh0Rm9jdXNlZERhdGU6IGN1cnJlbnRNb250aCxcbiAgICAgICAgICBjdXJyZW50TW9udGg6IGN1cnJlbnRNb250aFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9uTW9udGhDaGFuZ2U7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdvblllYXJDaGFuZ2UnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBvblllYXJDaGFuZ2UoY3VycmVudE1vbnRoKSB7XG4gICAgICAgIHRoaXMuc2V0Q2FsZW5kYXJNb250aFdlZWtzKGN1cnJlbnRNb250aCk7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlQW5kU2V0RGF5UGlja2VySGVpZ2h0KCk7XG5cbiAgICAgICAgLy8gVHJhbnNsYXRpb24gdmFsdWUgaXMgYSBoYWNrIHRvIGZvcmNlIGFuIGludmlzaWJsZSB0cmFuc2l0aW9uIHRoYXRcbiAgICAgICAgLy8gcHJvcGVybHkgcmVyZW5kZXJzIHRoZSBDYWxlbmRhck1vbnRoR3JpZFxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBtb250aFRyYW5zaXRpb246IFlFQVJfU0VMRUNUSU9OX1RSQU5TSVRJT04sXG4gICAgICAgICAgdHJhbnNsYXRpb25WYWx1ZTogMC4wMDAxLFxuICAgICAgICAgIGZvY3VzZWREYXRlOiBudWxsLFxuICAgICAgICAgIG5leHRGb2N1c2VkRGF0ZTogY3VycmVudE1vbnRoLFxuICAgICAgICAgIGN1cnJlbnRNb250aDogY3VycmVudE1vbnRoXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gb25ZZWFyQ2hhbmdlO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnb25OZXh0TW9udGhDbGljaycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIG9uTmV4dE1vbnRoQ2xpY2sobmV4dEZvY3VzZWREYXRlLCBlKSB7XG4gICAgICAgIHZhciBfcHJvcHM1ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIGlzUlRMID0gX3Byb3BzNS5pc1JUTCxcbiAgICAgICAgICAgIG51bWJlck9mTW9udGhzID0gX3Byb3BzNS5udW1iZXJPZk1vbnRocyxcbiAgICAgICAgICAgIGRheVNpemUgPSBfcHJvcHM1LmRheVNpemU7XG4gICAgICAgIHZhciBfc3RhdGU0ID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICAgIGNhbGVuZGFyTW9udGhXaWR0aCA9IF9zdGF0ZTQuY2FsZW5kYXJNb250aFdpZHRoLFxuICAgICAgICAgICAgbW9udGhUaXRsZUhlaWdodCA9IF9zdGF0ZTQubW9udGhUaXRsZUhlaWdodDtcblxuXG4gICAgICAgIGlmIChlKSBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgdmFyIHRyYW5zbGF0aW9uVmFsdWUgPSB2b2lkIDA7XG5cbiAgICAgICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCgpKSB7XG4gICAgICAgICAgdmFyIGZpcnN0VmlzaWJsZU1vbnRoV2Vla3MgPSB0aGlzLmNhbGVuZGFyTW9udGhXZWVrc1sxXTtcbiAgICAgICAgICB2YXIgY2FsZW5kYXJNb250aFdlZWtzSGVpZ2h0ID0gZmlyc3RWaXNpYmxlTW9udGhXZWVrcyAqIChkYXlTaXplIC0gMSk7XG4gICAgICAgICAgdHJhbnNsYXRpb25WYWx1ZSA9IC0obW9udGhUaXRsZUhlaWdodCArIGNhbGVuZGFyTW9udGhXZWVrc0hlaWdodCArIDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaXNIb3Jpem9udGFsKCkpIHtcbiAgICAgICAgICB0cmFuc2xhdGlvblZhbHVlID0gLWNhbGVuZGFyTW9udGhXaWR0aDtcbiAgICAgICAgICBpZiAoaXNSVEwpIHtcbiAgICAgICAgICAgIHRyYW5zbGF0aW9uVmFsdWUgPSAwO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciB2aXNpYmxlQ2FsZW5kYXJXZWVrcyA9IHRoaXMuY2FsZW5kYXJNb250aFdlZWtzLnNsaWNlKDIsIG51bWJlck9mTW9udGhzICsgMik7XG4gICAgICAgICAgdmFyIF9jYWxlbmRhck1vbnRoV2Vla3NIZWlnaHQyID0gTWF0aC5tYXguYXBwbHkoTWF0aCwgWzBdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkodmlzaWJsZUNhbGVuZGFyV2Vla3MpKSkgKiAoZGF5U2l6ZSAtIDEpO1xuICAgICAgICAgIHZhciBuZXdNb250aEhlaWdodCA9IG1vbnRoVGl0bGVIZWlnaHQgKyBfY2FsZW5kYXJNb250aFdlZWtzSGVpZ2h0MiArIDE7XG4gICAgICAgICAgdGhpcy5hZGp1c3REYXlQaWNrZXJIZWlnaHQobmV3TW9udGhIZWlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgbW9udGhUcmFuc2l0aW9uOiBORVhUX1RSQU5TSVRJT04sXG4gICAgICAgICAgdHJhbnNsYXRpb25WYWx1ZTogdHJhbnNsYXRpb25WYWx1ZSxcbiAgICAgICAgICBmb2N1c2VkRGF0ZTogbnVsbCxcbiAgICAgICAgICBuZXh0Rm9jdXNlZERhdGU6IG5leHRGb2N1c2VkRGF0ZVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9uTmV4dE1vbnRoQ2xpY2s7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRGaXJzdERheU9mV2VlaycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGdldEZpcnN0RGF5T2ZXZWVrKCkge1xuICAgICAgICB2YXIgZmlyc3REYXlPZldlZWsgPSB0aGlzLnByb3BzLmZpcnN0RGF5T2ZXZWVrO1xuXG4gICAgICAgIGlmIChmaXJzdERheU9mV2VlayA9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIF9tb21lbnQyWydkZWZhdWx0J10ubG9jYWxlRGF0YSgpLmZpcnN0RGF5T2ZXZWVrKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmlyc3REYXlPZldlZWs7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXRGaXJzdERheU9mV2VlaztcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ2dldEZpcnN0VmlzaWJsZUluZGV4JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gZ2V0Rmlyc3RWaXNpYmxlSW5kZXgoKSB7XG4gICAgICAgIHZhciBvcmllbnRhdGlvbiA9IHRoaXMucHJvcHMub3JpZW50YXRpb247XG4gICAgICAgIHZhciBtb250aFRyYW5zaXRpb24gPSB0aGlzLnN0YXRlLm1vbnRoVHJhbnNpdGlvbjtcblxuXG4gICAgICAgIGlmIChvcmllbnRhdGlvbiA9PT0gX2NvbnN0YW50cy5WRVJUSUNBTF9TQ1JPTExBQkxFKSByZXR1cm4gMDtcblxuICAgICAgICB2YXIgZmlyc3RWaXNpYmxlTW9udGhJbmRleCA9IDE7XG4gICAgICAgIGlmIChtb250aFRyYW5zaXRpb24gPT09IFBSRVZfVFJBTlNJVElPTikge1xuICAgICAgICAgIGZpcnN0VmlzaWJsZU1vbnRoSW5kZXggLT0gMTtcbiAgICAgICAgfSBlbHNlIGlmIChtb250aFRyYW5zaXRpb24gPT09IE5FWFRfVFJBTlNJVElPTikge1xuICAgICAgICAgIGZpcnN0VmlzaWJsZU1vbnRoSW5kZXggKz0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmaXJzdFZpc2libGVNb250aEluZGV4O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0Rmlyc3RWaXNpYmxlSW5kZXg7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRGb2N1c2VkRGF5JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gZ2V0Rm9jdXNlZERheShuZXdNb250aCkge1xuICAgICAgICB2YXIgX3Byb3BzNiA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBnZXRGaXJzdEZvY3VzYWJsZURheSA9IF9wcm9wczYuZ2V0Rmlyc3RGb2N1c2FibGVEYXksXG4gICAgICAgICAgICBudW1iZXJPZk1vbnRocyA9IF9wcm9wczYubnVtYmVyT2ZNb250aHM7XG5cblxuICAgICAgICB2YXIgZm9jdXNlZERhdGUgPSB2b2lkIDA7XG4gICAgICAgIGlmIChnZXRGaXJzdEZvY3VzYWJsZURheSkge1xuICAgICAgICAgIGZvY3VzZWREYXRlID0gZ2V0Rmlyc3RGb2N1c2FibGVEYXkobmV3TW9udGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5ld01vbnRoICYmICghZm9jdXNlZERhdGUgfHwgISgwLCBfaXNEYXlWaXNpYmxlMlsnZGVmYXVsdCddKShmb2N1c2VkRGF0ZSwgbmV3TW9udGgsIG51bWJlck9mTW9udGhzKSkpIHtcbiAgICAgICAgICBmb2N1c2VkRGF0ZSA9IG5ld01vbnRoLmNsb25lKCkuc3RhcnRPZignbW9udGgnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmb2N1c2VkRGF0ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldEZvY3VzZWREYXk7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdzZXRNb250aFRpdGxlSGVpZ2h0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gc2V0TW9udGhUaXRsZUhlaWdodChtb250aFRpdGxlSGVpZ2h0KSB7XG4gICAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIG1vbnRoVGl0bGVIZWlnaHQ6IG1vbnRoVGl0bGVIZWlnaHRcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzMy5jYWxjdWxhdGVBbmRTZXREYXlQaWNrZXJIZWlnaHQoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZXRNb250aFRpdGxlSGVpZ2h0O1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnc2V0Q2FsZW5kYXJNb250aFdlZWtzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gc2V0Q2FsZW5kYXJNb250aFdlZWtzKGN1cnJlbnRNb250aCkge1xuICAgICAgICB2YXIgbnVtYmVyT2ZNb250aHMgPSB0aGlzLnByb3BzLm51bWJlck9mTW9udGhzO1xuXG5cbiAgICAgICAgdGhpcy5jYWxlbmRhck1vbnRoV2Vla3MgPSBbXTtcbiAgICAgICAgdmFyIG1vbnRoID0gY3VycmVudE1vbnRoLmNsb25lKCkuc3VidHJhY3QoMSwgJ21vbnRocycpO1xuICAgICAgICB2YXIgZmlyc3REYXlPZldlZWsgPSB0aGlzLmdldEZpcnN0RGF5T2ZXZWVrKCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtYmVyT2ZNb250aHMgKyAyOyBpICs9IDEpIHtcbiAgICAgICAgICB2YXIgbnVtYmVyT2ZXZWVrcyA9ICgwLCBfZ2V0TnVtYmVyT2ZDYWxlbmRhck1vbnRoV2Vla3MyWydkZWZhdWx0J10pKG1vbnRoLCBmaXJzdERheU9mV2Vlayk7XG4gICAgICAgICAgdGhpcy5jYWxlbmRhck1vbnRoV2Vla3MucHVzaChudW1iZXJPZldlZWtzKTtcbiAgICAgICAgICBtb250aCA9IG1vbnRoLmFkZCgxLCAnbW9udGhzJyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNldENhbGVuZGFyTW9udGhXZWVrcztcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ3NldENvbnRhaW5lclJlZicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIHNldENvbnRhaW5lclJlZihyZWYpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSByZWY7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZXRDb250YWluZXJSZWY7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdzZXRDYWxlbmRhckluZm9SZWYnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBzZXRDYWxlbmRhckluZm9SZWYocmVmKSB7XG4gICAgICAgIHRoaXMuY2FsZW5kYXJJbmZvID0gcmVmO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2V0Q2FsZW5kYXJJbmZvUmVmO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnc2V0VHJhbnNpdGlvbkNvbnRhaW5lclJlZicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIHNldFRyYW5zaXRpb25Db250YWluZXJSZWYocmVmKSB7XG4gICAgICAgIHRoaXMudHJhbnNpdGlvbkNvbnRhaW5lciA9IHJlZjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNldFRyYW5zaXRpb25Db250YWluZXJSZWY7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdtYXliZVRyYW5zaXRpb25OZXh0TW9udGgnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBtYXliZVRyYW5zaXRpb25OZXh0TW9udGgobmV3Rm9jdXNlZERhdGUpIHtcbiAgICAgICAgdmFyIG51bWJlck9mTW9udGhzID0gdGhpcy5wcm9wcy5udW1iZXJPZk1vbnRocztcbiAgICAgICAgdmFyIF9zdGF0ZTUgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgICAgY3VycmVudE1vbnRoID0gX3N0YXRlNS5jdXJyZW50TW9udGgsXG4gICAgICAgICAgICBmb2N1c2VkRGF0ZSA9IF9zdGF0ZTUuZm9jdXNlZERhdGU7XG5cblxuICAgICAgICB2YXIgbmV3Rm9jdXNlZERhdGVNb250aCA9IG5ld0ZvY3VzZWREYXRlLm1vbnRoKCk7XG4gICAgICAgIHZhciBmb2N1c2VkRGF0ZU1vbnRoID0gZm9jdXNlZERhdGUubW9udGgoKTtcbiAgICAgICAgdmFyIGlzTmV3Rm9jdXNlZERhdGVWaXNpYmxlID0gKDAsIF9pc0RheVZpc2libGUyWydkZWZhdWx0J10pKG5ld0ZvY3VzZWREYXRlLCBjdXJyZW50TW9udGgsIG51bWJlck9mTW9udGhzKTtcbiAgICAgICAgaWYgKG5ld0ZvY3VzZWREYXRlTW9udGggIT09IGZvY3VzZWREYXRlTW9udGggJiYgIWlzTmV3Rm9jdXNlZERhdGVWaXNpYmxlKSB7XG4gICAgICAgICAgdGhpcy5vbk5leHRNb250aENsaWNrKG5ld0ZvY3VzZWREYXRlKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1heWJlVHJhbnNpdGlvbk5leHRNb250aDtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ21heWJlVHJhbnNpdGlvblByZXZNb250aCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIG1heWJlVHJhbnNpdGlvblByZXZNb250aChuZXdGb2N1c2VkRGF0ZSkge1xuICAgICAgICB2YXIgbnVtYmVyT2ZNb250aHMgPSB0aGlzLnByb3BzLm51bWJlck9mTW9udGhzO1xuICAgICAgICB2YXIgX3N0YXRlNiA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgICBjdXJyZW50TW9udGggPSBfc3RhdGU2LmN1cnJlbnRNb250aCxcbiAgICAgICAgICAgIGZvY3VzZWREYXRlID0gX3N0YXRlNi5mb2N1c2VkRGF0ZTtcblxuXG4gICAgICAgIHZhciBuZXdGb2N1c2VkRGF0ZU1vbnRoID0gbmV3Rm9jdXNlZERhdGUubW9udGgoKTtcbiAgICAgICAgdmFyIGZvY3VzZWREYXRlTW9udGggPSBmb2N1c2VkRGF0ZS5tb250aCgpO1xuICAgICAgICB2YXIgaXNOZXdGb2N1c2VkRGF0ZVZpc2libGUgPSAoMCwgX2lzRGF5VmlzaWJsZTJbJ2RlZmF1bHQnXSkobmV3Rm9jdXNlZERhdGUsIGN1cnJlbnRNb250aCwgbnVtYmVyT2ZNb250aHMpO1xuICAgICAgICBpZiAobmV3Rm9jdXNlZERhdGVNb250aCAhPT0gZm9jdXNlZERhdGVNb250aCAmJiAhaXNOZXdGb2N1c2VkRGF0ZVZpc2libGUpIHtcbiAgICAgICAgICB0aGlzLm9uUHJldk1vbnRoQ2xpY2sobmV3Rm9jdXNlZERhdGUpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbWF5YmVUcmFuc2l0aW9uUHJldk1vbnRoO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnbXVsdGlwbHlTY3JvbGxhYmxlTW9udGhzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gbXVsdGlwbHlTY3JvbGxhYmxlTW9udGhzKGUpIHtcbiAgICAgICAgdmFyIG9uTXVsdGlwbHlTY3JvbGxhYmxlTW9udGhzID0gdGhpcy5wcm9wcy5vbk11bHRpcGx5U2Nyb2xsYWJsZU1vbnRocztcblxuICAgICAgICBpZiAoZSkgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIGlmIChvbk11bHRpcGx5U2Nyb2xsYWJsZU1vbnRocykgb25NdWx0aXBseVNjcm9sbGFibGVNb250aHMoZSk7XG5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiAoX3JlZikge1xuICAgICAgICAgIHZhciBzY3JvbGxhYmxlTW9udGhNdWx0aXBsZSA9IF9yZWYuc2Nyb2xsYWJsZU1vbnRoTXVsdGlwbGU7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNjcm9sbGFibGVNb250aE11bHRpcGxlOiBzY3JvbGxhYmxlTW9udGhNdWx0aXBsZSArIDFcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG11bHRpcGx5U2Nyb2xsYWJsZU1vbnRocztcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ2lzSG9yaXpvbnRhbCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGlzSG9yaXpvbnRhbCgpIHtcbiAgICAgICAgdmFyIG9yaWVudGF0aW9uID0gdGhpcy5wcm9wcy5vcmllbnRhdGlvbjtcblxuICAgICAgICByZXR1cm4gb3JpZW50YXRpb24gPT09IF9jb25zdGFudHMuSE9SSVpPTlRBTF9PUklFTlRBVElPTjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGlzSG9yaXpvbnRhbDtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ2lzVmVydGljYWwnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBpc1ZlcnRpY2FsKCkge1xuICAgICAgICB2YXIgb3JpZW50YXRpb24gPSB0aGlzLnByb3BzLm9yaWVudGF0aW9uO1xuXG4gICAgICAgIHJldHVybiBvcmllbnRhdGlvbiA9PT0gX2NvbnN0YW50cy5WRVJUSUNBTF9PUklFTlRBVElPTiB8fCBvcmllbnRhdGlvbiA9PT0gX2NvbnN0YW50cy5WRVJUSUNBTF9TQ1JPTExBQkxFO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaXNWZXJ0aWNhbDtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ3VwZGF0ZVN0YXRlQWZ0ZXJNb250aFRyYW5zaXRpb24nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiB1cGRhdGVTdGF0ZUFmdGVyTW9udGhUcmFuc2l0aW9uKCkge1xuICAgICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgICB2YXIgX3Byb3BzNyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBvblByZXZNb250aENsaWNrID0gX3Byb3BzNy5vblByZXZNb250aENsaWNrLFxuICAgICAgICAgICAgb25OZXh0TW9udGhDbGljayA9IF9wcm9wczcub25OZXh0TW9udGhDbGljayxcbiAgICAgICAgICAgIG51bWJlck9mTW9udGhzID0gX3Byb3BzNy5udW1iZXJPZk1vbnRocyxcbiAgICAgICAgICAgIG9uTW9udGhDaGFuZ2UgPSBfcHJvcHM3Lm9uTW9udGhDaGFuZ2UsXG4gICAgICAgICAgICBvblllYXJDaGFuZ2UgPSBfcHJvcHM3Lm9uWWVhckNoYW5nZSxcbiAgICAgICAgICAgIGlzUlRMID0gX3Byb3BzNy5pc1JUTDtcbiAgICAgICAgdmFyIF9zdGF0ZTcgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgICAgY3VycmVudE1vbnRoID0gX3N0YXRlNy5jdXJyZW50TW9udGgsXG4gICAgICAgICAgICBtb250aFRyYW5zaXRpb24gPSBfc3RhdGU3Lm1vbnRoVHJhbnNpdGlvbixcbiAgICAgICAgICAgIGZvY3VzZWREYXRlID0gX3N0YXRlNy5mb2N1c2VkRGF0ZSxcbiAgICAgICAgICAgIG5leHRGb2N1c2VkRGF0ZSA9IF9zdGF0ZTcubmV4dEZvY3VzZWREYXRlLFxuICAgICAgICAgICAgd2l0aE1vdXNlSW50ZXJhY3Rpb25zID0gX3N0YXRlNy53aXRoTW91c2VJbnRlcmFjdGlvbnMsXG4gICAgICAgICAgICBjYWxlbmRhck1vbnRoV2lkdGggPSBfc3RhdGU3LmNhbGVuZGFyTW9udGhXaWR0aDtcblxuXG4gICAgICAgIGlmICghbW9udGhUcmFuc2l0aW9uKSByZXR1cm47XG5cbiAgICAgICAgdmFyIG5ld01vbnRoID0gY3VycmVudE1vbnRoLmNsb25lKCk7XG4gICAgICAgIHZhciBmaXJzdERheU9mV2VlayA9IHRoaXMuZ2V0Rmlyc3REYXlPZldlZWsoKTtcbiAgICAgICAgaWYgKG1vbnRoVHJhbnNpdGlvbiA9PT0gUFJFVl9UUkFOU0lUSU9OKSB7XG4gICAgICAgICAgbmV3TW9udGguc3VidHJhY3QoMSwgJ21vbnRoJyk7XG4gICAgICAgICAgaWYgKG9uUHJldk1vbnRoQ2xpY2spIG9uUHJldk1vbnRoQ2xpY2sobmV3TW9udGgpO1xuICAgICAgICAgIHZhciBuZXdJbnZpc2libGVNb250aCA9IG5ld01vbnRoLmNsb25lKCkuc3VidHJhY3QoMSwgJ21vbnRoJyk7XG4gICAgICAgICAgdmFyIG51bWJlck9mV2Vla3MgPSAoMCwgX2dldE51bWJlck9mQ2FsZW5kYXJNb250aFdlZWtzMlsnZGVmYXVsdCddKShuZXdJbnZpc2libGVNb250aCwgZmlyc3REYXlPZldlZWspO1xuICAgICAgICAgIHRoaXMuY2FsZW5kYXJNb250aFdlZWtzID0gW251bWJlck9mV2Vla3NdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkodGhpcy5jYWxlbmRhck1vbnRoV2Vla3Muc2xpY2UoMCwgLTEpKSk7XG4gICAgICAgIH0gZWxzZSBpZiAobW9udGhUcmFuc2l0aW9uID09PSBORVhUX1RSQU5TSVRJT04pIHtcbiAgICAgICAgICBuZXdNb250aC5hZGQoMSwgJ21vbnRoJyk7XG4gICAgICAgICAgaWYgKG9uTmV4dE1vbnRoQ2xpY2spIG9uTmV4dE1vbnRoQ2xpY2sobmV3TW9udGgpO1xuICAgICAgICAgIHZhciBfbmV3SW52aXNpYmxlTW9udGggPSBuZXdNb250aC5jbG9uZSgpLmFkZChudW1iZXJPZk1vbnRocywgJ21vbnRoJyk7XG4gICAgICAgICAgdmFyIF9udW1iZXJPZldlZWtzID0gKDAsIF9nZXROdW1iZXJPZkNhbGVuZGFyTW9udGhXZWVrczJbJ2RlZmF1bHQnXSkoX25ld0ludmlzaWJsZU1vbnRoLCBmaXJzdERheU9mV2Vlayk7XG4gICAgICAgICAgdGhpcy5jYWxlbmRhck1vbnRoV2Vla3MgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KHRoaXMuY2FsZW5kYXJNb250aFdlZWtzLnNsaWNlKDEpKSwgW19udW1iZXJPZldlZWtzXSk7XG4gICAgICAgIH0gZWxzZSBpZiAobW9udGhUcmFuc2l0aW9uID09PSBNT05USF9TRUxFQ1RJT05fVFJBTlNJVElPTikge1xuICAgICAgICAgIGlmIChvbk1vbnRoQ2hhbmdlKSBvbk1vbnRoQ2hhbmdlKG5ld01vbnRoKTtcbiAgICAgICAgfSBlbHNlIGlmIChtb250aFRyYW5zaXRpb24gPT09IFlFQVJfU0VMRUNUSU9OX1RSQU5TSVRJT04pIHtcbiAgICAgICAgICBpZiAob25ZZWFyQ2hhbmdlKSBvblllYXJDaGFuZ2UobmV3TW9udGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG5ld0ZvY3VzZWREYXRlID0gbnVsbDtcbiAgICAgICAgaWYgKG5leHRGb2N1c2VkRGF0ZSkge1xuICAgICAgICAgIG5ld0ZvY3VzZWREYXRlID0gbmV4dEZvY3VzZWREYXRlO1xuICAgICAgICB9IGVsc2UgaWYgKCFmb2N1c2VkRGF0ZSAmJiAhd2l0aE1vdXNlSW50ZXJhY3Rpb25zKSB7XG4gICAgICAgICAgbmV3Rm9jdXNlZERhdGUgPSB0aGlzLmdldEZvY3VzZWREYXkobmV3TW9udGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgY3VycmVudE1vbnRoOiBuZXdNb250aCxcbiAgICAgICAgICBtb250aFRyYW5zaXRpb246IG51bGwsXG4gICAgICAgICAgdHJhbnNsYXRpb25WYWx1ZTogaXNSVEwgJiYgdGhpcy5pc0hvcml6b250YWwoKSA/IC1jYWxlbmRhck1vbnRoV2lkdGggOiAwLFxuICAgICAgICAgIG5leHRGb2N1c2VkRGF0ZTogbnVsbCxcbiAgICAgICAgICBmb2N1c2VkRGF0ZTogbmV3Rm9jdXNlZERhdGVcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIC8vIHdlIGRvbid0IHdhbnQgdG8gZm9jdXMgb24gdGhlIHJlbGV2YW50IGNhbGVuZGFyIGRheSBhZnRlciBhIG1vbnRoIHRyYW5zaXRpb25cbiAgICAgICAgICAvLyBpZiB0aGUgdXNlciBpcyBuYXZpZ2F0aW5nIGFyb3VuZCB1c2luZyBhIG1vdXNlXG4gICAgICAgICAgaWYgKHdpdGhNb3VzZUludGVyYWN0aW9ucykge1xuICAgICAgICAgICAgdmFyIGFjdGl2ZUVsZW1lbnQgPSAoMCwgX2dldEFjdGl2ZUVsZW1lbnQyWydkZWZhdWx0J10pKCk7XG4gICAgICAgICAgICBpZiAoYWN0aXZlRWxlbWVudCAmJiBhY3RpdmVFbGVtZW50ICE9PSBkb2N1bWVudC5ib2R5ICYmIF90aGlzNC5jb250YWluZXIuY29udGFpbnMoYWN0aXZlRWxlbWVudCkpIHtcbiAgICAgICAgICAgICAgYWN0aXZlRWxlbWVudC5ibHVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHVwZGF0ZVN0YXRlQWZ0ZXJNb250aFRyYW5zaXRpb247XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdhZGp1c3REYXlQaWNrZXJIZWlnaHQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBhZGp1c3REYXlQaWNrZXJIZWlnaHQobmV3TW9udGhIZWlnaHQpIHtcbiAgICAgICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgICAgICAgdmFyIG1vbnRoSGVpZ2h0ID0gbmV3TW9udGhIZWlnaHQgKyBNT05USF9QQURESU5HO1xuICAgICAgICBpZiAobW9udGhIZWlnaHQgIT09IHRoaXMuY2FsZW5kYXJNb250aEdyaWRIZWlnaHQpIHtcbiAgICAgICAgICB0aGlzLnRyYW5zaXRpb25Db250YWluZXIuc3R5bGUuaGVpZ2h0ID0gU3RyaW5nKG1vbnRoSGVpZ2h0KSArICdweCc7XG4gICAgICAgICAgaWYgKCF0aGlzLmNhbGVuZGFyTW9udGhHcmlkSGVpZ2h0KSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgX3RoaXM1LnNldFN0YXRlKHsgaGFzU2V0SGVpZ2h0OiB0cnVlIH0pO1xuICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuY2FsZW5kYXJNb250aEdyaWRIZWlnaHQgPSBtb250aEhlaWdodDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gYWRqdXN0RGF5UGlja2VySGVpZ2h0O1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnY2FsY3VsYXRlQW5kU2V0RGF5UGlja2VySGVpZ2h0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gY2FsY3VsYXRlQW5kU2V0RGF5UGlja2VySGVpZ2h0KCkge1xuICAgICAgICB2YXIgX3Byb3BzOCA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBkYXlTaXplID0gX3Byb3BzOC5kYXlTaXplLFxuICAgICAgICAgICAgbnVtYmVyT2ZNb250aHMgPSBfcHJvcHM4Lm51bWJlck9mTW9udGhzO1xuICAgICAgICB2YXIgbW9udGhUaXRsZUhlaWdodCA9IHRoaXMuc3RhdGUubW9udGhUaXRsZUhlaWdodDtcblxuXG4gICAgICAgIHZhciB2aXNpYmxlQ2FsZW5kYXJXZWVrcyA9IHRoaXMuY2FsZW5kYXJNb250aFdlZWtzLnNsaWNlKDEsIG51bWJlck9mTW9udGhzICsgMSk7XG4gICAgICAgIHZhciBjYWxlbmRhck1vbnRoV2Vla3NIZWlnaHQgPSBNYXRoLm1heC5hcHBseShNYXRoLCBbMF0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheSh2aXNpYmxlQ2FsZW5kYXJXZWVrcykpKSAqIChkYXlTaXplIC0gMSk7XG4gICAgICAgIHZhciBuZXdNb250aEhlaWdodCA9IG1vbnRoVGl0bGVIZWlnaHQgKyBjYWxlbmRhck1vbnRoV2Vla3NIZWlnaHQgKyAxO1xuXG4gICAgICAgIGlmICh0aGlzLmlzSG9yaXpvbnRhbCgpKSB7XG4gICAgICAgICAgdGhpcy5hZGp1c3REYXlQaWNrZXJIZWlnaHQobmV3TW9udGhIZWlnaHQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjYWxjdWxhdGVBbmRTZXREYXlQaWNrZXJIZWlnaHQ7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdvcGVuS2V5Ym9hcmRTaG9ydGN1dHNQYW5lbCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIG9wZW5LZXlib2FyZFNob3J0Y3V0c1BhbmVsKG9uQ2xvc2VDYWxsQmFjaykge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBzaG93S2V5Ym9hcmRTaG9ydGN1dHM6IHRydWUsXG4gICAgICAgICAgb25LZXlib2FyZFNob3J0Y3V0c1BhbmVsQ2xvc2U6IG9uQ2xvc2VDYWxsQmFja1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9wZW5LZXlib2FyZFNob3J0Y3V0c1BhbmVsO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnY2xvc2VLZXlib2FyZFNob3J0Y3V0c1BhbmVsJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gY2xvc2VLZXlib2FyZFNob3J0Y3V0c1BhbmVsKCkge1xuICAgICAgICB2YXIgb25LZXlib2FyZFNob3J0Y3V0c1BhbmVsQ2xvc2UgPSB0aGlzLnN0YXRlLm9uS2V5Ym9hcmRTaG9ydGN1dHNQYW5lbENsb3NlO1xuXG5cbiAgICAgICAgaWYgKG9uS2V5Ym9hcmRTaG9ydGN1dHNQYW5lbENsb3NlKSB7XG4gICAgICAgICAgb25LZXlib2FyZFNob3J0Y3V0c1BhbmVsQ2xvc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIG9uS2V5Ym9hcmRTaG9ydGN1dHNQYW5lbENsb3NlOiBudWxsLFxuICAgICAgICAgIHNob3dLZXlib2FyZFNob3J0Y3V0czogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjbG9zZUtleWJvYXJkU2hvcnRjdXRzUGFuZWw7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXJOYXZpZ2F0aW9uJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gcmVuZGVyTmF2aWdhdGlvbigpIHtcbiAgICAgICAgdmFyIF90aGlzNiA9IHRoaXM7XG5cbiAgICAgICAgdmFyIF9wcm9wczkgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgbmF2UHJldiA9IF9wcm9wczkubmF2UHJldixcbiAgICAgICAgICAgIG5hdk5leHQgPSBfcHJvcHM5Lm5hdk5leHQsXG4gICAgICAgICAgICBub05hdkJ1dHRvbnMgPSBfcHJvcHM5Lm5vTmF2QnV0dG9ucyxcbiAgICAgICAgICAgIG9yaWVudGF0aW9uID0gX3Byb3BzOS5vcmllbnRhdGlvbixcbiAgICAgICAgICAgIHBocmFzZXMgPSBfcHJvcHM5LnBocmFzZXMsXG4gICAgICAgICAgICBpc1JUTCA9IF9wcm9wczkuaXNSVEw7XG5cblxuICAgICAgICBpZiAobm9OYXZCdXR0b25zKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgb25OZXh0TW9udGhDbGljayA9IHZvaWQgMDtcbiAgICAgICAgaWYgKG9yaWVudGF0aW9uID09PSBfY29uc3RhbnRzLlZFUlRJQ0FMX1NDUk9MTEFCTEUpIHtcbiAgICAgICAgICBvbk5leHRNb250aENsaWNrID0gdGhpcy5tdWx0aXBseVNjcm9sbGFibGVNb250aHM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb25OZXh0TW9udGhDbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIG9uTmV4dE1vbnRoQ2xpY2soZSkge1xuICAgICAgICAgICAgICBfdGhpczYub25OZXh0TW9udGhDbGljayhudWxsLCBlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG9uTmV4dE1vbnRoQ2xpY2s7XG4gICAgICAgICAgfSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KF9EYXlQaWNrZXJOYXZpZ2F0aW9uMlsnZGVmYXVsdCddLCB7XG4gICAgICAgICAgb25QcmV2TW9udGhDbGljazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZnVuY3Rpb24gb25QcmV2TW9udGhDbGljayhlKSB7XG4gICAgICAgICAgICAgIF90aGlzNi5vblByZXZNb250aENsaWNrKG51bGwsIGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gb25QcmV2TW9udGhDbGljaztcbiAgICAgICAgICB9KCksXG4gICAgICAgICAgb25OZXh0TW9udGhDbGljazogb25OZXh0TW9udGhDbGljayxcbiAgICAgICAgICBuYXZQcmV2OiBuYXZQcmV2LFxuICAgICAgICAgIG5hdk5leHQ6IG5hdk5leHQsXG4gICAgICAgICAgb3JpZW50YXRpb246IG9yaWVudGF0aW9uLFxuICAgICAgICAgIHBocmFzZXM6IHBocmFzZXMsXG4gICAgICAgICAgaXNSVEw6IGlzUlRMXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVuZGVyTmF2aWdhdGlvbjtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ3JlbmRlcldlZWtIZWFkZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiByZW5kZXJXZWVrSGVhZGVyKGluZGV4KSB7XG4gICAgICAgIHZhciBfcHJvcHMxMCA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBkYXlTaXplID0gX3Byb3BzMTAuZGF5U2l6ZSxcbiAgICAgICAgICAgIGhvcml6b250YWxNb250aFBhZGRpbmcgPSBfcHJvcHMxMC5ob3Jpem9udGFsTW9udGhQYWRkaW5nLFxuICAgICAgICAgICAgb3JpZW50YXRpb24gPSBfcHJvcHMxMC5vcmllbnRhdGlvbixcbiAgICAgICAgICAgIHdlZWtEYXlGb3JtYXQgPSBfcHJvcHMxMC53ZWVrRGF5Rm9ybWF0LFxuICAgICAgICAgICAgc3R5bGVzID0gX3Byb3BzMTAuc3R5bGVzO1xuICAgICAgICB2YXIgY2FsZW5kYXJNb250aFdpZHRoID0gdGhpcy5zdGF0ZS5jYWxlbmRhck1vbnRoV2lkdGg7XG5cbiAgICAgICAgdmFyIHZlcnRpY2FsU2Nyb2xsYWJsZSA9IG9yaWVudGF0aW9uID09PSBfY29uc3RhbnRzLlZFUlRJQ0FMX1NDUk9MTEFCTEU7XG4gICAgICAgIHZhciBob3Jpem9udGFsU3R5bGUgPSB7XG4gICAgICAgICAgbGVmdDogaW5kZXggKiBjYWxlbmRhck1vbnRoV2lkdGhcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHZlcnRpY2FsU3R5bGUgPSB7XG4gICAgICAgICAgbWFyZ2luTGVmdDogLWNhbGVuZGFyTW9udGhXaWR0aCAvIDJcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgd2Vla0hlYWRlclN0eWxlID0ge307IC8vIG5vIHN0eWxlcyBhcHBsaWVkIHRvIHRoZSB2ZXJ0aWNhbC1zY3JvbGxhYmxlIG9yaWVudGF0aW9uXG4gICAgICAgIGlmICh0aGlzLmlzSG9yaXpvbnRhbCgpKSB7XG4gICAgICAgICAgd2Vla0hlYWRlclN0eWxlID0gaG9yaXpvbnRhbFN0eWxlO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNWZXJ0aWNhbCgpICYmICF2ZXJ0aWNhbFNjcm9sbGFibGUpIHtcbiAgICAgICAgICB3ZWVrSGVhZGVyU3R5bGUgPSB2ZXJ0aWNhbFN0eWxlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGZpcnN0RGF5T2ZXZWVrID0gdGhpcy5nZXRGaXJzdERheU9mV2VlaygpO1xuXG4gICAgICAgIHZhciBoZWFkZXIgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA3OyBpICs9IDEpIHtcbiAgICAgICAgICBoZWFkZXIucHVzaChfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdsaScsXG4gICAgICAgICAgICBfZXh0ZW5kcyh7IGtleTogaSB9LCAoMCwgX3JlYWN0V2l0aFN0eWxlcy5jc3MpKHN0eWxlcy5EYXlQaWNrZXJfd2Vla0hlYWRlcl9saSwgeyB3aWR0aDogZGF5U2l6ZSB9KSksXG4gICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgJ3NtYWxsJyxcbiAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgKDAsIF9tb21lbnQyWydkZWZhdWx0J10pKCkuZGF5KChpICsgZmlyc3REYXlPZldlZWspICUgNykuZm9ybWF0KHdlZWtEYXlGb3JtYXQpXG4gICAgICAgICAgICApXG4gICAgICAgICAgKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgX2V4dGVuZHMoe30sICgwLCBfcmVhY3RXaXRoU3R5bGVzLmNzcykoc3R5bGVzLkRheVBpY2tlcl93ZWVrSGVhZGVyLCB0aGlzLmlzVmVydGljYWwoKSAmJiBzdHlsZXMuRGF5UGlja2VyX3dlZWtIZWFkZXJfX3ZlcnRpY2FsLCB2ZXJ0aWNhbFNjcm9sbGFibGUgJiYgc3R5bGVzLkRheVBpY2tlcl93ZWVrSGVhZGVyX192ZXJ0aWNhbFNjcm9sbGFibGUsIHdlZWtIZWFkZXJTdHlsZSwgeyBwYWRkaW5nOiAnMCAnICsgU3RyaW5nKGhvcml6b250YWxNb250aFBhZGRpbmcpICsgJ3B4JyB9KSwge1xuICAgICAgICAgICAga2V5OiAnd2Vlay0nICsgU3RyaW5nKGluZGV4KVxuICAgICAgICAgIH0pLFxuICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgJ3VsJyxcbiAgICAgICAgICAgICgwLCBfcmVhY3RXaXRoU3R5bGVzLmNzcykoc3R5bGVzLkRheVBpY2tlcl93ZWVrSGVhZGVyX3VsKSxcbiAgICAgICAgICAgIGhlYWRlclxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlbmRlcldlZWtIZWFkZXI7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHZhciBfdGhpczcgPSB0aGlzO1xuXG4gICAgICAgIHZhciBfc3RhdGU4ID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICAgIGNhbGVuZGFyTW9udGhXaWR0aCA9IF9zdGF0ZTguY2FsZW5kYXJNb250aFdpZHRoLFxuICAgICAgICAgICAgY3VycmVudE1vbnRoID0gX3N0YXRlOC5jdXJyZW50TW9udGgsXG4gICAgICAgICAgICBtb250aFRyYW5zaXRpb24gPSBfc3RhdGU4Lm1vbnRoVHJhbnNpdGlvbixcbiAgICAgICAgICAgIHRyYW5zbGF0aW9uVmFsdWUgPSBfc3RhdGU4LnRyYW5zbGF0aW9uVmFsdWUsXG4gICAgICAgICAgICBzY3JvbGxhYmxlTW9udGhNdWx0aXBsZSA9IF9zdGF0ZTguc2Nyb2xsYWJsZU1vbnRoTXVsdGlwbGUsXG4gICAgICAgICAgICBmb2N1c2VkRGF0ZSA9IF9zdGF0ZTguZm9jdXNlZERhdGUsXG4gICAgICAgICAgICBzaG93S2V5Ym9hcmRTaG9ydGN1dHMgPSBfc3RhdGU4LnNob3dLZXlib2FyZFNob3J0Y3V0cyxcbiAgICAgICAgICAgIGlzVG91Y2ggPSBfc3RhdGU4LmlzVG91Y2hEZXZpY2UsXG4gICAgICAgICAgICBoYXNTZXRIZWlnaHQgPSBfc3RhdGU4Lmhhc1NldEhlaWdodCxcbiAgICAgICAgICAgIGNhbGVuZGFySW5mb1dpZHRoID0gX3N0YXRlOC5jYWxlbmRhckluZm9XaWR0aCxcbiAgICAgICAgICAgIG1vbnRoVGl0bGVIZWlnaHQgPSBfc3RhdGU4Lm1vbnRoVGl0bGVIZWlnaHQ7XG4gICAgICAgIHZhciBfcHJvcHMxMSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBlbmFibGVPdXRzaWRlRGF5cyA9IF9wcm9wczExLmVuYWJsZU91dHNpZGVEYXlzLFxuICAgICAgICAgICAgbnVtYmVyT2ZNb250aHMgPSBfcHJvcHMxMS5udW1iZXJPZk1vbnRocyxcbiAgICAgICAgICAgIG9yaWVudGF0aW9uID0gX3Byb3BzMTEub3JpZW50YXRpb24sXG4gICAgICAgICAgICBtb2RpZmllcnMgPSBfcHJvcHMxMS5tb2RpZmllcnMsXG4gICAgICAgICAgICB3aXRoUG9ydGFsID0gX3Byb3BzMTEud2l0aFBvcnRhbCxcbiAgICAgICAgICAgIG9uRGF5Q2xpY2sgPSBfcHJvcHMxMS5vbkRheUNsaWNrLFxuICAgICAgICAgICAgb25EYXlNb3VzZUVudGVyID0gX3Byb3BzMTEub25EYXlNb3VzZUVudGVyLFxuICAgICAgICAgICAgb25EYXlNb3VzZUxlYXZlID0gX3Byb3BzMTEub25EYXlNb3VzZUxlYXZlLFxuICAgICAgICAgICAgZmlyc3REYXlPZldlZWsgPSBfcHJvcHMxMS5maXJzdERheU9mV2VlayxcbiAgICAgICAgICAgIHJlbmRlck1vbnRoVGV4dCA9IF9wcm9wczExLnJlbmRlck1vbnRoVGV4dCxcbiAgICAgICAgICAgIHJlbmRlckNhbGVuZGFyRGF5ID0gX3Byb3BzMTEucmVuZGVyQ2FsZW5kYXJEYXksXG4gICAgICAgICAgICByZW5kZXJEYXlDb250ZW50cyA9IF9wcm9wczExLnJlbmRlckRheUNvbnRlbnRzLFxuICAgICAgICAgICAgcmVuZGVyQ2FsZW5kYXJJbmZvID0gX3Byb3BzMTEucmVuZGVyQ2FsZW5kYXJJbmZvLFxuICAgICAgICAgICAgcmVuZGVyTW9udGhFbGVtZW50ID0gX3Byb3BzMTEucmVuZGVyTW9udGhFbGVtZW50LFxuICAgICAgICAgICAgY2FsZW5kYXJJbmZvUG9zaXRpb24gPSBfcHJvcHMxMS5jYWxlbmRhckluZm9Qb3NpdGlvbixcbiAgICAgICAgICAgIGhpZGVLZXlib2FyZFNob3J0Y3V0c1BhbmVsID0gX3Byb3BzMTEuaGlkZUtleWJvYXJkU2hvcnRjdXRzUGFuZWwsXG4gICAgICAgICAgICBvbk91dHNpZGVDbGljayA9IF9wcm9wczExLm9uT3V0c2lkZUNsaWNrLFxuICAgICAgICAgICAgbW9udGhGb3JtYXQgPSBfcHJvcHMxMS5tb250aEZvcm1hdCxcbiAgICAgICAgICAgIGRheVNpemUgPSBfcHJvcHMxMS5kYXlTaXplLFxuICAgICAgICAgICAgaXNGb2N1c2VkID0gX3Byb3BzMTEuaXNGb2N1c2VkLFxuICAgICAgICAgICAgaXNSVEwgPSBfcHJvcHMxMS5pc1JUTCxcbiAgICAgICAgICAgIHN0eWxlcyA9IF9wcm9wczExLnN0eWxlcyxcbiAgICAgICAgICAgIHRoZW1lID0gX3Byb3BzMTEudGhlbWUsXG4gICAgICAgICAgICBwaHJhc2VzID0gX3Byb3BzMTEucGhyYXNlcyxcbiAgICAgICAgICAgIHZlcnRpY2FsSGVpZ2h0ID0gX3Byb3BzMTEudmVydGljYWxIZWlnaHQsXG4gICAgICAgICAgICBkYXlBcmlhTGFiZWxGb3JtYXQgPSBfcHJvcHMxMS5kYXlBcmlhTGFiZWxGb3JtYXQsXG4gICAgICAgICAgICBub0JvcmRlciA9IF9wcm9wczExLm5vQm9yZGVyLFxuICAgICAgICAgICAgdHJhbnNpdGlvbkR1cmF0aW9uID0gX3Byb3BzMTEudHJhbnNpdGlvbkR1cmF0aW9uLFxuICAgICAgICAgICAgdmVydGljYWxCb3JkZXJTcGFjaW5nID0gX3Byb3BzMTEudmVydGljYWxCb3JkZXJTcGFjaW5nLFxuICAgICAgICAgICAgaG9yaXpvbnRhbE1vbnRoUGFkZGluZyA9IF9wcm9wczExLmhvcml6b250YWxNb250aFBhZGRpbmc7XG4gICAgICAgIHZhciBkYXlQaWNrZXJIb3Jpem9udGFsUGFkZGluZyA9IHRoZW1lLnJlYWN0RGF0ZXMuc3BhY2luZy5kYXlQaWNrZXJIb3Jpem9udGFsUGFkZGluZztcblxuXG4gICAgICAgIHZhciBpc0hvcml6b250YWwgPSB0aGlzLmlzSG9yaXpvbnRhbCgpO1xuXG4gICAgICAgIHZhciBudW1PZldlZWtIZWFkZXJzID0gdGhpcy5pc1ZlcnRpY2FsKCkgPyAxIDogbnVtYmVyT2ZNb250aHM7XG4gICAgICAgIHZhciB3ZWVrSGVhZGVycyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bU9mV2Vla0hlYWRlcnM7IGkgKz0gMSkge1xuICAgICAgICAgIHdlZWtIZWFkZXJzLnB1c2godGhpcy5yZW5kZXJXZWVrSGVhZGVyKGkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB2ZXJ0aWNhbFNjcm9sbGFibGUgPSBvcmllbnRhdGlvbiA9PT0gX2NvbnN0YW50cy5WRVJUSUNBTF9TQ1JPTExBQkxFO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gdm9pZCAwO1xuICAgICAgICBpZiAoaXNIb3Jpem9udGFsKSB7XG4gICAgICAgICAgaGVpZ2h0ID0gdGhpcy5jYWxlbmRhck1vbnRoR3JpZEhlaWdodDtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmlzVmVydGljYWwoKSAmJiAhdmVydGljYWxTY3JvbGxhYmxlICYmICF3aXRoUG9ydGFsKSB7XG4gICAgICAgICAgLy8gSWYgdGhlIHVzZXIgZG9lc24ndCBzZXQgYSBkZXNpcmVkIGhlaWdodCxcbiAgICAgICAgICAvLyB3ZSBkZWZhdWx0IGJhY2sgdG8gdGhpcyBraW5kIG9mIG1hZGUtdXAgdmFsdWUgdGhhdCBnZW5lcmFsbHkgbG9va3MgZ29vZFxuICAgICAgICAgIGhlaWdodCA9IHZlcnRpY2FsSGVpZ2h0IHx8IDEuNzUgKiBjYWxlbmRhck1vbnRoV2lkdGg7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaXNDYWxlbmRhck1vbnRoR3JpZEFuaW1hdGluZyA9IG1vbnRoVHJhbnNpdGlvbiAhPT0gbnVsbDtcblxuICAgICAgICB2YXIgc2hvdWxkRm9jdXNEYXRlID0gIWlzQ2FsZW5kYXJNb250aEdyaWRBbmltYXRpbmcgJiYgaXNGb2N1c2VkO1xuXG4gICAgICAgIHZhciBrZXlib2FyZFNob3J0Y3V0QnV0dG9uTG9jYXRpb24gPSBfRGF5UGlja2VyS2V5Ym9hcmRTaG9ydGN1dHMuQk9UVE9NX1JJR0hUO1xuICAgICAgICBpZiAodGhpcy5pc1ZlcnRpY2FsKCkpIHtcbiAgICAgICAgICBrZXlib2FyZFNob3J0Y3V0QnV0dG9uTG9jYXRpb24gPSB3aXRoUG9ydGFsID8gX0RheVBpY2tlcktleWJvYXJkU2hvcnRjdXRzLlRPUF9MRUZUIDogX0RheVBpY2tlcktleWJvYXJkU2hvcnRjdXRzLlRPUF9SSUdIVDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzaG91bGRBbmltYXRlSGVpZ2h0ID0gaXNIb3Jpem9udGFsICYmIGhhc1NldEhlaWdodDtcblxuICAgICAgICB2YXIgY2FsZW5kYXJJbmZvUG9zaXRpb25Ub3AgPSBjYWxlbmRhckluZm9Qb3NpdGlvbiA9PT0gX2NvbnN0YW50cy5JTkZPX1BPU0lUSU9OX1RPUDtcbiAgICAgICAgdmFyIGNhbGVuZGFySW5mb1Bvc2l0aW9uQm90dG9tID0gY2FsZW5kYXJJbmZvUG9zaXRpb24gPT09IF9jb25zdGFudHMuSU5GT19QT1NJVElPTl9CT1RUT007XG4gICAgICAgIHZhciBjYWxlbmRhckluZm9Qb3NpdGlvbkJlZm9yZSA9IGNhbGVuZGFySW5mb1Bvc2l0aW9uID09PSBfY29uc3RhbnRzLklORk9fUE9TSVRJT05fQkVGT1JFO1xuICAgICAgICB2YXIgY2FsZW5kYXJJbmZvUG9zaXRpb25BZnRlciA9IGNhbGVuZGFySW5mb1Bvc2l0aW9uID09PSBfY29uc3RhbnRzLklORk9fUE9TSVRJT05fQUZURVI7XG4gICAgICAgIHZhciBjYWxlbmRhckluZm9Jc0lubGluZSA9IGNhbGVuZGFySW5mb1Bvc2l0aW9uQmVmb3JlIHx8IGNhbGVuZGFySW5mb1Bvc2l0aW9uQWZ0ZXI7XG5cbiAgICAgICAgdmFyIGNhbGVuZGFySW5mbyA9IHJlbmRlckNhbGVuZGFySW5mbyAmJiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICBfZXh0ZW5kcyh7XG4gICAgICAgICAgICByZWY6IHRoaXMuc2V0Q2FsZW5kYXJJbmZvUmVmXG4gICAgICAgICAgfSwgKDAsIF9yZWFjdFdpdGhTdHlsZXMuY3NzKShjYWxlbmRhckluZm9Jc0lubGluZSAmJiBzdHlsZXMuRGF5UGlja2VyX2NhbGVuZGFySW5mb19faG9yaXpvbnRhbCkpLFxuICAgICAgICAgIHJlbmRlckNhbGVuZGFySW5mbygpXG4gICAgICAgICk7XG5cbiAgICAgICAgdmFyIGNhbGVuZGFySW5mb1BhbmVsV2lkdGggPSByZW5kZXJDYWxlbmRhckluZm8gJiYgY2FsZW5kYXJJbmZvSXNJbmxpbmUgPyBjYWxlbmRhckluZm9XaWR0aCA6IDA7XG5cbiAgICAgICAgdmFyIGZpcnN0VmlzaWJsZU1vbnRoSW5kZXggPSB0aGlzLmdldEZpcnN0VmlzaWJsZUluZGV4KCk7XG4gICAgICAgIHZhciB3cmFwcGVySG9yaXpvbnRhbFdpZHRoID0gY2FsZW5kYXJNb250aFdpZHRoICogbnVtYmVyT2ZNb250aHMgKyAyICogZGF5UGlja2VySG9yaXpvbnRhbFBhZGRpbmc7XG4gICAgICAgIC8vIEFkZGluZyBgMXB4YCBiZWNhdXNlIG9mIHdoaXRlc3BhY2UgYmV0d2VlbiAyIGlubGluZS1ibG9ja1xuICAgICAgICB2YXIgZnVsbEhvcml6b250YWxXaWR0aCA9IHdyYXBwZXJIb3Jpem9udGFsV2lkdGggKyBjYWxlbmRhckluZm9QYW5lbFdpZHRoICsgMTtcblxuICAgICAgICB2YXIgdHJhbnNpdGlvbkNvbnRhaW5lclN0eWxlID0ge1xuICAgICAgICAgIHdpZHRoOiBpc0hvcml6b250YWwgJiYgd3JhcHBlckhvcml6b250YWxXaWR0aCxcbiAgICAgICAgICBoZWlnaHQ6IGhlaWdodFxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBkYXlQaWNrZXJXcmFwcGVyU3R5bGUgPSB7XG4gICAgICAgICAgd2lkdGg6IGlzSG9yaXpvbnRhbCAmJiB3cmFwcGVySG9yaXpvbnRhbFdpZHRoXG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGRheVBpY2tlclN0eWxlID0ge1xuICAgICAgICAgIHdpZHRoOiBpc0hvcml6b250YWwgJiYgZnVsbEhvcml6b250YWxXaWR0aCxcblxuICAgICAgICAgIC8vIFRoZXNlIHZhbHVlcyBhcmUgdG8gY2VudGVyIHRoZSBkYXRlcGlja2VyIChhcHByb3hpbWF0ZWx5KSBvbiB0aGUgcGFnZVxuICAgICAgICAgIG1hcmdpbkxlZnQ6IGlzSG9yaXpvbnRhbCAmJiB3aXRoUG9ydGFsID8gLWZ1bGxIb3Jpem9udGFsV2lkdGggLyAyIDogbnVsbCxcbiAgICAgICAgICBtYXJnaW5Ub3A6IGlzSG9yaXpvbnRhbCAmJiB3aXRoUG9ydGFsID8gLWNhbGVuZGFyTW9udGhXaWR0aCAvIDIgOiBudWxsXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIF9leHRlbmRzKHtcbiAgICAgICAgICAgIHJvbGU6ICdhcHBsaWNhdGlvbicsXG4gICAgICAgICAgICAnYXJpYS1sYWJlbCc6IHBocmFzZXMuY2FsZW5kYXJMYWJlbFxuICAgICAgICAgIH0sICgwLCBfcmVhY3RXaXRoU3R5bGVzLmNzcykoc3R5bGVzLkRheVBpY2tlciwgaXNIb3Jpem9udGFsICYmIHN0eWxlcy5EYXlQaWNrZXJfX2hvcml6b250YWwsIHZlcnRpY2FsU2Nyb2xsYWJsZSAmJiBzdHlsZXMuRGF5UGlja2VyX192ZXJ0aWNhbFNjcm9sbGFibGUsIGlzSG9yaXpvbnRhbCAmJiB3aXRoUG9ydGFsICYmIHN0eWxlcy5EYXlQaWNrZXJfcG9ydGFsX19ob3Jpem9udGFsLCB0aGlzLmlzVmVydGljYWwoKSAmJiB3aXRoUG9ydGFsICYmIHN0eWxlcy5EYXlQaWNrZXJfcG9ydGFsX192ZXJ0aWNhbCwgZGF5UGlja2VyU3R5bGUsICFtb250aFRpdGxlSGVpZ2h0ICYmIHN0eWxlcy5EYXlQaWNrZXJfX2hpZGRlbiwgIW5vQm9yZGVyICYmIHN0eWxlcy5EYXlQaWNrZXJfX3dpdGhCb3JkZXIpKSxcbiAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgIF9yZWFjdE91dHNpZGVDbGlja0hhbmRsZXIyWydkZWZhdWx0J10sXG4gICAgICAgICAgICB7IG9uT3V0c2lkZUNsaWNrOiBvbk91dHNpZGVDbGljayB9LFxuICAgICAgICAgICAgKGNhbGVuZGFySW5mb1Bvc2l0aW9uVG9wIHx8IGNhbGVuZGFySW5mb1Bvc2l0aW9uQmVmb3JlKSAmJiBjYWxlbmRhckluZm8sXG4gICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICgwLCBfcmVhY3RXaXRoU3R5bGVzLmNzcykoZGF5UGlja2VyV3JhcHBlclN0eWxlLCBjYWxlbmRhckluZm9Jc0lubGluZSAmJiBpc0hvcml6b250YWwgJiYgc3R5bGVzLkRheVBpY2tlcl93cmFwcGVyX19ob3Jpem9udGFsKSxcbiAgICAgICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgX2V4dGVuZHMoe30sICgwLCBfcmVhY3RXaXRoU3R5bGVzLmNzcykoc3R5bGVzLkRheVBpY2tlcl93ZWVrSGVhZGVycywgaXNIb3Jpem9udGFsICYmIHN0eWxlcy5EYXlQaWNrZXJfd2Vla0hlYWRlcnNfX2hvcml6b250YWwpLCB7XG4gICAgICAgICAgICAgICAgICAnYXJpYS1oaWRkZW4nOiAndHJ1ZScsXG4gICAgICAgICAgICAgICAgICByb2xlOiAncHJlc2VudGF0aW9uJ1xuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIHdlZWtIZWFkZXJzXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIF9leHRlbmRzKHt9LCAoMCwgX3JlYWN0V2l0aFN0eWxlcy5jc3MpKHN0eWxlcy5EYXlQaWNrZXJfZm9jdXNSZWdpb24pLCB7XG4gICAgICAgICAgICAgICAgICByZWY6IHRoaXMuc2V0Q29udGFpbmVyUmVmLFxuICAgICAgICAgICAgICAgICAgb25DbGljazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBvbkNsaWNrKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9uQ2xpY2s7XG4gICAgICAgICAgICAgICAgICB9KCksXG4gICAgICAgICAgICAgICAgICBvbktleURvd246IHRoaXMub25LZXlEb3duLFxuICAgICAgICAgICAgICAgICAgb25Nb3VzZVVwOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIG9uTW91c2VVcCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICBfdGhpczcuc2V0U3RhdGUoeyB3aXRoTW91c2VJbnRlcmFjdGlvbnM6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb25Nb3VzZVVwO1xuICAgICAgICAgICAgICAgICAgfSgpLFxuICAgICAgICAgICAgICAgICAgcm9sZTogJ3JlZ2lvbicsXG4gICAgICAgICAgICAgICAgICB0YWJJbmRleDogLTFcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAhdmVydGljYWxTY3JvbGxhYmxlICYmIHRoaXMucmVuZGVyTmF2aWdhdGlvbigpLFxuICAgICAgICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICAgICBfZXh0ZW5kcyh7fSwgKDAsIF9yZWFjdFdpdGhTdHlsZXMuY3NzKShzdHlsZXMuRGF5UGlja2VyX3RyYW5zaXRpb25Db250YWluZXIsIHNob3VsZEFuaW1hdGVIZWlnaHQgJiYgc3R5bGVzLkRheVBpY2tlcl90cmFuc2l0aW9uQ29udGFpbmVyX19ob3Jpem9udGFsLCB0aGlzLmlzVmVydGljYWwoKSAmJiBzdHlsZXMuRGF5UGlja2VyX3RyYW5zaXRpb25Db250YWluZXJfX3ZlcnRpY2FsLCB2ZXJ0aWNhbFNjcm9sbGFibGUgJiYgc3R5bGVzLkRheVBpY2tlcl90cmFuc2l0aW9uQ29udGFpbmVyX192ZXJ0aWNhbFNjcm9sbGFibGUsIHRyYW5zaXRpb25Db250YWluZXJTdHlsZSksIHtcbiAgICAgICAgICAgICAgICAgICAgcmVmOiB0aGlzLnNldFRyYW5zaXRpb25Db250YWluZXJSZWZcbiAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoX0NhbGVuZGFyTW9udGhHcmlkMlsnZGVmYXVsdCddLCB7XG4gICAgICAgICAgICAgICAgICAgIHNldE1vbnRoVGl0bGVIZWlnaHQ6ICFtb250aFRpdGxlSGVpZ2h0ID8gdGhpcy5zZXRNb250aFRpdGxlSGVpZ2h0IDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGlvblZhbHVlOiB0cmFuc2xhdGlvblZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBlbmFibGVPdXRzaWRlRGF5czogZW5hYmxlT3V0c2lkZURheXMsXG4gICAgICAgICAgICAgICAgICAgIGZpcnN0VmlzaWJsZU1vbnRoSW5kZXg6IGZpcnN0VmlzaWJsZU1vbnRoSW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxNb250aDogY3VycmVudE1vbnRoLFxuICAgICAgICAgICAgICAgICAgICBpc0FuaW1hdGluZzogaXNDYWxlbmRhck1vbnRoR3JpZEFuaW1hdGluZyxcbiAgICAgICAgICAgICAgICAgICAgbW9kaWZpZXJzOiBtb2RpZmllcnMsXG4gICAgICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uOiBvcmllbnRhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZNb250aHM6IG51bWJlck9mTW9udGhzICogc2Nyb2xsYWJsZU1vbnRoTXVsdGlwbGUsXG4gICAgICAgICAgICAgICAgICAgIG9uRGF5Q2xpY2s6IG9uRGF5Q2xpY2ssXG4gICAgICAgICAgICAgICAgICAgIG9uRGF5TW91c2VFbnRlcjogb25EYXlNb3VzZUVudGVyLFxuICAgICAgICAgICAgICAgICAgICBvbkRheU1vdXNlTGVhdmU6IG9uRGF5TW91c2VMZWF2ZSxcbiAgICAgICAgICAgICAgICAgICAgb25Nb250aENoYW5nZTogdGhpcy5vbk1vbnRoQ2hhbmdlLFxuICAgICAgICAgICAgICAgICAgICBvblllYXJDaGFuZ2U6IHRoaXMub25ZZWFyQ2hhbmdlLFxuICAgICAgICAgICAgICAgICAgICByZW5kZXJNb250aFRleHQ6IHJlbmRlck1vbnRoVGV4dCxcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyQ2FsZW5kYXJEYXk6IHJlbmRlckNhbGVuZGFyRGF5LFxuICAgICAgICAgICAgICAgICAgICByZW5kZXJEYXlDb250ZW50czogcmVuZGVyRGF5Q29udGVudHMsXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlck1vbnRoRWxlbWVudDogcmVuZGVyTW9udGhFbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICBvbk1vbnRoVHJhbnNpdGlvbkVuZDogdGhpcy51cGRhdGVTdGF0ZUFmdGVyTW9udGhUcmFuc2l0aW9uLFxuICAgICAgICAgICAgICAgICAgICBtb250aEZvcm1hdDogbW9udGhGb3JtYXQsXG4gICAgICAgICAgICAgICAgICAgIGRheVNpemU6IGRheVNpemUsXG4gICAgICAgICAgICAgICAgICAgIGZpcnN0RGF5T2ZXZWVrOiBmaXJzdERheU9mV2VlayxcbiAgICAgICAgICAgICAgICAgICAgaXNGb2N1c2VkOiBzaG91bGRGb2N1c0RhdGUsXG4gICAgICAgICAgICAgICAgICAgIGZvY3VzZWREYXRlOiBmb2N1c2VkRGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgcGhyYXNlczogcGhyYXNlcyxcbiAgICAgICAgICAgICAgICAgICAgaXNSVEw6IGlzUlRMLFxuICAgICAgICAgICAgICAgICAgICBkYXlBcmlhTGFiZWxGb3JtYXQ6IGRheUFyaWFMYWJlbEZvcm1hdCxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbkR1cmF0aW9uOiB0cmFuc2l0aW9uRHVyYXRpb24sXG4gICAgICAgICAgICAgICAgICAgIHZlcnRpY2FsQm9yZGVyU3BhY2luZzogdmVydGljYWxCb3JkZXJTcGFjaW5nLFxuICAgICAgICAgICAgICAgICAgICBob3Jpem9udGFsTW9udGhQYWRkaW5nOiBob3Jpem9udGFsTW9udGhQYWRkaW5nXG4gICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgIHZlcnRpY2FsU2Nyb2xsYWJsZSAmJiB0aGlzLnJlbmRlck5hdmlnYXRpb24oKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgIWlzVG91Y2ggJiYgIWhpZGVLZXlib2FyZFNob3J0Y3V0c1BhbmVsICYmIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KF9EYXlQaWNrZXJLZXlib2FyZFNob3J0Y3V0czJbJ2RlZmF1bHQnXSwge1xuICAgICAgICAgICAgICAgICAgYmxvY2s6IHRoaXMuaXNWZXJ0aWNhbCgpICYmICF3aXRoUG9ydGFsLFxuICAgICAgICAgICAgICAgICAgYnV0dG9uTG9jYXRpb246IGtleWJvYXJkU2hvcnRjdXRCdXR0b25Mb2NhdGlvbixcbiAgICAgICAgICAgICAgICAgIHNob3dLZXlib2FyZFNob3J0Y3V0c1BhbmVsOiBzaG93S2V5Ym9hcmRTaG9ydGN1dHMsXG4gICAgICAgICAgICAgICAgICBvcGVuS2V5Ym9hcmRTaG9ydGN1dHNQYW5lbDogdGhpcy5vcGVuS2V5Ym9hcmRTaG9ydGN1dHNQYW5lbCxcbiAgICAgICAgICAgICAgICAgIGNsb3NlS2V5Ym9hcmRTaG9ydGN1dHNQYW5lbDogdGhpcy5jbG9zZUtleWJvYXJkU2hvcnRjdXRzUGFuZWwsXG4gICAgICAgICAgICAgICAgICBwaHJhc2VzOiBwaHJhc2VzXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIChjYWxlbmRhckluZm9Qb3NpdGlvbkJvdHRvbSB8fCBjYWxlbmRhckluZm9Qb3NpdGlvbkFmdGVyKSAmJiBjYWxlbmRhckluZm9cbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZW5kZXI7XG4gICAgfSgpXG4gIH1dKTtcblxuICByZXR1cm4gRGF5UGlja2VyO1xufShfcmVhY3QyWydkZWZhdWx0J10uQ29tcG9uZW50KTtcblxuRGF5UGlja2VyLnByb3BUeXBlcyA9IHByb3BUeXBlcztcbkRheVBpY2tlci5kZWZhdWx0UHJvcHMgPSBkZWZhdWx0UHJvcHM7XG5cbmV4cG9ydHMuUHVyZURheVBpY2tlciA9IERheVBpY2tlcjtcbmV4cG9ydHNbJ2RlZmF1bHQnXSA9ICgwLCBfcmVhY3RXaXRoU3R5bGVzLndpdGhTdHlsZXMpKGZ1bmN0aW9uIChfcmVmMikge1xuICB2YXIgX3JlZjIkcmVhY3REYXRlcyA9IF9yZWYyLnJlYWN0RGF0ZXMsXG4gICAgICBjb2xvciA9IF9yZWYyJHJlYWN0RGF0ZXMuY29sb3IsXG4gICAgICBmb250ID0gX3JlZjIkcmVhY3REYXRlcy5mb250LFxuICAgICAgbm9TY3JvbGxCYXJPblZlcnRpY2FsU2Nyb2xsYWJsZSA9IF9yZWYyJHJlYWN0RGF0ZXMubm9TY3JvbGxCYXJPblZlcnRpY2FsU2Nyb2xsYWJsZSxcbiAgICAgIHNwYWNpbmcgPSBfcmVmMiRyZWFjdERhdGVzLnNwYWNpbmcsXG4gICAgICB6SW5kZXggPSBfcmVmMiRyZWFjdERhdGVzLnpJbmRleDtcbiAgcmV0dXJuIHtcbiAgICBEYXlQaWNrZXI6IHtcbiAgICAgIGJhY2tncm91bmQ6IGNvbG9yLmJhY2tncm91bmQsXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgIHRleHRBbGlnbjogJ2xlZnQnXG4gICAgfSxcblxuICAgIERheVBpY2tlcl9faG9yaXpvbnRhbDoge1xuICAgICAgYmFja2dyb3VuZDogY29sb3IuYmFja2dyb3VuZFxuICAgIH0sXG5cbiAgICBEYXlQaWNrZXJfX3ZlcnRpY2FsU2Nyb2xsYWJsZToge1xuICAgICAgaGVpZ2h0OiAnMTAwJSdcbiAgICB9LFxuXG4gICAgRGF5UGlja2VyX19oaWRkZW46IHtcbiAgICAgIHZpc2liaWxpdHk6ICdoaWRkZW4nXG4gICAgfSxcblxuICAgIERheVBpY2tlcl9fd2l0aEJvcmRlcjoge1xuICAgICAgYm94U2hhZG93OiAnMCAycHggNnB4IHJnYmEoMCwgMCwgMCwgMC4wNSksIDAgMCAwIDFweCByZ2JhKDAsIDAsIDAsIDAuMDcpJyxcbiAgICAgIGJvcmRlclJhZGl1czogM1xuICAgIH0sXG5cbiAgICBEYXlQaWNrZXJfcG9ydGFsX19ob3Jpem9udGFsOiB7XG4gICAgICBib3hTaGFkb3c6ICdub25lJyxcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgbGVmdDogJzUwJScsXG4gICAgICB0b3A6ICc1MCUnXG4gICAgfSxcblxuICAgIERheVBpY2tlcl9wb3J0YWxfX3ZlcnRpY2FsOiB7XG4gICAgICBwb3NpdGlvbjogJ2luaXRpYWwnXG4gICAgfSxcblxuICAgIERheVBpY2tlcl9mb2N1c1JlZ2lvbjoge1xuICAgICAgb3V0bGluZTogJ25vbmUnXG4gICAgfSxcblxuICAgIERheVBpY2tlcl9jYWxlbmRhckluZm9fX2hvcml6b250YWw6IHtcbiAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgdmVydGljYWxBbGlnbjogJ3RvcCdcbiAgICB9LFxuXG4gICAgRGF5UGlja2VyX3dyYXBwZXJfX2hvcml6b250YWw6IHtcbiAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgdmVydGljYWxBbGlnbjogJ3RvcCdcbiAgICB9LFxuXG4gICAgRGF5UGlja2VyX3dlZWtIZWFkZXJzOiB7XG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJ1xuICAgIH0sXG5cbiAgICBEYXlQaWNrZXJfd2Vla0hlYWRlcnNfX2hvcml6b250YWw6IHtcbiAgICAgIG1hcmdpbkxlZnQ6IHNwYWNpbmcuZGF5UGlja2VySG9yaXpvbnRhbFBhZGRpbmdcbiAgICB9LFxuXG4gICAgRGF5UGlja2VyX3dlZWtIZWFkZXI6IHtcbiAgICAgIGNvbG9yOiBjb2xvci5wbGFjZWhvbGRlclRleHQsXG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIHRvcDogNjIsXG4gICAgICB6SW5kZXg6IHpJbmRleCArIDIsXG4gICAgICB0ZXh0QWxpZ246ICdsZWZ0J1xuICAgIH0sXG5cbiAgICBEYXlQaWNrZXJfd2Vla0hlYWRlcl9fdmVydGljYWw6IHtcbiAgICAgIGxlZnQ6ICc1MCUnXG4gICAgfSxcblxuICAgIERheVBpY2tlcl93ZWVrSGVhZGVyX192ZXJ0aWNhbFNjcm9sbGFibGU6IHtcbiAgICAgIHRvcDogMCxcbiAgICAgIGRpc3BsYXk6ICd0YWJsZS1yb3cnLFxuICAgICAgYm9yZGVyQm90dG9tOiAnMXB4IHNvbGlkICcgKyBTdHJpbmcoY29sb3IuY29yZS5ib3JkZXIpLFxuICAgICAgYmFja2dyb3VuZDogY29sb3IuYmFja2dyb3VuZCxcbiAgICAgIG1hcmdpbkxlZnQ6IDAsXG4gICAgICBsZWZ0OiAwLFxuICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgIHRleHRBbGlnbjogJ2NlbnRlcidcbiAgICB9LFxuXG4gICAgRGF5UGlja2VyX3dlZWtIZWFkZXJfdWw6IHtcbiAgICAgIGxpc3RTdHlsZTogJ25vbmUnLFxuICAgICAgbWFyZ2luOiAnMXB4IDAnLFxuICAgICAgcGFkZGluZ0xlZnQ6IDAsXG4gICAgICBwYWRkaW5nUmlnaHQ6IDAsXG4gICAgICBmb250U2l6ZTogZm9udC5zaXplXG4gICAgfSxcblxuICAgIERheVBpY2tlcl93ZWVrSGVhZGVyX2xpOiB7XG4gICAgICBkaXNwbGF5OiAnaW5saW5lLWJsb2NrJyxcbiAgICAgIHRleHRBbGlnbjogJ2NlbnRlcidcbiAgICB9LFxuXG4gICAgRGF5UGlja2VyX3RyYW5zaXRpb25Db250YWluZXI6IHtcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICAgICAgYm9yZGVyUmFkaXVzOiAzXG4gICAgfSxcblxuICAgIERheVBpY2tlcl90cmFuc2l0aW9uQ29udGFpbmVyX19ob3Jpem9udGFsOiB7XG4gICAgICB0cmFuc2l0aW9uOiAnaGVpZ2h0IDAuMnMgZWFzZS1pbi1vdXQnXG4gICAgfSxcblxuICAgIERheVBpY2tlcl90cmFuc2l0aW9uQ29udGFpbmVyX192ZXJ0aWNhbDoge1xuICAgICAgd2lkdGg6ICcxMDAlJ1xuICAgIH0sXG5cbiAgICBEYXlQaWNrZXJfdHJhbnNpdGlvbkNvbnRhaW5lcl9fdmVydGljYWxTY3JvbGxhYmxlOiAoMCwgX29iamVjdDJbJ2RlZmF1bHQnXSkoe1xuICAgICAgcGFkZGluZ1RvcDogMjAsXG4gICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgdG9wOiAwLFxuICAgICAgYm90dG9tOiAwLFxuICAgICAgcmlnaHQ6IDAsXG4gICAgICBsZWZ0OiAwLFxuICAgICAgb3ZlcmZsb3dZOiAnc2Nyb2xsJ1xuICAgIH0sIG5vU2Nyb2xsQmFyT25WZXJ0aWNhbFNjcm9sbGFibGUgJiYge1xuICAgICAgJy13ZWJraXRPdmVyZmxvd1Njcm9sbGluZyc6ICd0b3VjaCcsXG4gICAgICAnOjotd2Via2l0LXNjcm9sbGJhcic6IHtcbiAgICAgICAgJy13ZWJraXQtYXBwZWFyYW5jZSc6ICdub25lJyxcbiAgICAgICAgZGlzcGxheTogJ25vbmUnXG4gICAgICB9XG4gICAgfSlcbiAgfTtcbn0pKERheVBpY2tlcik7IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5CT1RUT01fUklHSFQgPSBleHBvcnRzLlRPUF9SSUdIVCA9IGV4cG9ydHMuVE9QX0xFRlQgPSB1bmRlZmluZWQ7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfb2JqZWN0ID0gcmVxdWlyZSgnb2JqZWN0LmFzc2lnbicpO1xuXG52YXIgX29iamVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3QpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX2FpcmJuYlByb3BUeXBlcyA9IHJlcXVpcmUoJ2FpcmJuYi1wcm9wLXR5cGVzJyk7XG5cbnZhciBfcmVhY3RXaXRoU3R5bGVzID0gcmVxdWlyZSgncmVhY3Qtd2l0aC1zdHlsZXMnKTtcblxudmFyIF9kZWZhdWx0UGhyYXNlcyA9IHJlcXVpcmUoJy4uL2RlZmF1bHRQaHJhc2VzJyk7XG5cbnZhciBfZ2V0UGhyYXNlUHJvcFR5cGVzID0gcmVxdWlyZSgnLi4vdXRpbHMvZ2V0UGhyYXNlUHJvcFR5cGVzJyk7XG5cbnZhciBfZ2V0UGhyYXNlUHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFBocmFzZVByb3BUeXBlcyk7XG5cbnZhciBfS2V5Ym9hcmRTaG9ydGN1dFJvdyA9IHJlcXVpcmUoJy4vS2V5Ym9hcmRTaG9ydGN1dFJvdycpO1xuXG52YXIgX0tleWJvYXJkU2hvcnRjdXRSb3cyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfS2V5Ym9hcmRTaG9ydGN1dFJvdyk7XG5cbnZhciBfQ2xvc2VCdXR0b24gPSByZXF1aXJlKCcuL0Nsb3NlQnV0dG9uJyk7XG5cbnZhciBfQ2xvc2VCdXR0b24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2xvc2VCdXR0b24pO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFRPUF9MRUZUID0gZXhwb3J0cy5UT1BfTEVGVCA9ICd0b3AtbGVmdCc7XG52YXIgVE9QX1JJR0hUID0gZXhwb3J0cy5UT1BfUklHSFQgPSAndG9wLXJpZ2h0JztcbnZhciBCT1RUT01fUklHSFQgPSBleHBvcnRzLkJPVFRPTV9SSUdIVCA9ICdib3R0b20tcmlnaHQnO1xuXG52YXIgcHJvcFR5cGVzID0gKDAsIF9haXJibmJQcm9wVHlwZXMuZm9yYmlkRXh0cmFQcm9wcykoKDAsIF9vYmplY3QyWydkZWZhdWx0J10pKHt9LCBfcmVhY3RXaXRoU3R5bGVzLndpdGhTdHlsZXNQcm9wVHlwZXMsIHtcbiAgYmxvY2s6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbCxcbiAgYnV0dG9uTG9jYXRpb246IF9wcm9wVHlwZXMyWydkZWZhdWx0J10ub25lT2YoW1RPUF9MRUZULCBUT1BfUklHSFQsIEJPVFRPTV9SSUdIVF0pLFxuICBzaG93S2V5Ym9hcmRTaG9ydGN1dHNQYW5lbDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ib29sLFxuICBvcGVuS2V5Ym9hcmRTaG9ydGN1dHNQYW5lbDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuICBjbG9zZUtleWJvYXJkU2hvcnRjdXRzUGFuZWw6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYyxcbiAgcGhyYXNlczogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zaGFwZSgoMCwgX2dldFBocmFzZVByb3BUeXBlczJbJ2RlZmF1bHQnXSkoX2RlZmF1bHRQaHJhc2VzLkRheVBpY2tlcktleWJvYXJkU2hvcnRjdXRzUGhyYXNlcykpXG59KSk7XG5cbnZhciBkZWZhdWx0UHJvcHMgPSB7XG4gIGJsb2NrOiBmYWxzZSxcbiAgYnV0dG9uTG9jYXRpb246IEJPVFRPTV9SSUdIVCxcbiAgc2hvd0tleWJvYXJkU2hvcnRjdXRzUGFuZWw6IGZhbHNlLFxuICBvcGVuS2V5Ym9hcmRTaG9ydGN1dHNQYW5lbDogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIG9wZW5LZXlib2FyZFNob3J0Y3V0c1BhbmVsKCkge31cblxuICAgIHJldHVybiBvcGVuS2V5Ym9hcmRTaG9ydGN1dHNQYW5lbDtcbiAgfSgpLFxuICBjbG9zZUtleWJvYXJkU2hvcnRjdXRzUGFuZWw6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBjbG9zZUtleWJvYXJkU2hvcnRjdXRzUGFuZWwoKSB7fVxuXG4gICAgcmV0dXJuIGNsb3NlS2V5Ym9hcmRTaG9ydGN1dHNQYW5lbDtcbiAgfSgpLFxuXG4gIHBocmFzZXM6IF9kZWZhdWx0UGhyYXNlcy5EYXlQaWNrZXJLZXlib2FyZFNob3J0Y3V0c1BocmFzZXNcbn07XG5cbmZ1bmN0aW9uIGdldEtleWJvYXJkU2hvcnRjdXRzKHBocmFzZXMpIHtcbiAgcmV0dXJuIFt7XG4gICAgdW5pY29kZTogJ+KGtScsXG4gICAgbGFiZWw6IHBocmFzZXMuZW50ZXJLZXksXG4gICAgYWN0aW9uOiBwaHJhc2VzLnNlbGVjdEZvY3VzZWREYXRlXG4gIH0sIHtcbiAgICB1bmljb2RlOiAn4oaQL+KGkicsXG4gICAgbGFiZWw6IHBocmFzZXMubGVmdEFycm93UmlnaHRBcnJvdyxcbiAgICBhY3Rpb246IHBocmFzZXMubW92ZUZvY3VzQnlPbmVEYXlcbiAgfSwge1xuICAgIHVuaWNvZGU6ICfihpEv4oaTJyxcbiAgICBsYWJlbDogcGhyYXNlcy51cEFycm93RG93bkFycm93LFxuICAgIGFjdGlvbjogcGhyYXNlcy5tb3ZlRm9jdXNCeU9uZVdlZWtcbiAgfSwge1xuICAgIHVuaWNvZGU6ICdQZ1VwL1BnRG4nLFxuICAgIGxhYmVsOiBwaHJhc2VzLnBhZ2VVcFBhZ2VEb3duLFxuICAgIGFjdGlvbjogcGhyYXNlcy5tb3ZlRm9jdXNCeU9uZU1vbnRoXG4gIH0sIHtcbiAgICB1bmljb2RlOiAnSG9tZS9FbmQnLFxuICAgIGxhYmVsOiBwaHJhc2VzLmhvbWVFbmQsXG4gICAgYWN0aW9uOiBwaHJhc2VzLm1vdmVGb2N1c3RvU3RhcnRBbmRFbmRPZldlZWtcbiAgfSwge1xuICAgIHVuaWNvZGU6ICdFc2MnLFxuICAgIGxhYmVsOiBwaHJhc2VzLmVzY2FwZSxcbiAgICBhY3Rpb246IHBocmFzZXMucmV0dXJuRm9jdXNUb0lucHV0XG4gIH0sIHtcbiAgICB1bmljb2RlOiAnPycsXG4gICAgbGFiZWw6IHBocmFzZXMucXVlc3Rpb25NYXJrLFxuICAgIGFjdGlvbjogcGhyYXNlcy5vcGVuVGhpc1BhbmVsXG4gIH1dO1xufVxuXG52YXIgRGF5UGlja2VyS2V5Ym9hcmRTaG9ydGN1dHMgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoRGF5UGlja2VyS2V5Ym9hcmRTaG9ydGN1dHMsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIERheVBpY2tlcktleWJvYXJkU2hvcnRjdXRzKCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIERheVBpY2tlcktleWJvYXJkU2hvcnRjdXRzKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChfcmVmID0gRGF5UGlja2VyS2V5Ym9hcmRTaG9ydGN1dHMuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihEYXlQaWNrZXJLZXlib2FyZFNob3J0Y3V0cykpLmNhbGwuYXBwbHkoX3JlZiwgW3RoaXNdLmNvbmNhdChhcmdzKSkpO1xuXG4gICAgdmFyIHBocmFzZXMgPSBfdGhpcy5wcm9wcy5waHJhc2VzO1xuXG4gICAgX3RoaXMua2V5Ym9hcmRTaG9ydGN1dHMgPSBnZXRLZXlib2FyZFNob3J0Y3V0cyhwaHJhc2VzKTtcblxuICAgIF90aGlzLm9uU2hvd0tleWJvYXJkU2hvcnRjdXRzQnV0dG9uQ2xpY2sgPSBfdGhpcy5vblNob3dLZXlib2FyZFNob3J0Y3V0c0J1dHRvbkNsaWNrLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLnNldFNob3dLZXlib2FyZFNob3J0Y3V0c0J1dHRvblJlZiA9IF90aGlzLnNldFNob3dLZXlib2FyZFNob3J0Y3V0c0J1dHRvblJlZi5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5zZXRIaWRlS2V5Ym9hcmRTaG9ydGN1dHNCdXR0b25SZWYgPSBfdGhpcy5zZXRIaWRlS2V5Ym9hcmRTaG9ydGN1dHNCdXR0b25SZWYuYmluZChfdGhpcyk7XG4gICAgX3RoaXMuaGFuZGxlRm9jdXMgPSBfdGhpcy5oYW5kbGVGb2N1cy5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5vbktleURvd24gPSBfdGhpcy5vbktleURvd24uYmluZChfdGhpcyk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKERheVBpY2tlcktleWJvYXJkU2hvcnRjdXRzLCBbe1xuICAgIGtleTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgICB2YXIgcGhyYXNlcyA9IHRoaXMucHJvcHMucGhyYXNlcztcblxuICAgICAgICBpZiAobmV4dFByb3BzLnBocmFzZXMgIT09IHBocmFzZXMpIHtcbiAgICAgICAgICB0aGlzLmtleWJvYXJkU2hvcnRjdXRzID0gZ2V0S2V5Ym9hcmRTaG9ydGN1dHMobmV4dFByb3BzLnBocmFzZXMpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50RGlkVXBkYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgICAgICB0aGlzLmhhbmRsZUZvY3VzKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb21wb25lbnREaWRVcGRhdGU7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdvbktleURvd24nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBvbktleURvd24oZSkge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgIHZhciBjbG9zZUtleWJvYXJkU2hvcnRjdXRzUGFuZWwgPSB0aGlzLnByb3BzLmNsb3NlS2V5Ym9hcmRTaG9ydGN1dHNQYW5lbDtcbiAgICAgICAgLy8gQmVjYXVzZSB0aGUgY2xvc2UgYnV0dG9uIGlzIHRoZSBvbmx5IGZvY3VzYWJsZSBlbGVtZW50IGluc2lkZSBvZiB0aGUgcGFuZWwsIHRoaXNcbiAgICAgICAgLy8gYW1vdW50cyB0byBhIHZlcnkgYmFzaWMgZm9jdXMgdHJhcC4gVGhlIHVzZXIgY2FuIGV4aXQgdGhlIHBhbmVsIGJ5IFwicHJlc3NpbmdcIiB0aGVcbiAgICAgICAgLy8gY2xvc2UgYnV0dG9uIG9yIGhpdHRpbmcgZXNjYXBlXG5cbiAgICAgICAgc3dpdGNoIChlLmtleSkge1xuICAgICAgICAgIGNhc2UgJ0VudGVyJzpcbiAgICAgICAgICBjYXNlICcgJzpcbiAgICAgICAgICBjYXNlICdTcGFjZWJhcic6IC8vIGZvciBvbGRlciBicm93c2Vyc1xuICAgICAgICAgIGNhc2UgJ0VzY2FwZSc6XG4gICAgICAgICAgICBjbG9zZUtleWJvYXJkU2hvcnRjdXRzUGFuZWwoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgLy8gZG8gbm90aGluZyAtIHRoaXMgYWxsb3dzIHRoZSB1cCBhbmQgZG93biBhcnJvd3MgY29udGludWUgdGhlaXJcbiAgICAgICAgICAvLyBkZWZhdWx0IGJlaGF2aW9yIG9mIHNjcm9sbGluZyB0aGUgY29udGVudCBvZiB0aGUgS2V5Ym9hcmQgU2hvcnRjdXRzIFBhbmVsXG4gICAgICAgICAgLy8gd2hpY2ggaXMgbmVlZGVkIHdoZW4gb25seSBhIHNpbmdsZSBtb250aCBpcyBzaG93biBmb3IgaW5zdGFuY2UuXG4gICAgICAgICAgY2FzZSAnQXJyb3dVcCc6XG4gICAgICAgICAgY2FzZSAnQXJyb3dEb3duJzpcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgLy8gY29tcGxldGVseSBibG9jayB0aGUgcmVzdCBvZiB0aGUga2V5cyB0aGF0IGhhdmUgZnVuY3Rpb25hbGl0eSBvdXRzaWRlIG9mIHRoaXMgcGFuZWxcbiAgICAgICAgICBjYXNlICdUYWInOlxuICAgICAgICAgIGNhc2UgJ0hvbWUnOlxuICAgICAgICAgIGNhc2UgJ0VuZCc6XG4gICAgICAgICAgY2FzZSAnUGFnZVVwJzpcbiAgICAgICAgICBjYXNlICdQYWdlRG93bic6XG4gICAgICAgICAgY2FzZSAnQXJyb3dMZWZ0JzpcbiAgICAgICAgICBjYXNlICdBcnJvd1JpZ2h0JzpcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvbktleURvd247XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdvblNob3dLZXlib2FyZFNob3J0Y3V0c0J1dHRvbkNsaWNrJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gb25TaG93S2V5Ym9hcmRTaG9ydGN1dHNCdXR0b25DbGljaygpIHtcbiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgdmFyIG9wZW5LZXlib2FyZFNob3J0Y3V0c1BhbmVsID0gdGhpcy5wcm9wcy5vcGVuS2V5Ym9hcmRTaG9ydGN1dHNQYW5lbDtcblxuICAgICAgICAvLyB3ZSB3YW50IHRvIHJldHVybiBmb2N1cyB0byB0aGlzIGJ1dHRvbiBhZnRlciBjbG9zaW5nIHRoZSBrZXlib2FyZCBzaG9ydGN1dHMgcGFuZWxcblxuICAgICAgICBvcGVuS2V5Ym9hcmRTaG9ydGN1dHNQYW5lbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgX3RoaXMyLnNob3dLZXlib2FyZFNob3J0Y3V0c0J1dHRvbi5mb2N1cygpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9uU2hvd0tleWJvYXJkU2hvcnRjdXRzQnV0dG9uQ2xpY2s7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdzZXRTaG93S2V5Ym9hcmRTaG9ydGN1dHNCdXR0b25SZWYnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBzZXRTaG93S2V5Ym9hcmRTaG9ydGN1dHNCdXR0b25SZWYocmVmKSB7XG4gICAgICAgIHRoaXMuc2hvd0tleWJvYXJkU2hvcnRjdXRzQnV0dG9uID0gcmVmO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2V0U2hvd0tleWJvYXJkU2hvcnRjdXRzQnV0dG9uUmVmO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnc2V0SGlkZUtleWJvYXJkU2hvcnRjdXRzQnV0dG9uUmVmJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gc2V0SGlkZUtleWJvYXJkU2hvcnRjdXRzQnV0dG9uUmVmKHJlZikge1xuICAgICAgICB0aGlzLmhpZGVLZXlib2FyZFNob3J0Y3V0c0J1dHRvbiA9IHJlZjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNldEhpZGVLZXlib2FyZFNob3J0Y3V0c0J1dHRvblJlZjtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ2hhbmRsZUZvY3VzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gaGFuZGxlRm9jdXMoKSB7XG4gICAgICAgIGlmICh0aGlzLmhpZGVLZXlib2FyZFNob3J0Y3V0c0J1dHRvbikge1xuICAgICAgICAgIC8vIGF1dG9tYXRpY2FsbHkgbW92ZSBmb2N1cyBpbnRvIHRoZSBkaWFsb2cgYnkgbW92aW5nXG4gICAgICAgICAgLy8gdG8gdGhlIG9ubHkgaW50ZXJhY3RpdmUgZWxlbWVudCwgdGhlIGhpZGUgYnV0dG9uXG4gICAgICAgICAgdGhpcy5oaWRlS2V5Ym9hcmRTaG9ydGN1dHNCdXR0b24uZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gaGFuZGxlRm9jdXM7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgYmxvY2sgPSBfcHJvcHMuYmxvY2ssXG4gICAgICAgICAgICBidXR0b25Mb2NhdGlvbiA9IF9wcm9wcy5idXR0b25Mb2NhdGlvbixcbiAgICAgICAgICAgIHNob3dLZXlib2FyZFNob3J0Y3V0c1BhbmVsID0gX3Byb3BzLnNob3dLZXlib2FyZFNob3J0Y3V0c1BhbmVsLFxuICAgICAgICAgICAgY2xvc2VLZXlib2FyZFNob3J0Y3V0c1BhbmVsID0gX3Byb3BzLmNsb3NlS2V5Ym9hcmRTaG9ydGN1dHNQYW5lbCxcbiAgICAgICAgICAgIHN0eWxlcyA9IF9wcm9wcy5zdHlsZXMsXG4gICAgICAgICAgICBwaHJhc2VzID0gX3Byb3BzLnBocmFzZXM7XG5cblxuICAgICAgICB2YXIgdG9nZ2xlQnV0dG9uVGV4dCA9IHNob3dLZXlib2FyZFNob3J0Y3V0c1BhbmVsID8gcGhyYXNlcy5oaWRlS2V5Ym9hcmRTaG9ydGN1dHNQYW5lbCA6IHBocmFzZXMuc2hvd0tleWJvYXJkU2hvcnRjdXRzUGFuZWw7XG5cbiAgICAgICAgdmFyIGJvdHRvbVJpZ2h0ID0gYnV0dG9uTG9jYXRpb24gPT09IEJPVFRPTV9SSUdIVDtcbiAgICAgICAgdmFyIHRvcFJpZ2h0ID0gYnV0dG9uTG9jYXRpb24gPT09IFRPUF9SSUdIVDtcbiAgICAgICAgdmFyIHRvcExlZnQgPSBidXR0b25Mb2NhdGlvbiA9PT0gVE9QX0xFRlQ7XG5cbiAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAnYnV0dG9uJyxcbiAgICAgICAgICAgIF9leHRlbmRzKHtcbiAgICAgICAgICAgICAgcmVmOiB0aGlzLnNldFNob3dLZXlib2FyZFNob3J0Y3V0c0J1dHRvblJlZlxuICAgICAgICAgICAgfSwgKDAsIF9yZWFjdFdpdGhTdHlsZXMuY3NzKShzdHlsZXMuRGF5UGlja2VyS2V5Ym9hcmRTaG9ydGN1dHNfYnV0dG9uUmVzZXQsIHN0eWxlcy5EYXlQaWNrZXJLZXlib2FyZFNob3J0Y3V0c19zaG93LCBib3R0b21SaWdodCAmJiBzdHlsZXMuRGF5UGlja2VyS2V5Ym9hcmRTaG9ydGN1dHNfc2hvd19fYm90dG9tUmlnaHQsIHRvcFJpZ2h0ICYmIHN0eWxlcy5EYXlQaWNrZXJLZXlib2FyZFNob3J0Y3V0c19zaG93X190b3BSaWdodCwgdG9wTGVmdCAmJiBzdHlsZXMuRGF5UGlja2VyS2V5Ym9hcmRTaG9ydGN1dHNfc2hvd19fdG9wTGVmdCksIHtcbiAgICAgICAgICAgICAgdHlwZTogJ2J1dHRvbicsXG4gICAgICAgICAgICAgICdhcmlhLWxhYmVsJzogdG9nZ2xlQnV0dG9uVGV4dCxcbiAgICAgICAgICAgICAgb25DbGljazogdGhpcy5vblNob3dLZXlib2FyZFNob3J0Y3V0c0J1dHRvbkNsaWNrLFxuICAgICAgICAgICAgICBvbktleURvd246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBvbktleURvd24oZSkge1xuICAgICAgICAgICAgICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZS5rZXkgPT09ICdTcGFjZScpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMzLm9uU2hvd0tleWJvYXJkU2hvcnRjdXRzQnV0dG9uQ2xpY2soZSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9uS2V5RG93bjtcbiAgICAgICAgICAgICAgfSgpLFxuICAgICAgICAgICAgICBvbk1vdXNlVXA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBvbk1vdXNlVXAoZSkge1xuICAgICAgICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LmJsdXIoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gb25Nb3VzZVVwO1xuICAgICAgICAgICAgICB9KClcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgKDAsIF9yZWFjdFdpdGhTdHlsZXMuY3NzKShzdHlsZXMuRGF5UGlja2VyS2V5Ym9hcmRTaG9ydGN1dHNfc2hvd1NwYW4sIGJvdHRvbVJpZ2h0ICYmIHN0eWxlcy5EYXlQaWNrZXJLZXlib2FyZFNob3J0Y3V0c19zaG93U3Bhbl9fYm90dG9tUmlnaHQsIHRvcFJpZ2h0ICYmIHN0eWxlcy5EYXlQaWNrZXJLZXlib2FyZFNob3J0Y3V0c19zaG93U3Bhbl9fdG9wUmlnaHQsIHRvcExlZnQgJiYgc3R5bGVzLkRheVBpY2tlcktleWJvYXJkU2hvcnRjdXRzX3Nob3dTcGFuX190b3BMZWZ0KSxcbiAgICAgICAgICAgICAgJz8nXG4gICAgICAgICAgICApXG4gICAgICAgICAgKSxcbiAgICAgICAgICBzaG93S2V5Ym9hcmRTaG9ydGN1dHNQYW5lbCAmJiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgX2V4dGVuZHMoe30sICgwLCBfcmVhY3RXaXRoU3R5bGVzLmNzcykoc3R5bGVzLkRheVBpY2tlcktleWJvYXJkU2hvcnRjdXRzX3BhbmVsKSwge1xuICAgICAgICAgICAgICByb2xlOiAnZGlhbG9nJyxcbiAgICAgICAgICAgICAgJ2FyaWEtbGFiZWxsZWRieSc6ICdEYXlQaWNrZXJLZXlib2FyZFNob3J0Y3V0c190aXRsZScsXG4gICAgICAgICAgICAgICdhcmlhLWRlc2NyaWJlZGJ5JzogJ0RheVBpY2tlcktleWJvYXJkU2hvcnRjdXRzX2Rlc2NyaXB0aW9uJ1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgIF9leHRlbmRzKHt9LCAoMCwgX3JlYWN0V2l0aFN0eWxlcy5jc3MpKHN0eWxlcy5EYXlQaWNrZXJLZXlib2FyZFNob3J0Y3V0c190aXRsZSksIHtcbiAgICAgICAgICAgICAgICBpZDogJ0RheVBpY2tlcktleWJvYXJkU2hvcnRjdXRzX3RpdGxlJ1xuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgcGhyYXNlcy5rZXlib2FyZFNob3J0Y3V0c1xuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAnYnV0dG9uJyxcbiAgICAgICAgICAgICAgX2V4dGVuZHMoe1xuICAgICAgICAgICAgICAgIHJlZjogdGhpcy5zZXRIaWRlS2V5Ym9hcmRTaG9ydGN1dHNCdXR0b25SZWZcbiAgICAgICAgICAgICAgfSwgKDAsIF9yZWFjdFdpdGhTdHlsZXMuY3NzKShzdHlsZXMuRGF5UGlja2VyS2V5Ym9hcmRTaG9ydGN1dHNfYnV0dG9uUmVzZXQsIHN0eWxlcy5EYXlQaWNrZXJLZXlib2FyZFNob3J0Y3V0c19jbG9zZSksIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnYnV0dG9uJyxcbiAgICAgICAgICAgICAgICB0YWJJbmRleDogJzAnLFxuICAgICAgICAgICAgICAgICdhcmlhLWxhYmVsJzogcGhyYXNlcy5oaWRlS2V5Ym9hcmRTaG9ydGN1dHNQYW5lbCxcbiAgICAgICAgICAgICAgICBvbkNsaWNrOiBjbG9zZUtleWJvYXJkU2hvcnRjdXRzUGFuZWwsXG4gICAgICAgICAgICAgICAgb25LZXlEb3duOiB0aGlzLm9uS2V5RG93blxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoX0Nsb3NlQnV0dG9uMlsnZGVmYXVsdCddLCAoMCwgX3JlYWN0V2l0aFN0eWxlcy5jc3MpKHN0eWxlcy5EYXlQaWNrZXJLZXlib2FyZFNob3J0Y3V0c19jbG9zZVN2ZykpXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICd1bCcsXG4gICAgICAgICAgICAgIF9leHRlbmRzKHt9LCAoMCwgX3JlYWN0V2l0aFN0eWxlcy5jc3MpKHN0eWxlcy5EYXlQaWNrZXJLZXlib2FyZFNob3J0Y3V0c19saXN0KSwge1xuICAgICAgICAgICAgICAgIGlkOiAnRGF5UGlja2VyS2V5Ym9hcmRTaG9ydGN1dHNfZGVzY3JpcHRpb24nXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICB0aGlzLmtleWJvYXJkU2hvcnRjdXRzLm1hcChmdW5jdGlvbiAoX3JlZjIpIHtcbiAgICAgICAgICAgICAgICB2YXIgdW5pY29kZSA9IF9yZWYyLnVuaWNvZGUsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsID0gX3JlZjIubGFiZWwsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbiA9IF9yZWYyLmFjdGlvbjtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoX0tleWJvYXJkU2hvcnRjdXRSb3cyWydkZWZhdWx0J10sIHtcbiAgICAgICAgICAgICAgICAgIGtleTogbGFiZWwsXG4gICAgICAgICAgICAgICAgICB1bmljb2RlOiB1bmljb2RlLFxuICAgICAgICAgICAgICAgICAgbGFiZWw6IGxhYmVsLFxuICAgICAgICAgICAgICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICAgICAgICAgICAgICBibG9jazogYmxvY2tcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZW5kZXI7XG4gICAgfSgpXG4gIH1dKTtcblxuICByZXR1cm4gRGF5UGlja2VyS2V5Ym9hcmRTaG9ydGN1dHM7XG59KF9yZWFjdDJbJ2RlZmF1bHQnXS5Db21wb25lbnQpO1xuXG5EYXlQaWNrZXJLZXlib2FyZFNob3J0Y3V0cy5wcm9wVHlwZXMgPSBwcm9wVHlwZXM7XG5EYXlQaWNrZXJLZXlib2FyZFNob3J0Y3V0cy5kZWZhdWx0UHJvcHMgPSBkZWZhdWx0UHJvcHM7XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9ICgwLCBfcmVhY3RXaXRoU3R5bGVzLndpdGhTdHlsZXMpKGZ1bmN0aW9uIChfcmVmMykge1xuICB2YXIgX3JlZjMkcmVhY3REYXRlcyA9IF9yZWYzLnJlYWN0RGF0ZXMsXG4gICAgICBjb2xvciA9IF9yZWYzJHJlYWN0RGF0ZXMuY29sb3IsXG4gICAgICBmb250ID0gX3JlZjMkcmVhY3REYXRlcy5mb250LFxuICAgICAgekluZGV4ID0gX3JlZjMkcmVhY3REYXRlcy56SW5kZXg7XG4gIHJldHVybiB7XG4gICAgRGF5UGlja2VyS2V5Ym9hcmRTaG9ydGN1dHNfYnV0dG9uUmVzZXQ6IHtcbiAgICAgIGJhY2tncm91bmQ6ICdub25lJyxcbiAgICAgIGJvcmRlcjogMCxcbiAgICAgIGJvcmRlclJhZGl1czogMCxcbiAgICAgIGNvbG9yOiAnaW5oZXJpdCcsXG4gICAgICBmb250OiAnaW5oZXJpdCcsXG4gICAgICBsaW5lSGVpZ2h0OiAnbm9ybWFsJyxcbiAgICAgIG92ZXJmbG93OiAndmlzaWJsZScsXG4gICAgICBwYWRkaW5nOiAwLFxuICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICBmb250U2l6ZTogZm9udC5zaXplLFxuXG4gICAgICAnOmFjdGl2ZSc6IHtcbiAgICAgICAgb3V0bGluZTogJ25vbmUnXG4gICAgICB9XG4gICAgfSxcblxuICAgIERheVBpY2tlcktleWJvYXJkU2hvcnRjdXRzX3Nob3c6IHtcbiAgICAgIHdpZHRoOiAyMixcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgekluZGV4OiB6SW5kZXggKyAyXG4gICAgfSxcblxuICAgIERheVBpY2tlcktleWJvYXJkU2hvcnRjdXRzX3Nob3dfX2JvdHRvbVJpZ2h0OiB7XG4gICAgICBib3JkZXJUb3A6ICcyNnB4IHNvbGlkIHRyYW5zcGFyZW50JyxcbiAgICAgIGJvcmRlclJpZ2h0OiAnMzNweCBzb2xpZCAnICsgU3RyaW5nKGNvbG9yLmNvcmUucHJpbWFyeSksXG4gICAgICBib3R0b206IDAsXG4gICAgICByaWdodDogMCxcblxuICAgICAgJzpob3Zlcic6IHtcbiAgICAgICAgYm9yZGVyUmlnaHQ6ICczM3B4IHNvbGlkICcgKyBTdHJpbmcoY29sb3IuY29yZS5wcmltYXJ5X2RhcmspXG4gICAgICB9XG4gICAgfSxcblxuICAgIERheVBpY2tlcktleWJvYXJkU2hvcnRjdXRzX3Nob3dfX3RvcFJpZ2h0OiB7XG4gICAgICBib3JkZXJCb3R0b206ICcyNnB4IHNvbGlkIHRyYW5zcGFyZW50JyxcbiAgICAgIGJvcmRlclJpZ2h0OiAnMzNweCBzb2xpZCAnICsgU3RyaW5nKGNvbG9yLmNvcmUucHJpbWFyeSksXG4gICAgICB0b3A6IDAsXG4gICAgICByaWdodDogMCxcblxuICAgICAgJzpob3Zlcic6IHtcbiAgICAgICAgYm9yZGVyUmlnaHQ6ICczM3B4IHNvbGlkICcgKyBTdHJpbmcoY29sb3IuY29yZS5wcmltYXJ5X2RhcmspXG4gICAgICB9XG4gICAgfSxcblxuICAgIERheVBpY2tlcktleWJvYXJkU2hvcnRjdXRzX3Nob3dfX3RvcExlZnQ6IHtcbiAgICAgIGJvcmRlckJvdHRvbTogJzI2cHggc29saWQgdHJhbnNwYXJlbnQnLFxuICAgICAgYm9yZGVyTGVmdDogJzMzcHggc29saWQgJyArIFN0cmluZyhjb2xvci5jb3JlLnByaW1hcnkpLFxuICAgICAgdG9wOiAwLFxuICAgICAgbGVmdDogMCxcblxuICAgICAgJzpob3Zlcic6IHtcbiAgICAgICAgYm9yZGVyTGVmdDogJzMzcHggc29saWQgJyArIFN0cmluZyhjb2xvci5jb3JlLnByaW1hcnlfZGFyaylcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgRGF5UGlja2VyS2V5Ym9hcmRTaG9ydGN1dHNfc2hvd1NwYW46IHtcbiAgICAgIGNvbG9yOiBjb2xvci5jb3JlLndoaXRlLFxuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZSdcbiAgICB9LFxuXG4gICAgRGF5UGlja2VyS2V5Ym9hcmRTaG9ydGN1dHNfc2hvd1NwYW5fX2JvdHRvbVJpZ2h0OiB7XG4gICAgICBib3R0b206IDAsXG4gICAgICByaWdodDogLTI4XG4gICAgfSxcblxuICAgIERheVBpY2tlcktleWJvYXJkU2hvcnRjdXRzX3Nob3dTcGFuX190b3BSaWdodDoge1xuICAgICAgdG9wOiAxLFxuICAgICAgcmlnaHQ6IC0yOFxuICAgIH0sXG5cbiAgICBEYXlQaWNrZXJLZXlib2FyZFNob3J0Y3V0c19zaG93U3Bhbl9fdG9wTGVmdDoge1xuICAgICAgdG9wOiAxLFxuICAgICAgbGVmdDogLTI4XG4gICAgfSxcblxuICAgIERheVBpY2tlcktleWJvYXJkU2hvcnRjdXRzX3BhbmVsOiB7XG4gICAgICBvdmVyZmxvdzogJ2F1dG8nLFxuICAgICAgYmFja2dyb3VuZDogY29sb3IuYmFja2dyb3VuZCxcbiAgICAgIGJvcmRlcjogJzFweCBzb2xpZCAnICsgU3RyaW5nKGNvbG9yLmNvcmUuYm9yZGVyKSxcbiAgICAgIGJvcmRlclJhZGl1czogMixcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgdG9wOiAwLFxuICAgICAgYm90dG9tOiAwLFxuICAgICAgcmlnaHQ6IDAsXG4gICAgICBsZWZ0OiAwLFxuICAgICAgekluZGV4OiB6SW5kZXggKyAyLFxuICAgICAgcGFkZGluZzogMjIsXG4gICAgICBtYXJnaW46IDMzXG4gICAgfSxcblxuICAgIERheVBpY2tlcktleWJvYXJkU2hvcnRjdXRzX3RpdGxlOiB7XG4gICAgICBmb250U2l6ZTogMTYsXG4gICAgICBmb250V2VpZ2h0OiAnYm9sZCcsXG4gICAgICBtYXJnaW46IDBcbiAgICB9LFxuXG4gICAgRGF5UGlja2VyS2V5Ym9hcmRTaG9ydGN1dHNfbGlzdDoge1xuICAgICAgbGlzdFN0eWxlOiAnbm9uZScsXG4gICAgICBwYWRkaW5nOiAwLFxuICAgICAgZm9udFNpemU6IGZvbnQuc2l6ZVxuICAgIH0sXG5cbiAgICBEYXlQaWNrZXJLZXlib2FyZFNob3J0Y3V0c19jbG9zZToge1xuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICByaWdodDogMjIsXG4gICAgICB0b3A6IDIyLFxuICAgICAgekluZGV4OiB6SW5kZXggKyAyLFxuXG4gICAgICAnOmFjdGl2ZSc6IHtcbiAgICAgICAgb3V0bGluZTogJ25vbmUnXG4gICAgICB9XG4gICAgfSxcblxuICAgIERheVBpY2tlcktleWJvYXJkU2hvcnRjdXRzX2Nsb3NlU3ZnOiB7XG4gICAgICBoZWlnaHQ6IDE1LFxuICAgICAgd2lkdGg6IDE1LFxuICAgICAgZmlsbDogY29sb3IuY29yZS5ncmF5TGlnaHRlcixcblxuICAgICAgJzpob3Zlcic6IHtcbiAgICAgICAgZmlsbDogY29sb3IuY29yZS5ncmF5TGlnaHRcbiAgICAgIH0sXG5cbiAgICAgICc6Zm9jdXMnOiB7XG4gICAgICAgIGZpbGw6IGNvbG9yLmNvcmUuZ3JheUxpZ2h0XG4gICAgICB9XG4gICAgfVxuICB9O1xufSkoRGF5UGlja2VyS2V5Ym9hcmRTaG9ydGN1dHMpOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF9vYmplY3QgPSByZXF1aXJlKCdvYmplY3QuYXNzaWduJyk7XG5cbnZhciBfb2JqZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdCk7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfYWlyYm5iUHJvcFR5cGVzID0gcmVxdWlyZSgnYWlyYm5iLXByb3AtdHlwZXMnKTtcblxudmFyIF9yZWFjdFdpdGhTdHlsZXMgPSByZXF1aXJlKCdyZWFjdC13aXRoLXN0eWxlcycpO1xuXG52YXIgX2RlZmF1bHRQaHJhc2VzID0gcmVxdWlyZSgnLi4vZGVmYXVsdFBocmFzZXMnKTtcblxudmFyIF9nZXRQaHJhc2VQcm9wVHlwZXMgPSByZXF1aXJlKCcuLi91dGlscy9nZXRQaHJhc2VQcm9wVHlwZXMnKTtcblxudmFyIF9nZXRQaHJhc2VQcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UGhyYXNlUHJvcFR5cGVzKTtcblxudmFyIF9MZWZ0QXJyb3cgPSByZXF1aXJlKCcuL0xlZnRBcnJvdycpO1xuXG52YXIgX0xlZnRBcnJvdzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9MZWZ0QXJyb3cpO1xuXG52YXIgX1JpZ2h0QXJyb3cgPSByZXF1aXJlKCcuL1JpZ2h0QXJyb3cnKTtcblxudmFyIF9SaWdodEFycm93MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JpZ2h0QXJyb3cpO1xuXG52YXIgX0NoZXZyb25VcCA9IHJlcXVpcmUoJy4vQ2hldnJvblVwJyk7XG5cbnZhciBfQ2hldnJvblVwMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NoZXZyb25VcCk7XG5cbnZhciBfQ2hldnJvbkRvd24gPSByZXF1aXJlKCcuL0NoZXZyb25Eb3duJyk7XG5cbnZhciBfQ2hldnJvbkRvd24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2hldnJvbkRvd24pO1xuXG52YXIgX1Njcm9sbGFibGVPcmllbnRhdGlvblNoYXBlID0gcmVxdWlyZSgnLi4vc2hhcGVzL1Njcm9sbGFibGVPcmllbnRhdGlvblNoYXBlJyk7XG5cbnZhciBfU2Nyb2xsYWJsZU9yaWVudGF0aW9uU2hhcGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2Nyb2xsYWJsZU9yaWVudGF0aW9uU2hhcGUpO1xuXG52YXIgX2NvbnN0YW50cyA9IHJlcXVpcmUoJy4uL2NvbnN0YW50cycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IEFycmF5KGFyci5sZW5ndGgpOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7IGFycjJbaV0gPSBhcnJbaV07IH0gcmV0dXJuIGFycjI7IH0gZWxzZSB7IHJldHVybiBBcnJheS5mcm9tKGFycik7IH0gfVxuXG52YXIgcHJvcFR5cGVzID0gKDAsIF9haXJibmJQcm9wVHlwZXMuZm9yYmlkRXh0cmFQcm9wcykoKDAsIF9vYmplY3QyWydkZWZhdWx0J10pKHt9LCBfcmVhY3RXaXRoU3R5bGVzLndpdGhTdHlsZXNQcm9wVHlwZXMsIHtcbiAgbmF2UHJldjogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ub2RlLFxuICBuYXZOZXh0OiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLm5vZGUsXG4gIG9yaWVudGF0aW9uOiBfU2Nyb2xsYWJsZU9yaWVudGF0aW9uU2hhcGUyWydkZWZhdWx0J10sXG5cbiAgb25QcmV2TW9udGhDbGljazogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuICBvbk5leHRNb250aENsaWNrOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsXG5cbiAgLy8gaW50ZXJuYXRpb25hbGl6YXRpb25cbiAgcGhyYXNlczogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zaGFwZSgoMCwgX2dldFBocmFzZVByb3BUeXBlczJbJ2RlZmF1bHQnXSkoX2RlZmF1bHRQaHJhc2VzLkRheVBpY2tlck5hdmlnYXRpb25QaHJhc2VzKSksXG5cbiAgaXNSVEw6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbFxufSkpO1xuXG52YXIgZGVmYXVsdFByb3BzID0ge1xuICBuYXZQcmV2OiBudWxsLFxuICBuYXZOZXh0OiBudWxsLFxuICBvcmllbnRhdGlvbjogX2NvbnN0YW50cy5IT1JJWk9OVEFMX09SSUVOVEFUSU9OLFxuXG4gIG9uUHJldk1vbnRoQ2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBvblByZXZNb250aENsaWNrKCkge31cblxuICAgIHJldHVybiBvblByZXZNb250aENsaWNrO1xuICB9KCksXG4gIG9uTmV4dE1vbnRoQ2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBvbk5leHRNb250aENsaWNrKCkge31cblxuICAgIHJldHVybiBvbk5leHRNb250aENsaWNrO1xuICB9KCksXG5cblxuICAvLyBpbnRlcm5hdGlvbmFsaXphdGlvblxuICBwaHJhc2VzOiBfZGVmYXVsdFBocmFzZXMuRGF5UGlja2VyTmF2aWdhdGlvblBocmFzZXMsXG4gIGlzUlRMOiBmYWxzZVxufTtcblxuZnVuY3Rpb24gRGF5UGlja2VyTmF2aWdhdGlvbihfcmVmKSB7XG4gIHZhciBuYXZQcmV2ID0gX3JlZi5uYXZQcmV2LFxuICAgICAgbmF2TmV4dCA9IF9yZWYubmF2TmV4dCxcbiAgICAgIG9uUHJldk1vbnRoQ2xpY2sgPSBfcmVmLm9uUHJldk1vbnRoQ2xpY2ssXG4gICAgICBvbk5leHRNb250aENsaWNrID0gX3JlZi5vbk5leHRNb250aENsaWNrLFxuICAgICAgb3JpZW50YXRpb24gPSBfcmVmLm9yaWVudGF0aW9uLFxuICAgICAgcGhyYXNlcyA9IF9yZWYucGhyYXNlcyxcbiAgICAgIGlzUlRMID0gX3JlZi5pc1JUTCxcbiAgICAgIHN0eWxlcyA9IF9yZWYuc3R5bGVzO1xuXG4gIHZhciBpc0hvcml6b250YWwgPSBvcmllbnRhdGlvbiA9PT0gX2NvbnN0YW50cy5IT1JJWk9OVEFMX09SSUVOVEFUSU9OO1xuICB2YXIgaXNWZXJ0aWNhbCA9IG9yaWVudGF0aW9uICE9PSBfY29uc3RhbnRzLkhPUklaT05UQUxfT1JJRU5UQVRJT047XG4gIHZhciBpc1ZlcnRpY2FsU2Nyb2xsYWJsZSA9IG9yaWVudGF0aW9uID09PSBfY29uc3RhbnRzLlZFUlRJQ0FMX1NDUk9MTEFCTEU7XG5cbiAgdmFyIG5hdlByZXZJY29uID0gbmF2UHJldjtcbiAgdmFyIG5hdk5leHRJY29uID0gbmF2TmV4dDtcbiAgdmFyIGlzRGVmYXVsdE5hdlByZXYgPSBmYWxzZTtcbiAgdmFyIGlzRGVmYXVsdE5hdk5leHQgPSBmYWxzZTtcbiAgaWYgKCFuYXZQcmV2SWNvbikge1xuICAgIGlzRGVmYXVsdE5hdlByZXYgPSB0cnVlO1xuICAgIHZhciBJY29uID0gaXNWZXJ0aWNhbCA/IF9DaGV2cm9uVXAyWydkZWZhdWx0J10gOiBfTGVmdEFycm93MlsnZGVmYXVsdCddO1xuICAgIGlmIChpc1JUTCAmJiAhaXNWZXJ0aWNhbCkge1xuICAgICAgSWNvbiA9IF9SaWdodEFycm93MlsnZGVmYXVsdCddO1xuICAgIH1cbiAgICBuYXZQcmV2SWNvbiA9IF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KEljb24sICgwLCBfcmVhY3RXaXRoU3R5bGVzLmNzcykoaXNIb3Jpem9udGFsICYmIHN0eWxlcy5EYXlQaWNrZXJOYXZpZ2F0aW9uX3N2Z19faG9yaXpvbnRhbCwgaXNWZXJ0aWNhbCAmJiBzdHlsZXMuRGF5UGlja2VyTmF2aWdhdGlvbl9zdmdfX3ZlcnRpY2FsKSk7XG4gIH1cblxuICBpZiAoIW5hdk5leHRJY29uKSB7XG4gICAgaXNEZWZhdWx0TmF2TmV4dCA9IHRydWU7XG4gICAgdmFyIF9JY29uID0gaXNWZXJ0aWNhbCA/IF9DaGV2cm9uRG93bjJbJ2RlZmF1bHQnXSA6IF9SaWdodEFycm93MlsnZGVmYXVsdCddO1xuICAgIGlmIChpc1JUTCAmJiAhaXNWZXJ0aWNhbCkge1xuICAgICAgX0ljb24gPSBfTGVmdEFycm93MlsnZGVmYXVsdCddO1xuICAgIH1cbiAgICBuYXZOZXh0SWNvbiA9IF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KF9JY29uLCAoMCwgX3JlYWN0V2l0aFN0eWxlcy5jc3MpKGlzSG9yaXpvbnRhbCAmJiBzdHlsZXMuRGF5UGlja2VyTmF2aWdhdGlvbl9zdmdfX2hvcml6b250YWwsIGlzVmVydGljYWwgJiYgc3R5bGVzLkRheVBpY2tlck5hdmlnYXRpb25fc3ZnX192ZXJ0aWNhbCkpO1xuICB9XG5cbiAgdmFyIGlzRGVmYXVsdE5hdiA9IGlzVmVydGljYWxTY3JvbGxhYmxlID8gaXNEZWZhdWx0TmF2TmV4dCA6IGlzRGVmYXVsdE5hdk5leHQgfHwgaXNEZWZhdWx0TmF2UHJldjtcblxuICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG4gICAgJ2RpdicsXG4gICAgX3JlYWN0V2l0aFN0eWxlcy5jc3MuYXBwbHkodW5kZWZpbmVkLCBbc3R5bGVzLkRheVBpY2tlck5hdmlnYXRpb24sIGlzSG9yaXpvbnRhbCAmJiBzdHlsZXMuRGF5UGlja2VyTmF2aWdhdGlvbl9faG9yaXpvbnRhbF0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShpc1ZlcnRpY2FsICYmIFtzdHlsZXMuRGF5UGlja2VyTmF2aWdhdGlvbl9fdmVydGljYWwsIGlzRGVmYXVsdE5hdiAmJiBzdHlsZXMuRGF5UGlja2VyTmF2aWdhdGlvbl9fdmVydGljYWxEZWZhdWx0XSksIF90b0NvbnN1bWFibGVBcnJheShpc1ZlcnRpY2FsU2Nyb2xsYWJsZSAmJiBbc3R5bGVzLkRheVBpY2tlck5hdmlnYXRpb25fX3ZlcnRpY2FsU2Nyb2xsYWJsZSwgaXNEZWZhdWx0TmF2ICYmIHN0eWxlcy5EYXlQaWNrZXJOYXZpZ2F0aW9uX192ZXJ0aWNhbFNjcm9sbGFibGVEZWZhdWx0XSkpKSxcbiAgICAhaXNWZXJ0aWNhbFNjcm9sbGFibGUgJiYgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAnZGl2JyxcbiAgICAgIF9leHRlbmRzKHtcbiAgICAgICAgcm9sZTogJ2J1dHRvbicsXG4gICAgICAgIHRhYkluZGV4OiAnMCdcbiAgICAgIH0sIF9yZWFjdFdpdGhTdHlsZXMuY3NzLmFwcGx5KHVuZGVmaW5lZCwgW3N0eWxlcy5EYXlQaWNrZXJOYXZpZ2F0aW9uX2J1dHRvbiwgaXNEZWZhdWx0TmF2UHJldiAmJiBzdHlsZXMuRGF5UGlja2VyTmF2aWdhdGlvbl9idXR0b25fX2RlZmF1bHRdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoaXNIb3Jpem9udGFsICYmIFtzdHlsZXMuRGF5UGlja2VyTmF2aWdhdGlvbl9idXR0b25fX2hvcml6b250YWxdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkoaXNEZWZhdWx0TmF2UHJldiAmJiBbc3R5bGVzLkRheVBpY2tlck5hdmlnYXRpb25fYnV0dG9uX19ob3Jpem9udGFsRGVmYXVsdCwgIWlzUlRMICYmIHN0eWxlcy5EYXlQaWNrZXJOYXZpZ2F0aW9uX2xlZnRCdXR0b25fX2hvcml6b250YWxEZWZhdWx0LCBpc1JUTCAmJiBzdHlsZXMuRGF5UGlja2VyTmF2aWdhdGlvbl9yaWdodEJ1dHRvbl9faG9yaXpvbnRhbERlZmF1bHRdKSkpLCBfdG9Db25zdW1hYmxlQXJyYXkoaXNWZXJ0aWNhbCAmJiBbc3R5bGVzLkRheVBpY2tlck5hdmlnYXRpb25fYnV0dG9uX192ZXJ0aWNhbF0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShpc0RlZmF1bHROYXZQcmV2ICYmIFtzdHlsZXMuRGF5UGlja2VyTmF2aWdhdGlvbl9idXR0b25fX3ZlcnRpY2FsRGVmYXVsdCwgc3R5bGVzLkRheVBpY2tlck5hdmlnYXRpb25fcHJldkJ1dHRvbl9fdmVydGljYWxEZWZhdWx0XSkpKSkpLCB7XG4gICAgICAgICdhcmlhLWxhYmVsJzogcGhyYXNlcy5qdW1wVG9QcmV2TW9udGgsXG4gICAgICAgIG9uQ2xpY2s6IG9uUHJldk1vbnRoQ2xpY2ssXG4gICAgICAgIG9uS2V5VXA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBmdW5jdGlvbiBvbktleVVwKGUpIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSBlLmtleTtcblxuICAgICAgICAgICAgaWYgKGtleSA9PT0gJ0VudGVyJyB8fCBrZXkgPT09ICcgJykgb25QcmV2TW9udGhDbGljayhlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gb25LZXlVcDtcbiAgICAgICAgfSgpLFxuICAgICAgICBvbk1vdXNlVXA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBmdW5jdGlvbiBvbk1vdXNlVXAoZSkge1xuICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0LmJsdXIoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gb25Nb3VzZVVwO1xuICAgICAgICB9KClcbiAgICAgIH0pLFxuICAgICAgbmF2UHJldkljb25cbiAgICApLFxuICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuICAgICAgJ2RpdicsXG4gICAgICBfZXh0ZW5kcyh7XG4gICAgICAgIHJvbGU6ICdidXR0b24nLFxuICAgICAgICB0YWJJbmRleDogJzAnXG4gICAgICB9LCBfcmVhY3RXaXRoU3R5bGVzLmNzcy5hcHBseSh1bmRlZmluZWQsIFtzdHlsZXMuRGF5UGlja2VyTmF2aWdhdGlvbl9idXR0b24sIGlzRGVmYXVsdE5hdk5leHQgJiYgc3R5bGVzLkRheVBpY2tlck5hdmlnYXRpb25fYnV0dG9uX19kZWZhdWx0XS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGlzSG9yaXpvbnRhbCAmJiBbc3R5bGVzLkRheVBpY2tlck5hdmlnYXRpb25fYnV0dG9uX19ob3Jpem9udGFsXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGlzRGVmYXVsdE5hdk5leHQgJiYgW3N0eWxlcy5EYXlQaWNrZXJOYXZpZ2F0aW9uX2J1dHRvbl9faG9yaXpvbnRhbERlZmF1bHQsIGlzUlRMICYmIHN0eWxlcy5EYXlQaWNrZXJOYXZpZ2F0aW9uX2xlZnRCdXR0b25fX2hvcml6b250YWxEZWZhdWx0LCAhaXNSVEwgJiYgc3R5bGVzLkRheVBpY2tlck5hdmlnYXRpb25fcmlnaHRCdXR0b25fX2hvcml6b250YWxEZWZhdWx0XSkpKSwgX3RvQ29uc3VtYWJsZUFycmF5KGlzVmVydGljYWwgJiYgW3N0eWxlcy5EYXlQaWNrZXJOYXZpZ2F0aW9uX2J1dHRvbl9fdmVydGljYWwsIHN0eWxlcy5EYXlQaWNrZXJOYXZpZ2F0aW9uX25leHRCdXR0b25fX3ZlcnRpY2FsXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGlzRGVmYXVsdE5hdk5leHQgJiYgW3N0eWxlcy5EYXlQaWNrZXJOYXZpZ2F0aW9uX2J1dHRvbl9fdmVydGljYWxEZWZhdWx0LCBzdHlsZXMuRGF5UGlja2VyTmF2aWdhdGlvbl9uZXh0QnV0dG9uX192ZXJ0aWNhbERlZmF1bHQsIGlzVmVydGljYWxTY3JvbGxhYmxlICYmIHN0eWxlcy5EYXlQaWNrZXJOYXZpZ2F0aW9uX25leHRCdXR0b25fX3ZlcnRpY2FsU2Nyb2xsYWJsZURlZmF1bHRdKSkpKSksIHtcbiAgICAgICAgJ2FyaWEtbGFiZWwnOiBwaHJhc2VzLmp1bXBUb05leHRNb250aCxcbiAgICAgICAgb25DbGljazogb25OZXh0TW9udGhDbGljayxcbiAgICAgICAgb25LZXlVcDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGZ1bmN0aW9uIG9uS2V5VXAoZSkge1xuICAgICAgICAgICAgdmFyIGtleSA9IGUua2V5O1xuXG4gICAgICAgICAgICBpZiAoa2V5ID09PSAnRW50ZXInIHx8IGtleSA9PT0gJyAnKSBvbk5leHRNb250aENsaWNrKGUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBvbktleVVwO1xuICAgICAgICB9KCksXG4gICAgICAgIG9uTW91c2VVcDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGZ1bmN0aW9uIG9uTW91c2VVcChlKSB7XG4gICAgICAgICAgICBlLmN1cnJlbnRUYXJnZXQuYmx1cigpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBvbk1vdXNlVXA7XG4gICAgICAgIH0oKVxuICAgICAgfSksXG4gICAgICBuYXZOZXh0SWNvblxuICAgIClcbiAgKTtcbn1cblxuRGF5UGlja2VyTmF2aWdhdGlvbi5wcm9wVHlwZXMgPSBwcm9wVHlwZXM7XG5EYXlQaWNrZXJOYXZpZ2F0aW9uLmRlZmF1bHRQcm9wcyA9IGRlZmF1bHRQcm9wcztcblxuZXhwb3J0c1snZGVmYXVsdCddID0gKDAsIF9yZWFjdFdpdGhTdHlsZXMud2l0aFN0eWxlcykoZnVuY3Rpb24gKF9yZWYyKSB7XG4gIHZhciBfcmVmMiRyZWFjdERhdGVzID0gX3JlZjIucmVhY3REYXRlcyxcbiAgICAgIGNvbG9yID0gX3JlZjIkcmVhY3REYXRlcy5jb2xvcixcbiAgICAgIHpJbmRleCA9IF9yZWYyJHJlYWN0RGF0ZXMuekluZGV4O1xuICByZXR1cm4ge1xuICAgIERheVBpY2tlck5hdmlnYXRpb246IHtcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgekluZGV4OiB6SW5kZXggKyAyXG4gICAgfSxcblxuICAgIERheVBpY2tlck5hdmlnYXRpb25fX2hvcml6b250YWw6IHtcbiAgICAgIGhlaWdodDogMFxuICAgIH0sXG5cbiAgICBEYXlQaWNrZXJOYXZpZ2F0aW9uX192ZXJ0aWNhbDoge30sXG4gICAgRGF5UGlja2VyTmF2aWdhdGlvbl9fdmVydGljYWxTY3JvbGxhYmxlOiB7fSxcblxuICAgIERheVBpY2tlck5hdmlnYXRpb25fX3ZlcnRpY2FsRGVmYXVsdDoge1xuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgaGVpZ2h0OiA1MixcbiAgICAgIGJvdHRvbTogMCxcbiAgICAgIGxlZnQ6IDBcbiAgICB9LFxuXG4gICAgRGF5UGlja2VyTmF2aWdhdGlvbl9fdmVydGljYWxTY3JvbGxhYmxlRGVmYXVsdDoge1xuICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZSdcbiAgICB9LFxuXG4gICAgRGF5UGlja2VyTmF2aWdhdGlvbl9idXR0b246IHtcbiAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgdXNlclNlbGVjdDogJ25vbmUnLFxuICAgICAgYm9yZGVyOiAwLFxuICAgICAgcGFkZGluZzogMCxcbiAgICAgIG1hcmdpbjogMFxuICAgIH0sXG5cbiAgICBEYXlQaWNrZXJOYXZpZ2F0aW9uX2J1dHRvbl9fZGVmYXVsdDoge1xuICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkICcgKyBTdHJpbmcoY29sb3IuY29yZS5ib3JkZXJMaWdodCksXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IGNvbG9yLmJhY2tncm91bmQsXG4gICAgICBjb2xvcjogY29sb3IucGxhY2Vob2xkZXJUZXh0LFxuXG4gICAgICAnOmZvY3VzJzoge1xuICAgICAgICBib3JkZXI6ICcxcHggc29saWQgJyArIFN0cmluZyhjb2xvci5jb3JlLmJvcmRlck1lZGl1bSlcbiAgICAgIH0sXG5cbiAgICAgICc6aG92ZXInOiB7XG4gICAgICAgIGJvcmRlcjogJzFweCBzb2xpZCAnICsgU3RyaW5nKGNvbG9yLmNvcmUuYm9yZGVyTWVkaXVtKVxuICAgICAgfSxcblxuICAgICAgJzphY3RpdmUnOiB7XG4gICAgICAgIGJhY2tncm91bmQ6IGNvbG9yLmJhY2tncm91bmREYXJrXG4gICAgICB9XG4gICAgfSxcblxuICAgIERheVBpY2tlck5hdmlnYXRpb25fYnV0dG9uX19ob3Jpem9udGFsOiB7fSxcblxuICAgIERheVBpY2tlck5hdmlnYXRpb25fYnV0dG9uX19ob3Jpem9udGFsRGVmYXVsdDoge1xuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICB0b3A6IDE4LFxuICAgICAgbGluZUhlaWdodDogMC43OCxcbiAgICAgIGJvcmRlclJhZGl1czogMyxcbiAgICAgIHBhZGRpbmc6ICc2cHggOXB4J1xuICAgIH0sXG5cbiAgICBEYXlQaWNrZXJOYXZpZ2F0aW9uX2xlZnRCdXR0b25fX2hvcml6b250YWxEZWZhdWx0OiB7XG4gICAgICBsZWZ0OiAyMlxuICAgIH0sXG5cbiAgICBEYXlQaWNrZXJOYXZpZ2F0aW9uX3JpZ2h0QnV0dG9uX19ob3Jpem9udGFsRGVmYXVsdDoge1xuICAgICAgcmlnaHQ6IDIyXG4gICAgfSxcblxuICAgIERheVBpY2tlck5hdmlnYXRpb25fYnV0dG9uX192ZXJ0aWNhbDoge30sXG5cbiAgICBEYXlQaWNrZXJOYXZpZ2F0aW9uX2J1dHRvbl9fdmVydGljYWxEZWZhdWx0OiB7XG4gICAgICBwYWRkaW5nOiA1LFxuICAgICAgYmFja2dyb3VuZDogY29sb3IuYmFja2dyb3VuZCxcbiAgICAgIGJveFNoYWRvdzogJzAgMCA1cHggMnB4IHJnYmEoMCwgMCwgMCwgMC4xKScsXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICB3aWR0aDogJzUwJSdcbiAgICB9LFxuXG4gICAgRGF5UGlja2VyTmF2aWdhdGlvbl9wcmV2QnV0dG9uX192ZXJ0aWNhbERlZmF1bHQ6IHt9LFxuXG4gICAgRGF5UGlja2VyTmF2aWdhdGlvbl9uZXh0QnV0dG9uX192ZXJ0aWNhbERlZmF1bHQ6IHtcbiAgICAgIGJvcmRlckxlZnQ6IDBcbiAgICB9LFxuXG4gICAgRGF5UGlja2VyTmF2aWdhdGlvbl9uZXh0QnV0dG9uX192ZXJ0aWNhbFNjcm9sbGFibGVEZWZhdWx0OiB7XG4gICAgICB3aWR0aDogJzEwMCUnXG4gICAgfSxcblxuICAgIERheVBpY2tlck5hdmlnYXRpb25fc3ZnX19ob3Jpem9udGFsOiB7XG4gICAgICBoZWlnaHQ6IDE5LFxuICAgICAgd2lkdGg6IDE5LFxuICAgICAgZmlsbDogY29sb3IuY29yZS5ncmF5TGlnaHQsXG4gICAgICBkaXNwbGF5OiAnYmxvY2snXG4gICAgfSxcblxuICAgIERheVBpY2tlck5hdmlnYXRpb25fc3ZnX192ZXJ0aWNhbDoge1xuICAgICAgaGVpZ2h0OiA0MixcbiAgICAgIHdpZHRoOiA0MixcbiAgICAgIGZpbGw6IGNvbG9yLnRleHQsXG4gICAgICBkaXNwbGF5OiAnYmxvY2snXG4gICAgfVxuICB9O1xufSkoRGF5UGlja2VyTmF2aWdhdGlvbik7IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3NsaWNlZFRvQXJyYXkgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIHNsaWNlSXRlcmF0b3IoYXJyLCBpKSB7IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX2UgPSB1bmRlZmluZWQ7IHRyeSB7IGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdKSBfaVtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH0gcmV0dXJuIGZ1bmN0aW9uIChhcnIsIGkpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyByZXR1cm4gYXJyOyB9IGVsc2UgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYXJyKSkgeyByZXR1cm4gc2xpY2VJdGVyYXRvcihhcnIsIGkpOyB9IGVsc2UgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKTsgfSB9OyB9KCk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfb2JqZWN0ID0gcmVxdWlyZSgnb2JqZWN0LmFzc2lnbicpO1xuXG52YXIgX29iamVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3QpO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX3JlYWN0TW9tZW50UHJvcHR5cGVzID0gcmVxdWlyZSgncmVhY3QtbW9tZW50LXByb3B0eXBlcycpO1xuXG52YXIgX3JlYWN0TW9tZW50UHJvcHR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0TW9tZW50UHJvcHR5cGVzKTtcblxudmFyIF9haXJibmJQcm9wVHlwZXMgPSByZXF1aXJlKCdhaXJibmItcHJvcC10eXBlcycpO1xuXG52YXIgX21vbWVudCA9IHJlcXVpcmUoJ21vbWVudCcpO1xuXG52YXIgX21vbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb21lbnQpO1xuXG52YXIgX29iamVjdDMgPSByZXF1aXJlKCdvYmplY3QudmFsdWVzJyk7XG5cbnZhciBfb2JqZWN0NCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdDMpO1xuXG52YXIgX2lzVG91Y2hEZXZpY2UgPSByZXF1aXJlKCdpcy10b3VjaC1kZXZpY2UnKTtcblxudmFyIF9pc1RvdWNoRGV2aWNlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzVG91Y2hEZXZpY2UpO1xuXG52YXIgX2RlZmF1bHRQaHJhc2VzID0gcmVxdWlyZSgnLi4vZGVmYXVsdFBocmFzZXMnKTtcblxudmFyIF9nZXRQaHJhc2VQcm9wVHlwZXMgPSByZXF1aXJlKCcuLi91dGlscy9nZXRQaHJhc2VQcm9wVHlwZXMnKTtcblxudmFyIF9nZXRQaHJhc2VQcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UGhyYXNlUHJvcFR5cGVzKTtcblxudmFyIF9pc0luY2x1c2l2ZWx5QWZ0ZXJEYXkgPSByZXF1aXJlKCcuLi91dGlscy9pc0luY2x1c2l2ZWx5QWZ0ZXJEYXknKTtcblxudmFyIF9pc0luY2x1c2l2ZWx5QWZ0ZXJEYXkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNJbmNsdXNpdmVseUFmdGVyRGF5KTtcblxudmFyIF9pc05leHREYXkgPSByZXF1aXJlKCcuLi91dGlscy9pc05leHREYXknKTtcblxudmFyIF9pc05leHREYXkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNOZXh0RGF5KTtcblxudmFyIF9pc1NhbWVEYXkgPSByZXF1aXJlKCcuLi91dGlscy9pc1NhbWVEYXknKTtcblxudmFyIF9pc1NhbWVEYXkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNTYW1lRGF5KTtcblxudmFyIF9pc0FmdGVyRGF5ID0gcmVxdWlyZSgnLi4vdXRpbHMvaXNBZnRlckRheScpO1xuXG52YXIgX2lzQWZ0ZXJEYXkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNBZnRlckRheSk7XG5cbnZhciBfaXNCZWZvcmVEYXkgPSByZXF1aXJlKCcuLi91dGlscy9pc0JlZm9yZURheScpO1xuXG52YXIgX2lzQmVmb3JlRGF5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzQmVmb3JlRGF5KTtcblxudmFyIF9nZXRWaXNpYmxlRGF5cyA9IHJlcXVpcmUoJy4uL3V0aWxzL2dldFZpc2libGVEYXlzJyk7XG5cbnZhciBfZ2V0VmlzaWJsZURheXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0VmlzaWJsZURheXMpO1xuXG52YXIgX2lzRGF5VmlzaWJsZSA9IHJlcXVpcmUoJy4uL3V0aWxzL2lzRGF5VmlzaWJsZScpO1xuXG52YXIgX2lzRGF5VmlzaWJsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc0RheVZpc2libGUpO1xuXG52YXIgX2dldFNlbGVjdGVkRGF0ZU9mZnNldCA9IHJlcXVpcmUoJy4uL3V0aWxzL2dldFNlbGVjdGVkRGF0ZU9mZnNldCcpO1xuXG52YXIgX2dldFNlbGVjdGVkRGF0ZU9mZnNldDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRTZWxlY3RlZERhdGVPZmZzZXQpO1xuXG52YXIgX3RvSVNPRGF0ZVN0cmluZyA9IHJlcXVpcmUoJy4uL3V0aWxzL3RvSVNPRGF0ZVN0cmluZycpO1xuXG52YXIgX3RvSVNPRGF0ZVN0cmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90b0lTT0RhdGVTdHJpbmcpO1xuXG52YXIgX3RvSVNPTW9udGhTdHJpbmcgPSByZXF1aXJlKCcuLi91dGlscy90b0lTT01vbnRoU3RyaW5nJyk7XG5cbnZhciBfdG9JU09Nb250aFN0cmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90b0lTT01vbnRoU3RyaW5nKTtcblxudmFyIF9EaXNhYmxlZFNoYXBlID0gcmVxdWlyZSgnLi4vc2hhcGVzL0Rpc2FibGVkU2hhcGUnKTtcblxudmFyIF9EaXNhYmxlZFNoYXBlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Rpc2FibGVkU2hhcGUpO1xuXG52YXIgX0ZvY3VzZWRJbnB1dFNoYXBlID0gcmVxdWlyZSgnLi4vc2hhcGVzL0ZvY3VzZWRJbnB1dFNoYXBlJyk7XG5cbnZhciBfRm9jdXNlZElucHV0U2hhcGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRm9jdXNlZElucHV0U2hhcGUpO1xuXG52YXIgX1Njcm9sbGFibGVPcmllbnRhdGlvblNoYXBlID0gcmVxdWlyZSgnLi4vc2hhcGVzL1Njcm9sbGFibGVPcmllbnRhdGlvblNoYXBlJyk7XG5cbnZhciBfU2Nyb2xsYWJsZU9yaWVudGF0aW9uU2hhcGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2Nyb2xsYWJsZU9yaWVudGF0aW9uU2hhcGUpO1xuXG52YXIgX0RheU9mV2Vla1NoYXBlID0gcmVxdWlyZSgnLi4vc2hhcGVzL0RheU9mV2Vla1NoYXBlJyk7XG5cbnZhciBfRGF5T2ZXZWVrU2hhcGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGF5T2ZXZWVrU2hhcGUpO1xuXG52YXIgX0NhbGVuZGFySW5mb1Bvc2l0aW9uU2hhcGUgPSByZXF1aXJlKCcuLi9zaGFwZXMvQ2FsZW5kYXJJbmZvUG9zaXRpb25TaGFwZScpO1xuXG52YXIgX0NhbGVuZGFySW5mb1Bvc2l0aW9uU2hhcGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FsZW5kYXJJbmZvUG9zaXRpb25TaGFwZSk7XG5cbnZhciBfY29uc3RhbnRzID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzJyk7XG5cbnZhciBfRGF5UGlja2VyID0gcmVxdWlyZSgnLi9EYXlQaWNrZXInKTtcblxudmFyIF9EYXlQaWNrZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGF5UGlja2VyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBwcm9wVHlwZXMgPSAoMCwgX2FpcmJuYlByb3BUeXBlcy5mb3JiaWRFeHRyYVByb3BzKSh7XG4gIHN0YXJ0RGF0ZTogX3JlYWN0TW9tZW50UHJvcHR5cGVzMlsnZGVmYXVsdCddLm1vbWVudE9iaixcbiAgZW5kRGF0ZTogX3JlYWN0TW9tZW50UHJvcHR5cGVzMlsnZGVmYXVsdCddLm1vbWVudE9iaixcbiAgb25EYXRlc0NoYW5nZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuICBzdGFydERhdGVPZmZzZXQ6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYyxcbiAgZW5kRGF0ZU9mZnNldDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuXG4gIGZvY3VzZWRJbnB1dDogX0ZvY3VzZWRJbnB1dFNoYXBlMlsnZGVmYXVsdCddLFxuICBvbkZvY3VzQ2hhbmdlOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsXG4gIG9uQ2xvc2U6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYyxcblxuICBrZWVwT3Blbk9uRGF0ZVNlbGVjdDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ib29sLFxuICBtaW5pbXVtTmlnaHRzOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLm51bWJlcixcbiAgZGlzYWJsZWQ6IF9EaXNhYmxlZFNoYXBlMlsnZGVmYXVsdCddLFxuICBpc091dHNpZGVSYW5nZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuICBpc0RheUJsb2NrZWQ6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYyxcbiAgaXNEYXlIaWdobGlnaHRlZDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuXG4gIC8vIERheVBpY2tlciBwcm9wc1xuICByZW5kZXJNb250aFRleHQ6ICgwLCBfYWlyYm5iUHJvcFR5cGVzLm11dHVhbGx5RXhjbHVzaXZlUHJvcHMpKF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYywgJ3JlbmRlck1vbnRoVGV4dCcsICdyZW5kZXJNb250aEVsZW1lbnQnKSxcbiAgcmVuZGVyTW9udGhFbGVtZW50OiAoMCwgX2FpcmJuYlByb3BUeXBlcy5tdXR1YWxseUV4Y2x1c2l2ZVByb3BzKShfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsICdyZW5kZXJNb250aFRleHQnLCAncmVuZGVyTW9udGhFbGVtZW50JyksXG4gIGVuYWJsZU91dHNpZGVEYXlzOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmJvb2wsXG4gIG51bWJlck9mTW9udGhzOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLm51bWJlcixcbiAgb3JpZW50YXRpb246IF9TY3JvbGxhYmxlT3JpZW50YXRpb25TaGFwZTJbJ2RlZmF1bHQnXSxcbiAgd2l0aFBvcnRhbDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ib29sLFxuICBpbml0aWFsVmlzaWJsZU1vbnRoOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsXG4gIGhpZGVLZXlib2FyZFNob3J0Y3V0c1BhbmVsOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmJvb2wsXG4gIGRheVNpemU6IF9haXJibmJQcm9wVHlwZXMubm9uTmVnYXRpdmVJbnRlZ2VyLFxuICBub0JvcmRlcjogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ib29sLFxuICB2ZXJ0aWNhbEJvcmRlclNwYWNpbmc6IF9haXJibmJQcm9wVHlwZXMubm9uTmVnYXRpdmVJbnRlZ2VyLFxuICBob3Jpem9udGFsTW9udGhQYWRkaW5nOiBfYWlyYm5iUHJvcFR5cGVzLm5vbk5lZ2F0aXZlSW50ZWdlcixcblxuICBuYXZQcmV2OiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLm5vZGUsXG4gIG5hdk5leHQ6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10ubm9kZSxcbiAgbm9OYXZCdXR0b25zOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmJvb2wsXG5cbiAgb25QcmV2TW9udGhDbGljazogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuICBvbk5leHRNb250aENsaWNrOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsXG4gIG9uT3V0c2lkZUNsaWNrOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsXG4gIHJlbmRlckNhbGVuZGFyRGF5OiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsXG4gIHJlbmRlckRheUNvbnRlbnRzOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsXG4gIHJlbmRlckNhbGVuZGFySW5mbzogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuICBjYWxlbmRhckluZm9Qb3NpdGlvbjogX0NhbGVuZGFySW5mb1Bvc2l0aW9uU2hhcGUyWydkZWZhdWx0J10sXG4gIGZpcnN0RGF5T2ZXZWVrOiBfRGF5T2ZXZWVrU2hhcGUyWydkZWZhdWx0J10sXG4gIHZlcnRpY2FsSGVpZ2h0OiBfYWlyYm5iUHJvcFR5cGVzLm5vbk5lZ2F0aXZlSW50ZWdlcixcbiAgdHJhbnNpdGlvbkR1cmF0aW9uOiBfYWlyYm5iUHJvcFR5cGVzLm5vbk5lZ2F0aXZlSW50ZWdlcixcblxuICAvLyBhY2Nlc3NpYmlsaXR5XG4gIG9uQmx1cjogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuICBpc0ZvY3VzZWQ6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbCxcbiAgc2hvd0tleWJvYXJkU2hvcnRjdXRzOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmJvb2wsXG5cbiAgLy8gaTE4blxuICBtb250aEZvcm1hdDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zdHJpbmcsXG4gIHdlZWtEYXlGb3JtYXQ6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uc3RyaW5nLFxuICBwaHJhc2VzOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLnNoYXBlKCgwLCBfZ2V0UGhyYXNlUHJvcFR5cGVzMlsnZGVmYXVsdCddKShfZGVmYXVsdFBocmFzZXMuRGF5UGlja2VyUGhyYXNlcykpLFxuICBkYXlBcmlhTGFiZWxGb3JtYXQ6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uc3RyaW5nLFxuXG4gIGlzUlRMOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmJvb2xcbn0pO1xuXG52YXIgZGVmYXVsdFByb3BzID0ge1xuICBzdGFydERhdGU6IHVuZGVmaW5lZCwgLy8gVE9ETzogdXNlIG51bGxcbiAgZW5kRGF0ZTogdW5kZWZpbmVkLCAvLyBUT0RPOiB1c2UgbnVsbFxuICBvbkRhdGVzQ2hhbmdlOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gb25EYXRlc0NoYW5nZSgpIHt9XG5cbiAgICByZXR1cm4gb25EYXRlc0NoYW5nZTtcbiAgfSgpLFxuXG4gIHN0YXJ0RGF0ZU9mZnNldDogdW5kZWZpbmVkLFxuICBlbmREYXRlT2Zmc2V0OiB1bmRlZmluZWQsXG5cbiAgZm9jdXNlZElucHV0OiBudWxsLFxuICBvbkZvY3VzQ2hhbmdlOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gb25Gb2N1c0NoYW5nZSgpIHt9XG5cbiAgICByZXR1cm4gb25Gb2N1c0NoYW5nZTtcbiAgfSgpLFxuICBvbkNsb3NlOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gb25DbG9zZSgpIHt9XG5cbiAgICByZXR1cm4gb25DbG9zZTtcbiAgfSgpLFxuXG5cbiAga2VlcE9wZW5PbkRhdGVTZWxlY3Q6IGZhbHNlLFxuICBtaW5pbXVtTmlnaHRzOiAxLFxuICBkaXNhYmxlZDogZmFsc2UsXG4gIGlzT3V0c2lkZVJhbmdlOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gaXNPdXRzaWRlUmFuZ2UoKSB7fVxuXG4gICAgcmV0dXJuIGlzT3V0c2lkZVJhbmdlO1xuICB9KCksXG4gIGlzRGF5QmxvY2tlZDogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGlzRGF5QmxvY2tlZCgpIHt9XG5cbiAgICByZXR1cm4gaXNEYXlCbG9ja2VkO1xuICB9KCksXG4gIGlzRGF5SGlnaGxpZ2h0ZWQ6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBpc0RheUhpZ2hsaWdodGVkKCkge31cblxuICAgIHJldHVybiBpc0RheUhpZ2hsaWdodGVkO1xuICB9KCksXG5cblxuICAvLyBEYXlQaWNrZXIgcHJvcHNcbiAgcmVuZGVyTW9udGhUZXh0OiBudWxsLFxuICBlbmFibGVPdXRzaWRlRGF5czogZmFsc2UsXG4gIG51bWJlck9mTW9udGhzOiAxLFxuICBvcmllbnRhdGlvbjogX2NvbnN0YW50cy5IT1JJWk9OVEFMX09SSUVOVEFUSU9OLFxuICB3aXRoUG9ydGFsOiBmYWxzZSxcbiAgaGlkZUtleWJvYXJkU2hvcnRjdXRzUGFuZWw6IGZhbHNlLFxuICBpbml0aWFsVmlzaWJsZU1vbnRoOiBudWxsLFxuICBkYXlTaXplOiBfY29uc3RhbnRzLkRBWV9TSVpFLFxuXG4gIG5hdlByZXY6IG51bGwsXG4gIG5hdk5leHQ6IG51bGwsXG4gIG5vTmF2QnV0dG9uczogZmFsc2UsXG5cbiAgb25QcmV2TW9udGhDbGljazogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIG9uUHJldk1vbnRoQ2xpY2soKSB7fVxuXG4gICAgcmV0dXJuIG9uUHJldk1vbnRoQ2xpY2s7XG4gIH0oKSxcbiAgb25OZXh0TW9udGhDbGljazogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIG9uTmV4dE1vbnRoQ2xpY2soKSB7fVxuXG4gICAgcmV0dXJuIG9uTmV4dE1vbnRoQ2xpY2s7XG4gIH0oKSxcbiAgb25PdXRzaWRlQ2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBvbk91dHNpZGVDbGljaygpIHt9XG5cbiAgICByZXR1cm4gb25PdXRzaWRlQ2xpY2s7XG4gIH0oKSxcblxuXG4gIHJlbmRlckNhbGVuZGFyRGF5OiB1bmRlZmluZWQsXG4gIHJlbmRlckRheUNvbnRlbnRzOiBudWxsLFxuICByZW5kZXJDYWxlbmRhckluZm86IG51bGwsXG4gIHJlbmRlck1vbnRoRWxlbWVudDogbnVsbCxcbiAgY2FsZW5kYXJJbmZvUG9zaXRpb246IF9jb25zdGFudHMuSU5GT19QT1NJVElPTl9CT1RUT00sXG4gIGZpcnN0RGF5T2ZXZWVrOiBudWxsLFxuICB2ZXJ0aWNhbEhlaWdodDogbnVsbCxcbiAgbm9Cb3JkZXI6IGZhbHNlLFxuICB0cmFuc2l0aW9uRHVyYXRpb246IHVuZGVmaW5lZCxcbiAgdmVydGljYWxCb3JkZXJTcGFjaW5nOiB1bmRlZmluZWQsXG4gIGhvcml6b250YWxNb250aFBhZGRpbmc6IDEzLFxuXG4gIC8vIGFjY2Vzc2liaWxpdHlcbiAgb25CbHVyOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gb25CbHVyKCkge31cblxuICAgIHJldHVybiBvbkJsdXI7XG4gIH0oKSxcblxuICBpc0ZvY3VzZWQ6IGZhbHNlLFxuICBzaG93S2V5Ym9hcmRTaG9ydGN1dHM6IGZhbHNlLFxuXG4gIC8vIGkxOG5cbiAgbW9udGhGb3JtYXQ6ICdNTU1NIFlZWVknLFxuICB3ZWVrRGF5Rm9ybWF0OiAnZGQnLFxuICBwaHJhc2VzOiBfZGVmYXVsdFBocmFzZXMuRGF5UGlja2VyUGhyYXNlcyxcbiAgZGF5QXJpYUxhYmVsRm9ybWF0OiB1bmRlZmluZWQsXG5cbiAgaXNSVEw6IGZhbHNlXG59O1xuXG52YXIgZ2V0Q2hvb3NlQXZhaWxhYmxlRGF0ZVBocmFzZSA9IGZ1bmN0aW9uIGdldENob29zZUF2YWlsYWJsZURhdGVQaHJhc2UocGhyYXNlcywgZm9jdXNlZElucHV0KSB7XG4gIGlmIChmb2N1c2VkSW5wdXQgPT09IF9jb25zdGFudHMuU1RBUlRfREFURSkge1xuICAgIHJldHVybiBwaHJhc2VzLmNob29zZUF2YWlsYWJsZVN0YXJ0RGF0ZTtcbiAgfVxuICBpZiAoZm9jdXNlZElucHV0ID09PSBfY29uc3RhbnRzLkVORF9EQVRFKSB7XG4gICAgcmV0dXJuIHBocmFzZXMuY2hvb3NlQXZhaWxhYmxlRW5kRGF0ZTtcbiAgfVxuICByZXR1cm4gcGhyYXNlcy5jaG9vc2VBdmFpbGFibGVEYXRlO1xufTtcblxudmFyIERheVBpY2tlclJhbmdlQ29udHJvbGxlciA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhEYXlQaWNrZXJSYW5nZUNvbnRyb2xsZXIsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIERheVBpY2tlclJhbmdlQ29udHJvbGxlcihwcm9wcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEYXlQaWNrZXJSYW5nZUNvbnRyb2xsZXIpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKERheVBpY2tlclJhbmdlQ29udHJvbGxlci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKERheVBpY2tlclJhbmdlQ29udHJvbGxlcikpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIF90aGlzLmlzVG91Y2hEZXZpY2UgPSAoMCwgX2lzVG91Y2hEZXZpY2UyWydkZWZhdWx0J10pKCk7XG4gICAgX3RoaXMudG9kYXkgPSAoMCwgX21vbWVudDJbJ2RlZmF1bHQnXSkoKTtcbiAgICBfdGhpcy5tb2RpZmllcnMgPSB7XG4gICAgICB0b2RheTogZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiB0b2RheShkYXkpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuaXNUb2RheShkYXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRvZGF5O1xuICAgICAgfSgpLFxuICAgICAgYmxvY2tlZDogZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBibG9ja2VkKGRheSkge1xuICAgICAgICAgIHJldHVybiBfdGhpcy5pc0Jsb2NrZWQoZGF5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBibG9ja2VkO1xuICAgICAgfSgpLFxuICAgICAgJ2Jsb2NrZWQtY2FsZW5kYXInOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIGJsb2NrZWRDYWxlbmRhcihkYXkpIHtcbiAgICAgICAgICByZXR1cm4gcHJvcHMuaXNEYXlCbG9ja2VkKGRheSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYmxvY2tlZENhbGVuZGFyO1xuICAgICAgfSgpLFxuICAgICAgJ2Jsb2NrZWQtb3V0LW9mLXJhbmdlJzogZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBibG9ja2VkT3V0T2ZSYW5nZShkYXkpIHtcbiAgICAgICAgICByZXR1cm4gcHJvcHMuaXNPdXRzaWRlUmFuZ2UoZGF5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBibG9ja2VkT3V0T2ZSYW5nZTtcbiAgICAgIH0oKSxcbiAgICAgICdoaWdobGlnaHRlZC1jYWxlbmRhcic6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gaGlnaGxpZ2h0ZWRDYWxlbmRhcihkYXkpIHtcbiAgICAgICAgICByZXR1cm4gcHJvcHMuaXNEYXlIaWdobGlnaHRlZChkYXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGhpZ2hsaWdodGVkQ2FsZW5kYXI7XG4gICAgICB9KCksXG4gICAgICB2YWxpZDogZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiB2YWxpZChkYXkpIHtcbiAgICAgICAgICByZXR1cm4gIV90aGlzLmlzQmxvY2tlZChkYXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZhbGlkO1xuICAgICAgfSgpLFxuICAgICAgJ3NlbGVjdGVkLXN0YXJ0JzogZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBzZWxlY3RlZFN0YXJ0KGRheSkge1xuICAgICAgICAgIHJldHVybiBfdGhpcy5pc1N0YXJ0RGF0ZShkYXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNlbGVjdGVkU3RhcnQ7XG4gICAgICB9KCksXG4gICAgICAnc2VsZWN0ZWQtZW5kJzogZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBzZWxlY3RlZEVuZChkYXkpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuaXNFbmREYXRlKGRheSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2VsZWN0ZWRFbmQ7XG4gICAgICB9KCksXG4gICAgICAnYmxvY2tlZC1taW5pbXVtLW5pZ2h0cyc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gYmxvY2tlZE1pbmltdW1OaWdodHMoZGF5KSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLmRvZXNOb3RNZWV0TWluaW11bU5pZ2h0cyhkYXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJsb2NrZWRNaW5pbXVtTmlnaHRzO1xuICAgICAgfSgpLFxuICAgICAgJ3NlbGVjdGVkLXNwYW4nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIHNlbGVjdGVkU3BhbihkYXkpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuaXNJblNlbGVjdGVkU3BhbihkYXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNlbGVjdGVkU3BhbjtcbiAgICAgIH0oKSxcbiAgICAgICdsYXN0LWluLXJhbmdlJzogZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBsYXN0SW5SYW5nZShkYXkpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuaXNMYXN0SW5SYW5nZShkYXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGxhc3RJblJhbmdlO1xuICAgICAgfSgpLFxuICAgICAgaG92ZXJlZDogZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBob3ZlcmVkKGRheSkge1xuICAgICAgICAgIHJldHVybiBfdGhpcy5pc0hvdmVyZWQoZGF5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBob3ZlcmVkO1xuICAgICAgfSgpLFxuICAgICAgJ2hvdmVyZWQtc3Bhbic6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gaG92ZXJlZFNwYW4oZGF5KSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLmlzSW5Ib3ZlcmVkU3BhbihkYXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGhvdmVyZWRTcGFuO1xuICAgICAgfSgpLFxuICAgICAgJ2hvdmVyZWQtb2Zmc2V0JzogZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBob3ZlcmVkT2Zmc2V0KGRheSkge1xuICAgICAgICAgIHJldHVybiBfdGhpcy5pc0luSG92ZXJlZFNwYW4oZGF5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBob3ZlcmVkT2Zmc2V0O1xuICAgICAgfSgpLFxuICAgICAgJ2FmdGVyLWhvdmVyZWQtc3RhcnQnOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIGFmdGVySG92ZXJlZFN0YXJ0KGRheSkge1xuICAgICAgICAgIHJldHVybiBfdGhpcy5pc0RheUFmdGVySG92ZXJlZFN0YXJ0RGF0ZShkYXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGFmdGVySG92ZXJlZFN0YXJ0O1xuICAgICAgfSgpLFxuICAgICAgJ2ZpcnN0LWRheS1vZi13ZWVrJzogZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBmaXJzdERheU9mV2VlayhkYXkpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuaXNGaXJzdERheU9mV2VlayhkYXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZpcnN0RGF5T2ZXZWVrO1xuICAgICAgfSgpLFxuICAgICAgJ2xhc3QtZGF5LW9mLXdlZWsnOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIGxhc3REYXlPZldlZWsoZGF5KSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLmlzTGFzdERheU9mV2VlayhkYXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGxhc3REYXlPZldlZWs7XG4gICAgICB9KClcbiAgICB9O1xuXG4gICAgdmFyIF90aGlzJGdldFN0YXRlRm9yTmV3TSA9IF90aGlzLmdldFN0YXRlRm9yTmV3TW9udGgocHJvcHMpLFxuICAgICAgICBjdXJyZW50TW9udGggPSBfdGhpcyRnZXRTdGF0ZUZvck5ld00uY3VycmVudE1vbnRoLFxuICAgICAgICB2aXNpYmxlRGF5cyA9IF90aGlzJGdldFN0YXRlRm9yTmV3TS52aXNpYmxlRGF5cztcblxuICAgIC8vIGluaXRpYWxpemUgcGhyYXNlc1xuICAgIC8vIHNldCB0aGUgYXBwcm9wcmlhdGUgQ2FsZW5kYXJEYXkgcGhyYXNlIGJhc2VkIG9uIGZvY3VzZWRJbnB1dFxuXG5cbiAgICB2YXIgY2hvb3NlQXZhaWxhYmxlRGF0ZSA9IGdldENob29zZUF2YWlsYWJsZURhdGVQaHJhc2UocHJvcHMucGhyYXNlcywgcHJvcHMuZm9jdXNlZElucHV0KTtcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgaG92ZXJEYXRlOiBudWxsLFxuICAgICAgY3VycmVudE1vbnRoOiBjdXJyZW50TW9udGgsXG4gICAgICBwaHJhc2VzOiAoMCwgX29iamVjdDJbJ2RlZmF1bHQnXSkoe30sIHByb3BzLnBocmFzZXMsIHtcbiAgICAgICAgY2hvb3NlQXZhaWxhYmxlRGF0ZTogY2hvb3NlQXZhaWxhYmxlRGF0ZVxuICAgICAgfSksXG4gICAgICB2aXNpYmxlRGF5czogdmlzaWJsZURheXNcbiAgICB9O1xuXG4gICAgX3RoaXMub25EYXlDbGljayA9IF90aGlzLm9uRGF5Q2xpY2suYmluZChfdGhpcyk7XG4gICAgX3RoaXMub25EYXlNb3VzZUVudGVyID0gX3RoaXMub25EYXlNb3VzZUVudGVyLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLm9uRGF5TW91c2VMZWF2ZSA9IF90aGlzLm9uRGF5TW91c2VMZWF2ZS5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5vblByZXZNb250aENsaWNrID0gX3RoaXMub25QcmV2TW9udGhDbGljay5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5vbk5leHRNb250aENsaWNrID0gX3RoaXMub25OZXh0TW9udGhDbGljay5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5vbk1vbnRoQ2hhbmdlID0gX3RoaXMub25Nb250aENoYW5nZS5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5vblllYXJDaGFuZ2UgPSBfdGhpcy5vblllYXJDaGFuZ2UuYmluZChfdGhpcyk7XG4gICAgX3RoaXMub25NdWx0aXBseVNjcm9sbGFibGVNb250aHMgPSBfdGhpcy5vbk11bHRpcGx5U2Nyb2xsYWJsZU1vbnRocy5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5nZXRGaXJzdEZvY3VzYWJsZURheSA9IF90aGlzLmdldEZpcnN0Rm9jdXNhYmxlRGF5LmJpbmQoX3RoaXMpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhEYXlQaWNrZXJSYW5nZUNvbnRyb2xsZXIsIFt7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgIHZhciBzdGFydERhdGUgPSBuZXh0UHJvcHMuc3RhcnREYXRlLFxuICAgICAgICAgICAgZW5kRGF0ZSA9IG5leHRQcm9wcy5lbmREYXRlLFxuICAgICAgICAgICAgZm9jdXNlZElucHV0ID0gbmV4dFByb3BzLmZvY3VzZWRJbnB1dCxcbiAgICAgICAgICAgIG1pbmltdW1OaWdodHMgPSBuZXh0UHJvcHMubWluaW11bU5pZ2h0cyxcbiAgICAgICAgICAgIGlzT3V0c2lkZVJhbmdlID0gbmV4dFByb3BzLmlzT3V0c2lkZVJhbmdlLFxuICAgICAgICAgICAgaXNEYXlCbG9ja2VkID0gbmV4dFByb3BzLmlzRGF5QmxvY2tlZCxcbiAgICAgICAgICAgIGlzRGF5SGlnaGxpZ2h0ZWQgPSBuZXh0UHJvcHMuaXNEYXlIaWdobGlnaHRlZCxcbiAgICAgICAgICAgIHBocmFzZXMgPSBuZXh0UHJvcHMucGhyYXNlcyxcbiAgICAgICAgICAgIGluaXRpYWxWaXNpYmxlTW9udGggPSBuZXh0UHJvcHMuaW5pdGlhbFZpc2libGVNb250aCxcbiAgICAgICAgICAgIG51bWJlck9mTW9udGhzID0gbmV4dFByb3BzLm51bWJlck9mTW9udGhzLFxuICAgICAgICAgICAgZW5hYmxlT3V0c2lkZURheXMgPSBuZXh0UHJvcHMuZW5hYmxlT3V0c2lkZURheXM7XG4gICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgcHJldlN0YXJ0RGF0ZSA9IF9wcm9wcy5zdGFydERhdGUsXG4gICAgICAgICAgICBwcmV2RW5kRGF0ZSA9IF9wcm9wcy5lbmREYXRlLFxuICAgICAgICAgICAgcHJldkZvY3VzZWRJbnB1dCA9IF9wcm9wcy5mb2N1c2VkSW5wdXQsXG4gICAgICAgICAgICBwcmV2TWluaW11bU5pZ2h0cyA9IF9wcm9wcy5taW5pbXVtTmlnaHRzLFxuICAgICAgICAgICAgcHJldklzT3V0c2lkZVJhbmdlID0gX3Byb3BzLmlzT3V0c2lkZVJhbmdlLFxuICAgICAgICAgICAgcHJldklzRGF5QmxvY2tlZCA9IF9wcm9wcy5pc0RheUJsb2NrZWQsXG4gICAgICAgICAgICBwcmV2SXNEYXlIaWdobGlnaHRlZCA9IF9wcm9wcy5pc0RheUhpZ2hsaWdodGVkLFxuICAgICAgICAgICAgcHJldlBocmFzZXMgPSBfcHJvcHMucGhyYXNlcyxcbiAgICAgICAgICAgIHByZXZJbml0aWFsVmlzaWJsZU1vbnRoID0gX3Byb3BzLmluaXRpYWxWaXNpYmxlTW9udGgsXG4gICAgICAgICAgICBwcmV2TnVtYmVyT2ZNb250aHMgPSBfcHJvcHMubnVtYmVyT2ZNb250aHMsXG4gICAgICAgICAgICBwcmV2RW5hYmxlT3V0c2lkZURheXMgPSBfcHJvcHMuZW5hYmxlT3V0c2lkZURheXM7XG4gICAgICAgIHZhciB2aXNpYmxlRGF5cyA9IHRoaXMuc3RhdGUudmlzaWJsZURheXM7XG5cblxuICAgICAgICB2YXIgcmVjb21wdXRlT3V0c2lkZVJhbmdlID0gZmFsc2U7XG4gICAgICAgIHZhciByZWNvbXB1dGVEYXlCbG9ja2VkID0gZmFsc2U7XG4gICAgICAgIHZhciByZWNvbXB1dGVEYXlIaWdobGlnaHRlZCA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChpc091dHNpZGVSYW5nZSAhPT0gcHJldklzT3V0c2lkZVJhbmdlKSB7XG4gICAgICAgICAgdGhpcy5tb2RpZmllcnNbJ2Jsb2NrZWQtb3V0LW9mLXJhbmdlJ10gPSBmdW5jdGlvbiAoZGF5KSB7XG4gICAgICAgICAgICByZXR1cm4gaXNPdXRzaWRlUmFuZ2UoZGF5KTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJlY29tcHV0ZU91dHNpZGVSYW5nZSA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNEYXlCbG9ja2VkICE9PSBwcmV2SXNEYXlCbG9ja2VkKSB7XG4gICAgICAgICAgdGhpcy5tb2RpZmllcnNbJ2Jsb2NrZWQtY2FsZW5kYXInXSA9IGZ1bmN0aW9uIChkYXkpIHtcbiAgICAgICAgICAgIHJldHVybiBpc0RheUJsb2NrZWQoZGF5KTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJlY29tcHV0ZURheUJsb2NrZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzRGF5SGlnaGxpZ2h0ZWQgIT09IHByZXZJc0RheUhpZ2hsaWdodGVkKSB7XG4gICAgICAgICAgdGhpcy5tb2RpZmllcnNbJ2hpZ2hsaWdodGVkLWNhbGVuZGFyJ10gPSBmdW5jdGlvbiAoZGF5KSB7XG4gICAgICAgICAgICByZXR1cm4gaXNEYXlIaWdobGlnaHRlZChkYXkpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgcmVjb21wdXRlRGF5SGlnaGxpZ2h0ZWQgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlY29tcHV0ZVByb3BNb2RpZmllcnMgPSByZWNvbXB1dGVPdXRzaWRlUmFuZ2UgfHwgcmVjb21wdXRlRGF5QmxvY2tlZCB8fCByZWNvbXB1dGVEYXlIaWdobGlnaHRlZDtcblxuICAgICAgICB2YXIgZGlkU3RhcnREYXRlQ2hhbmdlID0gc3RhcnREYXRlICE9PSBwcmV2U3RhcnREYXRlO1xuICAgICAgICB2YXIgZGlkRW5kRGF0ZUNoYW5nZSA9IGVuZERhdGUgIT09IHByZXZFbmREYXRlO1xuICAgICAgICB2YXIgZGlkRm9jdXNDaGFuZ2UgPSBmb2N1c2VkSW5wdXQgIT09IHByZXZGb2N1c2VkSW5wdXQ7XG5cbiAgICAgICAgaWYgKG51bWJlck9mTW9udGhzICE9PSBwcmV2TnVtYmVyT2ZNb250aHMgfHwgZW5hYmxlT3V0c2lkZURheXMgIT09IHByZXZFbmFibGVPdXRzaWRlRGF5cyB8fCBpbml0aWFsVmlzaWJsZU1vbnRoICE9PSBwcmV2SW5pdGlhbFZpc2libGVNb250aCAmJiAhcHJldkZvY3VzZWRJbnB1dCAmJiBkaWRGb2N1c0NoYW5nZSkge1xuICAgICAgICAgIHZhciBuZXdNb250aFN0YXRlID0gdGhpcy5nZXRTdGF0ZUZvck5ld01vbnRoKG5leHRQcm9wcyk7XG4gICAgICAgICAgdmFyIGN1cnJlbnRNb250aCA9IG5ld01vbnRoU3RhdGUuY3VycmVudE1vbnRoO1xuICAgICAgICAgIHZpc2libGVEYXlzID0gbmV3TW9udGhTdGF0ZS52aXNpYmxlRGF5cztcblxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgY3VycmVudE1vbnRoOiBjdXJyZW50TW9udGgsXG4gICAgICAgICAgICB2aXNpYmxlRGF5czogdmlzaWJsZURheXNcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBtb2RpZmllcnMgPSB7fTtcblxuICAgICAgICBpZiAoZGlkU3RhcnREYXRlQ2hhbmdlKSB7XG4gICAgICAgICAgbW9kaWZpZXJzID0gdGhpcy5kZWxldGVNb2RpZmllcihtb2RpZmllcnMsIHByZXZTdGFydERhdGUsICdzZWxlY3RlZC1zdGFydCcpO1xuICAgICAgICAgIG1vZGlmaWVycyA9IHRoaXMuYWRkTW9kaWZpZXIobW9kaWZpZXJzLCBzdGFydERhdGUsICdzZWxlY3RlZC1zdGFydCcpO1xuXG4gICAgICAgICAgaWYgKHByZXZTdGFydERhdGUpIHtcbiAgICAgICAgICAgIHZhciBzdGFydFNwYW4gPSBwcmV2U3RhcnREYXRlLmNsb25lKCkuYWRkKDEsICdkYXknKTtcbiAgICAgICAgICAgIHZhciBlbmRTcGFuID0gcHJldlN0YXJ0RGF0ZS5jbG9uZSgpLmFkZChwcmV2TWluaW11bU5pZ2h0cyArIDEsICdkYXlzJyk7XG4gICAgICAgICAgICBtb2RpZmllcnMgPSB0aGlzLmRlbGV0ZU1vZGlmaWVyRnJvbVJhbmdlKG1vZGlmaWVycywgc3RhcnRTcGFuLCBlbmRTcGFuLCAnYWZ0ZXItaG92ZXJlZC1zdGFydCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkaWRFbmREYXRlQ2hhbmdlKSB7XG4gICAgICAgICAgbW9kaWZpZXJzID0gdGhpcy5kZWxldGVNb2RpZmllcihtb2RpZmllcnMsIHByZXZFbmREYXRlLCAnc2VsZWN0ZWQtZW5kJyk7XG4gICAgICAgICAgbW9kaWZpZXJzID0gdGhpcy5hZGRNb2RpZmllcihtb2RpZmllcnMsIGVuZERhdGUsICdzZWxlY3RlZC1lbmQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkaWRTdGFydERhdGVDaGFuZ2UgfHwgZGlkRW5kRGF0ZUNoYW5nZSkge1xuICAgICAgICAgIGlmIChwcmV2U3RhcnREYXRlICYmIHByZXZFbmREYXRlKSB7XG4gICAgICAgICAgICBtb2RpZmllcnMgPSB0aGlzLmRlbGV0ZU1vZGlmaWVyRnJvbVJhbmdlKG1vZGlmaWVycywgcHJldlN0YXJ0RGF0ZSwgcHJldkVuZERhdGUuY2xvbmUoKS5hZGQoMSwgJ2RheScpLCAnc2VsZWN0ZWQtc3BhbicpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChzdGFydERhdGUgJiYgZW5kRGF0ZSkge1xuICAgICAgICAgICAgbW9kaWZpZXJzID0gdGhpcy5kZWxldGVNb2RpZmllckZyb21SYW5nZShtb2RpZmllcnMsIHN0YXJ0RGF0ZSwgZW5kRGF0ZS5jbG9uZSgpLmFkZCgxLCAnZGF5JyksICdob3ZlcmVkLXNwYW4nKTtcblxuICAgICAgICAgICAgbW9kaWZpZXJzID0gdGhpcy5hZGRNb2RpZmllclRvUmFuZ2UobW9kaWZpZXJzLCBzdGFydERhdGUuY2xvbmUoKS5hZGQoMSwgJ2RheScpLCBlbmREYXRlLCAnc2VsZWN0ZWQtc3BhbicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5pc1RvdWNoRGV2aWNlICYmIGRpZFN0YXJ0RGF0ZUNoYW5nZSAmJiBzdGFydERhdGUgJiYgIWVuZERhdGUpIHtcbiAgICAgICAgICB2YXIgX3N0YXJ0U3BhbiA9IHN0YXJ0RGF0ZS5jbG9uZSgpLmFkZCgxLCAnZGF5Jyk7XG4gICAgICAgICAgdmFyIF9lbmRTcGFuID0gc3RhcnREYXRlLmNsb25lKCkuYWRkKG1pbmltdW1OaWdodHMgKyAxLCAnZGF5cycpO1xuICAgICAgICAgIG1vZGlmaWVycyA9IHRoaXMuYWRkTW9kaWZpZXJUb1JhbmdlKG1vZGlmaWVycywgX3N0YXJ0U3BhbiwgX2VuZFNwYW4sICdhZnRlci1ob3ZlcmVkLXN0YXJ0Jyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocHJldk1pbmltdW1OaWdodHMgPiAwKSB7XG4gICAgICAgICAgaWYgKGRpZEZvY3VzQ2hhbmdlIHx8IGRpZFN0YXJ0RGF0ZUNoYW5nZSB8fCBtaW5pbXVtTmlnaHRzICE9PSBwcmV2TWluaW11bU5pZ2h0cykge1xuICAgICAgICAgICAgdmFyIF9zdGFydFNwYW4yID0gcHJldlN0YXJ0RGF0ZSB8fCB0aGlzLnRvZGF5O1xuICAgICAgICAgICAgbW9kaWZpZXJzID0gdGhpcy5kZWxldGVNb2RpZmllckZyb21SYW5nZShtb2RpZmllcnMsIF9zdGFydFNwYW4yLCBfc3RhcnRTcGFuMi5jbG9uZSgpLmFkZChwcmV2TWluaW11bU5pZ2h0cywgJ2RheXMnKSwgJ2Jsb2NrZWQtbWluaW11bS1uaWdodHMnKTtcblxuICAgICAgICAgICAgbW9kaWZpZXJzID0gdGhpcy5kZWxldGVNb2RpZmllckZyb21SYW5nZShtb2RpZmllcnMsIF9zdGFydFNwYW4yLCBfc3RhcnRTcGFuMi5jbG9uZSgpLmFkZChwcmV2TWluaW11bU5pZ2h0cywgJ2RheXMnKSwgJ2Jsb2NrZWQnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGlkRm9jdXNDaGFuZ2UgfHwgcmVjb21wdXRlUHJvcE1vZGlmaWVycykge1xuICAgICAgICAgICgwLCBfb2JqZWN0NFsnZGVmYXVsdCddKSh2aXNpYmxlRGF5cykuZm9yRWFjaChmdW5jdGlvbiAoZGF5cykge1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoZGF5cykuZm9yRWFjaChmdW5jdGlvbiAoZGF5KSB7XG4gICAgICAgICAgICAgIHZhciBtb21lbnRPYmogPSAoMCwgX21vbWVudDJbJ2RlZmF1bHQnXSkoZGF5KTtcbiAgICAgICAgICAgICAgdmFyIGlzQmxvY2tlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgIGlmIChkaWRGb2N1c0NoYW5nZSB8fCByZWNvbXB1dGVPdXRzaWRlUmFuZ2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNPdXRzaWRlUmFuZ2UobW9tZW50T2JqKSkge1xuICAgICAgICAgICAgICAgICAgbW9kaWZpZXJzID0gX3RoaXMyLmFkZE1vZGlmaWVyKG1vZGlmaWVycywgbW9tZW50T2JqLCAnYmxvY2tlZC1vdXQtb2YtcmFuZ2UnKTtcbiAgICAgICAgICAgICAgICAgIGlzQmxvY2tlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIG1vZGlmaWVycyA9IF90aGlzMi5kZWxldGVNb2RpZmllcihtb2RpZmllcnMsIG1vbWVudE9iaiwgJ2Jsb2NrZWQtb3V0LW9mLXJhbmdlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKGRpZEZvY3VzQ2hhbmdlIHx8IHJlY29tcHV0ZURheUJsb2NrZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNEYXlCbG9ja2VkKG1vbWVudE9iaikpIHtcbiAgICAgICAgICAgICAgICAgIG1vZGlmaWVycyA9IF90aGlzMi5hZGRNb2RpZmllcihtb2RpZmllcnMsIG1vbWVudE9iaiwgJ2Jsb2NrZWQtY2FsZW5kYXInKTtcbiAgICAgICAgICAgICAgICAgIGlzQmxvY2tlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIG1vZGlmaWVycyA9IF90aGlzMi5kZWxldGVNb2RpZmllcihtb2RpZmllcnMsIG1vbWVudE9iaiwgJ2Jsb2NrZWQtY2FsZW5kYXInKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAoaXNCbG9ja2VkKSB7XG4gICAgICAgICAgICAgICAgbW9kaWZpZXJzID0gX3RoaXMyLmFkZE1vZGlmaWVyKG1vZGlmaWVycywgbW9tZW50T2JqLCAnYmxvY2tlZCcpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1vZGlmaWVycyA9IF90aGlzMi5kZWxldGVNb2RpZmllcihtb2RpZmllcnMsIG1vbWVudE9iaiwgJ2Jsb2NrZWQnKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChkaWRGb2N1c0NoYW5nZSB8fCByZWNvbXB1dGVEYXlIaWdobGlnaHRlZCkge1xuICAgICAgICAgICAgICAgIGlmIChpc0RheUhpZ2hsaWdodGVkKG1vbWVudE9iaikpIHtcbiAgICAgICAgICAgICAgICAgIG1vZGlmaWVycyA9IF90aGlzMi5hZGRNb2RpZmllcihtb2RpZmllcnMsIG1vbWVudE9iaiwgJ2hpZ2hsaWdodGVkLWNhbGVuZGFyJyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIG1vZGlmaWVycyA9IF90aGlzMi5kZWxldGVNb2RpZmllcihtb2RpZmllcnMsIG1vbWVudE9iaiwgJ2hpZ2hsaWdodGVkLWNhbGVuZGFyJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtaW5pbXVtTmlnaHRzID4gMCAmJiBzdGFydERhdGUgJiYgZm9jdXNlZElucHV0ID09PSBfY29uc3RhbnRzLkVORF9EQVRFKSB7XG4gICAgICAgICAgbW9kaWZpZXJzID0gdGhpcy5hZGRNb2RpZmllclRvUmFuZ2UobW9kaWZpZXJzLCBzdGFydERhdGUsIHN0YXJ0RGF0ZS5jbG9uZSgpLmFkZChtaW5pbXVtTmlnaHRzLCAnZGF5cycpLCAnYmxvY2tlZC1taW5pbXVtLW5pZ2h0cycpO1xuXG4gICAgICAgICAgbW9kaWZpZXJzID0gdGhpcy5hZGRNb2RpZmllclRvUmFuZ2UobW9kaWZpZXJzLCBzdGFydERhdGUsIHN0YXJ0RGF0ZS5jbG9uZSgpLmFkZChtaW5pbXVtTmlnaHRzLCAnZGF5cycpLCAnYmxvY2tlZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHRvZGF5ID0gKDAsIF9tb21lbnQyWydkZWZhdWx0J10pKCk7XG4gICAgICAgIGlmICghKDAsIF9pc1NhbWVEYXkyWydkZWZhdWx0J10pKHRoaXMudG9kYXksIHRvZGF5KSkge1xuICAgICAgICAgIG1vZGlmaWVycyA9IHRoaXMuZGVsZXRlTW9kaWZpZXIobW9kaWZpZXJzLCB0aGlzLnRvZGF5LCAndG9kYXknKTtcbiAgICAgICAgICBtb2RpZmllcnMgPSB0aGlzLmFkZE1vZGlmaWVyKG1vZGlmaWVycywgdG9kYXksICd0b2RheScpO1xuICAgICAgICAgIHRoaXMudG9kYXkgPSB0b2RheTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhtb2RpZmllcnMpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIHZpc2libGVEYXlzOiAoMCwgX29iamVjdDJbJ2RlZmF1bHQnXSkoe30sIHZpc2libGVEYXlzLCBtb2RpZmllcnMpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGlkRm9jdXNDaGFuZ2UgfHwgcGhyYXNlcyAhPT0gcHJldlBocmFzZXMpIHtcbiAgICAgICAgICAvLyBzZXQgdGhlIGFwcHJvcHJpYXRlIENhbGVuZGFyRGF5IHBocmFzZSBiYXNlZCBvbiBmb2N1c2VkSW5wdXRcbiAgICAgICAgICB2YXIgY2hvb3NlQXZhaWxhYmxlRGF0ZSA9IGdldENob29zZUF2YWlsYWJsZURhdGVQaHJhc2UocGhyYXNlcywgZm9jdXNlZElucHV0KTtcblxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgcGhyYXNlczogKDAsIF9vYmplY3QyWydkZWZhdWx0J10pKHt9LCBwaHJhc2VzLCB7XG4gICAgICAgICAgICAgIGNob29zZUF2YWlsYWJsZURhdGU6IGNob29zZUF2YWlsYWJsZURhdGVcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdvbkRheUNsaWNrJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gb25EYXlDbGljayhkYXksIGUpIHtcbiAgICAgICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAga2VlcE9wZW5PbkRhdGVTZWxlY3QgPSBfcHJvcHMyLmtlZXBPcGVuT25EYXRlU2VsZWN0LFxuICAgICAgICAgICAgbWluaW11bU5pZ2h0cyA9IF9wcm9wczIubWluaW11bU5pZ2h0cyxcbiAgICAgICAgICAgIG9uQmx1ciA9IF9wcm9wczIub25CbHVyLFxuICAgICAgICAgICAgZm9jdXNlZElucHV0ID0gX3Byb3BzMi5mb2N1c2VkSW5wdXQsXG4gICAgICAgICAgICBvbkZvY3VzQ2hhbmdlID0gX3Byb3BzMi5vbkZvY3VzQ2hhbmdlLFxuICAgICAgICAgICAgb25DbG9zZSA9IF9wcm9wczIub25DbG9zZSxcbiAgICAgICAgICAgIG9uRGF0ZXNDaGFuZ2UgPSBfcHJvcHMyLm9uRGF0ZXNDaGFuZ2UsXG4gICAgICAgICAgICBzdGFydERhdGVPZmZzZXQgPSBfcHJvcHMyLnN0YXJ0RGF0ZU9mZnNldCxcbiAgICAgICAgICAgIGVuZERhdGVPZmZzZXQgPSBfcHJvcHMyLmVuZERhdGVPZmZzZXQsXG4gICAgICAgICAgICBkaXNhYmxlZCA9IF9wcm9wczIuZGlzYWJsZWQ7XG5cblxuICAgICAgICBpZiAoZSkgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAodGhpcy5pc0Jsb2NrZWQoZGF5KSkgcmV0dXJuO1xuXG4gICAgICAgIHZhciBfcHJvcHMzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIHN0YXJ0RGF0ZSA9IF9wcm9wczMuc3RhcnREYXRlLFxuICAgICAgICAgICAgZW5kRGF0ZSA9IF9wcm9wczMuZW5kRGF0ZTtcblxuXG4gICAgICAgIGlmIChzdGFydERhdGVPZmZzZXQgfHwgZW5kRGF0ZU9mZnNldCkge1xuICAgICAgICAgIHN0YXJ0RGF0ZSA9ICgwLCBfZ2V0U2VsZWN0ZWREYXRlT2Zmc2V0MlsnZGVmYXVsdCddKShzdGFydERhdGVPZmZzZXQsIGRheSk7XG4gICAgICAgICAgZW5kRGF0ZSA9ICgwLCBfZ2V0U2VsZWN0ZWREYXRlT2Zmc2V0MlsnZGVmYXVsdCddKShlbmREYXRlT2Zmc2V0LCBkYXkpO1xuXG4gICAgICAgICAgaWYgKCFrZWVwT3Blbk9uRGF0ZVNlbGVjdCkge1xuICAgICAgICAgICAgb25Gb2N1c0NoYW5nZShudWxsKTtcbiAgICAgICAgICAgIG9uQ2xvc2UoeyBzdGFydERhdGU6IHN0YXJ0RGF0ZSwgZW5kRGF0ZTogZW5kRGF0ZSB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoZm9jdXNlZElucHV0ID09PSBfY29uc3RhbnRzLlNUQVJUX0RBVEUpIHtcbiAgICAgICAgICB2YXIgbGFzdEFsbG93ZWRTdGFydERhdGUgPSBlbmREYXRlICYmIGVuZERhdGUuY2xvbmUoKS5zdWJ0cmFjdChtaW5pbXVtTmlnaHRzLCAnZGF5cycpO1xuICAgICAgICAgIHZhciBpc1N0YXJ0RGF0ZUFmdGVyRW5kRGF0ZSA9ICgwLCBfaXNCZWZvcmVEYXkyWydkZWZhdWx0J10pKGxhc3RBbGxvd2VkU3RhcnREYXRlLCBkYXkpIHx8ICgwLCBfaXNBZnRlckRheTJbJ2RlZmF1bHQnXSkoc3RhcnREYXRlLCBlbmREYXRlKTtcbiAgICAgICAgICB2YXIgaXNFbmREYXRlRGlzYWJsZWQgPSBkaXNhYmxlZCA9PT0gX2NvbnN0YW50cy5FTkRfREFURTtcblxuICAgICAgICAgIGlmICghaXNFbmREYXRlRGlzYWJsZWQgfHwgIWlzU3RhcnREYXRlQWZ0ZXJFbmREYXRlKSB7XG4gICAgICAgICAgICBzdGFydERhdGUgPSBkYXk7XG4gICAgICAgICAgICBpZiAoaXNTdGFydERhdGVBZnRlckVuZERhdGUpIHtcbiAgICAgICAgICAgICAgZW5kRGF0ZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGlzRW5kRGF0ZURpc2FibGVkICYmICFpc1N0YXJ0RGF0ZUFmdGVyRW5kRGF0ZSkge1xuICAgICAgICAgICAgb25Gb2N1c0NoYW5nZShudWxsKTtcbiAgICAgICAgICAgIG9uQ2xvc2UoeyBzdGFydERhdGU6IHN0YXJ0RGF0ZSwgZW5kRGF0ZTogZW5kRGF0ZSB9KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCFpc0VuZERhdGVEaXNhYmxlZCkge1xuICAgICAgICAgICAgb25Gb2N1c0NoYW5nZShfY29uc3RhbnRzLkVORF9EQVRFKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoZm9jdXNlZElucHV0ID09PSBfY29uc3RhbnRzLkVORF9EQVRFKSB7XG4gICAgICAgICAgdmFyIGZpcnN0QWxsb3dlZEVuZERhdGUgPSBzdGFydERhdGUgJiYgc3RhcnREYXRlLmNsb25lKCkuYWRkKG1pbmltdW1OaWdodHMsICdkYXlzJyk7XG5cbiAgICAgICAgICBpZiAoIXN0YXJ0RGF0ZSkge1xuICAgICAgICAgICAgZW5kRGF0ZSA9IGRheTtcbiAgICAgICAgICAgIG9uRm9jdXNDaGFuZ2UoX2NvbnN0YW50cy5TVEFSVF9EQVRFKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCgwLCBfaXNJbmNsdXNpdmVseUFmdGVyRGF5MlsnZGVmYXVsdCddKShkYXksIGZpcnN0QWxsb3dlZEVuZERhdGUpKSB7XG4gICAgICAgICAgICBlbmREYXRlID0gZGF5O1xuICAgICAgICAgICAgaWYgKCFrZWVwT3Blbk9uRGF0ZVNlbGVjdCkge1xuICAgICAgICAgICAgICBvbkZvY3VzQ2hhbmdlKG51bGwpO1xuICAgICAgICAgICAgICBvbkNsb3NlKHsgc3RhcnREYXRlOiBzdGFydERhdGUsIGVuZERhdGU6IGVuZERhdGUgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChkaXNhYmxlZCAhPT0gX2NvbnN0YW50cy5TVEFSVF9EQVRFKSB7XG4gICAgICAgICAgICBzdGFydERhdGUgPSBkYXk7XG4gICAgICAgICAgICBlbmREYXRlID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBvbkRhdGVzQ2hhbmdlKHsgc3RhcnREYXRlOiBzdGFydERhdGUsIGVuZERhdGU6IGVuZERhdGUgfSk7XG4gICAgICAgIG9uQmx1cigpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gb25EYXlDbGljaztcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ29uRGF5TW91c2VFbnRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIG9uRGF5TW91c2VFbnRlcihkYXkpIHtcbiAgICAgICAgLyogZXNsaW50IHJlYWN0L2Rlc3RydWN0dXJpbmctYXNzaWdubWVudDogMSAqL1xuICAgICAgICBpZiAodGhpcy5pc1RvdWNoRGV2aWNlKSByZXR1cm47XG4gICAgICAgIHZhciBfcHJvcHM0ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIHN0YXJ0RGF0ZSA9IF9wcm9wczQuc3RhcnREYXRlLFxuICAgICAgICAgICAgZW5kRGF0ZSA9IF9wcm9wczQuZW5kRGF0ZSxcbiAgICAgICAgICAgIGZvY3VzZWRJbnB1dCA9IF9wcm9wczQuZm9jdXNlZElucHV0LFxuICAgICAgICAgICAgbWluaW11bU5pZ2h0cyA9IF9wcm9wczQubWluaW11bU5pZ2h0cyxcbiAgICAgICAgICAgIHN0YXJ0RGF0ZU9mZnNldCA9IF9wcm9wczQuc3RhcnREYXRlT2Zmc2V0LFxuICAgICAgICAgICAgZW5kRGF0ZU9mZnNldCA9IF9wcm9wczQuZW5kRGF0ZU9mZnNldDtcbiAgICAgICAgdmFyIF9zdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgICBob3ZlckRhdGUgPSBfc3RhdGUuaG92ZXJEYXRlLFxuICAgICAgICAgICAgdmlzaWJsZURheXMgPSBfc3RhdGUudmlzaWJsZURheXM7XG5cbiAgICAgICAgdmFyIGRhdGVPZmZzZXQgPSBudWxsO1xuXG4gICAgICAgIGlmIChmb2N1c2VkSW5wdXQpIHtcbiAgICAgICAgICB2YXIgaGFzT2Zmc2V0ID0gc3RhcnREYXRlT2Zmc2V0IHx8IGVuZERhdGVPZmZzZXQ7XG4gICAgICAgICAgdmFyIG1vZGlmaWVycyA9IHt9O1xuXG4gICAgICAgICAgaWYgKGhhc09mZnNldCkge1xuICAgICAgICAgICAgdmFyIHN0YXJ0ID0gKDAsIF9nZXRTZWxlY3RlZERhdGVPZmZzZXQyWydkZWZhdWx0J10pKHN0YXJ0RGF0ZU9mZnNldCwgZGF5KTtcbiAgICAgICAgICAgIHZhciBlbmQgPSAoMCwgX2dldFNlbGVjdGVkRGF0ZU9mZnNldDJbJ2RlZmF1bHQnXSkoZW5kRGF0ZU9mZnNldCwgZGF5LCBmdW5jdGlvbiAocmFuZ2VEYXkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHJhbmdlRGF5LmFkZCgxLCAnZGF5Jyk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZGF0ZU9mZnNldCA9IHtcbiAgICAgICAgICAgICAgc3RhcnQ6IHN0YXJ0LFxuICAgICAgICAgICAgICBlbmQ6IGVuZFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0L2Rlc3RydWN0dXJpbmctYXNzaWdubWVudFxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGUuZGF0ZU9mZnNldCAmJiB0aGlzLnN0YXRlLmRhdGVPZmZzZXQuc3RhcnQgJiYgdGhpcy5zdGF0ZS5kYXRlT2Zmc2V0LmVuZCkge1xuICAgICAgICAgICAgICBtb2RpZmllcnMgPSB0aGlzLmRlbGV0ZU1vZGlmaWVyRnJvbVJhbmdlKG1vZGlmaWVycywgdGhpcy5zdGF0ZS5kYXRlT2Zmc2V0LnN0YXJ0LCB0aGlzLnN0YXRlLmRhdGVPZmZzZXQuZW5kLCAnaG92ZXJlZC1vZmZzZXQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1vZGlmaWVycyA9IHRoaXMuYWRkTW9kaWZpZXJUb1JhbmdlKG1vZGlmaWVycywgc3RhcnQsIGVuZCwgJ2hvdmVyZWQtb2Zmc2V0Jyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCFoYXNPZmZzZXQpIHtcbiAgICAgICAgICAgIG1vZGlmaWVycyA9IHRoaXMuZGVsZXRlTW9kaWZpZXIobW9kaWZpZXJzLCBob3ZlckRhdGUsICdob3ZlcmVkJyk7XG4gICAgICAgICAgICBtb2RpZmllcnMgPSB0aGlzLmFkZE1vZGlmaWVyKG1vZGlmaWVycywgZGF5LCAnaG92ZXJlZCcpO1xuXG4gICAgICAgICAgICBpZiAoc3RhcnREYXRlICYmICFlbmREYXRlICYmIGZvY3VzZWRJbnB1dCA9PT0gX2NvbnN0YW50cy5FTkRfREFURSkge1xuICAgICAgICAgICAgICBpZiAoKDAsIF9pc0FmdGVyRGF5MlsnZGVmYXVsdCddKShob3ZlckRhdGUsIHN0YXJ0RGF0ZSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgZW5kU3BhbiA9IGhvdmVyRGF0ZS5jbG9uZSgpLmFkZCgxLCAnZGF5Jyk7XG4gICAgICAgICAgICAgICAgbW9kaWZpZXJzID0gdGhpcy5kZWxldGVNb2RpZmllckZyb21SYW5nZShtb2RpZmllcnMsIHN0YXJ0RGF0ZSwgZW5kU3BhbiwgJ2hvdmVyZWQtc3BhbicpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzQmxvY2tlZChkYXkpICYmICgwLCBfaXNBZnRlckRheTJbJ2RlZmF1bHQnXSkoZGF5LCBzdGFydERhdGUpKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9lbmRTcGFuMiA9IGRheS5jbG9uZSgpLmFkZCgxLCAnZGF5Jyk7XG4gICAgICAgICAgICAgICAgbW9kaWZpZXJzID0gdGhpcy5hZGRNb2RpZmllclRvUmFuZ2UobW9kaWZpZXJzLCBzdGFydERhdGUsIF9lbmRTcGFuMiwgJ2hvdmVyZWQtc3BhbicpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghc3RhcnREYXRlICYmIGVuZERhdGUgJiYgZm9jdXNlZElucHV0ID09PSBfY29uc3RhbnRzLlNUQVJUX0RBVEUpIHtcbiAgICAgICAgICAgICAgaWYgKCgwLCBfaXNCZWZvcmVEYXkyWydkZWZhdWx0J10pKGhvdmVyRGF0ZSwgZW5kRGF0ZSkpIHtcbiAgICAgICAgICAgICAgICBtb2RpZmllcnMgPSB0aGlzLmRlbGV0ZU1vZGlmaWVyRnJvbVJhbmdlKG1vZGlmaWVycywgaG92ZXJEYXRlLCBlbmREYXRlLCAnaG92ZXJlZC1zcGFuJyk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNCbG9ja2VkKGRheSkgJiYgKDAsIF9pc0JlZm9yZURheTJbJ2RlZmF1bHQnXSkoZGF5LCBlbmREYXRlKSkge1xuICAgICAgICAgICAgICAgIG1vZGlmaWVycyA9IHRoaXMuYWRkTW9kaWZpZXJUb1JhbmdlKG1vZGlmaWVycywgZGF5LCBlbmREYXRlLCAnaG92ZXJlZC1zcGFuJyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHN0YXJ0RGF0ZSkge1xuICAgICAgICAgICAgICB2YXIgc3RhcnRTcGFuID0gc3RhcnREYXRlLmNsb25lKCkuYWRkKDEsICdkYXknKTtcbiAgICAgICAgICAgICAgdmFyIF9lbmRTcGFuMyA9IHN0YXJ0RGF0ZS5jbG9uZSgpLmFkZChtaW5pbXVtTmlnaHRzICsgMSwgJ2RheXMnKTtcbiAgICAgICAgICAgICAgbW9kaWZpZXJzID0gdGhpcy5kZWxldGVNb2RpZmllckZyb21SYW5nZShtb2RpZmllcnMsIHN0YXJ0U3BhbiwgX2VuZFNwYW4zLCAnYWZ0ZXItaG92ZXJlZC1zdGFydCcpO1xuXG4gICAgICAgICAgICAgIGlmICgoMCwgX2lzU2FtZURheTJbJ2RlZmF1bHQnXSkoZGF5LCBzdGFydERhdGUpKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5ld1N0YXJ0U3BhbiA9IHN0YXJ0RGF0ZS5jbG9uZSgpLmFkZCgxLCAnZGF5Jyk7XG4gICAgICAgICAgICAgICAgdmFyIG5ld0VuZFNwYW4gPSBzdGFydERhdGUuY2xvbmUoKS5hZGQobWluaW11bU5pZ2h0cyArIDEsICdkYXlzJyk7XG4gICAgICAgICAgICAgICAgbW9kaWZpZXJzID0gdGhpcy5hZGRNb2RpZmllclRvUmFuZ2UobW9kaWZpZXJzLCBuZXdTdGFydFNwYW4sIG5ld0VuZFNwYW4sICdhZnRlci1ob3ZlcmVkLXN0YXJ0Jyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGhvdmVyRGF0ZTogZGF5LFxuICAgICAgICAgICAgZGF0ZU9mZnNldDogZGF0ZU9mZnNldCxcbiAgICAgICAgICAgIHZpc2libGVEYXlzOiAoMCwgX29iamVjdDJbJ2RlZmF1bHQnXSkoe30sIHZpc2libGVEYXlzLCBtb2RpZmllcnMpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9uRGF5TW91c2VFbnRlcjtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ29uRGF5TW91c2VMZWF2ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIG9uRGF5TW91c2VMZWF2ZShkYXkpIHtcbiAgICAgICAgdmFyIF9wcm9wczUgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgc3RhcnREYXRlID0gX3Byb3BzNS5zdGFydERhdGUsXG4gICAgICAgICAgICBlbmREYXRlID0gX3Byb3BzNS5lbmREYXRlLFxuICAgICAgICAgICAgbWluaW11bU5pZ2h0cyA9IF9wcm9wczUubWluaW11bU5pZ2h0cztcbiAgICAgICAgdmFyIF9zdGF0ZTIgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgICAgaG92ZXJEYXRlID0gX3N0YXRlMi5ob3ZlckRhdGUsXG4gICAgICAgICAgICB2aXNpYmxlRGF5cyA9IF9zdGF0ZTIudmlzaWJsZURheXMsXG4gICAgICAgICAgICBkYXRlT2Zmc2V0ID0gX3N0YXRlMi5kYXRlT2Zmc2V0O1xuXG4gICAgICAgIGlmICh0aGlzLmlzVG91Y2hEZXZpY2UgfHwgIWhvdmVyRGF0ZSkgcmV0dXJuO1xuXG4gICAgICAgIHZhciBtb2RpZmllcnMgPSB7fTtcbiAgICAgICAgbW9kaWZpZXJzID0gdGhpcy5kZWxldGVNb2RpZmllcihtb2RpZmllcnMsIGhvdmVyRGF0ZSwgJ2hvdmVyZWQnKTtcblxuICAgICAgICBpZiAoZGF0ZU9mZnNldCkge1xuICAgICAgICAgIG1vZGlmaWVycyA9IHRoaXMuZGVsZXRlTW9kaWZpZXJGcm9tUmFuZ2UobW9kaWZpZXJzLCB0aGlzLnN0YXRlLmRhdGVPZmZzZXQuc3RhcnQsIHRoaXMuc3RhdGUuZGF0ZU9mZnNldC5lbmQsICdob3ZlcmVkLW9mZnNldCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0YXJ0RGF0ZSAmJiAhZW5kRGF0ZSAmJiAoMCwgX2lzQWZ0ZXJEYXkyWydkZWZhdWx0J10pKGhvdmVyRGF0ZSwgc3RhcnREYXRlKSkge1xuICAgICAgICAgIHZhciBlbmRTcGFuID0gaG92ZXJEYXRlLmNsb25lKCkuYWRkKDEsICdkYXknKTtcbiAgICAgICAgICBtb2RpZmllcnMgPSB0aGlzLmRlbGV0ZU1vZGlmaWVyRnJvbVJhbmdlKG1vZGlmaWVycywgc3RhcnREYXRlLCBlbmRTcGFuLCAnaG92ZXJlZC1zcGFuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXN0YXJ0RGF0ZSAmJiBlbmREYXRlICYmICgwLCBfaXNBZnRlckRheTJbJ2RlZmF1bHQnXSkoZW5kRGF0ZSwgaG92ZXJEYXRlKSkge1xuICAgICAgICAgIG1vZGlmaWVycyA9IHRoaXMuZGVsZXRlTW9kaWZpZXJGcm9tUmFuZ2UobW9kaWZpZXJzLCBob3ZlckRhdGUsIGVuZERhdGUsICdob3ZlcmVkLXNwYW4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdGFydERhdGUgJiYgKDAsIF9pc1NhbWVEYXkyWydkZWZhdWx0J10pKGRheSwgc3RhcnREYXRlKSkge1xuICAgICAgICAgIHZhciBzdGFydFNwYW4gPSBzdGFydERhdGUuY2xvbmUoKS5hZGQoMSwgJ2RheScpO1xuICAgICAgICAgIHZhciBfZW5kU3BhbjQgPSBzdGFydERhdGUuY2xvbmUoKS5hZGQobWluaW11bU5pZ2h0cyArIDEsICdkYXlzJyk7XG4gICAgICAgICAgbW9kaWZpZXJzID0gdGhpcy5kZWxldGVNb2RpZmllckZyb21SYW5nZShtb2RpZmllcnMsIHN0YXJ0U3BhbiwgX2VuZFNwYW40LCAnYWZ0ZXItaG92ZXJlZC1zdGFydCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaG92ZXJEYXRlOiBudWxsLFxuICAgICAgICAgIHZpc2libGVEYXlzOiAoMCwgX29iamVjdDJbJ2RlZmF1bHQnXSkoe30sIHZpc2libGVEYXlzLCBtb2RpZmllcnMpXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gb25EYXlNb3VzZUxlYXZlO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnb25QcmV2TW9udGhDbGljaycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIG9uUHJldk1vbnRoQ2xpY2soKSB7XG4gICAgICAgIHZhciBfcHJvcHM2ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIG9uUHJldk1vbnRoQ2xpY2sgPSBfcHJvcHM2Lm9uUHJldk1vbnRoQ2xpY2ssXG4gICAgICAgICAgICBudW1iZXJPZk1vbnRocyA9IF9wcm9wczYubnVtYmVyT2ZNb250aHMsXG4gICAgICAgICAgICBlbmFibGVPdXRzaWRlRGF5cyA9IF9wcm9wczYuZW5hYmxlT3V0c2lkZURheXM7XG4gICAgICAgIHZhciBfc3RhdGUzID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICAgIGN1cnJlbnRNb250aCA9IF9zdGF0ZTMuY3VycmVudE1vbnRoLFxuICAgICAgICAgICAgdmlzaWJsZURheXMgPSBfc3RhdGUzLnZpc2libGVEYXlzO1xuXG5cbiAgICAgICAgdmFyIG5ld1Zpc2libGVEYXlzID0ge307XG4gICAgICAgIE9iamVjdC5rZXlzKHZpc2libGVEYXlzKS5zb3J0KCkuc2xpY2UoMCwgbnVtYmVyT2ZNb250aHMgKyAxKS5mb3JFYWNoKGZ1bmN0aW9uIChtb250aCkge1xuICAgICAgICAgIG5ld1Zpc2libGVEYXlzW21vbnRoXSA9IHZpc2libGVEYXlzW21vbnRoXTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIHByZXZNb250aCA9IGN1cnJlbnRNb250aC5jbG9uZSgpLnN1YnRyYWN0KDIsICdtb250aHMnKTtcbiAgICAgICAgdmFyIHByZXZNb250aFZpc2libGVEYXlzID0gKDAsIF9nZXRWaXNpYmxlRGF5czJbJ2RlZmF1bHQnXSkocHJldk1vbnRoLCAxLCBlbmFibGVPdXRzaWRlRGF5cywgdHJ1ZSk7XG5cbiAgICAgICAgdmFyIG5ld0N1cnJlbnRNb250aCA9IGN1cnJlbnRNb250aC5jbG9uZSgpLnN1YnRyYWN0KDEsICdtb250aCcpO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBjdXJyZW50TW9udGg6IG5ld0N1cnJlbnRNb250aCxcbiAgICAgICAgICB2aXNpYmxlRGF5czogKDAsIF9vYmplY3QyWydkZWZhdWx0J10pKHt9LCBuZXdWaXNpYmxlRGF5cywgdGhpcy5nZXRNb2RpZmllcnMocHJldk1vbnRoVmlzaWJsZURheXMpKVxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgb25QcmV2TW9udGhDbGljayhuZXdDdXJyZW50TW9udGguY2xvbmUoKSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gb25QcmV2TW9udGhDbGljaztcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ29uTmV4dE1vbnRoQ2xpY2snLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBvbk5leHRNb250aENsaWNrKCkge1xuICAgICAgICB2YXIgX3Byb3BzNyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBvbk5leHRNb250aENsaWNrID0gX3Byb3BzNy5vbk5leHRNb250aENsaWNrLFxuICAgICAgICAgICAgbnVtYmVyT2ZNb250aHMgPSBfcHJvcHM3Lm51bWJlck9mTW9udGhzLFxuICAgICAgICAgICAgZW5hYmxlT3V0c2lkZURheXMgPSBfcHJvcHM3LmVuYWJsZU91dHNpZGVEYXlzO1xuICAgICAgICB2YXIgX3N0YXRlNCA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgICBjdXJyZW50TW9udGggPSBfc3RhdGU0LmN1cnJlbnRNb250aCxcbiAgICAgICAgICAgIHZpc2libGVEYXlzID0gX3N0YXRlNC52aXNpYmxlRGF5cztcblxuXG4gICAgICAgIHZhciBuZXdWaXNpYmxlRGF5cyA9IHt9O1xuICAgICAgICBPYmplY3Qua2V5cyh2aXNpYmxlRGF5cykuc29ydCgpLnNsaWNlKDEpLmZvckVhY2goZnVuY3Rpb24gKG1vbnRoKSB7XG4gICAgICAgICAgbmV3VmlzaWJsZURheXNbbW9udGhdID0gdmlzaWJsZURheXNbbW9udGhdO1xuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgbmV4dE1vbnRoID0gY3VycmVudE1vbnRoLmNsb25lKCkuYWRkKG51bWJlck9mTW9udGhzICsgMSwgJ21vbnRoJyk7XG4gICAgICAgIHZhciBuZXh0TW9udGhWaXNpYmxlRGF5cyA9ICgwLCBfZ2V0VmlzaWJsZURheXMyWydkZWZhdWx0J10pKG5leHRNb250aCwgMSwgZW5hYmxlT3V0c2lkZURheXMsIHRydWUpO1xuXG4gICAgICAgIHZhciBuZXdDdXJyZW50TW9udGggPSBjdXJyZW50TW9udGguY2xvbmUoKS5hZGQoMSwgJ21vbnRoJyk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGN1cnJlbnRNb250aDogbmV3Q3VycmVudE1vbnRoLFxuICAgICAgICAgIHZpc2libGVEYXlzOiAoMCwgX29iamVjdDJbJ2RlZmF1bHQnXSkoe30sIG5ld1Zpc2libGVEYXlzLCB0aGlzLmdldE1vZGlmaWVycyhuZXh0TW9udGhWaXNpYmxlRGF5cykpXG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBvbk5leHRNb250aENsaWNrKG5ld0N1cnJlbnRNb250aC5jbG9uZSgpKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvbk5leHRNb250aENsaWNrO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnb25Nb250aENoYW5nZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIG9uTW9udGhDaGFuZ2UobmV3TW9udGgpIHtcbiAgICAgICAgdmFyIF9wcm9wczggPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgbnVtYmVyT2ZNb250aHMgPSBfcHJvcHM4Lm51bWJlck9mTW9udGhzLFxuICAgICAgICAgICAgZW5hYmxlT3V0c2lkZURheXMgPSBfcHJvcHM4LmVuYWJsZU91dHNpZGVEYXlzLFxuICAgICAgICAgICAgb3JpZW50YXRpb24gPSBfcHJvcHM4Lm9yaWVudGF0aW9uO1xuXG4gICAgICAgIHZhciB3aXRob3V0VHJhbnNpdGlvbk1vbnRocyA9IG9yaWVudGF0aW9uID09PSBfY29uc3RhbnRzLlZFUlRJQ0FMX1NDUk9MTEFCTEU7XG4gICAgICAgIHZhciBuZXdWaXNpYmxlRGF5cyA9ICgwLCBfZ2V0VmlzaWJsZURheXMyWydkZWZhdWx0J10pKG5ld01vbnRoLCBudW1iZXJPZk1vbnRocywgZW5hYmxlT3V0c2lkZURheXMsIHdpdGhvdXRUcmFuc2l0aW9uTW9udGhzKTtcblxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBjdXJyZW50TW9udGg6IG5ld01vbnRoLmNsb25lKCksXG4gICAgICAgICAgdmlzaWJsZURheXM6IHRoaXMuZ2V0TW9kaWZpZXJzKG5ld1Zpc2libGVEYXlzKVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9uTW9udGhDaGFuZ2U7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdvblllYXJDaGFuZ2UnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBvblllYXJDaGFuZ2UobmV3TW9udGgpIHtcbiAgICAgICAgdmFyIF9wcm9wczkgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgbnVtYmVyT2ZNb250aHMgPSBfcHJvcHM5Lm51bWJlck9mTW9udGhzLFxuICAgICAgICAgICAgZW5hYmxlT3V0c2lkZURheXMgPSBfcHJvcHM5LmVuYWJsZU91dHNpZGVEYXlzLFxuICAgICAgICAgICAgb3JpZW50YXRpb24gPSBfcHJvcHM5Lm9yaWVudGF0aW9uO1xuXG4gICAgICAgIHZhciB3aXRob3V0VHJhbnNpdGlvbk1vbnRocyA9IG9yaWVudGF0aW9uID09PSBfY29uc3RhbnRzLlZFUlRJQ0FMX1NDUk9MTEFCTEU7XG4gICAgICAgIHZhciBuZXdWaXNpYmxlRGF5cyA9ICgwLCBfZ2V0VmlzaWJsZURheXMyWydkZWZhdWx0J10pKG5ld01vbnRoLCBudW1iZXJPZk1vbnRocywgZW5hYmxlT3V0c2lkZURheXMsIHdpdGhvdXRUcmFuc2l0aW9uTW9udGhzKTtcblxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBjdXJyZW50TW9udGg6IG5ld01vbnRoLmNsb25lKCksXG4gICAgICAgICAgdmlzaWJsZURheXM6IHRoaXMuZ2V0TW9kaWZpZXJzKG5ld1Zpc2libGVEYXlzKVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9uWWVhckNoYW5nZTtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ29uTXVsdGlwbHlTY3JvbGxhYmxlTW9udGhzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gb25NdWx0aXBseVNjcm9sbGFibGVNb250aHMoKSB7XG4gICAgICAgIHZhciBfcHJvcHMxMCA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBudW1iZXJPZk1vbnRocyA9IF9wcm9wczEwLm51bWJlck9mTW9udGhzLFxuICAgICAgICAgICAgZW5hYmxlT3V0c2lkZURheXMgPSBfcHJvcHMxMC5lbmFibGVPdXRzaWRlRGF5cztcbiAgICAgICAgdmFyIF9zdGF0ZTUgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgICAgY3VycmVudE1vbnRoID0gX3N0YXRlNS5jdXJyZW50TW9udGgsXG4gICAgICAgICAgICB2aXNpYmxlRGF5cyA9IF9zdGF0ZTUudmlzaWJsZURheXM7XG5cblxuICAgICAgICB2YXIgbnVtYmVyT2ZWaXNpYmxlTW9udGhzID0gT2JqZWN0LmtleXModmlzaWJsZURheXMpLmxlbmd0aDtcbiAgICAgICAgdmFyIG5leHRNb250aCA9IGN1cnJlbnRNb250aC5jbG9uZSgpLmFkZChudW1iZXJPZlZpc2libGVNb250aHMsICdtb250aCcpO1xuICAgICAgICB2YXIgbmV3VmlzaWJsZURheXMgPSAoMCwgX2dldFZpc2libGVEYXlzMlsnZGVmYXVsdCddKShuZXh0TW9udGgsIG51bWJlck9mTW9udGhzLCBlbmFibGVPdXRzaWRlRGF5cywgdHJ1ZSk7XG5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgdmlzaWJsZURheXM6ICgwLCBfb2JqZWN0MlsnZGVmYXVsdCddKSh7fSwgdmlzaWJsZURheXMsIHRoaXMuZ2V0TW9kaWZpZXJzKG5ld1Zpc2libGVEYXlzKSlcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvbk11bHRpcGx5U2Nyb2xsYWJsZU1vbnRocztcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ2dldEZpcnN0Rm9jdXNhYmxlRGF5JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gZ2V0Rmlyc3RGb2N1c2FibGVEYXkobmV3TW9udGgpIHtcbiAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgICAgdmFyIF9wcm9wczExID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIHN0YXJ0RGF0ZSA9IF9wcm9wczExLnN0YXJ0RGF0ZSxcbiAgICAgICAgICAgIGVuZERhdGUgPSBfcHJvcHMxMS5lbmREYXRlLFxuICAgICAgICAgICAgZm9jdXNlZElucHV0ID0gX3Byb3BzMTEuZm9jdXNlZElucHV0LFxuICAgICAgICAgICAgbWluaW11bU5pZ2h0cyA9IF9wcm9wczExLm1pbmltdW1OaWdodHMsXG4gICAgICAgICAgICBudW1iZXJPZk1vbnRocyA9IF9wcm9wczExLm51bWJlck9mTW9udGhzO1xuXG5cbiAgICAgICAgdmFyIGZvY3VzZWREYXRlID0gbmV3TW9udGguY2xvbmUoKS5zdGFydE9mKCdtb250aCcpO1xuICAgICAgICBpZiAoZm9jdXNlZElucHV0ID09PSBfY29uc3RhbnRzLlNUQVJUX0RBVEUgJiYgc3RhcnREYXRlKSB7XG4gICAgICAgICAgZm9jdXNlZERhdGUgPSBzdGFydERhdGUuY2xvbmUoKTtcbiAgICAgICAgfSBlbHNlIGlmIChmb2N1c2VkSW5wdXQgPT09IF9jb25zdGFudHMuRU5EX0RBVEUgJiYgIWVuZERhdGUgJiYgc3RhcnREYXRlKSB7XG4gICAgICAgICAgZm9jdXNlZERhdGUgPSBzdGFydERhdGUuY2xvbmUoKS5hZGQobWluaW11bU5pZ2h0cywgJ2RheXMnKTtcbiAgICAgICAgfSBlbHNlIGlmIChmb2N1c2VkSW5wdXQgPT09IF9jb25zdGFudHMuRU5EX0RBVEUgJiYgZW5kRGF0ZSkge1xuICAgICAgICAgIGZvY3VzZWREYXRlID0gZW5kRGF0ZS5jbG9uZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaXNCbG9ja2VkKGZvY3VzZWREYXRlKSkge1xuICAgICAgICAgIHZhciBkYXlzID0gW107XG4gICAgICAgICAgdmFyIGxhc3RWaXNpYmxlRGF5ID0gbmV3TW9udGguY2xvbmUoKS5hZGQobnVtYmVyT2ZNb250aHMgLSAxLCAnbW9udGhzJykuZW5kT2YoJ21vbnRoJyk7XG4gICAgICAgICAgdmFyIGN1cnJlbnREYXkgPSBmb2N1c2VkRGF0ZS5jbG9uZSgpO1xuICAgICAgICAgIHdoaWxlICghKDAsIF9pc0FmdGVyRGF5MlsnZGVmYXVsdCddKShjdXJyZW50RGF5LCBsYXN0VmlzaWJsZURheSkpIHtcbiAgICAgICAgICAgIGN1cnJlbnREYXkgPSBjdXJyZW50RGF5LmNsb25lKCkuYWRkKDEsICdkYXknKTtcbiAgICAgICAgICAgIGRheXMucHVzaChjdXJyZW50RGF5KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgdmlhYmxlRGF5cyA9IGRheXMuZmlsdGVyKGZ1bmN0aW9uIChkYXkpIHtcbiAgICAgICAgICAgIHJldHVybiAhX3RoaXMzLmlzQmxvY2tlZChkYXkpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaWYgKHZpYWJsZURheXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdmFyIF92aWFibGVEYXlzID0gX3NsaWNlZFRvQXJyYXkodmlhYmxlRGF5cywgMSk7XG5cbiAgICAgICAgICAgIGZvY3VzZWREYXRlID0gX3ZpYWJsZURheXNbMF07XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZvY3VzZWREYXRlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0Rmlyc3RGb2N1c2FibGVEYXk7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRNb2RpZmllcnMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBnZXRNb2RpZmllcnModmlzaWJsZURheXMpIHtcbiAgICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgICAgdmFyIG1vZGlmaWVycyA9IHt9O1xuICAgICAgICBPYmplY3Qua2V5cyh2aXNpYmxlRGF5cykuZm9yRWFjaChmdW5jdGlvbiAobW9udGgpIHtcbiAgICAgICAgICBtb2RpZmllcnNbbW9udGhdID0ge307XG4gICAgICAgICAgdmlzaWJsZURheXNbbW9udGhdLmZvckVhY2goZnVuY3Rpb24gKGRheSkge1xuICAgICAgICAgICAgbW9kaWZpZXJzW21vbnRoXVsoMCwgX3RvSVNPRGF0ZVN0cmluZzJbJ2RlZmF1bHQnXSkoZGF5KV0gPSBfdGhpczQuZ2V0TW9kaWZpZXJzRm9yRGF5KGRheSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBtb2RpZmllcnM7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXRNb2RpZmllcnM7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRNb2RpZmllcnNGb3JEYXknLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBnZXRNb2RpZmllcnNGb3JEYXkoZGF5KSB7XG4gICAgICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXG4gICAgICAgIHJldHVybiBuZXcgU2V0KE9iamVjdC5rZXlzKHRoaXMubW9kaWZpZXJzKS5maWx0ZXIoZnVuY3Rpb24gKG1vZGlmaWVyKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzNS5tb2RpZmllcnNbbW9kaWZpZXJdKGRheSk7XG4gICAgICAgIH0pKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldE1vZGlmaWVyc0ZvckRheTtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ2dldFN0YXRlRm9yTmV3TW9udGgnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBnZXRTdGF0ZUZvck5ld01vbnRoKG5leHRQcm9wcykge1xuICAgICAgICB2YXIgX3RoaXM2ID0gdGhpcztcblxuICAgICAgICB2YXIgaW5pdGlhbFZpc2libGVNb250aCA9IG5leHRQcm9wcy5pbml0aWFsVmlzaWJsZU1vbnRoLFxuICAgICAgICAgICAgbnVtYmVyT2ZNb250aHMgPSBuZXh0UHJvcHMubnVtYmVyT2ZNb250aHMsXG4gICAgICAgICAgICBlbmFibGVPdXRzaWRlRGF5cyA9IG5leHRQcm9wcy5lbmFibGVPdXRzaWRlRGF5cyxcbiAgICAgICAgICAgIG9yaWVudGF0aW9uID0gbmV4dFByb3BzLm9yaWVudGF0aW9uLFxuICAgICAgICAgICAgc3RhcnREYXRlID0gbmV4dFByb3BzLnN0YXJ0RGF0ZTtcblxuICAgICAgICB2YXIgaW5pdGlhbFZpc2libGVNb250aFRodW5rID0gaW5pdGlhbFZpc2libGVNb250aCB8fCAoc3RhcnREYXRlID8gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBzdGFydERhdGU7XG4gICAgICAgIH0gOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzNi50b2RheTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBjdXJyZW50TW9udGggPSBpbml0aWFsVmlzaWJsZU1vbnRoVGh1bmsoKTtcbiAgICAgICAgdmFyIHdpdGhvdXRUcmFuc2l0aW9uTW9udGhzID0gb3JpZW50YXRpb24gPT09IF9jb25zdGFudHMuVkVSVElDQUxfU0NST0xMQUJMRTtcbiAgICAgICAgdmFyIHZpc2libGVEYXlzID0gdGhpcy5nZXRNb2RpZmllcnMoKDAsIF9nZXRWaXNpYmxlRGF5czJbJ2RlZmF1bHQnXSkoY3VycmVudE1vbnRoLCBudW1iZXJPZk1vbnRocywgZW5hYmxlT3V0c2lkZURheXMsIHdpdGhvdXRUcmFuc2l0aW9uTW9udGhzKSk7XG4gICAgICAgIHJldHVybiB7IGN1cnJlbnRNb250aDogY3VycmVudE1vbnRoLCB2aXNpYmxlRGF5czogdmlzaWJsZURheXMgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldFN0YXRlRm9yTmV3TW9udGg7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdhZGRNb2RpZmllcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGFkZE1vZGlmaWVyKHVwZGF0ZWREYXlzLCBkYXksIG1vZGlmaWVyKSB7XG4gICAgICAgIHZhciBfcHJvcHMxMiA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBudW1iZXJPZlZpc2libGVNb250aHMgPSBfcHJvcHMxMi5udW1iZXJPZk1vbnRocyxcbiAgICAgICAgICAgIGVuYWJsZU91dHNpZGVEYXlzID0gX3Byb3BzMTIuZW5hYmxlT3V0c2lkZURheXMsXG4gICAgICAgICAgICBvcmllbnRhdGlvbiA9IF9wcm9wczEyLm9yaWVudGF0aW9uO1xuICAgICAgICB2YXIgX3N0YXRlNiA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgICBmaXJzdFZpc2libGVNb250aCA9IF9zdGF0ZTYuY3VycmVudE1vbnRoLFxuICAgICAgICAgICAgdmlzaWJsZURheXMgPSBfc3RhdGU2LnZpc2libGVEYXlzO1xuXG5cbiAgICAgICAgdmFyIGN1cnJlbnRNb250aCA9IGZpcnN0VmlzaWJsZU1vbnRoO1xuICAgICAgICB2YXIgbnVtYmVyT2ZNb250aHMgPSBudW1iZXJPZlZpc2libGVNb250aHM7XG4gICAgICAgIGlmIChvcmllbnRhdGlvbiA9PT0gX2NvbnN0YW50cy5WRVJUSUNBTF9TQ1JPTExBQkxFKSB7XG4gICAgICAgICAgbnVtYmVyT2ZNb250aHMgPSBPYmplY3Qua2V5cyh2aXNpYmxlRGF5cykubGVuZ3RoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGN1cnJlbnRNb250aCA9IGN1cnJlbnRNb250aC5jbG9uZSgpLnN1YnRyYWN0KDEsICdtb250aCcpO1xuICAgICAgICAgIG51bWJlck9mTW9udGhzICs9IDI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkYXkgfHwgISgwLCBfaXNEYXlWaXNpYmxlMlsnZGVmYXVsdCddKShkYXksIGN1cnJlbnRNb250aCwgbnVtYmVyT2ZNb250aHMsIGVuYWJsZU91dHNpZGVEYXlzKSkge1xuICAgICAgICAgIHJldHVybiB1cGRhdGVkRGF5cztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpc28gPSAoMCwgX3RvSVNPRGF0ZVN0cmluZzJbJ2RlZmF1bHQnXSkoZGF5KTtcblxuICAgICAgICB2YXIgdXBkYXRlZERheXNBZnRlckFkZGl0aW9uID0gKDAsIF9vYmplY3QyWydkZWZhdWx0J10pKHt9LCB1cGRhdGVkRGF5cyk7XG4gICAgICAgIGlmIChlbmFibGVPdXRzaWRlRGF5cykge1xuICAgICAgICAgIHZhciBtb250aHNUb1VwZGF0ZSA9IE9iamVjdC5rZXlzKHZpc2libGVEYXlzKS5maWx0ZXIoZnVuY3Rpb24gKG1vbnRoS2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModmlzaWJsZURheXNbbW9udGhLZXldKS5pbmRleE9mKGlzbykgPiAtMTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHVwZGF0ZWREYXlzQWZ0ZXJBZGRpdGlvbiA9IG1vbnRoc1RvVXBkYXRlLnJlZHVjZShmdW5jdGlvbiAoZGF5cywgbW9udGhJc28pIHtcbiAgICAgICAgICAgIHZhciBtb250aCA9IHVwZGF0ZWREYXlzW21vbnRoSXNvXSB8fCB2aXNpYmxlRGF5c1ttb250aElzb107XG4gICAgICAgICAgICB2YXIgbW9kaWZpZXJzID0gbmV3IFNldChtb250aFtpc29dKTtcbiAgICAgICAgICAgIG1vZGlmaWVycy5hZGQobW9kaWZpZXIpO1xuICAgICAgICAgICAgcmV0dXJuICgwLCBfb2JqZWN0MlsnZGVmYXVsdCddKSh7fSwgZGF5cywgX2RlZmluZVByb3BlcnR5KHt9LCBtb250aElzbywgKDAsIF9vYmplY3QyWydkZWZhdWx0J10pKHt9LCBtb250aCwgX2RlZmluZVByb3BlcnR5KHt9LCBpc28sIG1vZGlmaWVycykpKSk7XG4gICAgICAgICAgfSwgdXBkYXRlZERheXNBZnRlckFkZGl0aW9uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgbW9udGhJc28gPSAoMCwgX3RvSVNPTW9udGhTdHJpbmcyWydkZWZhdWx0J10pKGRheSk7XG4gICAgICAgICAgdmFyIG1vbnRoID0gdXBkYXRlZERheXNbbW9udGhJc29dIHx8IHZpc2libGVEYXlzW21vbnRoSXNvXTtcblxuICAgICAgICAgIHZhciBtb2RpZmllcnMgPSBuZXcgU2V0KG1vbnRoW2lzb10pO1xuICAgICAgICAgIG1vZGlmaWVycy5hZGQobW9kaWZpZXIpO1xuICAgICAgICAgIHVwZGF0ZWREYXlzQWZ0ZXJBZGRpdGlvbiA9ICgwLCBfb2JqZWN0MlsnZGVmYXVsdCddKSh7fSwgdXBkYXRlZERheXNBZnRlckFkZGl0aW9uLCBfZGVmaW5lUHJvcGVydHkoe30sIG1vbnRoSXNvLCAoMCwgX29iamVjdDJbJ2RlZmF1bHQnXSkoe30sIG1vbnRoLCBfZGVmaW5lUHJvcGVydHkoe30sIGlzbywgbW9kaWZpZXJzKSkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB1cGRhdGVkRGF5c0FmdGVyQWRkaXRpb247XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhZGRNb2RpZmllcjtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ2FkZE1vZGlmaWVyVG9SYW5nZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGFkZE1vZGlmaWVyVG9SYW5nZSh1cGRhdGVkRGF5cywgc3RhcnQsIGVuZCwgbW9kaWZpZXIpIHtcbiAgICAgICAgdmFyIGRheXMgPSB1cGRhdGVkRGF5cztcblxuICAgICAgICB2YXIgc3BhblN0YXJ0ID0gc3RhcnQuY2xvbmUoKTtcbiAgICAgICAgd2hpbGUgKCgwLCBfaXNCZWZvcmVEYXkyWydkZWZhdWx0J10pKHNwYW5TdGFydCwgZW5kKSkge1xuICAgICAgICAgIGRheXMgPSB0aGlzLmFkZE1vZGlmaWVyKGRheXMsIHNwYW5TdGFydCwgbW9kaWZpZXIpO1xuICAgICAgICAgIHNwYW5TdGFydCA9IHNwYW5TdGFydC5jbG9uZSgpLmFkZCgxLCAnZGF5Jyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGF5cztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGFkZE1vZGlmaWVyVG9SYW5nZTtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ2RlbGV0ZU1vZGlmaWVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gZGVsZXRlTW9kaWZpZXIodXBkYXRlZERheXMsIGRheSwgbW9kaWZpZXIpIHtcbiAgICAgICAgdmFyIF9wcm9wczEzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIG51bWJlck9mVmlzaWJsZU1vbnRocyA9IF9wcm9wczEzLm51bWJlck9mTW9udGhzLFxuICAgICAgICAgICAgZW5hYmxlT3V0c2lkZURheXMgPSBfcHJvcHMxMy5lbmFibGVPdXRzaWRlRGF5cyxcbiAgICAgICAgICAgIG9yaWVudGF0aW9uID0gX3Byb3BzMTMub3JpZW50YXRpb247XG4gICAgICAgIHZhciBfc3RhdGU3ID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICAgIGZpcnN0VmlzaWJsZU1vbnRoID0gX3N0YXRlNy5jdXJyZW50TW9udGgsXG4gICAgICAgICAgICB2aXNpYmxlRGF5cyA9IF9zdGF0ZTcudmlzaWJsZURheXM7XG5cbiAgICAgICAgdmFyIGN1cnJlbnRNb250aCA9IGZpcnN0VmlzaWJsZU1vbnRoO1xuICAgICAgICB2YXIgbnVtYmVyT2ZNb250aHMgPSBudW1iZXJPZlZpc2libGVNb250aHM7XG4gICAgICAgIGlmIChvcmllbnRhdGlvbiA9PT0gX2NvbnN0YW50cy5WRVJUSUNBTF9TQ1JPTExBQkxFKSB7XG4gICAgICAgICAgbnVtYmVyT2ZNb250aHMgPSBPYmplY3Qua2V5cyh2aXNpYmxlRGF5cykubGVuZ3RoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGN1cnJlbnRNb250aCA9IGN1cnJlbnRNb250aC5jbG9uZSgpLnN1YnRyYWN0KDEsICdtb250aCcpO1xuICAgICAgICAgIG51bWJlck9mTW9udGhzICs9IDI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkYXkgfHwgISgwLCBfaXNEYXlWaXNpYmxlMlsnZGVmYXVsdCddKShkYXksIGN1cnJlbnRNb250aCwgbnVtYmVyT2ZNb250aHMsIGVuYWJsZU91dHNpZGVEYXlzKSkge1xuICAgICAgICAgIHJldHVybiB1cGRhdGVkRGF5cztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpc28gPSAoMCwgX3RvSVNPRGF0ZVN0cmluZzJbJ2RlZmF1bHQnXSkoZGF5KTtcblxuICAgICAgICB2YXIgdXBkYXRlZERheXNBZnRlckRlbGV0aW9uID0gKDAsIF9vYmplY3QyWydkZWZhdWx0J10pKHt9LCB1cGRhdGVkRGF5cyk7XG4gICAgICAgIGlmIChlbmFibGVPdXRzaWRlRGF5cykge1xuICAgICAgICAgIHZhciBtb250aHNUb1VwZGF0ZSA9IE9iamVjdC5rZXlzKHZpc2libGVEYXlzKS5maWx0ZXIoZnVuY3Rpb24gKG1vbnRoS2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModmlzaWJsZURheXNbbW9udGhLZXldKS5pbmRleE9mKGlzbykgPiAtMTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHVwZGF0ZWREYXlzQWZ0ZXJEZWxldGlvbiA9IG1vbnRoc1RvVXBkYXRlLnJlZHVjZShmdW5jdGlvbiAoZGF5cywgbW9udGhJc28pIHtcbiAgICAgICAgICAgIHZhciBtb250aCA9IHVwZGF0ZWREYXlzW21vbnRoSXNvXSB8fCB2aXNpYmxlRGF5c1ttb250aElzb107XG4gICAgICAgICAgICB2YXIgbW9kaWZpZXJzID0gbmV3IFNldChtb250aFtpc29dKTtcbiAgICAgICAgICAgIG1vZGlmaWVyc1snZGVsZXRlJ10obW9kaWZpZXIpO1xuICAgICAgICAgICAgcmV0dXJuICgwLCBfb2JqZWN0MlsnZGVmYXVsdCddKSh7fSwgZGF5cywgX2RlZmluZVByb3BlcnR5KHt9LCBtb250aElzbywgKDAsIF9vYmplY3QyWydkZWZhdWx0J10pKHt9LCBtb250aCwgX2RlZmluZVByb3BlcnR5KHt9LCBpc28sIG1vZGlmaWVycykpKSk7XG4gICAgICAgICAgfSwgdXBkYXRlZERheXNBZnRlckRlbGV0aW9uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgbW9udGhJc28gPSAoMCwgX3RvSVNPTW9udGhTdHJpbmcyWydkZWZhdWx0J10pKGRheSk7XG4gICAgICAgICAgdmFyIG1vbnRoID0gdXBkYXRlZERheXNbbW9udGhJc29dIHx8IHZpc2libGVEYXlzW21vbnRoSXNvXTtcblxuICAgICAgICAgIHZhciBtb2RpZmllcnMgPSBuZXcgU2V0KG1vbnRoW2lzb10pO1xuICAgICAgICAgIG1vZGlmaWVyc1snZGVsZXRlJ10obW9kaWZpZXIpO1xuICAgICAgICAgIHVwZGF0ZWREYXlzQWZ0ZXJEZWxldGlvbiA9ICgwLCBfb2JqZWN0MlsnZGVmYXVsdCddKSh7fSwgdXBkYXRlZERheXNBZnRlckRlbGV0aW9uLCBfZGVmaW5lUHJvcGVydHkoe30sIG1vbnRoSXNvLCAoMCwgX29iamVjdDJbJ2RlZmF1bHQnXSkoe30sIG1vbnRoLCBfZGVmaW5lUHJvcGVydHkoe30sIGlzbywgbW9kaWZpZXJzKSkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB1cGRhdGVkRGF5c0FmdGVyRGVsZXRpb247XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkZWxldGVNb2RpZmllcjtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ2RlbGV0ZU1vZGlmaWVyRnJvbVJhbmdlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gZGVsZXRlTW9kaWZpZXJGcm9tUmFuZ2UodXBkYXRlZERheXMsIHN0YXJ0LCBlbmQsIG1vZGlmaWVyKSB7XG4gICAgICAgIHZhciBkYXlzID0gdXBkYXRlZERheXM7XG5cbiAgICAgICAgdmFyIHNwYW5TdGFydCA9IHN0YXJ0LmNsb25lKCk7XG4gICAgICAgIHdoaWxlICgoMCwgX2lzQmVmb3JlRGF5MlsnZGVmYXVsdCddKShzcGFuU3RhcnQsIGVuZCkpIHtcbiAgICAgICAgICBkYXlzID0gdGhpcy5kZWxldGVNb2RpZmllcihkYXlzLCBzcGFuU3RhcnQsIG1vZGlmaWVyKTtcbiAgICAgICAgICBzcGFuU3RhcnQgPSBzcGFuU3RhcnQuY2xvbmUoKS5hZGQoMSwgJ2RheScpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRheXM7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkZWxldGVNb2RpZmllckZyb21SYW5nZTtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ2RvZXNOb3RNZWV0TWluaW11bU5pZ2h0cycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGRvZXNOb3RNZWV0TWluaW11bU5pZ2h0cyhkYXkpIHtcbiAgICAgICAgdmFyIF9wcm9wczE0ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIHN0YXJ0RGF0ZSA9IF9wcm9wczE0LnN0YXJ0RGF0ZSxcbiAgICAgICAgICAgIGlzT3V0c2lkZVJhbmdlID0gX3Byb3BzMTQuaXNPdXRzaWRlUmFuZ2UsXG4gICAgICAgICAgICBmb2N1c2VkSW5wdXQgPSBfcHJvcHMxNC5mb2N1c2VkSW5wdXQsXG4gICAgICAgICAgICBtaW5pbXVtTmlnaHRzID0gX3Byb3BzMTQubWluaW11bU5pZ2h0cztcblxuICAgICAgICBpZiAoZm9jdXNlZElucHV0ICE9PSBfY29uc3RhbnRzLkVORF9EQVRFKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgaWYgKHN0YXJ0RGF0ZSkge1xuICAgICAgICAgIHZhciBkYXlEaWZmID0gZGF5LmRpZmYoc3RhcnREYXRlLmNsb25lKCkuc3RhcnRPZignZGF5JykuaG91cigxMiksICdkYXlzJyk7XG4gICAgICAgICAgcmV0dXJuIGRheURpZmYgPCBtaW5pbXVtTmlnaHRzICYmIGRheURpZmYgPj0gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXNPdXRzaWRlUmFuZ2UoKDAsIF9tb21lbnQyWydkZWZhdWx0J10pKGRheSkuc3VidHJhY3QobWluaW11bU5pZ2h0cywgJ2RheXMnKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkb2VzTm90TWVldE1pbmltdW1OaWdodHM7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdpc0RheUFmdGVySG92ZXJlZFN0YXJ0RGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGlzRGF5QWZ0ZXJIb3ZlcmVkU3RhcnREYXRlKGRheSkge1xuICAgICAgICB2YXIgX3Byb3BzMTUgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgc3RhcnREYXRlID0gX3Byb3BzMTUuc3RhcnREYXRlLFxuICAgICAgICAgICAgZW5kRGF0ZSA9IF9wcm9wczE1LmVuZERhdGUsXG4gICAgICAgICAgICBtaW5pbXVtTmlnaHRzID0gX3Byb3BzMTUubWluaW11bU5pZ2h0cztcblxuICAgICAgICB2YXIgX3JlZiA9IHRoaXMuc3RhdGUgfHwge30sXG4gICAgICAgICAgICBob3ZlckRhdGUgPSBfcmVmLmhvdmVyRGF0ZTtcblxuICAgICAgICByZXR1cm4gISFzdGFydERhdGUgJiYgIWVuZERhdGUgJiYgIXRoaXMuaXNCbG9ja2VkKGRheSkgJiYgKDAsIF9pc05leHREYXkyWydkZWZhdWx0J10pKGhvdmVyRGF0ZSwgZGF5KSAmJiBtaW5pbXVtTmlnaHRzID4gMCAmJiAoMCwgX2lzU2FtZURheTJbJ2RlZmF1bHQnXSkoaG92ZXJEYXRlLCBzdGFydERhdGUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaXNEYXlBZnRlckhvdmVyZWRTdGFydERhdGU7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdpc0VuZERhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBpc0VuZERhdGUoZGF5KSB7XG4gICAgICAgIHZhciBlbmREYXRlID0gdGhpcy5wcm9wcy5lbmREYXRlO1xuXG4gICAgICAgIHJldHVybiAoMCwgX2lzU2FtZURheTJbJ2RlZmF1bHQnXSkoZGF5LCBlbmREYXRlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGlzRW5kRGF0ZTtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ2lzSG92ZXJlZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGlzSG92ZXJlZChkYXkpIHtcbiAgICAgICAgdmFyIF9yZWYyID0gdGhpcy5zdGF0ZSB8fCB7fSxcbiAgICAgICAgICAgIGhvdmVyRGF0ZSA9IF9yZWYyLmhvdmVyRGF0ZTtcblxuICAgICAgICB2YXIgZm9jdXNlZElucHV0ID0gdGhpcy5wcm9wcy5mb2N1c2VkSW5wdXQ7XG5cbiAgICAgICAgcmV0dXJuICEhZm9jdXNlZElucHV0ICYmICgwLCBfaXNTYW1lRGF5MlsnZGVmYXVsdCddKShkYXksIGhvdmVyRGF0ZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpc0hvdmVyZWQ7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdpc0luSG92ZXJlZFNwYW4nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBpc0luSG92ZXJlZFNwYW4oZGF5KSB7XG4gICAgICAgIHZhciBfcHJvcHMxNiA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBzdGFydERhdGUgPSBfcHJvcHMxNi5zdGFydERhdGUsXG4gICAgICAgICAgICBlbmREYXRlID0gX3Byb3BzMTYuZW5kRGF0ZTtcblxuICAgICAgICB2YXIgX3JlZjMgPSB0aGlzLnN0YXRlIHx8IHt9LFxuICAgICAgICAgICAgaG92ZXJEYXRlID0gX3JlZjMuaG92ZXJEYXRlO1xuXG4gICAgICAgIHZhciBpc0ZvcndhcmRSYW5nZSA9ICEhc3RhcnREYXRlICYmICFlbmREYXRlICYmIChkYXkuaXNCZXR3ZWVuKHN0YXJ0RGF0ZSwgaG92ZXJEYXRlKSB8fCAoMCwgX2lzU2FtZURheTJbJ2RlZmF1bHQnXSkoaG92ZXJEYXRlLCBkYXkpKTtcbiAgICAgICAgdmFyIGlzQmFja3dhcmRSYW5nZSA9ICEhZW5kRGF0ZSAmJiAhc3RhcnREYXRlICYmIChkYXkuaXNCZXR3ZWVuKGhvdmVyRGF0ZSwgZW5kRGF0ZSkgfHwgKDAsIF9pc1NhbWVEYXkyWydkZWZhdWx0J10pKGhvdmVyRGF0ZSwgZGF5KSk7XG5cbiAgICAgICAgdmFyIGlzVmFsaWREYXlIb3ZlcmVkID0gaG92ZXJEYXRlICYmICF0aGlzLmlzQmxvY2tlZChob3ZlckRhdGUpO1xuXG4gICAgICAgIHJldHVybiAoaXNGb3J3YXJkUmFuZ2UgfHwgaXNCYWNrd2FyZFJhbmdlKSAmJiBpc1ZhbGlkRGF5SG92ZXJlZDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGlzSW5Ib3ZlcmVkU3BhbjtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ2lzSW5TZWxlY3RlZFNwYW4nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBpc0luU2VsZWN0ZWRTcGFuKGRheSkge1xuICAgICAgICB2YXIgX3Byb3BzMTcgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgc3RhcnREYXRlID0gX3Byb3BzMTcuc3RhcnREYXRlLFxuICAgICAgICAgICAgZW5kRGF0ZSA9IF9wcm9wczE3LmVuZERhdGU7XG5cbiAgICAgICAgcmV0dXJuIGRheS5pc0JldHdlZW4oc3RhcnREYXRlLCBlbmREYXRlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGlzSW5TZWxlY3RlZFNwYW47XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdpc0xhc3RJblJhbmdlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gaXNMYXN0SW5SYW5nZShkYXkpIHtcbiAgICAgICAgdmFyIGVuZERhdGUgPSB0aGlzLnByb3BzLmVuZERhdGU7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaXNJblNlbGVjdGVkU3BhbihkYXkpICYmICgwLCBfaXNOZXh0RGF5MlsnZGVmYXVsdCddKShkYXksIGVuZERhdGUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaXNMYXN0SW5SYW5nZTtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ2lzU3RhcnREYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gaXNTdGFydERhdGUoZGF5KSB7XG4gICAgICAgIHZhciBzdGFydERhdGUgPSB0aGlzLnByb3BzLnN0YXJ0RGF0ZTtcblxuICAgICAgICByZXR1cm4gKDAsIF9pc1NhbWVEYXkyWydkZWZhdWx0J10pKGRheSwgc3RhcnREYXRlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGlzU3RhcnREYXRlO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnaXNCbG9ja2VkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gaXNCbG9ja2VkKGRheSkge1xuICAgICAgICB2YXIgX3Byb3BzMTggPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgaXNEYXlCbG9ja2VkID0gX3Byb3BzMTguaXNEYXlCbG9ja2VkLFxuICAgICAgICAgICAgaXNPdXRzaWRlUmFuZ2UgPSBfcHJvcHMxOC5pc091dHNpZGVSYW5nZTtcblxuICAgICAgICByZXR1cm4gaXNEYXlCbG9ja2VkKGRheSkgfHwgaXNPdXRzaWRlUmFuZ2UoZGF5KSB8fCB0aGlzLmRvZXNOb3RNZWV0TWluaW11bU5pZ2h0cyhkYXkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaXNCbG9ja2VkO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnaXNUb2RheScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGlzVG9kYXkoZGF5KSB7XG4gICAgICAgIHJldHVybiAoMCwgX2lzU2FtZURheTJbJ2RlZmF1bHQnXSkoZGF5LCB0aGlzLnRvZGF5KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGlzVG9kYXk7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdpc0ZpcnN0RGF5T2ZXZWVrJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gaXNGaXJzdERheU9mV2VlayhkYXkpIHtcbiAgICAgICAgdmFyIGZpcnN0RGF5T2ZXZWVrID0gdGhpcy5wcm9wcy5maXJzdERheU9mV2VlaztcblxuICAgICAgICByZXR1cm4gZGF5LmRheSgpID09PSAoZmlyc3REYXlPZldlZWsgfHwgX21vbWVudDJbJ2RlZmF1bHQnXS5sb2NhbGVEYXRhKCkuZmlyc3REYXlPZldlZWsoKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpc0ZpcnN0RGF5T2ZXZWVrO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnaXNMYXN0RGF5T2ZXZWVrJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gaXNMYXN0RGF5T2ZXZWVrKGRheSkge1xuICAgICAgICB2YXIgZmlyc3REYXlPZldlZWsgPSB0aGlzLnByb3BzLmZpcnN0RGF5T2ZXZWVrO1xuXG4gICAgICAgIHJldHVybiBkYXkuZGF5KCkgPT09ICgoZmlyc3REYXlPZldlZWsgfHwgX21vbWVudDJbJ2RlZmF1bHQnXS5sb2NhbGVEYXRhKCkuZmlyc3REYXlPZldlZWsoKSkgKyA2KSAlIDc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpc0xhc3REYXlPZldlZWs7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHZhciBfcHJvcHMxOSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBudW1iZXJPZk1vbnRocyA9IF9wcm9wczE5Lm51bWJlck9mTW9udGhzLFxuICAgICAgICAgICAgb3JpZW50YXRpb24gPSBfcHJvcHMxOS5vcmllbnRhdGlvbixcbiAgICAgICAgICAgIG1vbnRoRm9ybWF0ID0gX3Byb3BzMTkubW9udGhGb3JtYXQsXG4gICAgICAgICAgICByZW5kZXJNb250aFRleHQgPSBfcHJvcHMxOS5yZW5kZXJNb250aFRleHQsXG4gICAgICAgICAgICBuYXZQcmV2ID0gX3Byb3BzMTkubmF2UHJldixcbiAgICAgICAgICAgIG5hdk5leHQgPSBfcHJvcHMxOS5uYXZOZXh0LFxuICAgICAgICAgICAgbm9OYXZCdXR0b25zID0gX3Byb3BzMTkubm9OYXZCdXR0b25zLFxuICAgICAgICAgICAgb25PdXRzaWRlQ2xpY2sgPSBfcHJvcHMxOS5vbk91dHNpZGVDbGljayxcbiAgICAgICAgICAgIHdpdGhQb3J0YWwgPSBfcHJvcHMxOS53aXRoUG9ydGFsLFxuICAgICAgICAgICAgZW5hYmxlT3V0c2lkZURheXMgPSBfcHJvcHMxOS5lbmFibGVPdXRzaWRlRGF5cyxcbiAgICAgICAgICAgIGZpcnN0RGF5T2ZXZWVrID0gX3Byb3BzMTkuZmlyc3REYXlPZldlZWssXG4gICAgICAgICAgICBoaWRlS2V5Ym9hcmRTaG9ydGN1dHNQYW5lbCA9IF9wcm9wczE5LmhpZGVLZXlib2FyZFNob3J0Y3V0c1BhbmVsLFxuICAgICAgICAgICAgZGF5U2l6ZSA9IF9wcm9wczE5LmRheVNpemUsXG4gICAgICAgICAgICBmb2N1c2VkSW5wdXQgPSBfcHJvcHMxOS5mb2N1c2VkSW5wdXQsXG4gICAgICAgICAgICByZW5kZXJDYWxlbmRhckRheSA9IF9wcm9wczE5LnJlbmRlckNhbGVuZGFyRGF5LFxuICAgICAgICAgICAgcmVuZGVyRGF5Q29udGVudHMgPSBfcHJvcHMxOS5yZW5kZXJEYXlDb250ZW50cyxcbiAgICAgICAgICAgIHJlbmRlckNhbGVuZGFySW5mbyA9IF9wcm9wczE5LnJlbmRlckNhbGVuZGFySW5mbyxcbiAgICAgICAgICAgIHJlbmRlck1vbnRoRWxlbWVudCA9IF9wcm9wczE5LnJlbmRlck1vbnRoRWxlbWVudCxcbiAgICAgICAgICAgIGNhbGVuZGFySW5mb1Bvc2l0aW9uID0gX3Byb3BzMTkuY2FsZW5kYXJJbmZvUG9zaXRpb24sXG4gICAgICAgICAgICBvbkJsdXIgPSBfcHJvcHMxOS5vbkJsdXIsXG4gICAgICAgICAgICBpc0ZvY3VzZWQgPSBfcHJvcHMxOS5pc0ZvY3VzZWQsXG4gICAgICAgICAgICBzaG93S2V5Ym9hcmRTaG9ydGN1dHMgPSBfcHJvcHMxOS5zaG93S2V5Ym9hcmRTaG9ydGN1dHMsXG4gICAgICAgICAgICBpc1JUTCA9IF9wcm9wczE5LmlzUlRMLFxuICAgICAgICAgICAgd2Vla0RheUZvcm1hdCA9IF9wcm9wczE5LndlZWtEYXlGb3JtYXQsXG4gICAgICAgICAgICBkYXlBcmlhTGFiZWxGb3JtYXQgPSBfcHJvcHMxOS5kYXlBcmlhTGFiZWxGb3JtYXQsXG4gICAgICAgICAgICB2ZXJ0aWNhbEhlaWdodCA9IF9wcm9wczE5LnZlcnRpY2FsSGVpZ2h0LFxuICAgICAgICAgICAgbm9Cb3JkZXIgPSBfcHJvcHMxOS5ub0JvcmRlcixcbiAgICAgICAgICAgIHRyYW5zaXRpb25EdXJhdGlvbiA9IF9wcm9wczE5LnRyYW5zaXRpb25EdXJhdGlvbixcbiAgICAgICAgICAgIHZlcnRpY2FsQm9yZGVyU3BhY2luZyA9IF9wcm9wczE5LnZlcnRpY2FsQm9yZGVyU3BhY2luZyxcbiAgICAgICAgICAgIGhvcml6b250YWxNb250aFBhZGRpbmcgPSBfcHJvcHMxOS5ob3Jpem9udGFsTW9udGhQYWRkaW5nO1xuICAgICAgICB2YXIgX3N0YXRlOCA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgICBjdXJyZW50TW9udGggPSBfc3RhdGU4LmN1cnJlbnRNb250aCxcbiAgICAgICAgICAgIHBocmFzZXMgPSBfc3RhdGU4LnBocmFzZXMsXG4gICAgICAgICAgICB2aXNpYmxlRGF5cyA9IF9zdGF0ZTgudmlzaWJsZURheXM7XG5cblxuICAgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoX0RheVBpY2tlcjJbJ2RlZmF1bHQnXSwge1xuICAgICAgICAgIG9yaWVudGF0aW9uOiBvcmllbnRhdGlvbixcbiAgICAgICAgICBlbmFibGVPdXRzaWRlRGF5czogZW5hYmxlT3V0c2lkZURheXMsXG4gICAgICAgICAgbW9kaWZpZXJzOiB2aXNpYmxlRGF5cyxcbiAgICAgICAgICBudW1iZXJPZk1vbnRoczogbnVtYmVyT2ZNb250aHMsXG4gICAgICAgICAgb25EYXlDbGljazogdGhpcy5vbkRheUNsaWNrLFxuICAgICAgICAgIG9uRGF5TW91c2VFbnRlcjogdGhpcy5vbkRheU1vdXNlRW50ZXIsXG4gICAgICAgICAgb25EYXlNb3VzZUxlYXZlOiB0aGlzLm9uRGF5TW91c2VMZWF2ZSxcbiAgICAgICAgICBvblByZXZNb250aENsaWNrOiB0aGlzLm9uUHJldk1vbnRoQ2xpY2ssXG4gICAgICAgICAgb25OZXh0TW9udGhDbGljazogdGhpcy5vbk5leHRNb250aENsaWNrLFxuICAgICAgICAgIG9uTW9udGhDaGFuZ2U6IHRoaXMub25Nb250aENoYW5nZSxcbiAgICAgICAgICBvblllYXJDaGFuZ2U6IHRoaXMub25ZZWFyQ2hhbmdlLFxuICAgICAgICAgIG9uTXVsdGlwbHlTY3JvbGxhYmxlTW9udGhzOiB0aGlzLm9uTXVsdGlwbHlTY3JvbGxhYmxlTW9udGhzLFxuICAgICAgICAgIG1vbnRoRm9ybWF0OiBtb250aEZvcm1hdCxcbiAgICAgICAgICByZW5kZXJNb250aFRleHQ6IHJlbmRlck1vbnRoVGV4dCxcbiAgICAgICAgICB3aXRoUG9ydGFsOiB3aXRoUG9ydGFsLFxuICAgICAgICAgIGhpZGRlbjogIWZvY3VzZWRJbnB1dCxcbiAgICAgICAgICBpbml0aWFsVmlzaWJsZU1vbnRoOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBpbml0aWFsVmlzaWJsZU1vbnRoKCkge1xuICAgICAgICAgICAgICByZXR1cm4gY3VycmVudE1vbnRoO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gaW5pdGlhbFZpc2libGVNb250aDtcbiAgICAgICAgICB9KCksXG4gICAgICAgICAgZGF5U2l6ZTogZGF5U2l6ZSxcbiAgICAgICAgICBvbk91dHNpZGVDbGljazogb25PdXRzaWRlQ2xpY2ssXG4gICAgICAgICAgbmF2UHJldjogbmF2UHJldixcbiAgICAgICAgICBuYXZOZXh0OiBuYXZOZXh0LFxuICAgICAgICAgIG5vTmF2QnV0dG9uczogbm9OYXZCdXR0b25zLFxuICAgICAgICAgIHJlbmRlckNhbGVuZGFyRGF5OiByZW5kZXJDYWxlbmRhckRheSxcbiAgICAgICAgICByZW5kZXJEYXlDb250ZW50czogcmVuZGVyRGF5Q29udGVudHMsXG4gICAgICAgICAgcmVuZGVyQ2FsZW5kYXJJbmZvOiByZW5kZXJDYWxlbmRhckluZm8sXG4gICAgICAgICAgcmVuZGVyTW9udGhFbGVtZW50OiByZW5kZXJNb250aEVsZW1lbnQsXG4gICAgICAgICAgY2FsZW5kYXJJbmZvUG9zaXRpb246IGNhbGVuZGFySW5mb1Bvc2l0aW9uLFxuICAgICAgICAgIGZpcnN0RGF5T2ZXZWVrOiBmaXJzdERheU9mV2VlayxcbiAgICAgICAgICBoaWRlS2V5Ym9hcmRTaG9ydGN1dHNQYW5lbDogaGlkZUtleWJvYXJkU2hvcnRjdXRzUGFuZWwsXG4gICAgICAgICAgaXNGb2N1c2VkOiBpc0ZvY3VzZWQsXG4gICAgICAgICAgZ2V0Rmlyc3RGb2N1c2FibGVEYXk6IHRoaXMuZ2V0Rmlyc3RGb2N1c2FibGVEYXksXG4gICAgICAgICAgb25CbHVyOiBvbkJsdXIsXG4gICAgICAgICAgc2hvd0tleWJvYXJkU2hvcnRjdXRzOiBzaG93S2V5Ym9hcmRTaG9ydGN1dHMsXG4gICAgICAgICAgcGhyYXNlczogcGhyYXNlcyxcbiAgICAgICAgICBpc1JUTDogaXNSVEwsXG4gICAgICAgICAgd2Vla0RheUZvcm1hdDogd2Vla0RheUZvcm1hdCxcbiAgICAgICAgICBkYXlBcmlhTGFiZWxGb3JtYXQ6IGRheUFyaWFMYWJlbEZvcm1hdCxcbiAgICAgICAgICB2ZXJ0aWNhbEhlaWdodDogdmVydGljYWxIZWlnaHQsXG4gICAgICAgICAgdmVydGljYWxCb3JkZXJTcGFjaW5nOiB2ZXJ0aWNhbEJvcmRlclNwYWNpbmcsXG4gICAgICAgICAgbm9Cb3JkZXI6IG5vQm9yZGVyLFxuICAgICAgICAgIHRyYW5zaXRpb25EdXJhdGlvbjogdHJhbnNpdGlvbkR1cmF0aW9uLFxuICAgICAgICAgIGhvcml6b250YWxNb250aFBhZGRpbmc6IGhvcml6b250YWxNb250aFBhZGRpbmdcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZW5kZXI7XG4gICAgfSgpXG4gIH1dKTtcblxuICByZXR1cm4gRGF5UGlja2VyUmFuZ2VDb250cm9sbGVyO1xufShfcmVhY3QyWydkZWZhdWx0J10uQ29tcG9uZW50KTtcblxuZXhwb3J0c1snZGVmYXVsdCddID0gRGF5UGlja2VyUmFuZ2VDb250cm9sbGVyO1xuXG5cbkRheVBpY2tlclJhbmdlQ29udHJvbGxlci5wcm9wVHlwZXMgPSBwcm9wVHlwZXM7XG5EYXlQaWNrZXJSYW5nZUNvbnRyb2xsZXIuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9zbGljZWRUb0FycmF5ID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBzbGljZUl0ZXJhdG9yKGFyciwgaSkgeyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSkgX2lbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9IHJldHVybiBmdW5jdGlvbiAoYXJyLCBpKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgcmV0dXJuIGFycjsgfSBlbHNlIGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpIHsgcmV0dXJuIHNsaWNlSXRlcmF0b3IoYXJyLCBpKTsgfSBlbHNlIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIik7IH0gfTsgfSgpO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX29iamVjdCA9IHJlcXVpcmUoJ29iamVjdC5hc3NpZ24nKTtcblxudmFyIF9vYmplY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0KTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9yZWFjdE1vbWVudFByb3B0eXBlcyA9IHJlcXVpcmUoJ3JlYWN0LW1vbWVudC1wcm9wdHlwZXMnKTtcblxudmFyIF9yZWFjdE1vbWVudFByb3B0eXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdE1vbWVudFByb3B0eXBlcyk7XG5cbnZhciBfYWlyYm5iUHJvcFR5cGVzID0gcmVxdWlyZSgnYWlyYm5iLXByb3AtdHlwZXMnKTtcblxudmFyIF9tb21lbnQgPSByZXF1aXJlKCdtb21lbnQnKTtcblxudmFyIF9tb21lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbW9tZW50KTtcblxudmFyIF9vYmplY3QzID0gcmVxdWlyZSgnb2JqZWN0LnZhbHVlcycpO1xuXG52YXIgX29iamVjdDQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3QzKTtcblxudmFyIF9pc1RvdWNoRGV2aWNlID0gcmVxdWlyZSgnaXMtdG91Y2gtZGV2aWNlJyk7XG5cbnZhciBfaXNUb3VjaERldmljZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc1RvdWNoRGV2aWNlKTtcblxudmFyIF9kZWZhdWx0UGhyYXNlcyA9IHJlcXVpcmUoJy4uL2RlZmF1bHRQaHJhc2VzJyk7XG5cbnZhciBfZ2V0UGhyYXNlUHJvcFR5cGVzID0gcmVxdWlyZSgnLi4vdXRpbHMvZ2V0UGhyYXNlUHJvcFR5cGVzJyk7XG5cbnZhciBfZ2V0UGhyYXNlUHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFBocmFzZVByb3BUeXBlcyk7XG5cbnZhciBfaXNTYW1lRGF5ID0gcmVxdWlyZSgnLi4vdXRpbHMvaXNTYW1lRGF5Jyk7XG5cbnZhciBfaXNTYW1lRGF5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzU2FtZURheSk7XG5cbnZhciBfaXNBZnRlckRheSA9IHJlcXVpcmUoJy4uL3V0aWxzL2lzQWZ0ZXJEYXknKTtcblxudmFyIF9pc0FmdGVyRGF5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzQWZ0ZXJEYXkpO1xuXG52YXIgX2dldFZpc2libGVEYXlzID0gcmVxdWlyZSgnLi4vdXRpbHMvZ2V0VmlzaWJsZURheXMnKTtcblxudmFyIF9nZXRWaXNpYmxlRGF5czIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRWaXNpYmxlRGF5cyk7XG5cbnZhciBfaXNEYXlWaXNpYmxlID0gcmVxdWlyZSgnLi4vdXRpbHMvaXNEYXlWaXNpYmxlJyk7XG5cbnZhciBfaXNEYXlWaXNpYmxlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzRGF5VmlzaWJsZSk7XG5cbnZhciBfdG9JU09EYXRlU3RyaW5nID0gcmVxdWlyZSgnLi4vdXRpbHMvdG9JU09EYXRlU3RyaW5nJyk7XG5cbnZhciBfdG9JU09EYXRlU3RyaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RvSVNPRGF0ZVN0cmluZyk7XG5cbnZhciBfdG9JU09Nb250aFN0cmluZyA9IHJlcXVpcmUoJy4uL3V0aWxzL3RvSVNPTW9udGhTdHJpbmcnKTtcblxudmFyIF90b0lTT01vbnRoU3RyaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RvSVNPTW9udGhTdHJpbmcpO1xuXG52YXIgX1Njcm9sbGFibGVPcmllbnRhdGlvblNoYXBlID0gcmVxdWlyZSgnLi4vc2hhcGVzL1Njcm9sbGFibGVPcmllbnRhdGlvblNoYXBlJyk7XG5cbnZhciBfU2Nyb2xsYWJsZU9yaWVudGF0aW9uU2hhcGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2Nyb2xsYWJsZU9yaWVudGF0aW9uU2hhcGUpO1xuXG52YXIgX0RheU9mV2Vla1NoYXBlID0gcmVxdWlyZSgnLi4vc2hhcGVzL0RheU9mV2Vla1NoYXBlJyk7XG5cbnZhciBfRGF5T2ZXZWVrU2hhcGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGF5T2ZXZWVrU2hhcGUpO1xuXG52YXIgX0NhbGVuZGFySW5mb1Bvc2l0aW9uU2hhcGUgPSByZXF1aXJlKCcuLi9zaGFwZXMvQ2FsZW5kYXJJbmZvUG9zaXRpb25TaGFwZScpO1xuXG52YXIgX0NhbGVuZGFySW5mb1Bvc2l0aW9uU2hhcGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FsZW5kYXJJbmZvUG9zaXRpb25TaGFwZSk7XG5cbnZhciBfY29uc3RhbnRzID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzJyk7XG5cbnZhciBfRGF5UGlja2VyID0gcmVxdWlyZSgnLi9EYXlQaWNrZXInKTtcblxudmFyIF9EYXlQaWNrZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGF5UGlja2VyKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBwcm9wVHlwZXMgPSAoMCwgX2FpcmJuYlByb3BUeXBlcy5mb3JiaWRFeHRyYVByb3BzKSh7XG4gIGRhdGU6IF9yZWFjdE1vbWVudFByb3B0eXBlczJbJ2RlZmF1bHQnXS5tb21lbnRPYmosXG4gIG9uRGF0ZUNoYW5nZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuXG4gIGZvY3VzZWQ6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbCxcbiAgb25Gb2N1c0NoYW5nZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuICBvbkNsb3NlOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsXG5cbiAga2VlcE9wZW5PbkRhdGVTZWxlY3Q6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbCxcbiAgaXNPdXRzaWRlUmFuZ2U6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYyxcbiAgaXNEYXlCbG9ja2VkOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsXG4gIGlzRGF5SGlnaGxpZ2h0ZWQ6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYyxcblxuICAvLyBEYXlQaWNrZXIgcHJvcHNcbiAgcmVuZGVyTW9udGhUZXh0OiAoMCwgX2FpcmJuYlByb3BUeXBlcy5tdXR1YWxseUV4Y2x1c2l2ZVByb3BzKShfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsICdyZW5kZXJNb250aFRleHQnLCAncmVuZGVyTW9udGhFbGVtZW50JyksXG4gIHJlbmRlck1vbnRoRWxlbWVudDogKDAsIF9haXJibmJQcm9wVHlwZXMubXV0dWFsbHlFeGNsdXNpdmVQcm9wcykoX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLCAncmVuZGVyTW9udGhUZXh0JywgJ3JlbmRlck1vbnRoRWxlbWVudCcpLFxuICBlbmFibGVPdXRzaWRlRGF5czogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ib29sLFxuICBudW1iZXJPZk1vbnRoczogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5udW1iZXIsXG4gIG9yaWVudGF0aW9uOiBfU2Nyb2xsYWJsZU9yaWVudGF0aW9uU2hhcGUyWydkZWZhdWx0J10sXG4gIHdpdGhQb3J0YWw6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbCxcbiAgaW5pdGlhbFZpc2libGVNb250aDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuICBmaXJzdERheU9mV2VlazogX0RheU9mV2Vla1NoYXBlMlsnZGVmYXVsdCddLFxuICBoaWRlS2V5Ym9hcmRTaG9ydGN1dHNQYW5lbDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ib29sLFxuICBkYXlTaXplOiBfYWlyYm5iUHJvcFR5cGVzLm5vbk5lZ2F0aXZlSW50ZWdlcixcbiAgdmVydGljYWxIZWlnaHQ6IF9haXJibmJQcm9wVHlwZXMubm9uTmVnYXRpdmVJbnRlZ2VyLFxuICBub0JvcmRlcjogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ib29sLFxuICB2ZXJ0aWNhbEJvcmRlclNwYWNpbmc6IF9haXJibmJQcm9wVHlwZXMubm9uTmVnYXRpdmVJbnRlZ2VyLFxuICB0cmFuc2l0aW9uRHVyYXRpb246IF9haXJibmJQcm9wVHlwZXMubm9uTmVnYXRpdmVJbnRlZ2VyLFxuICBob3Jpem9udGFsTW9udGhQYWRkaW5nOiBfYWlyYm5iUHJvcFR5cGVzLm5vbk5lZ2F0aXZlSW50ZWdlcixcblxuICBuYXZQcmV2OiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLm5vZGUsXG4gIG5hdk5leHQ6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10ubm9kZSxcblxuICBvblByZXZNb250aENsaWNrOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsXG4gIG9uTmV4dE1vbnRoQ2xpY2s6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYyxcbiAgb25PdXRzaWRlQ2xpY2s6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYyxcbiAgcmVuZGVyQ2FsZW5kYXJEYXk6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYyxcbiAgcmVuZGVyRGF5Q29udGVudHM6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYyxcbiAgcmVuZGVyQ2FsZW5kYXJJbmZvOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsXG4gIGNhbGVuZGFySW5mb1Bvc2l0aW9uOiBfQ2FsZW5kYXJJbmZvUG9zaXRpb25TaGFwZTJbJ2RlZmF1bHQnXSxcblxuICAvLyBhY2Nlc3NpYmlsaXR5XG4gIG9uQmx1cjogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuICBpc0ZvY3VzZWQ6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbCxcbiAgc2hvd0tleWJvYXJkU2hvcnRjdXRzOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmJvb2wsXG5cbiAgLy8gaTE4blxuICBtb250aEZvcm1hdDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zdHJpbmcsXG4gIHdlZWtEYXlGb3JtYXQ6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uc3RyaW5nLFxuICBwaHJhc2VzOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLnNoYXBlKCgwLCBfZ2V0UGhyYXNlUHJvcFR5cGVzMlsnZGVmYXVsdCddKShfZGVmYXVsdFBocmFzZXMuRGF5UGlja2VyUGhyYXNlcykpLFxuICBkYXlBcmlhTGFiZWxGb3JtYXQ6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uc3RyaW5nLFxuXG4gIGlzUlRMOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmJvb2xcbn0pO1xuXG52YXIgZGVmYXVsdFByb3BzID0ge1xuICBkYXRlOiB1bmRlZmluZWQsIC8vIFRPRE86IHVzZSBudWxsXG4gIG9uRGF0ZUNoYW5nZTogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIG9uRGF0ZUNoYW5nZSgpIHt9XG5cbiAgICByZXR1cm4gb25EYXRlQ2hhbmdlO1xuICB9KCksXG5cblxuICBmb2N1c2VkOiBmYWxzZSxcbiAgb25Gb2N1c0NoYW5nZTogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIG9uRm9jdXNDaGFuZ2UoKSB7fVxuXG4gICAgcmV0dXJuIG9uRm9jdXNDaGFuZ2U7XG4gIH0oKSxcbiAgb25DbG9zZTogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIG9uQ2xvc2UoKSB7fVxuXG4gICAgcmV0dXJuIG9uQ2xvc2U7XG4gIH0oKSxcblxuXG4gIGtlZXBPcGVuT25EYXRlU2VsZWN0OiBmYWxzZSxcbiAgaXNPdXRzaWRlUmFuZ2U6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBpc091dHNpZGVSYW5nZSgpIHt9XG5cbiAgICByZXR1cm4gaXNPdXRzaWRlUmFuZ2U7XG4gIH0oKSxcbiAgaXNEYXlCbG9ja2VkOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gaXNEYXlCbG9ja2VkKCkge31cblxuICAgIHJldHVybiBpc0RheUJsb2NrZWQ7XG4gIH0oKSxcbiAgaXNEYXlIaWdobGlnaHRlZDogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGlzRGF5SGlnaGxpZ2h0ZWQoKSB7fVxuXG4gICAgcmV0dXJuIGlzRGF5SGlnaGxpZ2h0ZWQ7XG4gIH0oKSxcblxuXG4gIC8vIERheVBpY2tlciBwcm9wc1xuICByZW5kZXJNb250aFRleHQ6IG51bGwsXG4gIGVuYWJsZU91dHNpZGVEYXlzOiBmYWxzZSxcbiAgbnVtYmVyT2ZNb250aHM6IDEsXG4gIG9yaWVudGF0aW9uOiBfY29uc3RhbnRzLkhPUklaT05UQUxfT1JJRU5UQVRJT04sXG4gIHdpdGhQb3J0YWw6IGZhbHNlLFxuICBoaWRlS2V5Ym9hcmRTaG9ydGN1dHNQYW5lbDogZmFsc2UsXG4gIGluaXRpYWxWaXNpYmxlTW9udGg6IG51bGwsXG4gIGZpcnN0RGF5T2ZXZWVrOiBudWxsLFxuICBkYXlTaXplOiBfY29uc3RhbnRzLkRBWV9TSVpFLFxuICB2ZXJ0aWNhbEhlaWdodDogbnVsbCxcbiAgbm9Cb3JkZXI6IGZhbHNlLFxuICB2ZXJ0aWNhbEJvcmRlclNwYWNpbmc6IHVuZGVmaW5lZCxcbiAgdHJhbnNpdGlvbkR1cmF0aW9uOiB1bmRlZmluZWQsXG4gIGhvcml6b250YWxNb250aFBhZGRpbmc6IDEzLFxuXG4gIG5hdlByZXY6IG51bGwsXG4gIG5hdk5leHQ6IG51bGwsXG5cbiAgb25QcmV2TW9udGhDbGljazogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIG9uUHJldk1vbnRoQ2xpY2soKSB7fVxuXG4gICAgcmV0dXJuIG9uUHJldk1vbnRoQ2xpY2s7XG4gIH0oKSxcbiAgb25OZXh0TW9udGhDbGljazogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIG9uTmV4dE1vbnRoQ2xpY2soKSB7fVxuXG4gICAgcmV0dXJuIG9uTmV4dE1vbnRoQ2xpY2s7XG4gIH0oKSxcbiAgb25PdXRzaWRlQ2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBvbk91dHNpZGVDbGljaygpIHt9XG5cbiAgICByZXR1cm4gb25PdXRzaWRlQ2xpY2s7XG4gIH0oKSxcblxuXG4gIHJlbmRlckNhbGVuZGFyRGF5OiB1bmRlZmluZWQsXG4gIHJlbmRlckRheUNvbnRlbnRzOiBudWxsLFxuICByZW5kZXJDYWxlbmRhckluZm86IG51bGwsXG4gIHJlbmRlck1vbnRoRWxlbWVudDogbnVsbCxcbiAgY2FsZW5kYXJJbmZvUG9zaXRpb246IF9jb25zdGFudHMuSU5GT19QT1NJVElPTl9CT1RUT00sXG5cbiAgLy8gYWNjZXNzaWJpbGl0eVxuICBvbkJsdXI6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBvbkJsdXIoKSB7fVxuXG4gICAgcmV0dXJuIG9uQmx1cjtcbiAgfSgpLFxuXG4gIGlzRm9jdXNlZDogZmFsc2UsXG4gIHNob3dLZXlib2FyZFNob3J0Y3V0czogZmFsc2UsXG5cbiAgLy8gaTE4blxuICBtb250aEZvcm1hdDogJ01NTU0gWVlZWScsXG4gIHdlZWtEYXlGb3JtYXQ6ICdkZCcsXG4gIHBocmFzZXM6IF9kZWZhdWx0UGhyYXNlcy5EYXlQaWNrZXJQaHJhc2VzLFxuICBkYXlBcmlhTGFiZWxGb3JtYXQ6IHVuZGVmaW5lZCxcblxuICBpc1JUTDogZmFsc2Vcbn07XG5cbnZhciBEYXlQaWNrZXJTaW5nbGVEYXRlQ29udHJvbGxlciA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhEYXlQaWNrZXJTaW5nbGVEYXRlQ29udHJvbGxlciwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gRGF5UGlja2VyU2luZ2xlRGF0ZUNvbnRyb2xsZXIocHJvcHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRGF5UGlja2VyU2luZ2xlRGF0ZUNvbnRyb2xsZXIpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKERheVBpY2tlclNpbmdsZURhdGVDb250cm9sbGVyLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoRGF5UGlja2VyU2luZ2xlRGF0ZUNvbnRyb2xsZXIpKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICBfdGhpcy5pc1RvdWNoRGV2aWNlID0gZmFsc2U7XG4gICAgX3RoaXMudG9kYXkgPSAoMCwgX21vbWVudDJbJ2RlZmF1bHQnXSkoKTtcblxuICAgIF90aGlzLm1vZGlmaWVycyA9IHtcbiAgICAgIHRvZGF5OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIHRvZGF5KGRheSkge1xuICAgICAgICAgIHJldHVybiBfdGhpcy5pc1RvZGF5KGRheSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdG9kYXk7XG4gICAgICB9KCksXG4gICAgICBibG9ja2VkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIGJsb2NrZWQoZGF5KSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLmlzQmxvY2tlZChkYXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJsb2NrZWQ7XG4gICAgICB9KCksXG4gICAgICAnYmxvY2tlZC1jYWxlbmRhcic6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gYmxvY2tlZENhbGVuZGFyKGRheSkge1xuICAgICAgICAgIHJldHVybiBwcm9wcy5pc0RheUJsb2NrZWQoZGF5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBibG9ja2VkQ2FsZW5kYXI7XG4gICAgICB9KCksXG4gICAgICAnYmxvY2tlZC1vdXQtb2YtcmFuZ2UnOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIGJsb2NrZWRPdXRPZlJhbmdlKGRheSkge1xuICAgICAgICAgIHJldHVybiBwcm9wcy5pc091dHNpZGVSYW5nZShkYXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJsb2NrZWRPdXRPZlJhbmdlO1xuICAgICAgfSgpLFxuICAgICAgJ2hpZ2hsaWdodGVkLWNhbGVuZGFyJzogZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBoaWdobGlnaHRlZENhbGVuZGFyKGRheSkge1xuICAgICAgICAgIHJldHVybiBwcm9wcy5pc0RheUhpZ2hsaWdodGVkKGRheSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaGlnaGxpZ2h0ZWRDYWxlbmRhcjtcbiAgICAgIH0oKSxcbiAgICAgIHZhbGlkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIHZhbGlkKGRheSkge1xuICAgICAgICAgIHJldHVybiAhX3RoaXMuaXNCbG9ja2VkKGRheSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmFsaWQ7XG4gICAgICB9KCksXG4gICAgICBob3ZlcmVkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIGhvdmVyZWQoZGF5KSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLmlzSG92ZXJlZChkYXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGhvdmVyZWQ7XG4gICAgICB9KCksXG4gICAgICBzZWxlY3RlZDogZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBzZWxlY3RlZChkYXkpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuaXNTZWxlY3RlZChkYXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHNlbGVjdGVkO1xuICAgICAgfSgpLFxuICAgICAgJ2ZpcnN0LWRheS1vZi13ZWVrJzogZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBmaXJzdERheU9mV2VlayhkYXkpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuaXNGaXJzdERheU9mV2VlayhkYXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZpcnN0RGF5T2ZXZWVrO1xuICAgICAgfSgpLFxuICAgICAgJ2xhc3QtZGF5LW9mLXdlZWsnOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIGxhc3REYXlPZldlZWsoZGF5KSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLmlzTGFzdERheU9mV2VlayhkYXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGxhc3REYXlPZldlZWs7XG4gICAgICB9KClcbiAgICB9O1xuXG4gICAgdmFyIF90aGlzJGdldFN0YXRlRm9yTmV3TSA9IF90aGlzLmdldFN0YXRlRm9yTmV3TW9udGgocHJvcHMpLFxuICAgICAgICBjdXJyZW50TW9udGggPSBfdGhpcyRnZXRTdGF0ZUZvck5ld00uY3VycmVudE1vbnRoLFxuICAgICAgICB2aXNpYmxlRGF5cyA9IF90aGlzJGdldFN0YXRlRm9yTmV3TS52aXNpYmxlRGF5cztcblxuICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgaG92ZXJEYXRlOiBudWxsLFxuICAgICAgY3VycmVudE1vbnRoOiBjdXJyZW50TW9udGgsXG4gICAgICB2aXNpYmxlRGF5czogdmlzaWJsZURheXNcbiAgICB9O1xuXG4gICAgX3RoaXMub25EYXlNb3VzZUVudGVyID0gX3RoaXMub25EYXlNb3VzZUVudGVyLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLm9uRGF5TW91c2VMZWF2ZSA9IF90aGlzLm9uRGF5TW91c2VMZWF2ZS5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5vbkRheUNsaWNrID0gX3RoaXMub25EYXlDbGljay5iaW5kKF90aGlzKTtcblxuICAgIF90aGlzLm9uUHJldk1vbnRoQ2xpY2sgPSBfdGhpcy5vblByZXZNb250aENsaWNrLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLm9uTmV4dE1vbnRoQ2xpY2sgPSBfdGhpcy5vbk5leHRNb250aENsaWNrLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLm9uTW9udGhDaGFuZ2UgPSBfdGhpcy5vbk1vbnRoQ2hhbmdlLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLm9uWWVhckNoYW5nZSA9IF90aGlzLm9uWWVhckNoYW5nZS5iaW5kKF90aGlzKTtcblxuICAgIF90aGlzLmdldEZpcnN0Rm9jdXNhYmxlRGF5ID0gX3RoaXMuZ2V0Rmlyc3RGb2N1c2FibGVEYXkuYmluZChfdGhpcyk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKERheVBpY2tlclNpbmdsZURhdGVDb250cm9sbGVyLCBbe1xuICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIHRoaXMuaXNUb3VjaERldmljZSA9ICgwLCBfaXNUb3VjaERldmljZTJbJ2RlZmF1bHQnXSkoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbXBvbmVudERpZE1vdW50O1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV4dFByb3BzKSB7XG4gICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgIHZhciBkYXRlID0gbmV4dFByb3BzLmRhdGUsXG4gICAgICAgICAgICBmb2N1c2VkID0gbmV4dFByb3BzLmZvY3VzZWQsXG4gICAgICAgICAgICBpc091dHNpZGVSYW5nZSA9IG5leHRQcm9wcy5pc091dHNpZGVSYW5nZSxcbiAgICAgICAgICAgIGlzRGF5QmxvY2tlZCA9IG5leHRQcm9wcy5pc0RheUJsb2NrZWQsXG4gICAgICAgICAgICBpc0RheUhpZ2hsaWdodGVkID0gbmV4dFByb3BzLmlzRGF5SGlnaGxpZ2h0ZWQsXG4gICAgICAgICAgICBpbml0aWFsVmlzaWJsZU1vbnRoID0gbmV4dFByb3BzLmluaXRpYWxWaXNpYmxlTW9udGgsXG4gICAgICAgICAgICBudW1iZXJPZk1vbnRocyA9IG5leHRQcm9wcy5udW1iZXJPZk1vbnRocyxcbiAgICAgICAgICAgIGVuYWJsZU91dHNpZGVEYXlzID0gbmV4dFByb3BzLmVuYWJsZU91dHNpZGVEYXlzO1xuICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIHByZXZJc091dHNpZGVSYW5nZSA9IF9wcm9wcy5pc091dHNpZGVSYW5nZSxcbiAgICAgICAgICAgIHByZXZJc0RheUJsb2NrZWQgPSBfcHJvcHMuaXNEYXlCbG9ja2VkLFxuICAgICAgICAgICAgcHJldklzRGF5SGlnaGxpZ2h0ZWQgPSBfcHJvcHMuaXNEYXlIaWdobGlnaHRlZCxcbiAgICAgICAgICAgIHByZXZOdW1iZXJPZk1vbnRocyA9IF9wcm9wcy5udW1iZXJPZk1vbnRocyxcbiAgICAgICAgICAgIHByZXZFbmFibGVPdXRzaWRlRGF5cyA9IF9wcm9wcy5lbmFibGVPdXRzaWRlRGF5cyxcbiAgICAgICAgICAgIHByZXZJbml0aWFsVmlzaWJsZU1vbnRoID0gX3Byb3BzLmluaXRpYWxWaXNpYmxlTW9udGgsXG4gICAgICAgICAgICBwcmV2Rm9jdXNlZCA9IF9wcm9wcy5mb2N1c2VkLFxuICAgICAgICAgICAgcHJldkRhdGUgPSBfcHJvcHMuZGF0ZTtcbiAgICAgICAgdmFyIHZpc2libGVEYXlzID0gdGhpcy5zdGF0ZS52aXNpYmxlRGF5cztcblxuXG4gICAgICAgIHZhciByZWNvbXB1dGVPdXRzaWRlUmFuZ2UgPSBmYWxzZTtcbiAgICAgICAgdmFyIHJlY29tcHV0ZURheUJsb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIHJlY29tcHV0ZURheUhpZ2hsaWdodGVkID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKGlzT3V0c2lkZVJhbmdlICE9PSBwcmV2SXNPdXRzaWRlUmFuZ2UpIHtcbiAgICAgICAgICB0aGlzLm1vZGlmaWVyc1snYmxvY2tlZC1vdXQtb2YtcmFuZ2UnXSA9IGZ1bmN0aW9uIChkYXkpIHtcbiAgICAgICAgICAgIHJldHVybiBpc091dHNpZGVSYW5nZShkYXkpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgcmVjb21wdXRlT3V0c2lkZVJhbmdlID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0RheUJsb2NrZWQgIT09IHByZXZJc0RheUJsb2NrZWQpIHtcbiAgICAgICAgICB0aGlzLm1vZGlmaWVyc1snYmxvY2tlZC1jYWxlbmRhciddID0gZnVuY3Rpb24gKGRheSkge1xuICAgICAgICAgICAgcmV0dXJuIGlzRGF5QmxvY2tlZChkYXkpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgcmVjb21wdXRlRGF5QmxvY2tlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNEYXlIaWdobGlnaHRlZCAhPT0gcHJldklzRGF5SGlnaGxpZ2h0ZWQpIHtcbiAgICAgICAgICB0aGlzLm1vZGlmaWVyc1snaGlnaGxpZ2h0ZWQtY2FsZW5kYXInXSA9IGZ1bmN0aW9uIChkYXkpIHtcbiAgICAgICAgICAgIHJldHVybiBpc0RheUhpZ2hsaWdodGVkKGRheSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICByZWNvbXB1dGVEYXlIaWdobGlnaHRlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVjb21wdXRlUHJvcE1vZGlmaWVycyA9IHJlY29tcHV0ZU91dHNpZGVSYW5nZSB8fCByZWNvbXB1dGVEYXlCbG9ja2VkIHx8IHJlY29tcHV0ZURheUhpZ2hsaWdodGVkO1xuXG4gICAgICAgIGlmIChudW1iZXJPZk1vbnRocyAhPT0gcHJldk51bWJlck9mTW9udGhzIHx8IGVuYWJsZU91dHNpZGVEYXlzICE9PSBwcmV2RW5hYmxlT3V0c2lkZURheXMgfHwgaW5pdGlhbFZpc2libGVNb250aCAhPT0gcHJldkluaXRpYWxWaXNpYmxlTW9udGggJiYgIXByZXZGb2N1c2VkICYmIGZvY3VzZWQpIHtcbiAgICAgICAgICB2YXIgbmV3TW9udGhTdGF0ZSA9IHRoaXMuZ2V0U3RhdGVGb3JOZXdNb250aChuZXh0UHJvcHMpO1xuICAgICAgICAgIHZhciBjdXJyZW50TW9udGggPSBuZXdNb250aFN0YXRlLmN1cnJlbnRNb250aDtcbiAgICAgICAgICB2aXNpYmxlRGF5cyA9IG5ld01vbnRoU3RhdGUudmlzaWJsZURheXM7XG5cbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGN1cnJlbnRNb250aDogY3VycmVudE1vbnRoLFxuICAgICAgICAgICAgdmlzaWJsZURheXM6IHZpc2libGVEYXlzXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGlkRGF0ZUNoYW5nZSA9IGRhdGUgIT09IHByZXZEYXRlO1xuICAgICAgICB2YXIgZGlkRm9jdXNDaGFuZ2UgPSBmb2N1c2VkICE9PSBwcmV2Rm9jdXNlZDtcblxuICAgICAgICB2YXIgbW9kaWZpZXJzID0ge307XG5cbiAgICAgICAgaWYgKGRpZERhdGVDaGFuZ2UpIHtcbiAgICAgICAgICBtb2RpZmllcnMgPSB0aGlzLmRlbGV0ZU1vZGlmaWVyKG1vZGlmaWVycywgcHJldkRhdGUsICdzZWxlY3RlZCcpO1xuICAgICAgICAgIG1vZGlmaWVycyA9IHRoaXMuYWRkTW9kaWZpZXIobW9kaWZpZXJzLCBkYXRlLCAnc2VsZWN0ZWQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkaWRGb2N1c0NoYW5nZSB8fCByZWNvbXB1dGVQcm9wTW9kaWZpZXJzKSB7XG4gICAgICAgICAgKDAsIF9vYmplY3Q0WydkZWZhdWx0J10pKHZpc2libGVEYXlzKS5mb3JFYWNoKGZ1bmN0aW9uIChkYXlzKSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhkYXlzKS5mb3JFYWNoKGZ1bmN0aW9uIChkYXkpIHtcbiAgICAgICAgICAgICAgdmFyIG1vbWVudE9iaiA9ICgwLCBfbW9tZW50MlsnZGVmYXVsdCddKShkYXkpO1xuICAgICAgICAgICAgICBpZiAoX3RoaXMyLmlzQmxvY2tlZChtb21lbnRPYmopKSB7XG4gICAgICAgICAgICAgICAgbW9kaWZpZXJzID0gX3RoaXMyLmFkZE1vZGlmaWVyKG1vZGlmaWVycywgbW9tZW50T2JqLCAnYmxvY2tlZCcpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1vZGlmaWVycyA9IF90aGlzMi5kZWxldGVNb2RpZmllcihtb2RpZmllcnMsIG1vbWVudE9iaiwgJ2Jsb2NrZWQnKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChkaWRGb2N1c0NoYW5nZSB8fCByZWNvbXB1dGVPdXRzaWRlUmFuZ2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNPdXRzaWRlUmFuZ2UobW9tZW50T2JqKSkge1xuICAgICAgICAgICAgICAgICAgbW9kaWZpZXJzID0gX3RoaXMyLmFkZE1vZGlmaWVyKG1vZGlmaWVycywgbW9tZW50T2JqLCAnYmxvY2tlZC1vdXQtb2YtcmFuZ2UnKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgbW9kaWZpZXJzID0gX3RoaXMyLmRlbGV0ZU1vZGlmaWVyKG1vZGlmaWVycywgbW9tZW50T2JqLCAnYmxvY2tlZC1vdXQtb2YtcmFuZ2UnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAoZGlkRm9jdXNDaGFuZ2UgfHwgcmVjb21wdXRlRGF5QmxvY2tlZCkge1xuICAgICAgICAgICAgICAgIGlmIChpc0RheUJsb2NrZWQobW9tZW50T2JqKSkge1xuICAgICAgICAgICAgICAgICAgbW9kaWZpZXJzID0gX3RoaXMyLmFkZE1vZGlmaWVyKG1vZGlmaWVycywgbW9tZW50T2JqLCAnYmxvY2tlZC1jYWxlbmRhcicpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBtb2RpZmllcnMgPSBfdGhpczIuZGVsZXRlTW9kaWZpZXIobW9kaWZpZXJzLCBtb21lbnRPYmosICdibG9ja2VkLWNhbGVuZGFyJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKGRpZEZvY3VzQ2hhbmdlIHx8IHJlY29tcHV0ZURheUhpZ2hsaWdodGVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzRGF5SGlnaGxpZ2h0ZWQobW9tZW50T2JqKSkge1xuICAgICAgICAgICAgICAgICAgbW9kaWZpZXJzID0gX3RoaXMyLmFkZE1vZGlmaWVyKG1vZGlmaWVycywgbW9tZW50T2JqLCAnaGlnaGxpZ2h0ZWQtY2FsZW5kYXInKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgbW9kaWZpZXJzID0gX3RoaXMyLmRlbGV0ZU1vZGlmaWVyKG1vZGlmaWVycywgbW9tZW50T2JqLCAnaGlnaGxpZ2h0ZWQtY2FsZW5kYXInKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHRvZGF5ID0gKDAsIF9tb21lbnQyWydkZWZhdWx0J10pKCk7XG4gICAgICAgIGlmICghKDAsIF9pc1NhbWVEYXkyWydkZWZhdWx0J10pKHRoaXMudG9kYXksIHRvZGF5KSkge1xuICAgICAgICAgIG1vZGlmaWVycyA9IHRoaXMuZGVsZXRlTW9kaWZpZXIobW9kaWZpZXJzLCB0aGlzLnRvZGF5LCAndG9kYXknKTtcbiAgICAgICAgICBtb2RpZmllcnMgPSB0aGlzLmFkZE1vZGlmaWVyKG1vZGlmaWVycywgdG9kYXksICd0b2RheScpO1xuICAgICAgICAgIHRoaXMudG9kYXkgPSB0b2RheTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhtb2RpZmllcnMpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIHZpc2libGVEYXlzOiAoMCwgX29iamVjdDJbJ2RlZmF1bHQnXSkoe30sIHZpc2libGVEYXlzLCBtb2RpZmllcnMpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsVXBkYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gY29tcG9uZW50V2lsbFVwZGF0ZSgpIHtcbiAgICAgICAgdGhpcy50b2RheSA9ICgwLCBfbW9tZW50MlsnZGVmYXVsdCddKSgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29tcG9uZW50V2lsbFVwZGF0ZTtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ29uRGF5Q2xpY2snLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBvbkRheUNsaWNrKGRheSwgZSkge1xuICAgICAgICBpZiAoZSkgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAodGhpcy5pc0Jsb2NrZWQoZGF5KSkgcmV0dXJuO1xuICAgICAgICB2YXIgX3Byb3BzMiA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBvbkRhdGVDaGFuZ2UgPSBfcHJvcHMyLm9uRGF0ZUNoYW5nZSxcbiAgICAgICAgICAgIGtlZXBPcGVuT25EYXRlU2VsZWN0ID0gX3Byb3BzMi5rZWVwT3Blbk9uRGF0ZVNlbGVjdCxcbiAgICAgICAgICAgIG9uRm9jdXNDaGFuZ2UgPSBfcHJvcHMyLm9uRm9jdXNDaGFuZ2UsXG4gICAgICAgICAgICBvbkNsb3NlID0gX3Byb3BzMi5vbkNsb3NlO1xuXG5cbiAgICAgICAgb25EYXRlQ2hhbmdlKGRheSk7XG4gICAgICAgIGlmICgha2VlcE9wZW5PbkRhdGVTZWxlY3QpIHtcbiAgICAgICAgICBvbkZvY3VzQ2hhbmdlKHsgZm9jdXNlZDogZmFsc2UgfSk7XG4gICAgICAgICAgb25DbG9zZSh7IGRhdGU6IGRheSB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gb25EYXlDbGljaztcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ29uRGF5TW91c2VFbnRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIG9uRGF5TW91c2VFbnRlcihkYXkpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNUb3VjaERldmljZSkgcmV0dXJuO1xuICAgICAgICB2YXIgX3N0YXRlID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICAgIGhvdmVyRGF0ZSA9IF9zdGF0ZS5ob3ZlckRhdGUsXG4gICAgICAgICAgICB2aXNpYmxlRGF5cyA9IF9zdGF0ZS52aXNpYmxlRGF5cztcblxuXG4gICAgICAgIHZhciBtb2RpZmllcnMgPSB0aGlzLmRlbGV0ZU1vZGlmaWVyKHt9LCBob3ZlckRhdGUsICdob3ZlcmVkJyk7XG4gICAgICAgIG1vZGlmaWVycyA9IHRoaXMuYWRkTW9kaWZpZXIobW9kaWZpZXJzLCBkYXksICdob3ZlcmVkJyk7XG5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaG92ZXJEYXRlOiBkYXksXG4gICAgICAgICAgdmlzaWJsZURheXM6ICgwLCBfb2JqZWN0MlsnZGVmYXVsdCddKSh7fSwgdmlzaWJsZURheXMsIG1vZGlmaWVycylcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvbkRheU1vdXNlRW50ZXI7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdvbkRheU1vdXNlTGVhdmUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBvbkRheU1vdXNlTGVhdmUoKSB7XG4gICAgICAgIHZhciBfc3RhdGUyID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICAgIGhvdmVyRGF0ZSA9IF9zdGF0ZTIuaG92ZXJEYXRlLFxuICAgICAgICAgICAgdmlzaWJsZURheXMgPSBfc3RhdGUyLnZpc2libGVEYXlzO1xuXG4gICAgICAgIGlmICh0aGlzLmlzVG91Y2hEZXZpY2UgfHwgIWhvdmVyRGF0ZSkgcmV0dXJuO1xuXG4gICAgICAgIHZhciBtb2RpZmllcnMgPSB0aGlzLmRlbGV0ZU1vZGlmaWVyKHt9LCBob3ZlckRhdGUsICdob3ZlcmVkJyk7XG5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaG92ZXJEYXRlOiBudWxsLFxuICAgICAgICAgIHZpc2libGVEYXlzOiAoMCwgX29iamVjdDJbJ2RlZmF1bHQnXSkoe30sIHZpc2libGVEYXlzLCBtb2RpZmllcnMpXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gb25EYXlNb3VzZUxlYXZlO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnb25QcmV2TW9udGhDbGljaycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIG9uUHJldk1vbnRoQ2xpY2soKSB7XG4gICAgICAgIHZhciBfcHJvcHMzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIG9uUHJldk1vbnRoQ2xpY2sgPSBfcHJvcHMzLm9uUHJldk1vbnRoQ2xpY2ssXG4gICAgICAgICAgICBudW1iZXJPZk1vbnRocyA9IF9wcm9wczMubnVtYmVyT2ZNb250aHMsXG4gICAgICAgICAgICBlbmFibGVPdXRzaWRlRGF5cyA9IF9wcm9wczMuZW5hYmxlT3V0c2lkZURheXM7XG4gICAgICAgIHZhciBfc3RhdGUzID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICAgIGN1cnJlbnRNb250aCA9IF9zdGF0ZTMuY3VycmVudE1vbnRoLFxuICAgICAgICAgICAgdmlzaWJsZURheXMgPSBfc3RhdGUzLnZpc2libGVEYXlzO1xuXG5cbiAgICAgICAgdmFyIG5ld1Zpc2libGVEYXlzID0ge307XG4gICAgICAgIE9iamVjdC5rZXlzKHZpc2libGVEYXlzKS5zb3J0KCkuc2xpY2UoMCwgbnVtYmVyT2ZNb250aHMgKyAxKS5mb3JFYWNoKGZ1bmN0aW9uIChtb250aCkge1xuICAgICAgICAgIG5ld1Zpc2libGVEYXlzW21vbnRoXSA9IHZpc2libGVEYXlzW21vbnRoXTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIHByZXZNb250aCA9IGN1cnJlbnRNb250aC5jbG9uZSgpLnN1YnRyYWN0KDEsICdtb250aCcpO1xuICAgICAgICB2YXIgcHJldk1vbnRoVmlzaWJsZURheXMgPSAoMCwgX2dldFZpc2libGVEYXlzMlsnZGVmYXVsdCddKShwcmV2TW9udGgsIDEsIGVuYWJsZU91dHNpZGVEYXlzKTtcblxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBjdXJyZW50TW9udGg6IHByZXZNb250aCxcbiAgICAgICAgICB2aXNpYmxlRGF5czogKDAsIF9vYmplY3QyWydkZWZhdWx0J10pKHt9LCBuZXdWaXNpYmxlRGF5cywgdGhpcy5nZXRNb2RpZmllcnMocHJldk1vbnRoVmlzaWJsZURheXMpKVxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgb25QcmV2TW9udGhDbGljayhwcmV2TW9udGguY2xvbmUoKSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gb25QcmV2TW9udGhDbGljaztcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ29uTmV4dE1vbnRoQ2xpY2snLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBvbk5leHRNb250aENsaWNrKCkge1xuICAgICAgICB2YXIgX3Byb3BzNCA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBvbk5leHRNb250aENsaWNrID0gX3Byb3BzNC5vbk5leHRNb250aENsaWNrLFxuICAgICAgICAgICAgbnVtYmVyT2ZNb250aHMgPSBfcHJvcHM0Lm51bWJlck9mTW9udGhzLFxuICAgICAgICAgICAgZW5hYmxlT3V0c2lkZURheXMgPSBfcHJvcHM0LmVuYWJsZU91dHNpZGVEYXlzO1xuICAgICAgICB2YXIgX3N0YXRlNCA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgICBjdXJyZW50TW9udGggPSBfc3RhdGU0LmN1cnJlbnRNb250aCxcbiAgICAgICAgICAgIHZpc2libGVEYXlzID0gX3N0YXRlNC52aXNpYmxlRGF5cztcblxuXG4gICAgICAgIHZhciBuZXdWaXNpYmxlRGF5cyA9IHt9O1xuICAgICAgICBPYmplY3Qua2V5cyh2aXNpYmxlRGF5cykuc29ydCgpLnNsaWNlKDEpLmZvckVhY2goZnVuY3Rpb24gKG1vbnRoKSB7XG4gICAgICAgICAgbmV3VmlzaWJsZURheXNbbW9udGhdID0gdmlzaWJsZURheXNbbW9udGhdO1xuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgbmV4dE1vbnRoID0gY3VycmVudE1vbnRoLmNsb25lKCkuYWRkKG51bWJlck9mTW9udGhzLCAnbW9udGgnKTtcbiAgICAgICAgdmFyIG5leHRNb250aFZpc2libGVEYXlzID0gKDAsIF9nZXRWaXNpYmxlRGF5czJbJ2RlZmF1bHQnXSkobmV4dE1vbnRoLCAxLCBlbmFibGVPdXRzaWRlRGF5cyk7XG5cbiAgICAgICAgdmFyIG5ld0N1cnJlbnRNb250aCA9IGN1cnJlbnRNb250aC5jbG9uZSgpLmFkZCgxLCAnbW9udGgnKTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgY3VycmVudE1vbnRoOiBuZXdDdXJyZW50TW9udGgsXG4gICAgICAgICAgdmlzaWJsZURheXM6ICgwLCBfb2JqZWN0MlsnZGVmYXVsdCddKSh7fSwgbmV3VmlzaWJsZURheXMsIHRoaXMuZ2V0TW9kaWZpZXJzKG5leHRNb250aFZpc2libGVEYXlzKSlcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIG9uTmV4dE1vbnRoQ2xpY2sobmV3Q3VycmVudE1vbnRoLmNsb25lKCkpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9uTmV4dE1vbnRoQ2xpY2s7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdvbk1vbnRoQ2hhbmdlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gb25Nb250aENoYW5nZShuZXdNb250aCkge1xuICAgICAgICB2YXIgX3Byb3BzNSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBudW1iZXJPZk1vbnRocyA9IF9wcm9wczUubnVtYmVyT2ZNb250aHMsXG4gICAgICAgICAgICBlbmFibGVPdXRzaWRlRGF5cyA9IF9wcm9wczUuZW5hYmxlT3V0c2lkZURheXMsXG4gICAgICAgICAgICBvcmllbnRhdGlvbiA9IF9wcm9wczUub3JpZW50YXRpb247XG5cbiAgICAgICAgdmFyIHdpdGhvdXRUcmFuc2l0aW9uTW9udGhzID0gb3JpZW50YXRpb24gPT09IF9jb25zdGFudHMuVkVSVElDQUxfU0NST0xMQUJMRTtcbiAgICAgICAgdmFyIG5ld1Zpc2libGVEYXlzID0gKDAsIF9nZXRWaXNpYmxlRGF5czJbJ2RlZmF1bHQnXSkobmV3TW9udGgsIG51bWJlck9mTW9udGhzLCBlbmFibGVPdXRzaWRlRGF5cywgd2l0aG91dFRyYW5zaXRpb25Nb250aHMpO1xuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGN1cnJlbnRNb250aDogbmV3TW9udGguY2xvbmUoKSxcbiAgICAgICAgICB2aXNpYmxlRGF5czogdGhpcy5nZXRNb2RpZmllcnMobmV3VmlzaWJsZURheXMpXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gb25Nb250aENoYW5nZTtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ29uWWVhckNoYW5nZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIG9uWWVhckNoYW5nZShuZXdNb250aCkge1xuICAgICAgICB2YXIgX3Byb3BzNiA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBudW1iZXJPZk1vbnRocyA9IF9wcm9wczYubnVtYmVyT2ZNb250aHMsXG4gICAgICAgICAgICBlbmFibGVPdXRzaWRlRGF5cyA9IF9wcm9wczYuZW5hYmxlT3V0c2lkZURheXMsXG4gICAgICAgICAgICBvcmllbnRhdGlvbiA9IF9wcm9wczYub3JpZW50YXRpb247XG5cbiAgICAgICAgdmFyIHdpdGhvdXRUcmFuc2l0aW9uTW9udGhzID0gb3JpZW50YXRpb24gPT09IF9jb25zdGFudHMuVkVSVElDQUxfU0NST0xMQUJMRTtcbiAgICAgICAgdmFyIG5ld1Zpc2libGVEYXlzID0gKDAsIF9nZXRWaXNpYmxlRGF5czJbJ2RlZmF1bHQnXSkobmV3TW9udGgsIG51bWJlck9mTW9udGhzLCBlbmFibGVPdXRzaWRlRGF5cywgd2l0aG91dFRyYW5zaXRpb25Nb250aHMpO1xuXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGN1cnJlbnRNb250aDogbmV3TW9udGguY2xvbmUoKSxcbiAgICAgICAgICB2aXNpYmxlRGF5czogdGhpcy5nZXRNb2RpZmllcnMobmV3VmlzaWJsZURheXMpXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gb25ZZWFyQ2hhbmdlO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnZ2V0Rmlyc3RGb2N1c2FibGVEYXknLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBnZXRGaXJzdEZvY3VzYWJsZURheShuZXdNb250aCkge1xuICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgICB2YXIgX3Byb3BzNyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBkYXRlID0gX3Byb3BzNy5kYXRlLFxuICAgICAgICAgICAgbnVtYmVyT2ZNb250aHMgPSBfcHJvcHM3Lm51bWJlck9mTW9udGhzO1xuXG5cbiAgICAgICAgdmFyIGZvY3VzZWREYXRlID0gbmV3TW9udGguY2xvbmUoKS5zdGFydE9mKCdtb250aCcpO1xuICAgICAgICBpZiAoZGF0ZSkge1xuICAgICAgICAgIGZvY3VzZWREYXRlID0gZGF0ZS5jbG9uZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaXNCbG9ja2VkKGZvY3VzZWREYXRlKSkge1xuICAgICAgICAgIHZhciBkYXlzID0gW107XG4gICAgICAgICAgdmFyIGxhc3RWaXNpYmxlRGF5ID0gbmV3TW9udGguY2xvbmUoKS5hZGQobnVtYmVyT2ZNb250aHMgLSAxLCAnbW9udGhzJykuZW5kT2YoJ21vbnRoJyk7XG4gICAgICAgICAgdmFyIGN1cnJlbnREYXkgPSBmb2N1c2VkRGF0ZS5jbG9uZSgpO1xuICAgICAgICAgIHdoaWxlICghKDAsIF9pc0FmdGVyRGF5MlsnZGVmYXVsdCddKShjdXJyZW50RGF5LCBsYXN0VmlzaWJsZURheSkpIHtcbiAgICAgICAgICAgIGN1cnJlbnREYXkgPSBjdXJyZW50RGF5LmNsb25lKCkuYWRkKDEsICdkYXknKTtcbiAgICAgICAgICAgIGRheXMucHVzaChjdXJyZW50RGF5KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgdmlhYmxlRGF5cyA9IGRheXMuZmlsdGVyKGZ1bmN0aW9uIChkYXkpIHtcbiAgICAgICAgICAgIHJldHVybiAhX3RoaXMzLmlzQmxvY2tlZChkYXkpICYmICgwLCBfaXNBZnRlckRheTJbJ2RlZmF1bHQnXSkoZGF5LCBmb2N1c2VkRGF0ZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKHZpYWJsZURheXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdmFyIF92aWFibGVEYXlzID0gX3NsaWNlZFRvQXJyYXkodmlhYmxlRGF5cywgMSk7XG5cbiAgICAgICAgICAgIGZvY3VzZWREYXRlID0gX3ZpYWJsZURheXNbMF07XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZvY3VzZWREYXRlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0Rmlyc3RGb2N1c2FibGVEYXk7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRNb2RpZmllcnMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBnZXRNb2RpZmllcnModmlzaWJsZURheXMpIHtcbiAgICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgICAgdmFyIG1vZGlmaWVycyA9IHt9O1xuICAgICAgICBPYmplY3Qua2V5cyh2aXNpYmxlRGF5cykuZm9yRWFjaChmdW5jdGlvbiAobW9udGgpIHtcbiAgICAgICAgICBtb2RpZmllcnNbbW9udGhdID0ge307XG4gICAgICAgICAgdmlzaWJsZURheXNbbW9udGhdLmZvckVhY2goZnVuY3Rpb24gKGRheSkge1xuICAgICAgICAgICAgbW9kaWZpZXJzW21vbnRoXVsoMCwgX3RvSVNPRGF0ZVN0cmluZzJbJ2RlZmF1bHQnXSkoZGF5KV0gPSBfdGhpczQuZ2V0TW9kaWZpZXJzRm9yRGF5KGRheSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBtb2RpZmllcnM7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXRNb2RpZmllcnM7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRNb2RpZmllcnNGb3JEYXknLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBnZXRNb2RpZmllcnNGb3JEYXkoZGF5KSB7XG4gICAgICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXG4gICAgICAgIHJldHVybiBuZXcgU2V0KE9iamVjdC5rZXlzKHRoaXMubW9kaWZpZXJzKS5maWx0ZXIoZnVuY3Rpb24gKG1vZGlmaWVyKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzNS5tb2RpZmllcnNbbW9kaWZpZXJdKGRheSk7XG4gICAgICAgIH0pKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldE1vZGlmaWVyc0ZvckRheTtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ2dldFN0YXRlRm9yTmV3TW9udGgnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBnZXRTdGF0ZUZvck5ld01vbnRoKG5leHRQcm9wcykge1xuICAgICAgICB2YXIgX3RoaXM2ID0gdGhpcztcblxuICAgICAgICB2YXIgaW5pdGlhbFZpc2libGVNb250aCA9IG5leHRQcm9wcy5pbml0aWFsVmlzaWJsZU1vbnRoLFxuICAgICAgICAgICAgZGF0ZSA9IG5leHRQcm9wcy5kYXRlLFxuICAgICAgICAgICAgbnVtYmVyT2ZNb250aHMgPSBuZXh0UHJvcHMubnVtYmVyT2ZNb250aHMsXG4gICAgICAgICAgICBlbmFibGVPdXRzaWRlRGF5cyA9IG5leHRQcm9wcy5lbmFibGVPdXRzaWRlRGF5cztcblxuICAgICAgICB2YXIgaW5pdGlhbFZpc2libGVNb250aFRodW5rID0gaW5pdGlhbFZpc2libGVNb250aCB8fCAoZGF0ZSA/IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gZGF0ZTtcbiAgICAgICAgfSA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXM2LnRvZGF5O1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGN1cnJlbnRNb250aCA9IGluaXRpYWxWaXNpYmxlTW9udGhUaHVuaygpO1xuICAgICAgICB2YXIgdmlzaWJsZURheXMgPSB0aGlzLmdldE1vZGlmaWVycygoMCwgX2dldFZpc2libGVEYXlzMlsnZGVmYXVsdCddKShjdXJyZW50TW9udGgsIG51bWJlck9mTW9udGhzLCBlbmFibGVPdXRzaWRlRGF5cykpO1xuICAgICAgICByZXR1cm4geyBjdXJyZW50TW9udGg6IGN1cnJlbnRNb250aCwgdmlzaWJsZURheXM6IHZpc2libGVEYXlzIH07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXRTdGF0ZUZvck5ld01vbnRoO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnYWRkTW9kaWZpZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBhZGRNb2RpZmllcih1cGRhdGVkRGF5cywgZGF5LCBtb2RpZmllcikge1xuICAgICAgICB2YXIgX3Byb3BzOCA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBudW1iZXJPZlZpc2libGVNb250aHMgPSBfcHJvcHM4Lm51bWJlck9mTW9udGhzLFxuICAgICAgICAgICAgZW5hYmxlT3V0c2lkZURheXMgPSBfcHJvcHM4LmVuYWJsZU91dHNpZGVEYXlzLFxuICAgICAgICAgICAgb3JpZW50YXRpb24gPSBfcHJvcHM4Lm9yaWVudGF0aW9uO1xuICAgICAgICB2YXIgX3N0YXRlNSA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgICBmaXJzdFZpc2libGVNb250aCA9IF9zdGF0ZTUuY3VycmVudE1vbnRoLFxuICAgICAgICAgICAgdmlzaWJsZURheXMgPSBfc3RhdGU1LnZpc2libGVEYXlzO1xuXG5cbiAgICAgICAgdmFyIGN1cnJlbnRNb250aCA9IGZpcnN0VmlzaWJsZU1vbnRoO1xuICAgICAgICB2YXIgbnVtYmVyT2ZNb250aHMgPSBudW1iZXJPZlZpc2libGVNb250aHM7XG4gICAgICAgIGlmIChvcmllbnRhdGlvbiA9PT0gX2NvbnN0YW50cy5WRVJUSUNBTF9TQ1JPTExBQkxFKSB7XG4gICAgICAgICAgbnVtYmVyT2ZNb250aHMgPSBPYmplY3Qua2V5cyh2aXNpYmxlRGF5cykubGVuZ3RoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGN1cnJlbnRNb250aCA9IGN1cnJlbnRNb250aC5jbG9uZSgpLnN1YnRyYWN0KDEsICdtb250aCcpO1xuICAgICAgICAgIG51bWJlck9mTW9udGhzICs9IDI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkYXkgfHwgISgwLCBfaXNEYXlWaXNpYmxlMlsnZGVmYXVsdCddKShkYXksIGN1cnJlbnRNb250aCwgbnVtYmVyT2ZNb250aHMsIGVuYWJsZU91dHNpZGVEYXlzKSkge1xuICAgICAgICAgIHJldHVybiB1cGRhdGVkRGF5cztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpc28gPSAoMCwgX3RvSVNPRGF0ZVN0cmluZzJbJ2RlZmF1bHQnXSkoZGF5KTtcblxuICAgICAgICB2YXIgdXBkYXRlZERheXNBZnRlckFkZGl0aW9uID0gKDAsIF9vYmplY3QyWydkZWZhdWx0J10pKHt9LCB1cGRhdGVkRGF5cyk7XG4gICAgICAgIGlmIChlbmFibGVPdXRzaWRlRGF5cykge1xuICAgICAgICAgIHZhciBtb250aHNUb1VwZGF0ZSA9IE9iamVjdC5rZXlzKHZpc2libGVEYXlzKS5maWx0ZXIoZnVuY3Rpb24gKG1vbnRoS2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModmlzaWJsZURheXNbbW9udGhLZXldKS5pbmRleE9mKGlzbykgPiAtMTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHVwZGF0ZWREYXlzQWZ0ZXJBZGRpdGlvbiA9IG1vbnRoc1RvVXBkYXRlLnJlZHVjZShmdW5jdGlvbiAoZGF5cywgbW9udGhJc28pIHtcbiAgICAgICAgICAgIHZhciBtb250aCA9IHVwZGF0ZWREYXlzW21vbnRoSXNvXSB8fCB2aXNpYmxlRGF5c1ttb250aElzb107XG4gICAgICAgICAgICB2YXIgbW9kaWZpZXJzID0gbmV3IFNldChtb250aFtpc29dKTtcbiAgICAgICAgICAgIG1vZGlmaWVycy5hZGQobW9kaWZpZXIpO1xuICAgICAgICAgICAgcmV0dXJuICgwLCBfb2JqZWN0MlsnZGVmYXVsdCddKSh7fSwgZGF5cywgX2RlZmluZVByb3BlcnR5KHt9LCBtb250aElzbywgKDAsIF9vYmplY3QyWydkZWZhdWx0J10pKHt9LCBtb250aCwgX2RlZmluZVByb3BlcnR5KHt9LCBpc28sIG1vZGlmaWVycykpKSk7XG4gICAgICAgICAgfSwgdXBkYXRlZERheXNBZnRlckFkZGl0aW9uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgbW9udGhJc28gPSAoMCwgX3RvSVNPTW9udGhTdHJpbmcyWydkZWZhdWx0J10pKGRheSk7XG4gICAgICAgICAgdmFyIG1vbnRoID0gdXBkYXRlZERheXNbbW9udGhJc29dIHx8IHZpc2libGVEYXlzW21vbnRoSXNvXTtcblxuICAgICAgICAgIHZhciBtb2RpZmllcnMgPSBuZXcgU2V0KG1vbnRoW2lzb10pO1xuICAgICAgICAgIG1vZGlmaWVycy5hZGQobW9kaWZpZXIpO1xuICAgICAgICAgIHVwZGF0ZWREYXlzQWZ0ZXJBZGRpdGlvbiA9ICgwLCBfb2JqZWN0MlsnZGVmYXVsdCddKSh7fSwgdXBkYXRlZERheXNBZnRlckFkZGl0aW9uLCBfZGVmaW5lUHJvcGVydHkoe30sIG1vbnRoSXNvLCAoMCwgX29iamVjdDJbJ2RlZmF1bHQnXSkoe30sIG1vbnRoLCBfZGVmaW5lUHJvcGVydHkoe30sIGlzbywgbW9kaWZpZXJzKSkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB1cGRhdGVkRGF5c0FmdGVyQWRkaXRpb247XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhZGRNb2RpZmllcjtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ2RlbGV0ZU1vZGlmaWVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gZGVsZXRlTW9kaWZpZXIodXBkYXRlZERheXMsIGRheSwgbW9kaWZpZXIpIHtcbiAgICAgICAgdmFyIF9wcm9wczkgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgbnVtYmVyT2ZWaXNpYmxlTW9udGhzID0gX3Byb3BzOS5udW1iZXJPZk1vbnRocyxcbiAgICAgICAgICAgIGVuYWJsZU91dHNpZGVEYXlzID0gX3Byb3BzOS5lbmFibGVPdXRzaWRlRGF5cyxcbiAgICAgICAgICAgIG9yaWVudGF0aW9uID0gX3Byb3BzOS5vcmllbnRhdGlvbjtcbiAgICAgICAgdmFyIF9zdGF0ZTYgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgICAgZmlyc3RWaXNpYmxlTW9udGggPSBfc3RhdGU2LmN1cnJlbnRNb250aCxcbiAgICAgICAgICAgIHZpc2libGVEYXlzID0gX3N0YXRlNi52aXNpYmxlRGF5cztcblxuXG4gICAgICAgIHZhciBjdXJyZW50TW9udGggPSBmaXJzdFZpc2libGVNb250aDtcbiAgICAgICAgdmFyIG51bWJlck9mTW9udGhzID0gbnVtYmVyT2ZWaXNpYmxlTW9udGhzO1xuICAgICAgICBpZiAob3JpZW50YXRpb24gPT09IF9jb25zdGFudHMuVkVSVElDQUxfU0NST0xMQUJMRSkge1xuICAgICAgICAgIG51bWJlck9mTW9udGhzID0gT2JqZWN0LmtleXModmlzaWJsZURheXMpLmxlbmd0aDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjdXJyZW50TW9udGggPSBjdXJyZW50TW9udGguY2xvbmUoKS5zdWJ0cmFjdCgxLCAnbW9udGgnKTtcbiAgICAgICAgICBudW1iZXJPZk1vbnRocyArPSAyO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZGF5IHx8ICEoMCwgX2lzRGF5VmlzaWJsZTJbJ2RlZmF1bHQnXSkoZGF5LCBjdXJyZW50TW9udGgsIG51bWJlck9mTW9udGhzLCBlbmFibGVPdXRzaWRlRGF5cykpIHtcbiAgICAgICAgICByZXR1cm4gdXBkYXRlZERheXM7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaXNvID0gKDAsIF90b0lTT0RhdGVTdHJpbmcyWydkZWZhdWx0J10pKGRheSk7XG5cbiAgICAgICAgdmFyIHVwZGF0ZWREYXlzQWZ0ZXJEZWxldGlvbiA9ICgwLCBfb2JqZWN0MlsnZGVmYXVsdCddKSh7fSwgdXBkYXRlZERheXMpO1xuICAgICAgICBpZiAoZW5hYmxlT3V0c2lkZURheXMpIHtcbiAgICAgICAgICB2YXIgbW9udGhzVG9VcGRhdGUgPSBPYmplY3Qua2V5cyh2aXNpYmxlRGF5cykuZmlsdGVyKGZ1bmN0aW9uIChtb250aEtleSkge1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHZpc2libGVEYXlzW21vbnRoS2V5XSkuaW5kZXhPZihpc28pID4gLTE7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICB1cGRhdGVkRGF5c0FmdGVyRGVsZXRpb24gPSBtb250aHNUb1VwZGF0ZS5yZWR1Y2UoZnVuY3Rpb24gKGRheXMsIG1vbnRoSXNvKSB7XG4gICAgICAgICAgICB2YXIgbW9udGggPSB1cGRhdGVkRGF5c1ttb250aElzb10gfHwgdmlzaWJsZURheXNbbW9udGhJc29dO1xuICAgICAgICAgICAgdmFyIG1vZGlmaWVycyA9IG5ldyBTZXQobW9udGhbaXNvXSk7XG4gICAgICAgICAgICBtb2RpZmllcnNbJ2RlbGV0ZSddKG1vZGlmaWVyKTtcbiAgICAgICAgICAgIHJldHVybiAoMCwgX29iamVjdDJbJ2RlZmF1bHQnXSkoe30sIGRheXMsIF9kZWZpbmVQcm9wZXJ0eSh7fSwgbW9udGhJc28sICgwLCBfb2JqZWN0MlsnZGVmYXVsdCddKSh7fSwgbW9udGgsIF9kZWZpbmVQcm9wZXJ0eSh7fSwgaXNvLCBtb2RpZmllcnMpKSkpO1xuICAgICAgICAgIH0sIHVwZGF0ZWREYXlzQWZ0ZXJEZWxldGlvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIG1vbnRoSXNvID0gKDAsIF90b0lTT01vbnRoU3RyaW5nMlsnZGVmYXVsdCddKShkYXkpO1xuICAgICAgICAgIHZhciBtb250aCA9IHVwZGF0ZWREYXlzW21vbnRoSXNvXSB8fCB2aXNpYmxlRGF5c1ttb250aElzb107XG5cbiAgICAgICAgICB2YXIgbW9kaWZpZXJzID0gbmV3IFNldChtb250aFtpc29dKTtcbiAgICAgICAgICBtb2RpZmllcnNbJ2RlbGV0ZSddKG1vZGlmaWVyKTtcbiAgICAgICAgICB1cGRhdGVkRGF5c0FmdGVyRGVsZXRpb24gPSAoMCwgX29iamVjdDJbJ2RlZmF1bHQnXSkoe30sIHVwZGF0ZWREYXlzQWZ0ZXJEZWxldGlvbiwgX2RlZmluZVByb3BlcnR5KHt9LCBtb250aElzbywgKDAsIF9vYmplY3QyWydkZWZhdWx0J10pKHt9LCBtb250aCwgX2RlZmluZVByb3BlcnR5KHt9LCBpc28sIG1vZGlmaWVycykpKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdXBkYXRlZERheXNBZnRlckRlbGV0aW9uO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGVsZXRlTW9kaWZpZXI7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdpc0Jsb2NrZWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBpc0Jsb2NrZWQoZGF5KSB7XG4gICAgICAgIHZhciBfcHJvcHMxMCA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBpc0RheUJsb2NrZWQgPSBfcHJvcHMxMC5pc0RheUJsb2NrZWQsXG4gICAgICAgICAgICBpc091dHNpZGVSYW5nZSA9IF9wcm9wczEwLmlzT3V0c2lkZVJhbmdlO1xuXG4gICAgICAgIHJldHVybiBpc0RheUJsb2NrZWQoZGF5KSB8fCBpc091dHNpZGVSYW5nZShkYXkpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaXNCbG9ja2VkO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnaXNIb3ZlcmVkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gaXNIb3ZlcmVkKGRheSkge1xuICAgICAgICB2YXIgX3JlZiA9IHRoaXMuc3RhdGUgfHwge30sXG4gICAgICAgICAgICBob3ZlckRhdGUgPSBfcmVmLmhvdmVyRGF0ZTtcblxuICAgICAgICByZXR1cm4gKDAsIF9pc1NhbWVEYXkyWydkZWZhdWx0J10pKGRheSwgaG92ZXJEYXRlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGlzSG92ZXJlZDtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ2lzU2VsZWN0ZWQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBpc1NlbGVjdGVkKGRheSkge1xuICAgICAgICB2YXIgZGF0ZSA9IHRoaXMucHJvcHMuZGF0ZTtcblxuICAgICAgICByZXR1cm4gKDAsIF9pc1NhbWVEYXkyWydkZWZhdWx0J10pKGRheSwgZGF0ZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpc1NlbGVjdGVkO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnaXNUb2RheScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGlzVG9kYXkoZGF5KSB7XG4gICAgICAgIHJldHVybiAoMCwgX2lzU2FtZURheTJbJ2RlZmF1bHQnXSkoZGF5LCB0aGlzLnRvZGF5KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGlzVG9kYXk7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdpc0ZpcnN0RGF5T2ZXZWVrJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gaXNGaXJzdERheU9mV2VlayhkYXkpIHtcbiAgICAgICAgdmFyIGZpcnN0RGF5T2ZXZWVrID0gdGhpcy5wcm9wcy5maXJzdERheU9mV2VlaztcblxuICAgICAgICByZXR1cm4gZGF5LmRheSgpID09PSAoZmlyc3REYXlPZldlZWsgfHwgX21vbWVudDJbJ2RlZmF1bHQnXS5sb2NhbGVEYXRhKCkuZmlyc3REYXlPZldlZWsoKSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpc0ZpcnN0RGF5T2ZXZWVrO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnaXNMYXN0RGF5T2ZXZWVrJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gaXNMYXN0RGF5T2ZXZWVrKGRheSkge1xuICAgICAgICB2YXIgZmlyc3REYXlPZldlZWsgPSB0aGlzLnByb3BzLmZpcnN0RGF5T2ZXZWVrO1xuXG4gICAgICAgIHJldHVybiBkYXkuZGF5KCkgPT09ICgoZmlyc3REYXlPZldlZWsgfHwgX21vbWVudDJbJ2RlZmF1bHQnXS5sb2NhbGVEYXRhKCkuZmlyc3REYXlPZldlZWsoKSkgKyA2KSAlIDc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpc0xhc3REYXlPZldlZWs7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHZhciBfcHJvcHMxMSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBudW1iZXJPZk1vbnRocyA9IF9wcm9wczExLm51bWJlck9mTW9udGhzLFxuICAgICAgICAgICAgb3JpZW50YXRpb24gPSBfcHJvcHMxMS5vcmllbnRhdGlvbixcbiAgICAgICAgICAgIG1vbnRoRm9ybWF0ID0gX3Byb3BzMTEubW9udGhGb3JtYXQsXG4gICAgICAgICAgICByZW5kZXJNb250aFRleHQgPSBfcHJvcHMxMS5yZW5kZXJNb250aFRleHQsXG4gICAgICAgICAgICBuYXZQcmV2ID0gX3Byb3BzMTEubmF2UHJldixcbiAgICAgICAgICAgIG5hdk5leHQgPSBfcHJvcHMxMS5uYXZOZXh0LFxuICAgICAgICAgICAgb25PdXRzaWRlQ2xpY2sgPSBfcHJvcHMxMS5vbk91dHNpZGVDbGljayxcbiAgICAgICAgICAgIHdpdGhQb3J0YWwgPSBfcHJvcHMxMS53aXRoUG9ydGFsLFxuICAgICAgICAgICAgZm9jdXNlZCA9IF9wcm9wczExLmZvY3VzZWQsXG4gICAgICAgICAgICBlbmFibGVPdXRzaWRlRGF5cyA9IF9wcm9wczExLmVuYWJsZU91dHNpZGVEYXlzLFxuICAgICAgICAgICAgaGlkZUtleWJvYXJkU2hvcnRjdXRzUGFuZWwgPSBfcHJvcHMxMS5oaWRlS2V5Ym9hcmRTaG9ydGN1dHNQYW5lbCxcbiAgICAgICAgICAgIGRheVNpemUgPSBfcHJvcHMxMS5kYXlTaXplLFxuICAgICAgICAgICAgZmlyc3REYXlPZldlZWsgPSBfcHJvcHMxMS5maXJzdERheU9mV2VlayxcbiAgICAgICAgICAgIHJlbmRlckNhbGVuZGFyRGF5ID0gX3Byb3BzMTEucmVuZGVyQ2FsZW5kYXJEYXksXG4gICAgICAgICAgICByZW5kZXJEYXlDb250ZW50cyA9IF9wcm9wczExLnJlbmRlckRheUNvbnRlbnRzLFxuICAgICAgICAgICAgcmVuZGVyQ2FsZW5kYXJJbmZvID0gX3Byb3BzMTEucmVuZGVyQ2FsZW5kYXJJbmZvLFxuICAgICAgICAgICAgcmVuZGVyTW9udGhFbGVtZW50ID0gX3Byb3BzMTEucmVuZGVyTW9udGhFbGVtZW50LFxuICAgICAgICAgICAgY2FsZW5kYXJJbmZvUG9zaXRpb24gPSBfcHJvcHMxMS5jYWxlbmRhckluZm9Qb3NpdGlvbixcbiAgICAgICAgICAgIGlzRm9jdXNlZCA9IF9wcm9wczExLmlzRm9jdXNlZCxcbiAgICAgICAgICAgIGlzUlRMID0gX3Byb3BzMTEuaXNSVEwsXG4gICAgICAgICAgICBwaHJhc2VzID0gX3Byb3BzMTEucGhyYXNlcyxcbiAgICAgICAgICAgIGRheUFyaWFMYWJlbEZvcm1hdCA9IF9wcm9wczExLmRheUFyaWFMYWJlbEZvcm1hdCxcbiAgICAgICAgICAgIG9uQmx1ciA9IF9wcm9wczExLm9uQmx1cixcbiAgICAgICAgICAgIHNob3dLZXlib2FyZFNob3J0Y3V0cyA9IF9wcm9wczExLnNob3dLZXlib2FyZFNob3J0Y3V0cyxcbiAgICAgICAgICAgIHdlZWtEYXlGb3JtYXQgPSBfcHJvcHMxMS53ZWVrRGF5Rm9ybWF0LFxuICAgICAgICAgICAgdmVydGljYWxIZWlnaHQgPSBfcHJvcHMxMS52ZXJ0aWNhbEhlaWdodCxcbiAgICAgICAgICAgIG5vQm9yZGVyID0gX3Byb3BzMTEubm9Cb3JkZXIsXG4gICAgICAgICAgICB0cmFuc2l0aW9uRHVyYXRpb24gPSBfcHJvcHMxMS50cmFuc2l0aW9uRHVyYXRpb24sXG4gICAgICAgICAgICB2ZXJ0aWNhbEJvcmRlclNwYWNpbmcgPSBfcHJvcHMxMS52ZXJ0aWNhbEJvcmRlclNwYWNpbmcsXG4gICAgICAgICAgICBob3Jpem9udGFsTW9udGhQYWRkaW5nID0gX3Byb3BzMTEuaG9yaXpvbnRhbE1vbnRoUGFkZGluZztcbiAgICAgICAgdmFyIF9zdGF0ZTcgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgICAgY3VycmVudE1vbnRoID0gX3N0YXRlNy5jdXJyZW50TW9udGgsXG4gICAgICAgICAgICB2aXNpYmxlRGF5cyA9IF9zdGF0ZTcudmlzaWJsZURheXM7XG5cblxuICAgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoX0RheVBpY2tlcjJbJ2RlZmF1bHQnXSwge1xuICAgICAgICAgIG9yaWVudGF0aW9uOiBvcmllbnRhdGlvbixcbiAgICAgICAgICBlbmFibGVPdXRzaWRlRGF5czogZW5hYmxlT3V0c2lkZURheXMsXG4gICAgICAgICAgbW9kaWZpZXJzOiB2aXNpYmxlRGF5cyxcbiAgICAgICAgICBudW1iZXJPZk1vbnRoczogbnVtYmVyT2ZNb250aHMsXG4gICAgICAgICAgb25EYXlDbGljazogdGhpcy5vbkRheUNsaWNrLFxuICAgICAgICAgIG9uRGF5TW91c2VFbnRlcjogdGhpcy5vbkRheU1vdXNlRW50ZXIsXG4gICAgICAgICAgb25EYXlNb3VzZUxlYXZlOiB0aGlzLm9uRGF5TW91c2VMZWF2ZSxcbiAgICAgICAgICBvblByZXZNb250aENsaWNrOiB0aGlzLm9uUHJldk1vbnRoQ2xpY2ssXG4gICAgICAgICAgb25OZXh0TW9udGhDbGljazogdGhpcy5vbk5leHRNb250aENsaWNrLFxuICAgICAgICAgIG9uTW9udGhDaGFuZ2U6IHRoaXMub25Nb250aENoYW5nZSxcbiAgICAgICAgICBvblllYXJDaGFuZ2U6IHRoaXMub25ZZWFyQ2hhbmdlLFxuICAgICAgICAgIG1vbnRoRm9ybWF0OiBtb250aEZvcm1hdCxcbiAgICAgICAgICB3aXRoUG9ydGFsOiB3aXRoUG9ydGFsLFxuICAgICAgICAgIGhpZGRlbjogIWZvY3VzZWQsXG4gICAgICAgICAgaGlkZUtleWJvYXJkU2hvcnRjdXRzUGFuZWw6IGhpZGVLZXlib2FyZFNob3J0Y3V0c1BhbmVsLFxuICAgICAgICAgIGluaXRpYWxWaXNpYmxlTW9udGg6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGluaXRpYWxWaXNpYmxlTW9udGgoKSB7XG4gICAgICAgICAgICAgIHJldHVybiBjdXJyZW50TW9udGg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBpbml0aWFsVmlzaWJsZU1vbnRoO1xuICAgICAgICAgIH0oKSxcbiAgICAgICAgICBmaXJzdERheU9mV2VlazogZmlyc3REYXlPZldlZWssXG4gICAgICAgICAgb25PdXRzaWRlQ2xpY2s6IG9uT3V0c2lkZUNsaWNrLFxuICAgICAgICAgIG5hdlByZXY6IG5hdlByZXYsXG4gICAgICAgICAgbmF2TmV4dDogbmF2TmV4dCxcbiAgICAgICAgICByZW5kZXJNb250aFRleHQ6IHJlbmRlck1vbnRoVGV4dCxcbiAgICAgICAgICByZW5kZXJDYWxlbmRhckRheTogcmVuZGVyQ2FsZW5kYXJEYXksXG4gICAgICAgICAgcmVuZGVyRGF5Q29udGVudHM6IHJlbmRlckRheUNvbnRlbnRzLFxuICAgICAgICAgIHJlbmRlckNhbGVuZGFySW5mbzogcmVuZGVyQ2FsZW5kYXJJbmZvLFxuICAgICAgICAgIHJlbmRlck1vbnRoRWxlbWVudDogcmVuZGVyTW9udGhFbGVtZW50LFxuICAgICAgICAgIGNhbGVuZGFySW5mb1Bvc2l0aW9uOiBjYWxlbmRhckluZm9Qb3NpdGlvbixcbiAgICAgICAgICBpc0ZvY3VzZWQ6IGlzRm9jdXNlZCxcbiAgICAgICAgICBnZXRGaXJzdEZvY3VzYWJsZURheTogdGhpcy5nZXRGaXJzdEZvY3VzYWJsZURheSxcbiAgICAgICAgICBvbkJsdXI6IG9uQmx1cixcbiAgICAgICAgICBwaHJhc2VzOiBwaHJhc2VzLFxuICAgICAgICAgIGRheVNpemU6IGRheVNpemUsXG4gICAgICAgICAgaXNSVEw6IGlzUlRMLFxuICAgICAgICAgIHNob3dLZXlib2FyZFNob3J0Y3V0czogc2hvd0tleWJvYXJkU2hvcnRjdXRzLFxuICAgICAgICAgIHdlZWtEYXlGb3JtYXQ6IHdlZWtEYXlGb3JtYXQsXG4gICAgICAgICAgZGF5QXJpYUxhYmVsRm9ybWF0OiBkYXlBcmlhTGFiZWxGb3JtYXQsXG4gICAgICAgICAgdmVydGljYWxIZWlnaHQ6IHZlcnRpY2FsSGVpZ2h0LFxuICAgICAgICAgIG5vQm9yZGVyOiBub0JvcmRlcixcbiAgICAgICAgICB0cmFuc2l0aW9uRHVyYXRpb246IHRyYW5zaXRpb25EdXJhdGlvbixcbiAgICAgICAgICB2ZXJ0aWNhbEJvcmRlclNwYWNpbmc6IHZlcnRpY2FsQm9yZGVyU3BhY2luZyxcbiAgICAgICAgICBob3Jpem9udGFsTW9udGhQYWRkaW5nOiBob3Jpem9udGFsTW9udGhQYWRkaW5nXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVuZGVyO1xuICAgIH0oKVxuICB9XSk7XG5cbiAgcmV0dXJuIERheVBpY2tlclNpbmdsZURhdGVDb250cm9sbGVyO1xufShfcmVhY3QyWydkZWZhdWx0J10uQ29tcG9uZW50KTtcblxuZXhwb3J0c1snZGVmYXVsdCddID0gRGF5UGlja2VyU2luZ2xlRGF0ZUNvbnRyb2xsZXI7XG5cblxuRGF5UGlja2VyU2luZ2xlRGF0ZUNvbnRyb2xsZXIucHJvcFR5cGVzID0gcHJvcFR5cGVzO1xuRGF5UGlja2VyU2luZ2xlRGF0ZUNvbnRyb2xsZXIuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF9vYmplY3QgPSByZXF1aXJlKCdvYmplY3QuYXNzaWduJyk7XG5cbnZhciBfb2JqZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdCk7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfYWlyYm5iUHJvcFR5cGVzID0gcmVxdWlyZSgnYWlyYm5iLXByb3AtdHlwZXMnKTtcblxudmFyIF9yZWFjdFdpdGhTdHlsZXMgPSByZXF1aXJlKCdyZWFjdC13aXRoLXN0eWxlcycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbnZhciBwcm9wVHlwZXMgPSAoMCwgX2FpcmJuYlByb3BUeXBlcy5mb3JiaWRFeHRyYVByb3BzKSgoMCwgX29iamVjdDJbJ2RlZmF1bHQnXSkoe30sIF9yZWFjdFdpdGhTdHlsZXMud2l0aFN0eWxlc1Byb3BUeXBlcywge1xuICB1bmljb2RlOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLnN0cmluZy5pc1JlcXVpcmVkLFxuICBsYWJlbDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgYWN0aW9uOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLnN0cmluZy5pc1JlcXVpcmVkLFxuICBibG9jazogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ib29sXG59KSk7XG5cbnZhciBkZWZhdWx0UHJvcHMgPSB7XG4gIGJsb2NrOiBmYWxzZVxufTtcblxuZnVuY3Rpb24gS2V5Ym9hcmRTaG9ydGN1dFJvdyhfcmVmKSB7XG4gIHZhciB1bmljb2RlID0gX3JlZi51bmljb2RlLFxuICAgICAgbGFiZWwgPSBfcmVmLmxhYmVsLFxuICAgICAgYWN0aW9uID0gX3JlZi5hY3Rpb24sXG4gICAgICBibG9jayA9IF9yZWYuYmxvY2ssXG4gICAgICBzdHlsZXMgPSBfcmVmLnN0eWxlcztcblxuICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG4gICAgJ2xpJyxcbiAgICAoMCwgX3JlYWN0V2l0aFN0eWxlcy5jc3MpKHN0eWxlcy5LZXlib2FyZFNob3J0Y3V0Um93LCBibG9jayAmJiBzdHlsZXMuS2V5Ym9hcmRTaG9ydGN1dFJvd19fYmxvY2spLFxuICAgIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuICAgICAgJ2RpdicsXG4gICAgICAoMCwgX3JlYWN0V2l0aFN0eWxlcy5jc3MpKHN0eWxlcy5LZXlib2FyZFNob3J0Y3V0Um93X2tleUNvbnRhaW5lciwgYmxvY2sgJiYgc3R5bGVzLktleWJvYXJkU2hvcnRjdXRSb3dfa2V5Q29udGFpbmVyX19ibG9jayksXG4gICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ3NwYW4nLFxuICAgICAgICBfZXh0ZW5kcyh7fSwgKDAsIF9yZWFjdFdpdGhTdHlsZXMuY3NzKShzdHlsZXMuS2V5Ym9hcmRTaG9ydGN1dFJvd19rZXkpLCB7XG4gICAgICAgICAgcm9sZTogJ2ltZycsXG4gICAgICAgICAgJ2FyaWEtbGFiZWwnOiBTdHJpbmcobGFiZWwpICsgJywnIC8vIGFkZCBjb21tYSBzbyBzY3JlZW4gcmVhZGVycyB3aWxsIHBhdXNlIGJlZm9yZSByZWFkaW5nIGFjdGlvblxuICAgICAgICB9KSxcbiAgICAgICAgdW5pY29kZVxuICAgICAgKVxuICAgICksXG4gICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAnZGl2JyxcbiAgICAgICgwLCBfcmVhY3RXaXRoU3R5bGVzLmNzcykoc3R5bGVzLktleWJvYXJkU2hvcnRjdXRSb3dfYWN0aW9uKSxcbiAgICAgIGFjdGlvblxuICAgIClcbiAgKTtcbn1cblxuS2V5Ym9hcmRTaG9ydGN1dFJvdy5wcm9wVHlwZXMgPSBwcm9wVHlwZXM7XG5LZXlib2FyZFNob3J0Y3V0Um93LmRlZmF1bHRQcm9wcyA9IGRlZmF1bHRQcm9wcztcblxuZXhwb3J0c1snZGVmYXVsdCddID0gKDAsIF9yZWFjdFdpdGhTdHlsZXMud2l0aFN0eWxlcykoZnVuY3Rpb24gKF9yZWYyKSB7XG4gIHZhciBjb2xvciA9IF9yZWYyLnJlYWN0RGF0ZXMuY29sb3I7XG4gIHJldHVybiB7XG4gICAgS2V5Ym9hcmRTaG9ydGN1dFJvdzoge1xuICAgICAgbGlzdFN0eWxlOiAnbm9uZScsXG4gICAgICBtYXJnaW46ICc2cHggMCdcbiAgICB9LFxuXG4gICAgS2V5Ym9hcmRTaG9ydGN1dFJvd19fYmxvY2s6IHtcbiAgICAgIG1hcmdpbkJvdHRvbTogMTZcbiAgICB9LFxuXG4gICAgS2V5Ym9hcmRTaG9ydGN1dFJvd19rZXlDb250YWluZXI6IHtcbiAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgd2hpdGVTcGFjZTogJ25vd3JhcCcsXG4gICAgICB0ZXh0QWxpZ246ICdyaWdodCcsXG4gICAgICBtYXJnaW5SaWdodDogNlxuICAgIH0sXG5cbiAgICBLZXlib2FyZFNob3J0Y3V0Um93X2tleUNvbnRhaW5lcl9fYmxvY2s6IHtcbiAgICAgIHRleHRBbGlnbjogJ2xlZnQnLFxuICAgICAgZGlzcGxheTogJ2lubGluZSdcbiAgICB9LFxuXG4gICAgS2V5Ym9hcmRTaG9ydGN1dFJvd19rZXk6IHtcbiAgICAgIGZvbnRGYW1pbHk6ICdtb25vc3BhY2UnLFxuICAgICAgZm9udFNpemU6IDEyLFxuICAgICAgdGV4dFRyYW5zZm9ybTogJ3VwcGVyY2FzZScsXG4gICAgICBiYWNrZ3JvdW5kOiBjb2xvci5jb3JlLmdyYXlMaWdodGVzdCxcbiAgICAgIHBhZGRpbmc6ICcycHggNnB4J1xuICAgIH0sXG5cbiAgICBLZXlib2FyZFNob3J0Y3V0Um93X2FjdGlvbjoge1xuICAgICAgZGlzcGxheTogJ2lubGluZScsXG4gICAgICB3b3JkQnJlYWs6ICdicmVhay13b3JkJyxcbiAgICAgIG1hcmdpbkxlZnQ6IDhcbiAgICB9XG4gIH07XG59KShLZXlib2FyZFNob3J0Y3V0Um93KTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG52YXIgTGVmdEFycm93ID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBMZWZ0QXJyb3cocHJvcHMpIHtcbiAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAnc3ZnJyxcbiAgICAgIHByb3BzLFxuICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoJ3BhdGgnLCB7XG4gICAgICAgIGQ6ICdNMzM2LjIgMjc0LjVsLTIxMC4xIDIxMGg4MDUuNGMxMyAwIDIzIDEwIDIzIDIzcy0xMCAyMy0yMyAyM0gxMjYuMWwyMTAuMSAyMTAuMWMxMSAxMSAxMSAyMSAwIDMyLTUgNS0xMCA3LTE2IDdzLTExLTItMTYtN2wtMjQ5LjEtMjQ5Yy0xMS0xMS0xMS0yMSAwLTMybDI0OS4xLTI0OS4xYzIxLTIxLjEgNTMgMTAuOSAzMiAzMnonXG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICByZXR1cm4gTGVmdEFycm93O1xufSgpO1xuXG5MZWZ0QXJyb3cuZGVmYXVsdFByb3BzID0ge1xuICB2aWV3Qm94OiAnMCAwIDEwMDAgMTAwMCdcbn07XG5leHBvcnRzWydkZWZhdWx0J10gPSBMZWZ0QXJyb3c7IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxudmFyIFJpZ2h0QXJyb3cgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFJpZ2h0QXJyb3cocHJvcHMpIHtcbiAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAnc3ZnJyxcbiAgICAgIHByb3BzLFxuICAgICAgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoJ3BhdGgnLCB7XG4gICAgICAgIGQ6ICdNNjk0LjQgMjQyLjRsMjQ5LjEgMjQ5LjFjMTEgMTEgMTEgMjEgMCAzMkw2OTQuNCA3NzIuN2MtNSA1LTEwIDctMTYgN3MtMTEtMi0xNi03Yy0xMS0xMS0xMS0yMSAwLTMybDIxMC4xLTIxMC4xSDY3LjFjLTEzIDAtMjMtMTAtMjMtMjNzMTAtMjMgMjMtMjNoODA1LjRMNjYyLjQgMjc0LjVjLTIxLTIxLjEgMTEtNTMuMSAzMi0zMi4xeidcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBSaWdodEFycm93O1xufSgpO1xuXG5SaWdodEFycm93LmRlZmF1bHRQcm9wcyA9IHtcbiAgdmlld0JveDogJzAgMCAxMDAwIDEwMDAnXG59O1xuZXhwb3J0c1snZGVmYXVsdCddID0gUmlnaHRBcnJvdzsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLlB1cmVTaW5nbGVEYXRlUGlja2VyID0gdW5kZWZpbmVkO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX29iamVjdCA9IHJlcXVpcmUoJ29iamVjdC5hc3NpZ24nKTtcblxudmFyIF9vYmplY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfb2JqZWN0KTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX21vbWVudCA9IHJlcXVpcmUoJ21vbWVudCcpO1xuXG52YXIgX21vbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb21lbnQpO1xuXG52YXIgX3JlYWN0V2l0aFN0eWxlcyA9IHJlcXVpcmUoJ3JlYWN0LXdpdGgtc3R5bGVzJyk7XG5cbnZhciBfcmVhY3RQb3J0YWwgPSByZXF1aXJlKCdyZWFjdC1wb3J0YWwnKTtcblxudmFyIF9haXJibmJQcm9wVHlwZXMgPSByZXF1aXJlKCdhaXJibmItcHJvcC10eXBlcycpO1xuXG52YXIgX2NvbnNvbGlkYXRlZEV2ZW50cyA9IHJlcXVpcmUoJ2NvbnNvbGlkYXRlZC1ldmVudHMnKTtcblxudmFyIF9pc1RvdWNoRGV2aWNlID0gcmVxdWlyZSgnaXMtdG91Y2gtZGV2aWNlJyk7XG5cbnZhciBfaXNUb3VjaERldmljZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc1RvdWNoRGV2aWNlKTtcblxudmFyIF9yZWFjdE91dHNpZGVDbGlja0hhbmRsZXIgPSByZXF1aXJlKCdyZWFjdC1vdXRzaWRlLWNsaWNrLWhhbmRsZXInKTtcblxudmFyIF9yZWFjdE91dHNpZGVDbGlja0hhbmRsZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3RPdXRzaWRlQ2xpY2tIYW5kbGVyKTtcblxudmFyIF9TaW5nbGVEYXRlUGlja2VyU2hhcGUgPSByZXF1aXJlKCcuLi9zaGFwZXMvU2luZ2xlRGF0ZVBpY2tlclNoYXBlJyk7XG5cbnZhciBfU2luZ2xlRGF0ZVBpY2tlclNoYXBlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NpbmdsZURhdGVQaWNrZXJTaGFwZSk7XG5cbnZhciBfZGVmYXVsdFBocmFzZXMgPSByZXF1aXJlKCcuLi9kZWZhdWx0UGhyYXNlcycpO1xuXG52YXIgX3RvTW9tZW50T2JqZWN0ID0gcmVxdWlyZSgnLi4vdXRpbHMvdG9Nb21lbnRPYmplY3QnKTtcblxudmFyIF90b01vbWVudE9iamVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90b01vbWVudE9iamVjdCk7XG5cbnZhciBfdG9Mb2NhbGl6ZWREYXRlU3RyaW5nID0gcmVxdWlyZSgnLi4vdXRpbHMvdG9Mb2NhbGl6ZWREYXRlU3RyaW5nJyk7XG5cbnZhciBfdG9Mb2NhbGl6ZWREYXRlU3RyaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RvTG9jYWxpemVkRGF0ZVN0cmluZyk7XG5cbnZhciBfZ2V0UmVzcG9uc2l2ZUNvbnRhaW5lclN0eWxlcyA9IHJlcXVpcmUoJy4uL3V0aWxzL2dldFJlc3BvbnNpdmVDb250YWluZXJTdHlsZXMnKTtcblxudmFyIF9nZXRSZXNwb25zaXZlQ29udGFpbmVyU3R5bGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFJlc3BvbnNpdmVDb250YWluZXJTdHlsZXMpO1xuXG52YXIgX2dldERldGFjaGVkQ29udGFpbmVyU3R5bGVzID0gcmVxdWlyZSgnLi4vdXRpbHMvZ2V0RGV0YWNoZWRDb250YWluZXJTdHlsZXMnKTtcblxudmFyIF9nZXREZXRhY2hlZENvbnRhaW5lclN0eWxlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXREZXRhY2hlZENvbnRhaW5lclN0eWxlcyk7XG5cbnZhciBfZ2V0SW5wdXRIZWlnaHQgPSByZXF1aXJlKCcuLi91dGlscy9nZXRJbnB1dEhlaWdodCcpO1xuXG52YXIgX2dldElucHV0SGVpZ2h0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldElucHV0SGVpZ2h0KTtcblxudmFyIF9pc0luY2x1c2l2ZWx5QWZ0ZXJEYXkgPSByZXF1aXJlKCcuLi91dGlscy9pc0luY2x1c2l2ZWx5QWZ0ZXJEYXknKTtcblxudmFyIF9pc0luY2x1c2l2ZWx5QWZ0ZXJEYXkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNJbmNsdXNpdmVseUFmdGVyRGF5KTtcblxudmFyIF9kaXNhYmxlU2Nyb2xsMiA9IHJlcXVpcmUoJy4uL3V0aWxzL2Rpc2FibGVTY3JvbGwnKTtcblxudmFyIF9kaXNhYmxlU2Nyb2xsMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Rpc2FibGVTY3JvbGwyKTtcblxudmFyIF9TaW5nbGVEYXRlUGlja2VySW5wdXQgPSByZXF1aXJlKCcuL1NpbmdsZURhdGVQaWNrZXJJbnB1dCcpO1xuXG52YXIgX1NpbmdsZURhdGVQaWNrZXJJbnB1dDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9TaW5nbGVEYXRlUGlja2VySW5wdXQpO1xuXG52YXIgX0RheVBpY2tlclNpbmdsZURhdGVDb250cm9sbGVyID0gcmVxdWlyZSgnLi9EYXlQaWNrZXJTaW5nbGVEYXRlQ29udHJvbGxlcicpO1xuXG52YXIgX0RheVBpY2tlclNpbmdsZURhdGVDb250cm9sbGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RheVBpY2tlclNpbmdsZURhdGVDb250cm9sbGVyKTtcblxudmFyIF9DbG9zZUJ1dHRvbiA9IHJlcXVpcmUoJy4vQ2xvc2VCdXR0b24nKTtcblxudmFyIF9DbG9zZUJ1dHRvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DbG9zZUJ1dHRvbik7XG5cbnZhciBfY29uc3RhbnRzID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgcHJvcFR5cGVzID0gKDAsIF9haXJibmJQcm9wVHlwZXMuZm9yYmlkRXh0cmFQcm9wcykoKDAsIF9vYmplY3QyWydkZWZhdWx0J10pKHt9LCBfcmVhY3RXaXRoU3R5bGVzLndpdGhTdHlsZXNQcm9wVHlwZXMsIF9TaW5nbGVEYXRlUGlja2VyU2hhcGUyWydkZWZhdWx0J10pKTtcblxudmFyIGRlZmF1bHRQcm9wcyA9IHtcbiAgLy8gcmVxdWlyZWQgcHJvcHMgZm9yIGEgZnVuY3Rpb25hbCBpbnRlcmFjdGl2ZSBTaW5nbGVEYXRlUGlja2VyXG4gIGRhdGU6IG51bGwsXG4gIGZvY3VzZWQ6IGZhbHNlLFxuXG4gIC8vIGlucHV0IHJlbGF0ZWQgcHJvcHNcbiAgaWQ6ICdkYXRlJyxcbiAgcGxhY2Vob2xkZXI6ICdEYXRlJyxcbiAgZGlzYWJsZWQ6IGZhbHNlLFxuICByZXF1aXJlZDogZmFsc2UsXG4gIHJlYWRPbmx5OiBmYWxzZSxcbiAgc2NyZWVuUmVhZGVySW5wdXRNZXNzYWdlOiAnJyxcbiAgc2hvd0NsZWFyRGF0ZTogZmFsc2UsXG4gIHNob3dEZWZhdWx0SW5wdXRJY29uOiBmYWxzZSxcbiAgaW5wdXRJY29uUG9zaXRpb246IF9jb25zdGFudHMuSUNPTl9CRUZPUkVfUE9TSVRJT04sXG4gIGN1c3RvbUlucHV0SWNvbjogbnVsbCxcbiAgY3VzdG9tQ2xvc2VJY29uOiBudWxsLFxuICBub0JvcmRlcjogZmFsc2UsXG4gIGJsb2NrOiBmYWxzZSxcbiAgc21hbGw6IGZhbHNlLFxuICByZWd1bGFyOiBmYWxzZSxcbiAgdmVydGljYWxTcGFjaW5nOiBfY29uc3RhbnRzLkRFRkFVTFRfVkVSVElDQUxfU1BBQ0lORyxcbiAga2VlcEZvY3VzT25JbnB1dDogZmFsc2UsXG5cbiAgLy8gY2FsZW5kYXIgcHJlc2VudGF0aW9uIGFuZCBpbnRlcmFjdGlvbiByZWxhdGVkIHByb3BzXG4gIG9yaWVudGF0aW9uOiBfY29uc3RhbnRzLkhPUklaT05UQUxfT1JJRU5UQVRJT04sXG4gIGFuY2hvckRpcmVjdGlvbjogX2NvbnN0YW50cy5BTkNIT1JfTEVGVCxcbiAgb3BlbkRpcmVjdGlvbjogX2NvbnN0YW50cy5PUEVOX0RPV04sXG4gIGhvcml6b250YWxNYXJnaW46IDAsXG4gIHdpdGhQb3J0YWw6IGZhbHNlLFxuICB3aXRoRnVsbFNjcmVlblBvcnRhbDogZmFsc2UsXG4gIGFwcGVuZFRvQm9keTogZmFsc2UsXG4gIGRpc2FibGVTY3JvbGw6IGZhbHNlLFxuICBpbml0aWFsVmlzaWJsZU1vbnRoOiBudWxsLFxuICBmaXJzdERheU9mV2VlazogbnVsbCxcbiAgbnVtYmVyT2ZNb250aHM6IDIsXG4gIGtlZXBPcGVuT25EYXRlU2VsZWN0OiBmYWxzZSxcbiAgcmVvcGVuUGlja2VyT25DbGVhckRhdGU6IGZhbHNlLFxuICByZW5kZXJDYWxlbmRhckluZm86IG51bGwsXG4gIGNhbGVuZGFySW5mb1Bvc2l0aW9uOiBfY29uc3RhbnRzLklORk9fUE9TSVRJT05fQk9UVE9NLFxuICBoaWRlS2V5Ym9hcmRTaG9ydGN1dHNQYW5lbDogZmFsc2UsXG4gIGRheVNpemU6IF9jb25zdGFudHMuREFZX1NJWkUsXG4gIGlzUlRMOiBmYWxzZSxcbiAgdmVydGljYWxIZWlnaHQ6IG51bGwsXG4gIHRyYW5zaXRpb25EdXJhdGlvbjogdW5kZWZpbmVkLFxuICBob3Jpem9udGFsTW9udGhQYWRkaW5nOiAxMyxcblxuICAvLyBuYXZpZ2F0aW9uIHJlbGF0ZWQgcHJvcHNcbiAgbmF2UHJldjogbnVsbCxcbiAgbmF2TmV4dDogbnVsbCxcblxuICBvblByZXZNb250aENsaWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gb25QcmV2TW9udGhDbGljaygpIHt9XG5cbiAgICByZXR1cm4gb25QcmV2TW9udGhDbGljaztcbiAgfSgpLFxuICBvbk5leHRNb250aENsaWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gb25OZXh0TW9udGhDbGljaygpIHt9XG5cbiAgICByZXR1cm4gb25OZXh0TW9udGhDbGljaztcbiAgfSgpLFxuICBvbkNsb3NlOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gb25DbG9zZSgpIHt9XG5cbiAgICByZXR1cm4gb25DbG9zZTtcbiAgfSgpLFxuXG5cbiAgLy8gbW9udGggcHJlc2VudGF0aW9uIGFuZCBpbnRlcmFjdGlvbiByZWxhdGVkIHByb3BzXG4gIHJlbmRlck1vbnRoVGV4dDogbnVsbCxcblxuICAvLyBkYXkgcHJlc2VudGF0aW9uIGFuZCBpbnRlcmFjdGlvbiByZWxhdGVkIHByb3BzXG4gIHJlbmRlckNhbGVuZGFyRGF5OiB1bmRlZmluZWQsXG4gIHJlbmRlckRheUNvbnRlbnRzOiBudWxsLFxuICByZW5kZXJNb250aEVsZW1lbnQ6IG51bGwsXG4gIGVuYWJsZU91dHNpZGVEYXlzOiBmYWxzZSxcbiAgaXNEYXlCbG9ja2VkOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gaXNEYXlCbG9ja2VkKCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiBpc0RheUJsb2NrZWQ7XG4gIH0oKSxcbiAgaXNPdXRzaWRlUmFuZ2U6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBpc091dHNpZGVSYW5nZShkYXkpIHtcbiAgICAgIHJldHVybiAhKDAsIF9pc0luY2x1c2l2ZWx5QWZ0ZXJEYXkyWydkZWZhdWx0J10pKGRheSwgKDAsIF9tb21lbnQyWydkZWZhdWx0J10pKCkpO1xuICAgIH1cblxuICAgIHJldHVybiBpc091dHNpZGVSYW5nZTtcbiAgfSgpLFxuICBpc0RheUhpZ2hsaWdodGVkOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gaXNEYXlIaWdobGlnaHRlZCgpIHt9XG5cbiAgICByZXR1cm4gaXNEYXlIaWdobGlnaHRlZDtcbiAgfSgpLFxuXG4gIC8vIGludGVybmF0aW9uYWxpemF0aW9uIHByb3BzXG4gIGRpc3BsYXlGb3JtYXQ6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBkaXNwbGF5Rm9ybWF0KCkge1xuICAgICAgcmV0dXJuIF9tb21lbnQyWydkZWZhdWx0J10ubG9jYWxlRGF0YSgpLmxvbmdEYXRlRm9ybWF0KCdMJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRpc3BsYXlGb3JtYXQ7XG4gIH0oKSxcbiAgbW9udGhGb3JtYXQ6ICdNTU1NIFlZWVknLFxuICB3ZWVrRGF5Rm9ybWF0OiAnZGQnLFxuICBwaHJhc2VzOiBfZGVmYXVsdFBocmFzZXMuU2luZ2xlRGF0ZVBpY2tlclBocmFzZXMsXG4gIGRheUFyaWFMYWJlbEZvcm1hdDogdW5kZWZpbmVkXG59O1xuXG52YXIgU2luZ2xlRGF0ZVBpY2tlciA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhTaW5nbGVEYXRlUGlja2VyLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBTaW5nbGVEYXRlUGlja2VyKHByb3BzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNpbmdsZURhdGVQaWNrZXIpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFNpbmdsZURhdGVQaWNrZXIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihTaW5nbGVEYXRlUGlja2VyKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgX3RoaXMuaXNUb3VjaERldmljZSA9IGZhbHNlO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBkYXlQaWNrZXJDb250YWluZXJTdHlsZXM6IHt9LFxuICAgICAgaXNEYXlQaWNrZXJGb2N1c2VkOiBmYWxzZSxcbiAgICAgIGlzSW5wdXRGb2N1c2VkOiBmYWxzZSxcbiAgICAgIHNob3dLZXlib2FyZFNob3J0Y3V0czogZmFsc2VcbiAgICB9O1xuXG4gICAgX3RoaXMub25EYXlQaWNrZXJGb2N1cyA9IF90aGlzLm9uRGF5UGlja2VyRm9jdXMuYmluZChfdGhpcyk7XG4gICAgX3RoaXMub25EYXlQaWNrZXJCbHVyID0gX3RoaXMub25EYXlQaWNrZXJCbHVyLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLnNob3dLZXlib2FyZFNob3J0Y3V0c1BhbmVsID0gX3RoaXMuc2hvd0tleWJvYXJkU2hvcnRjdXRzUGFuZWwuYmluZChfdGhpcyk7XG5cbiAgICBfdGhpcy5vbkNoYW5nZSA9IF90aGlzLm9uQ2hhbmdlLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLm9uRm9jdXMgPSBfdGhpcy5vbkZvY3VzLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLm9uQ2xlYXJGb2N1cyA9IF90aGlzLm9uQ2xlYXJGb2N1cy5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5jbGVhckRhdGUgPSBfdGhpcy5jbGVhckRhdGUuYmluZChfdGhpcyk7XG5cbiAgICBfdGhpcy5yZXNwb25zaXZpemVQaWNrZXJQb3NpdGlvbiA9IF90aGlzLnJlc3BvbnNpdml6ZVBpY2tlclBvc2l0aW9uLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLmRpc2FibGVTY3JvbGwgPSBfdGhpcy5kaXNhYmxlU2Nyb2xsLmJpbmQoX3RoaXMpO1xuXG4gICAgX3RoaXMuc2V0RGF5UGlja2VyQ29udGFpbmVyUmVmID0gX3RoaXMuc2V0RGF5UGlja2VyQ29udGFpbmVyUmVmLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLnNldENvbnRhaW5lclJlZiA9IF90aGlzLnNldENvbnRhaW5lclJlZi5iaW5kKF90aGlzKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKFNpbmdsZURhdGVQaWNrZXIsIFt7XG4gICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyID0gKDAsIF9jb25zb2xpZGF0ZWRFdmVudHMuYWRkRXZlbnRMaXN0ZW5lcikod2luZG93LCAncmVzaXplJywgdGhpcy5yZXNwb25zaXZpemVQaWNrZXJQb3NpdGlvbiwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICAgICAgICB0aGlzLnJlc3BvbnNpdml6ZVBpY2tlclBvc2l0aW9uKCk7XG4gICAgICAgIHRoaXMuZGlzYWJsZVNjcm9sbCgpO1xuXG4gICAgICAgIHZhciBmb2N1c2VkID0gdGhpcy5wcm9wcy5mb2N1c2VkO1xuXG5cbiAgICAgICAgaWYgKGZvY3VzZWQpIHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGlzSW5wdXRGb2N1c2VkOiB0cnVlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmlzVG91Y2hEZXZpY2UgPSAoMCwgX2lzVG91Y2hEZXZpY2UyWydkZWZhdWx0J10pKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb21wb25lbnREaWRNb3VudDtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudERpZFVwZGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMpIHtcbiAgICAgICAgdmFyIGZvY3VzZWQgPSB0aGlzLnByb3BzLmZvY3VzZWQ7XG5cbiAgICAgICAgaWYgKCFwcmV2UHJvcHMuZm9jdXNlZCAmJiBmb2N1c2VkKSB7XG4gICAgICAgICAgdGhpcy5yZXNwb25zaXZpemVQaWNrZXJQb3NpdGlvbigpO1xuICAgICAgICAgIHRoaXMuZGlzYWJsZVNjcm9sbCgpO1xuICAgICAgICB9IGVsc2UgaWYgKHByZXZQcm9wcy5mb2N1c2VkICYmICFmb2N1c2VkKSB7XG4gICAgICAgICAgaWYgKHRoaXMuZW5hYmxlU2Nyb2xsKSB0aGlzLmVuYWJsZVNjcm9sbCgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb21wb25lbnREaWRVcGRhdGU7XG4gICAgfSgpXG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsVW5tb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICBpZiAodGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKSB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoKTtcbiAgICAgICAgaWYgKHRoaXMuZW5hYmxlU2Nyb2xsKSB0aGlzLmVuYWJsZVNjcm9sbCgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29tcG9uZW50V2lsbFVubW91bnQ7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdvbkNoYW5nZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIG9uQ2hhbmdlKGRhdGVTdHJpbmcpIHtcbiAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBpc091dHNpZGVSYW5nZSA9IF9wcm9wcy5pc091dHNpZGVSYW5nZSxcbiAgICAgICAgICAgIGtlZXBPcGVuT25EYXRlU2VsZWN0ID0gX3Byb3BzLmtlZXBPcGVuT25EYXRlU2VsZWN0LFxuICAgICAgICAgICAgb25EYXRlQ2hhbmdlID0gX3Byb3BzLm9uRGF0ZUNoYW5nZSxcbiAgICAgICAgICAgIG9uRm9jdXNDaGFuZ2UgPSBfcHJvcHMub25Gb2N1c0NoYW5nZSxcbiAgICAgICAgICAgIG9uQ2xvc2UgPSBfcHJvcHMub25DbG9zZTtcblxuICAgICAgICB2YXIgbmV3RGF0ZSA9ICgwLCBfdG9Nb21lbnRPYmplY3QyWydkZWZhdWx0J10pKGRhdGVTdHJpbmcsIHRoaXMuZ2V0RGlzcGxheUZvcm1hdCgpKTtcblxuICAgICAgICB2YXIgaXNWYWxpZCA9IG5ld0RhdGUgJiYgIWlzT3V0c2lkZVJhbmdlKG5ld0RhdGUpO1xuICAgICAgICBpZiAoaXNWYWxpZCkge1xuICAgICAgICAgIG9uRGF0ZUNoYW5nZShuZXdEYXRlKTtcbiAgICAgICAgICBpZiAoIWtlZXBPcGVuT25EYXRlU2VsZWN0KSB7XG4gICAgICAgICAgICBvbkZvY3VzQ2hhbmdlKHsgZm9jdXNlZDogZmFsc2UgfSk7XG4gICAgICAgICAgICBvbkNsb3NlKHsgZGF0ZTogbmV3RGF0ZSB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb25EYXRlQ2hhbmdlKG51bGwpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvbkNoYW5nZTtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ29uRm9jdXMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBvbkZvY3VzKCkge1xuICAgICAgICB2YXIgX3Byb3BzMiA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBkaXNhYmxlZCA9IF9wcm9wczIuZGlzYWJsZWQsXG4gICAgICAgICAgICBvbkZvY3VzQ2hhbmdlID0gX3Byb3BzMi5vbkZvY3VzQ2hhbmdlLFxuICAgICAgICAgICAgcmVhZE9ubHkgPSBfcHJvcHMyLnJlYWRPbmx5LFxuICAgICAgICAgICAgd2l0aFBvcnRhbCA9IF9wcm9wczIud2l0aFBvcnRhbCxcbiAgICAgICAgICAgIHdpdGhGdWxsU2NyZWVuUG9ydGFsID0gX3Byb3BzMi53aXRoRnVsbFNjcmVlblBvcnRhbCxcbiAgICAgICAgICAgIGtlZXBGb2N1c09uSW5wdXQgPSBfcHJvcHMyLmtlZXBGb2N1c09uSW5wdXQ7XG5cblxuICAgICAgICB2YXIgd2l0aEFueVBvcnRhbCA9IHdpdGhQb3J0YWwgfHwgd2l0aEZ1bGxTY3JlZW5Qb3J0YWw7XG4gICAgICAgIHZhciBtb3ZlRm9jdXNUb0RheVBpY2tlciA9IHdpdGhBbnlQb3J0YWwgfHwgcmVhZE9ubHkgJiYgIWtlZXBGb2N1c09uSW5wdXQgfHwgdGhpcy5pc1RvdWNoRGV2aWNlICYmICFrZWVwRm9jdXNPbklucHV0O1xuXG4gICAgICAgIGlmIChtb3ZlRm9jdXNUb0RheVBpY2tlcikge1xuICAgICAgICAgIHRoaXMub25EYXlQaWNrZXJGb2N1cygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMub25EYXlQaWNrZXJCbHVyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWRpc2FibGVkKSB7XG4gICAgICAgICAgb25Gb2N1c0NoYW5nZSh7IGZvY3VzZWQ6IHRydWUgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9uRm9jdXM7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdvbkNsZWFyRm9jdXMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBvbkNsZWFyRm9jdXMoZXZlbnQpIHtcbiAgICAgICAgdmFyIF9wcm9wczMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgZGF0ZSA9IF9wcm9wczMuZGF0ZSxcbiAgICAgICAgICAgIGZvY3VzZWQgPSBfcHJvcHMzLmZvY3VzZWQsXG4gICAgICAgICAgICBvbkZvY3VzQ2hhbmdlID0gX3Byb3BzMy5vbkZvY3VzQ2hhbmdlLFxuICAgICAgICAgICAgb25DbG9zZSA9IF9wcm9wczMub25DbG9zZSxcbiAgICAgICAgICAgIGFwcGVuZFRvQm9keSA9IF9wcm9wczMuYXBwZW5kVG9Cb2R5O1xuXG4gICAgICAgIGlmICghZm9jdXNlZCkgcmV0dXJuO1xuICAgICAgICBpZiAoYXBwZW5kVG9Cb2R5ICYmIHRoaXMuZGF5UGlja2VyQ29udGFpbmVyLmNvbnRhaW5zKGV2ZW50LnRhcmdldCkpIHJldHVybjtcblxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICBpc0lucHV0Rm9jdXNlZDogZmFsc2UsXG4gICAgICAgICAgaXNEYXlQaWNrZXJGb2N1c2VkOiBmYWxzZVxuICAgICAgICB9KTtcblxuICAgICAgICBvbkZvY3VzQ2hhbmdlKHsgZm9jdXNlZDogZmFsc2UgfSk7XG4gICAgICAgIG9uQ2xvc2UoeyBkYXRlOiBkYXRlIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gb25DbGVhckZvY3VzO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnb25EYXlQaWNrZXJGb2N1cycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIG9uRGF5UGlja2VyRm9jdXMoKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzSW5wdXRGb2N1c2VkOiBmYWxzZSxcbiAgICAgICAgICBpc0RheVBpY2tlckZvY3VzZWQ6IHRydWUsXG4gICAgICAgICAgc2hvd0tleWJvYXJkU2hvcnRjdXRzOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9uRGF5UGlja2VyRm9jdXM7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdvbkRheVBpY2tlckJsdXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBvbkRheVBpY2tlckJsdXIoKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzSW5wdXRGb2N1c2VkOiB0cnVlLFxuICAgICAgICAgIGlzRGF5UGlja2VyRm9jdXNlZDogZmFsc2UsXG4gICAgICAgICAgc2hvd0tleWJvYXJkU2hvcnRjdXRzOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9uRGF5UGlja2VyQmx1cjtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ2dldERhdGVTdHJpbmcnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBnZXREYXRlU3RyaW5nKGRhdGUpIHtcbiAgICAgICAgdmFyIGRpc3BsYXlGb3JtYXQgPSB0aGlzLmdldERpc3BsYXlGb3JtYXQoKTtcbiAgICAgICAgaWYgKGRhdGUgJiYgZGlzcGxheUZvcm1hdCkge1xuICAgICAgICAgIHJldHVybiBkYXRlICYmIGRhdGUuZm9ybWF0KGRpc3BsYXlGb3JtYXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoMCwgX3RvTG9jYWxpemVkRGF0ZVN0cmluZzJbJ2RlZmF1bHQnXSkoZGF0ZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXREYXRlU3RyaW5nO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnZ2V0RGlzcGxheUZvcm1hdCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGdldERpc3BsYXlGb3JtYXQoKSB7XG4gICAgICAgIHZhciBkaXNwbGF5Rm9ybWF0ID0gdGhpcy5wcm9wcy5kaXNwbGF5Rm9ybWF0O1xuXG4gICAgICAgIHJldHVybiB0eXBlb2YgZGlzcGxheUZvcm1hdCA9PT0gJ3N0cmluZycgPyBkaXNwbGF5Rm9ybWF0IDogZGlzcGxheUZvcm1hdCgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0RGlzcGxheUZvcm1hdDtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ3NldERheVBpY2tlckNvbnRhaW5lclJlZicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIHNldERheVBpY2tlckNvbnRhaW5lclJlZihyZWYpIHtcbiAgICAgICAgdGhpcy5kYXlQaWNrZXJDb250YWluZXIgPSByZWY7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZXREYXlQaWNrZXJDb250YWluZXJSZWY7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdzZXRDb250YWluZXJSZWYnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBzZXRDb250YWluZXJSZWYocmVmKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gcmVmO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2V0Q29udGFpbmVyUmVmO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnY2xlYXJEYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gY2xlYXJEYXRlKCkge1xuICAgICAgICB2YXIgX3Byb3BzNCA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBvbkRhdGVDaGFuZ2UgPSBfcHJvcHM0Lm9uRGF0ZUNoYW5nZSxcbiAgICAgICAgICAgIHJlb3BlblBpY2tlck9uQ2xlYXJEYXRlID0gX3Byb3BzNC5yZW9wZW5QaWNrZXJPbkNsZWFyRGF0ZSxcbiAgICAgICAgICAgIG9uRm9jdXNDaGFuZ2UgPSBfcHJvcHM0Lm9uRm9jdXNDaGFuZ2U7XG5cbiAgICAgICAgb25EYXRlQ2hhbmdlKG51bGwpO1xuICAgICAgICBpZiAocmVvcGVuUGlja2VyT25DbGVhckRhdGUpIHtcbiAgICAgICAgICBvbkZvY3VzQ2hhbmdlKHsgZm9jdXNlZDogdHJ1ZSB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gY2xlYXJEYXRlO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnZGlzYWJsZVNjcm9sbCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGRpc2FibGVTY3JvbGwoKSB7XG4gICAgICAgIHZhciBfcHJvcHM1ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIGFwcGVuZFRvQm9keSA9IF9wcm9wczUuYXBwZW5kVG9Cb2R5LFxuICAgICAgICAgICAgcHJvcERpc2FibGVTY3JvbGwgPSBfcHJvcHM1LmRpc2FibGVTY3JvbGwsXG4gICAgICAgICAgICBmb2N1c2VkID0gX3Byb3BzNS5mb2N1c2VkO1xuXG4gICAgICAgIGlmICghYXBwZW5kVG9Cb2R5ICYmICFwcm9wRGlzYWJsZVNjcm9sbCkgcmV0dXJuO1xuICAgICAgICBpZiAoIWZvY3VzZWQpIHJldHVybjtcblxuICAgICAgICAvLyBEaXNhYmxlIHNjcm9sbCBmb3IgZXZlcnkgYW5jZXN0b3Igb2YgdGhpcyA8U2luZ2xlRGF0ZVBpY2tlcj4gdXAgdG8gdGhlXG4gICAgICAgIC8vIGRvY3VtZW50IGxldmVsLiBUaGlzIGVuc3VyZXMgdGhlIGlucHV0IGFuZCB0aGUgcGlja2VyIG5ldmVyIG1vdmUuIE90aGVyXG4gICAgICAgIC8vIHNpYmxpbmcgZWxlbWVudHMgb3IgdGhlIHBpY2tlciBpdHNlbGYgY2FuIHNjcm9sbC5cbiAgICAgICAgdGhpcy5lbmFibGVTY3JvbGwgPSAoMCwgX2Rpc2FibGVTY3JvbGwzWydkZWZhdWx0J10pKHRoaXMuY29udGFpbmVyKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRpc2FibGVTY3JvbGw7XG4gICAgfSgpXG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdyZXNwb25zaXZpemVQaWNrZXJQb3NpdGlvbicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIHJlc3BvbnNpdml6ZVBpY2tlclBvc2l0aW9uKCkge1xuICAgICAgICAvLyBJdCdzIHBvc3NpYmxlIHRoZSBwb3J0YWwgcHJvcHMgaGF2ZSBiZWVuIGNoYW5nZWQgaW4gcmVzcG9uc2UgdG8gd2luZG93IHJlc2l6ZXNcbiAgICAgICAgLy8gU28gbGV0J3MgZW5zdXJlIHdlIHJlc2V0IHRoaXMgYmFjayB0byB0aGUgYmFzZSBzdGF0ZSBlYWNoIHRpbWVcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGRheVBpY2tlckNvbnRhaW5lclN0eWxlczoge30gfSk7XG5cbiAgICAgICAgdmFyIF9wcm9wczYgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgb3BlbkRpcmVjdGlvbiA9IF9wcm9wczYub3BlbkRpcmVjdGlvbixcbiAgICAgICAgICAgIGFuY2hvckRpcmVjdGlvbiA9IF9wcm9wczYuYW5jaG9yRGlyZWN0aW9uLFxuICAgICAgICAgICAgaG9yaXpvbnRhbE1hcmdpbiA9IF9wcm9wczYuaG9yaXpvbnRhbE1hcmdpbixcbiAgICAgICAgICAgIHdpdGhQb3J0YWwgPSBfcHJvcHM2LndpdGhQb3J0YWwsXG4gICAgICAgICAgICB3aXRoRnVsbFNjcmVlblBvcnRhbCA9IF9wcm9wczYud2l0aEZ1bGxTY3JlZW5Qb3J0YWwsXG4gICAgICAgICAgICBhcHBlbmRUb0JvZHkgPSBfcHJvcHM2LmFwcGVuZFRvQm9keSxcbiAgICAgICAgICAgIGZvY3VzZWQgPSBfcHJvcHM2LmZvY3VzZWQ7XG4gICAgICAgIHZhciBkYXlQaWNrZXJDb250YWluZXJTdHlsZXMgPSB0aGlzLnN0YXRlLmRheVBpY2tlckNvbnRhaW5lclN0eWxlcztcblxuXG4gICAgICAgIGlmICghZm9jdXNlZCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBpc0FuY2hvcmVkTGVmdCA9IGFuY2hvckRpcmVjdGlvbiA9PT0gX2NvbnN0YW50cy5BTkNIT1JfTEVGVDtcblxuICAgICAgICBpZiAoIXdpdGhQb3J0YWwgJiYgIXdpdGhGdWxsU2NyZWVuUG9ydGFsKSB7XG4gICAgICAgICAgdmFyIGNvbnRhaW5lclJlY3QgPSB0aGlzLmRheVBpY2tlckNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICB2YXIgY3VycmVudE9mZnNldCA9IGRheVBpY2tlckNvbnRhaW5lclN0eWxlc1thbmNob3JEaXJlY3Rpb25dIHx8IDA7XG4gICAgICAgICAgdmFyIGNvbnRhaW5lckVkZ2UgPSBpc0FuY2hvcmVkTGVmdCA/IGNvbnRhaW5lclJlY3RbX2NvbnN0YW50cy5BTkNIT1JfUklHSFRdIDogY29udGFpbmVyUmVjdFtfY29uc3RhbnRzLkFOQ0hPUl9MRUZUXTtcblxuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgZGF5UGlja2VyQ29udGFpbmVyU3R5bGVzOiAoMCwgX29iamVjdDJbJ2RlZmF1bHQnXSkoe30sICgwLCBfZ2V0UmVzcG9uc2l2ZUNvbnRhaW5lclN0eWxlczJbJ2RlZmF1bHQnXSkoYW5jaG9yRGlyZWN0aW9uLCBjdXJyZW50T2Zmc2V0LCBjb250YWluZXJFZGdlLCBob3Jpem9udGFsTWFyZ2luKSwgYXBwZW5kVG9Cb2R5ICYmICgwLCBfZ2V0RGV0YWNoZWRDb250YWluZXJTdHlsZXMyWydkZWZhdWx0J10pKG9wZW5EaXJlY3Rpb24sIGFuY2hvckRpcmVjdGlvbiwgdGhpcy5jb250YWluZXIpKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZXNwb25zaXZpemVQaWNrZXJQb3NpdGlvbjtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ3Nob3dLZXlib2FyZFNob3J0Y3V0c1BhbmVsJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gc2hvd0tleWJvYXJkU2hvcnRjdXRzUGFuZWwoKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzSW5wdXRGb2N1c2VkOiBmYWxzZSxcbiAgICAgICAgICBpc0RheVBpY2tlckZvY3VzZWQ6IHRydWUsXG4gICAgICAgICAgc2hvd0tleWJvYXJkU2hvcnRjdXRzOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2hvd0tleWJvYXJkU2hvcnRjdXRzUGFuZWw7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdtYXliZVJlbmRlckRheVBpY2tlcldpdGhQb3J0YWwnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBtYXliZVJlbmRlckRheVBpY2tlcldpdGhQb3J0YWwoKSB7XG4gICAgICAgIHZhciBfcHJvcHM3ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIGZvY3VzZWQgPSBfcHJvcHM3LmZvY3VzZWQsXG4gICAgICAgICAgICB3aXRoUG9ydGFsID0gX3Byb3BzNy53aXRoUG9ydGFsLFxuICAgICAgICAgICAgd2l0aEZ1bGxTY3JlZW5Qb3J0YWwgPSBfcHJvcHM3LndpdGhGdWxsU2NyZWVuUG9ydGFsLFxuICAgICAgICAgICAgYXBwZW5kVG9Cb2R5ID0gX3Byb3BzNy5hcHBlbmRUb0JvZHk7XG5cblxuICAgICAgICBpZiAoIWZvY3VzZWQpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh3aXRoUG9ydGFsIHx8IHdpdGhGdWxsU2NyZWVuUG9ydGFsIHx8IGFwcGVuZFRvQm9keSkge1xuICAgICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgIF9yZWFjdFBvcnRhbC5Qb3J0YWwsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgdGhpcy5yZW5kZXJEYXlQaWNrZXIoKVxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJEYXlQaWNrZXIoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1heWJlUmVuZGVyRGF5UGlja2VyV2l0aFBvcnRhbDtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ3JlbmRlckRheVBpY2tlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIHJlbmRlckRheVBpY2tlcigpIHtcbiAgICAgICAgdmFyIF9wcm9wczggPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgYW5jaG9yRGlyZWN0aW9uID0gX3Byb3BzOC5hbmNob3JEaXJlY3Rpb24sXG4gICAgICAgICAgICBvcGVuRGlyZWN0aW9uID0gX3Byb3BzOC5vcGVuRGlyZWN0aW9uLFxuICAgICAgICAgICAgb25EYXRlQ2hhbmdlID0gX3Byb3BzOC5vbkRhdGVDaGFuZ2UsXG4gICAgICAgICAgICBkYXRlID0gX3Byb3BzOC5kYXRlLFxuICAgICAgICAgICAgb25Gb2N1c0NoYW5nZSA9IF9wcm9wczgub25Gb2N1c0NoYW5nZSxcbiAgICAgICAgICAgIGZvY3VzZWQgPSBfcHJvcHM4LmZvY3VzZWQsXG4gICAgICAgICAgICBlbmFibGVPdXRzaWRlRGF5cyA9IF9wcm9wczguZW5hYmxlT3V0c2lkZURheXMsXG4gICAgICAgICAgICBudW1iZXJPZk1vbnRocyA9IF9wcm9wczgubnVtYmVyT2ZNb250aHMsXG4gICAgICAgICAgICBvcmllbnRhdGlvbiA9IF9wcm9wczgub3JpZW50YXRpb24sXG4gICAgICAgICAgICBtb250aEZvcm1hdCA9IF9wcm9wczgubW9udGhGb3JtYXQsXG4gICAgICAgICAgICBuYXZQcmV2ID0gX3Byb3BzOC5uYXZQcmV2LFxuICAgICAgICAgICAgbmF2TmV4dCA9IF9wcm9wczgubmF2TmV4dCxcbiAgICAgICAgICAgIG9uUHJldk1vbnRoQ2xpY2sgPSBfcHJvcHM4Lm9uUHJldk1vbnRoQ2xpY2ssXG4gICAgICAgICAgICBvbk5leHRNb250aENsaWNrID0gX3Byb3BzOC5vbk5leHRNb250aENsaWNrLFxuICAgICAgICAgICAgb25DbG9zZSA9IF9wcm9wczgub25DbG9zZSxcbiAgICAgICAgICAgIHdpdGhQb3J0YWwgPSBfcHJvcHM4LndpdGhQb3J0YWwsXG4gICAgICAgICAgICB3aXRoRnVsbFNjcmVlblBvcnRhbCA9IF9wcm9wczgud2l0aEZ1bGxTY3JlZW5Qb3J0YWwsXG4gICAgICAgICAgICBrZWVwT3Blbk9uRGF0ZVNlbGVjdCA9IF9wcm9wczgua2VlcE9wZW5PbkRhdGVTZWxlY3QsXG4gICAgICAgICAgICBpbml0aWFsVmlzaWJsZU1vbnRoID0gX3Byb3BzOC5pbml0aWFsVmlzaWJsZU1vbnRoLFxuICAgICAgICAgICAgcmVuZGVyTW9udGhUZXh0ID0gX3Byb3BzOC5yZW5kZXJNb250aFRleHQsXG4gICAgICAgICAgICByZW5kZXJDYWxlbmRhckRheSA9IF9wcm9wczgucmVuZGVyQ2FsZW5kYXJEYXksXG4gICAgICAgICAgICByZW5kZXJEYXlDb250ZW50cyA9IF9wcm9wczgucmVuZGVyRGF5Q29udGVudHMsXG4gICAgICAgICAgICByZW5kZXJDYWxlbmRhckluZm8gPSBfcHJvcHM4LnJlbmRlckNhbGVuZGFySW5mbyxcbiAgICAgICAgICAgIHJlbmRlck1vbnRoRWxlbWVudCA9IF9wcm9wczgucmVuZGVyTW9udGhFbGVtZW50LFxuICAgICAgICAgICAgY2FsZW5kYXJJbmZvUG9zaXRpb24gPSBfcHJvcHM4LmNhbGVuZGFySW5mb1Bvc2l0aW9uLFxuICAgICAgICAgICAgaGlkZUtleWJvYXJkU2hvcnRjdXRzUGFuZWwgPSBfcHJvcHM4LmhpZGVLZXlib2FyZFNob3J0Y3V0c1BhbmVsLFxuICAgICAgICAgICAgZmlyc3REYXlPZldlZWsgPSBfcHJvcHM4LmZpcnN0RGF5T2ZXZWVrLFxuICAgICAgICAgICAgY3VzdG9tQ2xvc2VJY29uID0gX3Byb3BzOC5jdXN0b21DbG9zZUljb24sXG4gICAgICAgICAgICBwaHJhc2VzID0gX3Byb3BzOC5waHJhc2VzLFxuICAgICAgICAgICAgZGF5QXJpYUxhYmVsRm9ybWF0ID0gX3Byb3BzOC5kYXlBcmlhTGFiZWxGb3JtYXQsXG4gICAgICAgICAgICBkYXlTaXplID0gX3Byb3BzOC5kYXlTaXplLFxuICAgICAgICAgICAgaXNSVEwgPSBfcHJvcHM4LmlzUlRMLFxuICAgICAgICAgICAgaXNPdXRzaWRlUmFuZ2UgPSBfcHJvcHM4LmlzT3V0c2lkZVJhbmdlLFxuICAgICAgICAgICAgaXNEYXlCbG9ja2VkID0gX3Byb3BzOC5pc0RheUJsb2NrZWQsXG4gICAgICAgICAgICBpc0RheUhpZ2hsaWdodGVkID0gX3Byb3BzOC5pc0RheUhpZ2hsaWdodGVkLFxuICAgICAgICAgICAgd2Vla0RheUZvcm1hdCA9IF9wcm9wczgud2Vla0RheUZvcm1hdCxcbiAgICAgICAgICAgIHN0eWxlcyA9IF9wcm9wczguc3R5bGVzLFxuICAgICAgICAgICAgdmVydGljYWxIZWlnaHQgPSBfcHJvcHM4LnZlcnRpY2FsSGVpZ2h0LFxuICAgICAgICAgICAgdHJhbnNpdGlvbkR1cmF0aW9uID0gX3Byb3BzOC50cmFuc2l0aW9uRHVyYXRpb24sXG4gICAgICAgICAgICB2ZXJ0aWNhbFNwYWNpbmcgPSBfcHJvcHM4LnZlcnRpY2FsU3BhY2luZyxcbiAgICAgICAgICAgIGhvcml6b250YWxNb250aFBhZGRpbmcgPSBfcHJvcHM4Lmhvcml6b250YWxNb250aFBhZGRpbmcsXG4gICAgICAgICAgICBzbWFsbCA9IF9wcm9wczguc21hbGwsXG4gICAgICAgICAgICByZWFjdERhdGVzID0gX3Byb3BzOC50aGVtZS5yZWFjdERhdGVzO1xuICAgICAgICB2YXIgX3N0YXRlID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICAgIGRheVBpY2tlckNvbnRhaW5lclN0eWxlcyA9IF9zdGF0ZS5kYXlQaWNrZXJDb250YWluZXJTdHlsZXMsXG4gICAgICAgICAgICBpc0RheVBpY2tlckZvY3VzZWQgPSBfc3RhdGUuaXNEYXlQaWNrZXJGb2N1c2VkLFxuICAgICAgICAgICAgc2hvd0tleWJvYXJkU2hvcnRjdXRzID0gX3N0YXRlLnNob3dLZXlib2FyZFNob3J0Y3V0cztcblxuXG4gICAgICAgIHZhciBvbk91dHNpZGVDbGljayA9ICF3aXRoRnVsbFNjcmVlblBvcnRhbCAmJiB3aXRoUG9ydGFsID8gdGhpcy5vbkNsZWFyRm9jdXMgOiB1bmRlZmluZWQ7XG4gICAgICAgIHZhciBjbG9zZUljb24gPSBjdXN0b21DbG9zZUljb24gfHwgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoX0Nsb3NlQnV0dG9uMlsnZGVmYXVsdCddLCBudWxsKTtcblxuICAgICAgICB2YXIgaW5wdXRIZWlnaHQgPSAoMCwgX2dldElucHV0SGVpZ2h0MlsnZGVmYXVsdCddKShyZWFjdERhdGVzLCBzbWFsbCk7XG5cbiAgICAgICAgdmFyIHdpdGhBbnlQb3J0YWwgPSB3aXRoUG9ydGFsIHx8IHdpdGhGdWxsU2NyZWVuUG9ydGFsO1xuXG4gICAgICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICBfZXh0ZW5kcyh7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUganN4LWExMXkvbm8tc3RhdGljLWVsZW1lbnQtaW50ZXJhY3Rpb25zXG4gICAgICAgICAgICByZWY6IHRoaXMuc2V0RGF5UGlja2VyQ29udGFpbmVyUmVmXG4gICAgICAgICAgfSwgKDAsIF9yZWFjdFdpdGhTdHlsZXMuY3NzKShzdHlsZXMuU2luZ2xlRGF0ZVBpY2tlcl9waWNrZXIsIGFuY2hvckRpcmVjdGlvbiA9PT0gX2NvbnN0YW50cy5BTkNIT1JfTEVGVCAmJiBzdHlsZXMuU2luZ2xlRGF0ZVBpY2tlcl9waWNrZXJfX2RpcmVjdGlvbkxlZnQsIGFuY2hvckRpcmVjdGlvbiA9PT0gX2NvbnN0YW50cy5BTkNIT1JfUklHSFQgJiYgc3R5bGVzLlNpbmdsZURhdGVQaWNrZXJfcGlja2VyX19kaXJlY3Rpb25SaWdodCwgb3BlbkRpcmVjdGlvbiA9PT0gX2NvbnN0YW50cy5PUEVOX0RPV04gJiYgc3R5bGVzLlNpbmdsZURhdGVQaWNrZXJfcGlja2VyX19vcGVuRG93biwgb3BlbkRpcmVjdGlvbiA9PT0gX2NvbnN0YW50cy5PUEVOX1VQICYmIHN0eWxlcy5TaW5nbGVEYXRlUGlja2VyX3BpY2tlcl9fb3BlblVwLCAhd2l0aEFueVBvcnRhbCAmJiBvcGVuRGlyZWN0aW9uID09PSBfY29uc3RhbnRzLk9QRU5fRE9XTiAmJiB7XG4gICAgICAgICAgICB0b3A6IGlucHV0SGVpZ2h0ICsgdmVydGljYWxTcGFjaW5nXG4gICAgICAgICAgfSwgIXdpdGhBbnlQb3J0YWwgJiYgb3BlbkRpcmVjdGlvbiA9PT0gX2NvbnN0YW50cy5PUEVOX1VQICYmIHtcbiAgICAgICAgICAgIGJvdHRvbTogaW5wdXRIZWlnaHQgKyB2ZXJ0aWNhbFNwYWNpbmdcbiAgICAgICAgICB9LCBvcmllbnRhdGlvbiA9PT0gX2NvbnN0YW50cy5IT1JJWk9OVEFMX09SSUVOVEFUSU9OICYmIHN0eWxlcy5TaW5nbGVEYXRlUGlja2VyX3BpY2tlcl9faG9yaXpvbnRhbCwgb3JpZW50YXRpb24gPT09IF9jb25zdGFudHMuVkVSVElDQUxfT1JJRU5UQVRJT04gJiYgc3R5bGVzLlNpbmdsZURhdGVQaWNrZXJfcGlja2VyX192ZXJ0aWNhbCwgd2l0aEFueVBvcnRhbCAmJiBzdHlsZXMuU2luZ2xlRGF0ZVBpY2tlcl9waWNrZXJfX3BvcnRhbCwgd2l0aEZ1bGxTY3JlZW5Qb3J0YWwgJiYgc3R5bGVzLlNpbmdsZURhdGVQaWNrZXJfcGlja2VyX19mdWxsU2NyZWVuUG9ydGFsLCBpc1JUTCAmJiBzdHlsZXMuU2luZ2xlRGF0ZVBpY2tlcl9waWNrZXJfX3J0bCwgZGF5UGlja2VyQ29udGFpbmVyU3R5bGVzKSwge1xuICAgICAgICAgICAgb25DbGljazogb25PdXRzaWRlQ2xpY2tcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChfRGF5UGlja2VyU2luZ2xlRGF0ZUNvbnRyb2xsZXIyWydkZWZhdWx0J10sIHtcbiAgICAgICAgICAgIGRhdGU6IGRhdGUsXG4gICAgICAgICAgICBvbkRhdGVDaGFuZ2U6IG9uRGF0ZUNoYW5nZSxcbiAgICAgICAgICAgIG9uRm9jdXNDaGFuZ2U6IG9uRm9jdXNDaGFuZ2UsXG4gICAgICAgICAgICBvcmllbnRhdGlvbjogb3JpZW50YXRpb24sXG4gICAgICAgICAgICBlbmFibGVPdXRzaWRlRGF5czogZW5hYmxlT3V0c2lkZURheXMsXG4gICAgICAgICAgICBudW1iZXJPZk1vbnRoczogbnVtYmVyT2ZNb250aHMsXG4gICAgICAgICAgICBtb250aEZvcm1hdDogbW9udGhGb3JtYXQsXG4gICAgICAgICAgICB3aXRoUG9ydGFsOiB3aXRoQW55UG9ydGFsLFxuICAgICAgICAgICAgZm9jdXNlZDogZm9jdXNlZCxcbiAgICAgICAgICAgIGtlZXBPcGVuT25EYXRlU2VsZWN0OiBrZWVwT3Blbk9uRGF0ZVNlbGVjdCxcbiAgICAgICAgICAgIGhpZGVLZXlib2FyZFNob3J0Y3V0c1BhbmVsOiBoaWRlS2V5Ym9hcmRTaG9ydGN1dHNQYW5lbCxcbiAgICAgICAgICAgIGluaXRpYWxWaXNpYmxlTW9udGg6IGluaXRpYWxWaXNpYmxlTW9udGgsXG4gICAgICAgICAgICBuYXZQcmV2OiBuYXZQcmV2LFxuICAgICAgICAgICAgbmF2TmV4dDogbmF2TmV4dCxcbiAgICAgICAgICAgIG9uUHJldk1vbnRoQ2xpY2s6IG9uUHJldk1vbnRoQ2xpY2ssXG4gICAgICAgICAgICBvbk5leHRNb250aENsaWNrOiBvbk5leHRNb250aENsaWNrLFxuICAgICAgICAgICAgb25DbG9zZTogb25DbG9zZSxcbiAgICAgICAgICAgIHJlbmRlck1vbnRoVGV4dDogcmVuZGVyTW9udGhUZXh0LFxuICAgICAgICAgICAgcmVuZGVyQ2FsZW5kYXJEYXk6IHJlbmRlckNhbGVuZGFyRGF5LFxuICAgICAgICAgICAgcmVuZGVyRGF5Q29udGVudHM6IHJlbmRlckRheUNvbnRlbnRzLFxuICAgICAgICAgICAgcmVuZGVyQ2FsZW5kYXJJbmZvOiByZW5kZXJDYWxlbmRhckluZm8sXG4gICAgICAgICAgICByZW5kZXJNb250aEVsZW1lbnQ6IHJlbmRlck1vbnRoRWxlbWVudCxcbiAgICAgICAgICAgIGNhbGVuZGFySW5mb1Bvc2l0aW9uOiBjYWxlbmRhckluZm9Qb3NpdGlvbixcbiAgICAgICAgICAgIGlzRm9jdXNlZDogaXNEYXlQaWNrZXJGb2N1c2VkLFxuICAgICAgICAgICAgc2hvd0tleWJvYXJkU2hvcnRjdXRzOiBzaG93S2V5Ym9hcmRTaG9ydGN1dHMsXG4gICAgICAgICAgICBvbkJsdXI6IHRoaXMub25EYXlQaWNrZXJCbHVyLFxuICAgICAgICAgICAgcGhyYXNlczogcGhyYXNlcyxcbiAgICAgICAgICAgIGRheUFyaWFMYWJlbEZvcm1hdDogZGF5QXJpYUxhYmVsRm9ybWF0LFxuICAgICAgICAgICAgZGF5U2l6ZTogZGF5U2l6ZSxcbiAgICAgICAgICAgIGlzUlRMOiBpc1JUTCxcbiAgICAgICAgICAgIGlzT3V0c2lkZVJhbmdlOiBpc091dHNpZGVSYW5nZSxcbiAgICAgICAgICAgIGlzRGF5QmxvY2tlZDogaXNEYXlCbG9ja2VkLFxuICAgICAgICAgICAgaXNEYXlIaWdobGlnaHRlZDogaXNEYXlIaWdobGlnaHRlZCxcbiAgICAgICAgICAgIGZpcnN0RGF5T2ZXZWVrOiBmaXJzdERheU9mV2VlayxcbiAgICAgICAgICAgIHdlZWtEYXlGb3JtYXQ6IHdlZWtEYXlGb3JtYXQsXG4gICAgICAgICAgICB2ZXJ0aWNhbEhlaWdodDogdmVydGljYWxIZWlnaHQsXG4gICAgICAgICAgICB0cmFuc2l0aW9uRHVyYXRpb246IHRyYW5zaXRpb25EdXJhdGlvbixcbiAgICAgICAgICAgIGhvcml6b250YWxNb250aFBhZGRpbmc6IGhvcml6b250YWxNb250aFBhZGRpbmdcbiAgICAgICAgICB9KSxcbiAgICAgICAgICB3aXRoRnVsbFNjcmVlblBvcnRhbCAmJiBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdidXR0b24nLFxuICAgICAgICAgICAgX2V4dGVuZHMoe30sICgwLCBfcmVhY3RXaXRoU3R5bGVzLmNzcykoc3R5bGVzLlNpbmdsZURhdGVQaWNrZXJfY2xvc2VCdXR0b24pLCB7XG4gICAgICAgICAgICAgICdhcmlhLWxhYmVsJzogcGhyYXNlcy5jbG9zZURhdGVQaWNrZXIsXG4gICAgICAgICAgICAgIHR5cGU6ICdidXR0b24nLFxuICAgICAgICAgICAgICBvbkNsaWNrOiB0aGlzLm9uQ2xlYXJGb2N1c1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgICAgICgwLCBfcmVhY3RXaXRoU3R5bGVzLmNzcykoc3R5bGVzLlNpbmdsZURhdGVQaWNrZXJfY2xvc2VCdXR0b25fc3ZnKSxcbiAgICAgICAgICAgICAgY2xvc2VJY29uXG4gICAgICAgICAgICApXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVuZGVyRGF5UGlja2VyO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICB2YXIgX3Byb3BzOSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICBpZCA9IF9wcm9wczkuaWQsXG4gICAgICAgICAgICBwbGFjZWhvbGRlciA9IF9wcm9wczkucGxhY2Vob2xkZXIsXG4gICAgICAgICAgICBkaXNhYmxlZCA9IF9wcm9wczkuZGlzYWJsZWQsXG4gICAgICAgICAgICBmb2N1c2VkID0gX3Byb3BzOS5mb2N1c2VkLFxuICAgICAgICAgICAgcmVxdWlyZWQgPSBfcHJvcHM5LnJlcXVpcmVkLFxuICAgICAgICAgICAgcmVhZE9ubHkgPSBfcHJvcHM5LnJlYWRPbmx5LFxuICAgICAgICAgICAgb3BlbkRpcmVjdGlvbiA9IF9wcm9wczkub3BlbkRpcmVjdGlvbixcbiAgICAgICAgICAgIHNob3dDbGVhckRhdGUgPSBfcHJvcHM5LnNob3dDbGVhckRhdGUsXG4gICAgICAgICAgICBzaG93RGVmYXVsdElucHV0SWNvbiA9IF9wcm9wczkuc2hvd0RlZmF1bHRJbnB1dEljb24sXG4gICAgICAgICAgICBpbnB1dEljb25Qb3NpdGlvbiA9IF9wcm9wczkuaW5wdXRJY29uUG9zaXRpb24sXG4gICAgICAgICAgICBjdXN0b21DbG9zZUljb24gPSBfcHJvcHM5LmN1c3RvbUNsb3NlSWNvbixcbiAgICAgICAgICAgIGN1c3RvbUlucHV0SWNvbiA9IF9wcm9wczkuY3VzdG9tSW5wdXRJY29uLFxuICAgICAgICAgICAgZGF0ZSA9IF9wcm9wczkuZGF0ZSxcbiAgICAgICAgICAgIHBocmFzZXMgPSBfcHJvcHM5LnBocmFzZXMsXG4gICAgICAgICAgICB3aXRoUG9ydGFsID0gX3Byb3BzOS53aXRoUG9ydGFsLFxuICAgICAgICAgICAgd2l0aEZ1bGxTY3JlZW5Qb3J0YWwgPSBfcHJvcHM5LndpdGhGdWxsU2NyZWVuUG9ydGFsLFxuICAgICAgICAgICAgc2NyZWVuUmVhZGVySW5wdXRNZXNzYWdlID0gX3Byb3BzOS5zY3JlZW5SZWFkZXJJbnB1dE1lc3NhZ2UsXG4gICAgICAgICAgICBpc1JUTCA9IF9wcm9wczkuaXNSVEwsXG4gICAgICAgICAgICBub0JvcmRlciA9IF9wcm9wczkubm9Cb3JkZXIsXG4gICAgICAgICAgICBibG9jayA9IF9wcm9wczkuYmxvY2ssXG4gICAgICAgICAgICBzbWFsbCA9IF9wcm9wczkuc21hbGwsXG4gICAgICAgICAgICByZWd1bGFyID0gX3Byb3BzOS5yZWd1bGFyLFxuICAgICAgICAgICAgdmVydGljYWxTcGFjaW5nID0gX3Byb3BzOS52ZXJ0aWNhbFNwYWNpbmcsXG4gICAgICAgICAgICBzdHlsZXMgPSBfcHJvcHM5LnN0eWxlcztcbiAgICAgICAgdmFyIGlzSW5wdXRGb2N1c2VkID0gdGhpcy5zdGF0ZS5pc0lucHV0Rm9jdXNlZDtcblxuXG4gICAgICAgIHZhciBkaXNwbGF5VmFsdWUgPSB0aGlzLmdldERhdGVTdHJpbmcoZGF0ZSk7XG5cbiAgICAgICAgdmFyIGVuYWJsZU91dHNpZGVDbGljayA9ICF3aXRoUG9ydGFsICYmICF3aXRoRnVsbFNjcmVlblBvcnRhbDtcblxuICAgICAgICB2YXIgaGlkZUZhbmcgPSB2ZXJ0aWNhbFNwYWNpbmcgPCBfY29uc3RhbnRzLkZBTkdfSEVJR0hUX1BYO1xuXG4gICAgICAgIHZhciBpbnB1dCA9IF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KF9TaW5nbGVEYXRlUGlja2VySW5wdXQyWydkZWZhdWx0J10sIHtcbiAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgcGxhY2Vob2xkZXI6IHBsYWNlaG9sZGVyLFxuICAgICAgICAgIGZvY3VzZWQ6IGZvY3VzZWQsXG4gICAgICAgICAgaXNGb2N1c2VkOiBpc0lucHV0Rm9jdXNlZCxcbiAgICAgICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICAgICAgcmVxdWlyZWQ6IHJlcXVpcmVkLFxuICAgICAgICAgIHJlYWRPbmx5OiByZWFkT25seSxcbiAgICAgICAgICBvcGVuRGlyZWN0aW9uOiBvcGVuRGlyZWN0aW9uLFxuICAgICAgICAgIHNob3dDYXJldDogIXdpdGhQb3J0YWwgJiYgIXdpdGhGdWxsU2NyZWVuUG9ydGFsICYmICFoaWRlRmFuZyxcbiAgICAgICAgICBvbkNsZWFyRGF0ZTogdGhpcy5jbGVhckRhdGUsXG4gICAgICAgICAgc2hvd0NsZWFyRGF0ZTogc2hvd0NsZWFyRGF0ZSxcbiAgICAgICAgICBzaG93RGVmYXVsdElucHV0SWNvbjogc2hvd0RlZmF1bHRJbnB1dEljb24sXG4gICAgICAgICAgaW5wdXRJY29uUG9zaXRpb246IGlucHV0SWNvblBvc2l0aW9uLFxuICAgICAgICAgIGN1c3RvbUNsb3NlSWNvbjogY3VzdG9tQ2xvc2VJY29uLFxuICAgICAgICAgIGN1c3RvbUlucHV0SWNvbjogY3VzdG9tSW5wdXRJY29uLFxuICAgICAgICAgIGRpc3BsYXlWYWx1ZTogZGlzcGxheVZhbHVlLFxuICAgICAgICAgIG9uQ2hhbmdlOiB0aGlzLm9uQ2hhbmdlLFxuICAgICAgICAgIG9uRm9jdXM6IHRoaXMub25Gb2N1cyxcbiAgICAgICAgICBvbktleURvd25TaGlmdFRhYjogdGhpcy5vbkNsZWFyRm9jdXMsXG4gICAgICAgICAgb25LZXlEb3duVGFiOiB0aGlzLm9uQ2xlYXJGb2N1cyxcbiAgICAgICAgICBvbktleURvd25BcnJvd0Rvd246IHRoaXMub25EYXlQaWNrZXJGb2N1cyxcbiAgICAgICAgICBvbktleURvd25RdWVzdGlvbk1hcms6IHRoaXMuc2hvd0tleWJvYXJkU2hvcnRjdXRzUGFuZWwsXG4gICAgICAgICAgc2NyZWVuUmVhZGVyTWVzc2FnZTogc2NyZWVuUmVhZGVySW5wdXRNZXNzYWdlLFxuICAgICAgICAgIHBocmFzZXM6IHBocmFzZXMsXG4gICAgICAgICAgaXNSVEw6IGlzUlRMLFxuICAgICAgICAgIG5vQm9yZGVyOiBub0JvcmRlcixcbiAgICAgICAgICBibG9jazogYmxvY2ssXG4gICAgICAgICAgc21hbGw6IHNtYWxsLFxuICAgICAgICAgIHJlZ3VsYXI6IHJlZ3VsYXIsXG4gICAgICAgICAgdmVydGljYWxTcGFjaW5nOiB2ZXJ0aWNhbFNwYWNpbmdcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIF9leHRlbmRzKHtcbiAgICAgICAgICAgIHJlZjogdGhpcy5zZXRDb250YWluZXJSZWZcbiAgICAgICAgICB9LCAoMCwgX3JlYWN0V2l0aFN0eWxlcy5jc3MpKHN0eWxlcy5TaW5nbGVEYXRlUGlja2VyLCBibG9jayAmJiBzdHlsZXMuU2luZ2xlRGF0ZVBpY2tlcl9fYmxvY2spKSxcbiAgICAgICAgICBlbmFibGVPdXRzaWRlQ2xpY2sgJiYgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICBfcmVhY3RPdXRzaWRlQ2xpY2tIYW5kbGVyMlsnZGVmYXVsdCddLFxuICAgICAgICAgICAgeyBvbk91dHNpZGVDbGljazogdGhpcy5vbkNsZWFyRm9jdXMgfSxcbiAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgdGhpcy5tYXliZVJlbmRlckRheVBpY2tlcldpdGhQb3J0YWwoKVxuICAgICAgICAgICksXG4gICAgICAgICAgIWVuYWJsZU91dHNpZGVDbGljayAmJiBpbnB1dCxcbiAgICAgICAgICAhZW5hYmxlT3V0c2lkZUNsaWNrICYmIHRoaXMubWF5YmVSZW5kZXJEYXlQaWNrZXJXaXRoUG9ydGFsKClcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlbmRlcjtcbiAgICB9KClcbiAgfV0pO1xuXG4gIHJldHVybiBTaW5nbGVEYXRlUGlja2VyO1xufShfcmVhY3QyWydkZWZhdWx0J10uQ29tcG9uZW50KTtcblxuU2luZ2xlRGF0ZVBpY2tlci5wcm9wVHlwZXMgPSBwcm9wVHlwZXM7XG5TaW5nbGVEYXRlUGlja2VyLmRlZmF1bHRQcm9wcyA9IGRlZmF1bHRQcm9wcztcblxuZXhwb3J0cy5QdXJlU2luZ2xlRGF0ZVBpY2tlciA9IFNpbmdsZURhdGVQaWNrZXI7XG5leHBvcnRzWydkZWZhdWx0J10gPSAoMCwgX3JlYWN0V2l0aFN0eWxlcy53aXRoU3R5bGVzKShmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgX3JlZiRyZWFjdERhdGVzID0gX3JlZi5yZWFjdERhdGVzLFxuICAgICAgY29sb3IgPSBfcmVmJHJlYWN0RGF0ZXMuY29sb3IsXG4gICAgICB6SW5kZXggPSBfcmVmJHJlYWN0RGF0ZXMuekluZGV4O1xuICByZXR1cm4ge1xuICAgIFNpbmdsZURhdGVQaWNrZXI6IHtcbiAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnLFxuICAgICAgZGlzcGxheTogJ2lubGluZS1ibG9jaydcbiAgICB9LFxuXG4gICAgU2luZ2xlRGF0ZVBpY2tlcl9fYmxvY2s6IHtcbiAgICAgIGRpc3BsYXk6ICdibG9jaydcbiAgICB9LFxuXG4gICAgU2luZ2xlRGF0ZVBpY2tlcl9waWNrZXI6IHtcbiAgICAgIHpJbmRleDogekluZGV4ICsgMSxcbiAgICAgIGJhY2tncm91bmRDb2xvcjogY29sb3IuYmFja2dyb3VuZCxcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnXG4gICAgfSxcblxuICAgIFNpbmdsZURhdGVQaWNrZXJfcGlja2VyX19ydGw6IHtcbiAgICAgIGRpcmVjdGlvbjogJ3J0bCdcbiAgICB9LFxuXG4gICAgU2luZ2xlRGF0ZVBpY2tlcl9waWNrZXJfX2RpcmVjdGlvbkxlZnQ6IHtcbiAgICAgIGxlZnQ6IDBcbiAgICB9LFxuXG4gICAgU2luZ2xlRGF0ZVBpY2tlcl9waWNrZXJfX2RpcmVjdGlvblJpZ2h0OiB7XG4gICAgICByaWdodDogMFxuICAgIH0sXG5cbiAgICBTaW5nbGVEYXRlUGlja2VyX3BpY2tlcl9fcG9ydGFsOiB7XG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDAsIDAsIDAsIDAuMyknLFxuICAgICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgICB0b3A6IDAsXG4gICAgICBsZWZ0OiAwLFxuICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICB3aWR0aDogJzEwMCUnXG4gICAgfSxcblxuICAgIFNpbmdsZURhdGVQaWNrZXJfcGlja2VyX19mdWxsU2NyZWVuUG9ydGFsOiB7XG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IGNvbG9yLmJhY2tncm91bmRcbiAgICB9LFxuXG4gICAgU2luZ2xlRGF0ZVBpY2tlcl9jbG9zZUJ1dHRvbjoge1xuICAgICAgYmFja2dyb3VuZDogJ25vbmUnLFxuICAgICAgYm9yZGVyOiAwLFxuICAgICAgY29sb3I6ICdpbmhlcml0JyxcbiAgICAgIGZvbnQ6ICdpbmhlcml0JyxcbiAgICAgIGxpbmVIZWlnaHQ6ICdub3JtYWwnLFxuICAgICAgb3ZlcmZsb3c6ICd2aXNpYmxlJyxcbiAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuXG4gICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgIHRvcDogMCxcbiAgICAgIHJpZ2h0OiAwLFxuICAgICAgcGFkZGluZzogMTUsXG4gICAgICB6SW5kZXg6IHpJbmRleCArIDIsXG5cbiAgICAgICc6aG92ZXInOiB7XG4gICAgICAgIGNvbG9yOiAnZGFya2VuKCcgKyBTdHJpbmcoY29sb3IuY29yZS5ncmF5TGlnaHRlcikgKyAnLCAxMCUpJyxcbiAgICAgICAgdGV4dERlY29yYXRpb246ICdub25lJ1xuICAgICAgfSxcblxuICAgICAgJzpmb2N1cyc6IHtcbiAgICAgICAgY29sb3I6ICdkYXJrZW4oJyArIFN0cmluZyhjb2xvci5jb3JlLmdyYXlMaWdodGVyKSArICcsIDEwJSknLFxuICAgICAgICB0ZXh0RGVjb3JhdGlvbjogJ25vbmUnXG4gICAgICB9XG4gICAgfSxcblxuICAgIFNpbmdsZURhdGVQaWNrZXJfY2xvc2VCdXR0b25fc3ZnOiB7XG4gICAgICBoZWlnaHQ6IDE1LFxuICAgICAgd2lkdGg6IDE1LFxuICAgICAgZmlsbDogY29sb3IuY29yZS5ncmF5TGlnaHRlclxuICAgIH1cbiAgfTtcbn0pKFNpbmdsZURhdGVQaWNrZXIpOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF9vYmplY3QgPSByZXF1aXJlKCdvYmplY3QuYXNzaWduJyk7XG5cbnZhciBfb2JqZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdCk7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfYWlyYm5iUHJvcFR5cGVzID0gcmVxdWlyZSgnYWlyYm5iLXByb3AtdHlwZXMnKTtcblxudmFyIF9yZWFjdFdpdGhTdHlsZXMgPSByZXF1aXJlKCdyZWFjdC13aXRoLXN0eWxlcycpO1xuXG52YXIgX2RlZmF1bHRQaHJhc2VzID0gcmVxdWlyZSgnLi4vZGVmYXVsdFBocmFzZXMnKTtcblxudmFyIF9nZXRQaHJhc2VQcm9wVHlwZXMgPSByZXF1aXJlKCcuLi91dGlscy9nZXRQaHJhc2VQcm9wVHlwZXMnKTtcblxudmFyIF9nZXRQaHJhc2VQcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZ2V0UGhyYXNlUHJvcFR5cGVzKTtcblxudmFyIF9EYXRlSW5wdXQgPSByZXF1aXJlKCcuL0RhdGVJbnB1dCcpO1xuXG52YXIgX0RhdGVJbnB1dDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EYXRlSW5wdXQpO1xuXG52YXIgX0ljb25Qb3NpdGlvblNoYXBlID0gcmVxdWlyZSgnLi4vc2hhcGVzL0ljb25Qb3NpdGlvblNoYXBlJyk7XG5cbnZhciBfSWNvblBvc2l0aW9uU2hhcGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSWNvblBvc2l0aW9uU2hhcGUpO1xuXG52YXIgX0Nsb3NlQnV0dG9uID0gcmVxdWlyZSgnLi9DbG9zZUJ1dHRvbicpO1xuXG52YXIgX0Nsb3NlQnV0dG9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0Nsb3NlQnV0dG9uKTtcblxudmFyIF9DYWxlbmRhckljb24gPSByZXF1aXJlKCcuL0NhbGVuZGFySWNvbicpO1xuXG52YXIgX0NhbGVuZGFySWNvbjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYWxlbmRhckljb24pO1xuXG52YXIgX09wZW5EaXJlY3Rpb25TaGFwZSA9IHJlcXVpcmUoJy4uL3NoYXBlcy9PcGVuRGlyZWN0aW9uU2hhcGUnKTtcblxudmFyIF9PcGVuRGlyZWN0aW9uU2hhcGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfT3BlbkRpcmVjdGlvblNoYXBlKTtcblxudmFyIF9jb25zdGFudHMgPSByZXF1aXJlKCcuLi9jb25zdGFudHMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG52YXIgcHJvcFR5cGVzID0gKDAsIF9haXJibmJQcm9wVHlwZXMuZm9yYmlkRXh0cmFQcm9wcykoKDAsIF9vYmplY3QyWydkZWZhdWx0J10pKHt9LCBfcmVhY3RXaXRoU3R5bGVzLndpdGhTdHlsZXNQcm9wVHlwZXMsIHtcbiAgaWQ6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uc3RyaW5nLmlzUmVxdWlyZWQsXG4gIHBsYWNlaG9sZGVyOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLnN0cmluZywgLy8gYWxzbyB1c2VkIGFzIGxhYmVsXG4gIGRpc3BsYXlWYWx1ZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zdHJpbmcsXG4gIHNjcmVlblJlYWRlck1lc3NhZ2U6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uc3RyaW5nLFxuICBmb2N1c2VkOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmJvb2wsXG4gIGlzRm9jdXNlZDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ib29sLCAvLyBkZXNjcmliZXMgYWN0dWFsIERPTSBmb2N1c1xuICBkaXNhYmxlZDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ib29sLFxuICByZXF1aXJlZDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ib29sLFxuICByZWFkT25seTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ib29sLFxuICBvcGVuRGlyZWN0aW9uOiBfT3BlbkRpcmVjdGlvblNoYXBlMlsnZGVmYXVsdCddLFxuICBzaG93Q2FyZXQ6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbCxcbiAgc2hvd0NsZWFyRGF0ZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ib29sLFxuICBjdXN0b21DbG9zZUljb246IF9wcm9wVHlwZXMyWydkZWZhdWx0J10ubm9kZSxcbiAgc2hvd0RlZmF1bHRJbnB1dEljb246IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbCxcbiAgaW5wdXRJY29uUG9zaXRpb246IF9JY29uUG9zaXRpb25TaGFwZTJbJ2RlZmF1bHQnXSxcbiAgY3VzdG9tSW5wdXRJY29uOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLm5vZGUsXG4gIGlzUlRMOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmJvb2wsXG4gIG5vQm9yZGVyOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmJvb2wsXG4gIGJsb2NrOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmJvb2wsXG4gIHNtYWxsOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmJvb2wsXG4gIHJlZ3VsYXI6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbCxcbiAgdmVydGljYWxTcGFjaW5nOiBfYWlyYm5iUHJvcFR5cGVzLm5vbk5lZ2F0aXZlSW50ZWdlcixcblxuICBvbkNoYW5nZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuICBvbkNsZWFyRGF0ZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuICBvbkZvY3VzOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsXG4gIG9uS2V5RG93blNoaWZ0VGFiOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsXG4gIG9uS2V5RG93blRhYjogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuICBvbktleURvd25BcnJvd0Rvd246IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYyxcbiAgb25LZXlEb3duUXVlc3Rpb25NYXJrOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsXG5cbiAgLy8gaTE4blxuICBwaHJhc2VzOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLnNoYXBlKCgwLCBfZ2V0UGhyYXNlUHJvcFR5cGVzMlsnZGVmYXVsdCddKShfZGVmYXVsdFBocmFzZXMuU2luZ2xlRGF0ZVBpY2tlcklucHV0UGhyYXNlcykpXG59KSk7XG5cbnZhciBkZWZhdWx0UHJvcHMgPSB7XG4gIHBsYWNlaG9sZGVyOiAnU2VsZWN0IERhdGUnLFxuICBkaXNwbGF5VmFsdWU6ICcnLFxuICBzY3JlZW5SZWFkZXJNZXNzYWdlOiAnJyxcbiAgZm9jdXNlZDogZmFsc2UsXG4gIGlzRm9jdXNlZDogZmFsc2UsXG4gIGRpc2FibGVkOiBmYWxzZSxcbiAgcmVxdWlyZWQ6IGZhbHNlLFxuICByZWFkT25seTogZmFsc2UsXG4gIG9wZW5EaXJlY3Rpb246IF9jb25zdGFudHMuT1BFTl9ET1dOLFxuICBzaG93Q2FyZXQ6IGZhbHNlLFxuICBzaG93Q2xlYXJEYXRlOiBmYWxzZSxcbiAgc2hvd0RlZmF1bHRJbnB1dEljb246IGZhbHNlLFxuICBpbnB1dEljb25Qb3NpdGlvbjogX2NvbnN0YW50cy5JQ09OX0JFRk9SRV9QT1NJVElPTixcbiAgY3VzdG9tQ2xvc2VJY29uOiBudWxsLFxuICBjdXN0b21JbnB1dEljb246IG51bGwsXG4gIGlzUlRMOiBmYWxzZSxcbiAgbm9Cb3JkZXI6IGZhbHNlLFxuICBibG9jazogZmFsc2UsXG4gIHNtYWxsOiBmYWxzZSxcbiAgcmVndWxhcjogZmFsc2UsXG4gIHZlcnRpY2FsU3BhY2luZzogdW5kZWZpbmVkLFxuXG4gIG9uQ2hhbmdlOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gb25DaGFuZ2UoKSB7fVxuXG4gICAgcmV0dXJuIG9uQ2hhbmdlO1xuICB9KCksXG4gIG9uQ2xlYXJEYXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gb25DbGVhckRhdGUoKSB7fVxuXG4gICAgcmV0dXJuIG9uQ2xlYXJEYXRlO1xuICB9KCksXG4gIG9uRm9jdXM6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBvbkZvY3VzKCkge31cblxuICAgIHJldHVybiBvbkZvY3VzO1xuICB9KCksXG4gIG9uS2V5RG93blNoaWZ0VGFiOiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gb25LZXlEb3duU2hpZnRUYWIoKSB7fVxuXG4gICAgcmV0dXJuIG9uS2V5RG93blNoaWZ0VGFiO1xuICB9KCksXG4gIG9uS2V5RG93blRhYjogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIG9uS2V5RG93blRhYigpIHt9XG5cbiAgICByZXR1cm4gb25LZXlEb3duVGFiO1xuICB9KCksXG4gIG9uS2V5RG93bkFycm93RG93bjogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIG9uS2V5RG93bkFycm93RG93bigpIHt9XG5cbiAgICByZXR1cm4gb25LZXlEb3duQXJyb3dEb3duO1xuICB9KCksXG4gIG9uS2V5RG93blF1ZXN0aW9uTWFyazogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIG9uS2V5RG93blF1ZXN0aW9uTWFyaygpIHt9XG5cbiAgICByZXR1cm4gb25LZXlEb3duUXVlc3Rpb25NYXJrO1xuICB9KCksXG5cblxuICAvLyBpMThuXG4gIHBocmFzZXM6IF9kZWZhdWx0UGhyYXNlcy5TaW5nbGVEYXRlUGlja2VySW5wdXRQaHJhc2VzXG59O1xuXG4vKiBlc2xpbnQgcmVhY3Qvbm8tdGhpcy1pbi1zZmM6IDEgKi9cblxuZnVuY3Rpb24gU2luZ2xlRGF0ZVBpY2tlcklucHV0KF9yZWYpIHtcbiAgdmFyIGlkID0gX3JlZi5pZCxcbiAgICAgIHBsYWNlaG9sZGVyID0gX3JlZi5wbGFjZWhvbGRlcixcbiAgICAgIGRpc3BsYXlWYWx1ZSA9IF9yZWYuZGlzcGxheVZhbHVlLFxuICAgICAgZm9jdXNlZCA9IF9yZWYuZm9jdXNlZCxcbiAgICAgIGlzRm9jdXNlZCA9IF9yZWYuaXNGb2N1c2VkLFxuICAgICAgZGlzYWJsZWQgPSBfcmVmLmRpc2FibGVkLFxuICAgICAgcmVxdWlyZWQgPSBfcmVmLnJlcXVpcmVkLFxuICAgICAgcmVhZE9ubHkgPSBfcmVmLnJlYWRPbmx5LFxuICAgICAgc2hvd0NhcmV0ID0gX3JlZi5zaG93Q2FyZXQsXG4gICAgICBzaG93Q2xlYXJEYXRlID0gX3JlZi5zaG93Q2xlYXJEYXRlLFxuICAgICAgc2hvd0RlZmF1bHRJbnB1dEljb24gPSBfcmVmLnNob3dEZWZhdWx0SW5wdXRJY29uLFxuICAgICAgaW5wdXRJY29uUG9zaXRpb24gPSBfcmVmLmlucHV0SWNvblBvc2l0aW9uLFxuICAgICAgcGhyYXNlcyA9IF9yZWYucGhyYXNlcyxcbiAgICAgIG9uQ2xlYXJEYXRlID0gX3JlZi5vbkNsZWFyRGF0ZSxcbiAgICAgIG9uQ2hhbmdlID0gX3JlZi5vbkNoYW5nZSxcbiAgICAgIG9uRm9jdXMgPSBfcmVmLm9uRm9jdXMsXG4gICAgICBvbktleURvd25TaGlmdFRhYiA9IF9yZWYub25LZXlEb3duU2hpZnRUYWIsXG4gICAgICBvbktleURvd25UYWIgPSBfcmVmLm9uS2V5RG93blRhYixcbiAgICAgIG9uS2V5RG93bkFycm93RG93biA9IF9yZWYub25LZXlEb3duQXJyb3dEb3duLFxuICAgICAgb25LZXlEb3duUXVlc3Rpb25NYXJrID0gX3JlZi5vbktleURvd25RdWVzdGlvbk1hcmssXG4gICAgICBzY3JlZW5SZWFkZXJNZXNzYWdlID0gX3JlZi5zY3JlZW5SZWFkZXJNZXNzYWdlLFxuICAgICAgY3VzdG9tQ2xvc2VJY29uID0gX3JlZi5jdXN0b21DbG9zZUljb24sXG4gICAgICBjdXN0b21JbnB1dEljb24gPSBfcmVmLmN1c3RvbUlucHV0SWNvbixcbiAgICAgIG9wZW5EaXJlY3Rpb24gPSBfcmVmLm9wZW5EaXJlY3Rpb24sXG4gICAgICBpc1JUTCA9IF9yZWYuaXNSVEwsXG4gICAgICBub0JvcmRlciA9IF9yZWYubm9Cb3JkZXIsXG4gICAgICBibG9jayA9IF9yZWYuYmxvY2ssXG4gICAgICBzbWFsbCA9IF9yZWYuc21hbGwsXG4gICAgICByZWd1bGFyID0gX3JlZi5yZWd1bGFyLFxuICAgICAgdmVydGljYWxTcGFjaW5nID0gX3JlZi52ZXJ0aWNhbFNwYWNpbmcsXG4gICAgICBzdHlsZXMgPSBfcmVmLnN0eWxlcztcblxuICB2YXIgY2FsZW5kYXJJY29uID0gY3VzdG9tSW5wdXRJY29uIHx8IF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KF9DYWxlbmRhckljb24yWydkZWZhdWx0J10sICgwLCBfcmVhY3RXaXRoU3R5bGVzLmNzcykoc3R5bGVzLlNpbmdsZURhdGVQaWNrZXJJbnB1dF9jYWxlbmRhckljb25fc3ZnKSk7XG4gIHZhciBjbG9zZUljb24gPSBjdXN0b21DbG9zZUljb24gfHwgX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoX0Nsb3NlQnV0dG9uMlsnZGVmYXVsdCddLCAoMCwgX3JlYWN0V2l0aFN0eWxlcy5jc3MpKHN0eWxlcy5TaW5nbGVEYXRlUGlja2VySW5wdXRfY2xlYXJEYXRlX3N2Zywgc21hbGwgJiYgc3R5bGVzLlNpbmdsZURhdGVQaWNrZXJJbnB1dF9jbGVhckRhdGVfc3ZnX19zbWFsbCkpO1xuXG4gIHZhciBzY3JlZW5SZWFkZXJUZXh0ID0gc2NyZWVuUmVhZGVyTWVzc2FnZSB8fCBwaHJhc2VzLmtleWJvYXJkTmF2aWdhdGlvbkluc3RydWN0aW9ucztcbiAgdmFyIGlucHV0SWNvbiA9IChzaG93RGVmYXVsdElucHV0SWNvbiB8fCBjdXN0b21JbnB1dEljb24gIT09IG51bGwpICYmIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuICAgICdidXR0b24nLFxuICAgIF9leHRlbmRzKHt9LCAoMCwgX3JlYWN0V2l0aFN0eWxlcy5jc3MpKHN0eWxlcy5TaW5nbGVEYXRlUGlja2VySW5wdXRfY2FsZW5kYXJJY29uKSwge1xuICAgICAgdHlwZTogJ2J1dHRvbicsXG4gICAgICBkaXNhYmxlZDogZGlzYWJsZWQsXG4gICAgICAnYXJpYS1sYWJlbCc6IHBocmFzZXMuZm9jdXNTdGFydERhdGUsXG4gICAgICBvbkNsaWNrOiBvbkZvY3VzXG4gICAgfSksXG4gICAgY2FsZW5kYXJJY29uXG4gICk7XG5cbiAgcmV0dXJuIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuICAgICdkaXYnLFxuICAgICgwLCBfcmVhY3RXaXRoU3R5bGVzLmNzcykoc3R5bGVzLlNpbmdsZURhdGVQaWNrZXJJbnB1dCwgZGlzYWJsZWQgJiYgc3R5bGVzLlNpbmdsZURhdGVQaWNrZXJJbnB1dF9fZGlzYWJsZWQsIGlzUlRMICYmIHN0eWxlcy5TaW5nbGVEYXRlUGlja2VySW5wdXRfX3J0bCwgIW5vQm9yZGVyICYmIHN0eWxlcy5TaW5nbGVEYXRlUGlja2VySW5wdXRfX3dpdGhCb3JkZXIsIGJsb2NrICYmIHN0eWxlcy5TaW5nbGVEYXRlUGlja2VySW5wdXRfX2Jsb2NrLCBzaG93Q2xlYXJEYXRlICYmIHN0eWxlcy5TaW5nbGVEYXRlUGlja2VySW5wdXRfX3Nob3dDbGVhckRhdGUpLFxuICAgIGlucHV0SWNvblBvc2l0aW9uID09PSBfY29uc3RhbnRzLklDT05fQkVGT1JFX1BPU0lUSU9OICYmIGlucHV0SWNvbixcbiAgICBfcmVhY3QyWydkZWZhdWx0J10uY3JlYXRlRWxlbWVudChfRGF0ZUlucHV0MlsnZGVmYXVsdCddLCB7XG4gICAgICBpZDogaWQsXG4gICAgICBwbGFjZWhvbGRlcjogcGxhY2Vob2xkZXIgLy8gYWxzbyB1c2VkIGFzIGxhYmVsXG4gICAgICAsIGRpc3BsYXlWYWx1ZTogZGlzcGxheVZhbHVlLFxuICAgICAgc2NyZWVuUmVhZGVyTWVzc2FnZTogc2NyZWVuUmVhZGVyVGV4dCxcbiAgICAgIGZvY3VzZWQ6IGZvY3VzZWQsXG4gICAgICBpc0ZvY3VzZWQ6IGlzRm9jdXNlZCxcbiAgICAgIGRpc2FibGVkOiBkaXNhYmxlZCxcbiAgICAgIHJlcXVpcmVkOiByZXF1aXJlZCxcbiAgICAgIHJlYWRPbmx5OiByZWFkT25seSxcbiAgICAgIHNob3dDYXJldDogc2hvd0NhcmV0LFxuICAgICAgb25DaGFuZ2U6IG9uQ2hhbmdlLFxuICAgICAgb25Gb2N1czogb25Gb2N1cyxcbiAgICAgIG9uS2V5RG93blNoaWZ0VGFiOiBvbktleURvd25TaGlmdFRhYixcbiAgICAgIG9uS2V5RG93blRhYjogb25LZXlEb3duVGFiLFxuICAgICAgb25LZXlEb3duQXJyb3dEb3duOiBvbktleURvd25BcnJvd0Rvd24sXG4gICAgICBvbktleURvd25RdWVzdGlvbk1hcms6IG9uS2V5RG93blF1ZXN0aW9uTWFyayxcbiAgICAgIG9wZW5EaXJlY3Rpb246IG9wZW5EaXJlY3Rpb24sXG4gICAgICB2ZXJ0aWNhbFNwYWNpbmc6IHZlcnRpY2FsU3BhY2luZyxcbiAgICAgIHNtYWxsOiBzbWFsbCxcbiAgICAgIHJlZ3VsYXI6IHJlZ3VsYXIsXG4gICAgICBibG9jazogYmxvY2tcbiAgICB9KSxcbiAgICBzaG93Q2xlYXJEYXRlICYmIF9yZWFjdDJbJ2RlZmF1bHQnXS5jcmVhdGVFbGVtZW50KFxuICAgICAgJ2J1dHRvbicsXG4gICAgICBfZXh0ZW5kcyh7fSwgKDAsIF9yZWFjdFdpdGhTdHlsZXMuY3NzKShzdHlsZXMuU2luZ2xlRGF0ZVBpY2tlcklucHV0X2NsZWFyRGF0ZSwgc21hbGwgJiYgc3R5bGVzLlNpbmdsZURhdGVQaWNrZXJJbnB1dF9jbGVhckRhdGVfX3NtYWxsLCAhY3VzdG9tQ2xvc2VJY29uICYmIHN0eWxlcy5TaW5nbGVEYXRlUGlja2VySW5wdXRfY2xlYXJEYXRlX19kZWZhdWx0LCAhZGlzcGxheVZhbHVlICYmIHN0eWxlcy5TaW5nbGVEYXRlUGlja2VySW5wdXRfY2xlYXJEYXRlX19oaWRlKSwge1xuICAgICAgICB0eXBlOiAnYnV0dG9uJyxcbiAgICAgICAgJ2FyaWEtbGFiZWwnOiBwaHJhc2VzLmNsZWFyRGF0ZSxcbiAgICAgICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgICAgICBvbk1vdXNlRW50ZXI6IHRoaXMgJiYgdGhpcy5vbkNsZWFyRGF0ZU1vdXNlRW50ZXIsXG4gICAgICAgIG9uTW91c2VMZWF2ZTogdGhpcyAmJiB0aGlzLm9uQ2xlYXJEYXRlTW91c2VMZWF2ZSxcbiAgICAgICAgb25DbGljazogb25DbGVhckRhdGVcbiAgICAgIH0pLFxuICAgICAgY2xvc2VJY29uXG4gICAgKSxcbiAgICBpbnB1dEljb25Qb3NpdGlvbiA9PT0gX2NvbnN0YW50cy5JQ09OX0FGVEVSX1BPU0lUSU9OICYmIGlucHV0SWNvblxuICApO1xufVxuXG5TaW5nbGVEYXRlUGlja2VySW5wdXQucHJvcFR5cGVzID0gcHJvcFR5cGVzO1xuU2luZ2xlRGF0ZVBpY2tlcklucHV0LmRlZmF1bHRQcm9wcyA9IGRlZmF1bHRQcm9wcztcblxuZXhwb3J0c1snZGVmYXVsdCddID0gKDAsIF9yZWFjdFdpdGhTdHlsZXMud2l0aFN0eWxlcykoZnVuY3Rpb24gKF9yZWYyKSB7XG4gIHZhciBfcmVmMiRyZWFjdERhdGVzID0gX3JlZjIucmVhY3REYXRlcyxcbiAgICAgIGJvcmRlciA9IF9yZWYyJHJlYWN0RGF0ZXMuYm9yZGVyLFxuICAgICAgY29sb3IgPSBfcmVmMiRyZWFjdERhdGVzLmNvbG9yO1xuICByZXR1cm4ge1xuICAgIFNpbmdsZURhdGVQaWNrZXJJbnB1dDoge1xuICAgICAgZGlzcGxheTogJ2lubGluZS1ibG9jaycsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IGNvbG9yLmJhY2tncm91bmRcbiAgICB9LFxuXG4gICAgU2luZ2xlRGF0ZVBpY2tlcklucHV0X193aXRoQm9yZGVyOiB7XG4gICAgICBib3JkZXJDb2xvcjogY29sb3IuYm9yZGVyLFxuICAgICAgYm9yZGVyV2lkdGg6IGJvcmRlci5waWNrZXJJbnB1dC5ib3JkZXJXaWR0aCxcbiAgICAgIGJvcmRlclN0eWxlOiBib3JkZXIucGlja2VySW5wdXQuYm9yZGVyU3R5bGUsXG4gICAgICBib3JkZXJSYWRpdXM6IGJvcmRlci5waWNrZXJJbnB1dC5ib3JkZXJSYWRpdXNcbiAgICB9LFxuXG4gICAgU2luZ2xlRGF0ZVBpY2tlcklucHV0X19ydGw6IHtcbiAgICAgIGRpcmVjdGlvbjogJ3J0bCdcbiAgICB9LFxuXG4gICAgU2luZ2xlRGF0ZVBpY2tlcklucHV0X19kaXNhYmxlZDoge1xuICAgICAgYmFja2dyb3VuZENvbG9yOiBjb2xvci5kaXNhYmxlZFxuICAgIH0sXG5cbiAgICBTaW5nbGVEYXRlUGlja2VySW5wdXRfX2Jsb2NrOiB7XG4gICAgICBkaXNwbGF5OiAnYmxvY2snXG4gICAgfSxcblxuICAgIFNpbmdsZURhdGVQaWNrZXJJbnB1dF9fc2hvd0NsZWFyRGF0ZToge1xuICAgICAgcGFkZGluZ1JpZ2h0OiAzMFxuICAgIH0sXG5cbiAgICBTaW5nbGVEYXRlUGlja2VySW5wdXRfY2xlYXJEYXRlOiB7XG4gICAgICBiYWNrZ3JvdW5kOiAnbm9uZScsXG4gICAgICBib3JkZXI6IDAsXG4gICAgICBjb2xvcjogJ2luaGVyaXQnLFxuICAgICAgZm9udDogJ2luaGVyaXQnLFxuICAgICAgbGluZUhlaWdodDogJ25vcm1hbCcsXG4gICAgICBvdmVyZmxvdzogJ3Zpc2libGUnLFxuXG4gICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgIHBhZGRpbmc6IDEwLFxuICAgICAgbWFyZ2luOiAnMCAxMHB4IDAgNXB4JyxcbiAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgcmlnaHQ6IDAsXG4gICAgICB0b3A6ICc1MCUnLFxuICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSgtNTAlKSdcbiAgICB9LFxuXG4gICAgU2luZ2xlRGF0ZVBpY2tlcklucHV0X2NsZWFyRGF0ZV9fZGVmYXVsdDoge1xuICAgICAgJzpmb2N1cyc6IHtcbiAgICAgICAgYmFja2dyb3VuZDogY29sb3IuY29yZS5ib3JkZXIsXG4gICAgICAgIGJvcmRlclJhZGl1czogJzUwJSdcbiAgICAgIH0sXG5cbiAgICAgICc6aG92ZXInOiB7XG4gICAgICAgIGJhY2tncm91bmQ6IGNvbG9yLmNvcmUuYm9yZGVyLFxuICAgICAgICBib3JkZXJSYWRpdXM6ICc1MCUnXG4gICAgICB9XG4gICAgfSxcblxuICAgIFNpbmdsZURhdGVQaWNrZXJJbnB1dF9jbGVhckRhdGVfX3NtYWxsOiB7XG4gICAgICBwYWRkaW5nOiA2XG4gICAgfSxcblxuICAgIFNpbmdsZURhdGVQaWNrZXJJbnB1dF9jbGVhckRhdGVfX2hpZGU6IHtcbiAgICAgIHZpc2liaWxpdHk6ICdoaWRkZW4nXG4gICAgfSxcblxuICAgIFNpbmdsZURhdGVQaWNrZXJJbnB1dF9jbGVhckRhdGVfc3ZnOiB7XG4gICAgICBmaWxsOiBjb2xvci5jb3JlLmdyYXlMaWdodCxcbiAgICAgIGhlaWdodDogMTIsXG4gICAgICB3aWR0aDogMTUsXG4gICAgICB2ZXJ0aWNhbEFsaWduOiAnbWlkZGxlJ1xuICAgIH0sXG5cbiAgICBTaW5nbGVEYXRlUGlja2VySW5wdXRfY2xlYXJEYXRlX3N2Z19fc21hbGw6IHtcbiAgICAgIGhlaWdodDogOVxuICAgIH0sXG5cbiAgICBTaW5nbGVEYXRlUGlja2VySW5wdXRfY2FsZW5kYXJJY29uOiB7XG4gICAgICBiYWNrZ3JvdW5kOiAnbm9uZScsXG4gICAgICBib3JkZXI6IDAsXG4gICAgICBjb2xvcjogJ2luaGVyaXQnLFxuICAgICAgZm9udDogJ2luaGVyaXQnLFxuICAgICAgbGluZUhlaWdodDogJ25vcm1hbCcsXG4gICAgICBvdmVyZmxvdzogJ3Zpc2libGUnLFxuXG4gICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgIGRpc3BsYXk6ICdpbmxpbmUtYmxvY2snLFxuICAgICAgdmVydGljYWxBbGlnbjogJ21pZGRsZScsXG4gICAgICBwYWRkaW5nOiAxMCxcbiAgICAgIG1hcmdpbjogJzAgNXB4IDAgMTBweCdcbiAgICB9LFxuXG4gICAgU2luZ2xlRGF0ZVBpY2tlcklucHV0X2NhbGVuZGFySWNvbl9zdmc6IHtcbiAgICAgIGZpbGw6IGNvbG9yLmNvcmUuZ3JheUxpZ2h0LFxuICAgICAgaGVpZ2h0OiAxNSxcbiAgICAgIHdpZHRoOiAxNCxcbiAgICAgIHZlcnRpY2FsQWxpZ246ICdtaWRkbGUnXG4gICAgfVxuICB9O1xufSkoU2luZ2xlRGF0ZVBpY2tlcklucHV0KTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG52YXIgRElTUExBWV9GT1JNQVQgPSBleHBvcnRzLkRJU1BMQVlfRk9STUFUID0gJ0wnO1xudmFyIElTT19GT1JNQVQgPSBleHBvcnRzLklTT19GT1JNQVQgPSAnWVlZWS1NTS1ERCc7XG52YXIgSVNPX01PTlRIX0ZPUk1BVCA9IGV4cG9ydHMuSVNPX01PTlRIX0ZPUk1BVCA9ICdZWVlZLU1NJztcblxudmFyIFNUQVJUX0RBVEUgPSBleHBvcnRzLlNUQVJUX0RBVEUgPSAnc3RhcnREYXRlJztcbnZhciBFTkRfREFURSA9IGV4cG9ydHMuRU5EX0RBVEUgPSAnZW5kRGF0ZSc7XG5cbnZhciBIT1JJWk9OVEFMX09SSUVOVEFUSU9OID0gZXhwb3J0cy5IT1JJWk9OVEFMX09SSUVOVEFUSU9OID0gJ2hvcml6b250YWwnO1xudmFyIFZFUlRJQ0FMX09SSUVOVEFUSU9OID0gZXhwb3J0cy5WRVJUSUNBTF9PUklFTlRBVElPTiA9ICd2ZXJ0aWNhbCc7XG52YXIgVkVSVElDQUxfU0NST0xMQUJMRSA9IGV4cG9ydHMuVkVSVElDQUxfU0NST0xMQUJMRSA9ICd2ZXJ0aWNhbFNjcm9sbGFibGUnO1xuXG52YXIgSUNPTl9CRUZPUkVfUE9TSVRJT04gPSBleHBvcnRzLklDT05fQkVGT1JFX1BPU0lUSU9OID0gJ2JlZm9yZSc7XG52YXIgSUNPTl9BRlRFUl9QT1NJVElPTiA9IGV4cG9ydHMuSUNPTl9BRlRFUl9QT1NJVElPTiA9ICdhZnRlcic7XG5cbnZhciBJTkZPX1BPU0lUSU9OX1RPUCA9IGV4cG9ydHMuSU5GT19QT1NJVElPTl9UT1AgPSAndG9wJztcbnZhciBJTkZPX1BPU0lUSU9OX0JPVFRPTSA9IGV4cG9ydHMuSU5GT19QT1NJVElPTl9CT1RUT00gPSAnYm90dG9tJztcbnZhciBJTkZPX1BPU0lUSU9OX0JFRk9SRSA9IGV4cG9ydHMuSU5GT19QT1NJVElPTl9CRUZPUkUgPSAnYmVmb3JlJztcbnZhciBJTkZPX1BPU0lUSU9OX0FGVEVSID0gZXhwb3J0cy5JTkZPX1BPU0lUSU9OX0FGVEVSID0gJ2FmdGVyJztcblxudmFyIEFOQ0hPUl9MRUZUID0gZXhwb3J0cy5BTkNIT1JfTEVGVCA9ICdsZWZ0JztcbnZhciBBTkNIT1JfUklHSFQgPSBleHBvcnRzLkFOQ0hPUl9SSUdIVCA9ICdyaWdodCc7XG5cbnZhciBPUEVOX0RPV04gPSBleHBvcnRzLk9QRU5fRE9XTiA9ICdkb3duJztcbnZhciBPUEVOX1VQID0gZXhwb3J0cy5PUEVOX1VQID0gJ3VwJztcblxudmFyIERBWV9TSVpFID0gZXhwb3J0cy5EQVlfU0laRSA9IDM5O1xudmFyIEJMT0NLRURfTU9ESUZJRVIgPSBleHBvcnRzLkJMT0NLRURfTU9ESUZJRVIgPSAnYmxvY2tlZCc7XG52YXIgV0VFS0RBWVMgPSBleHBvcnRzLldFRUtEQVlTID0gWzAsIDEsIDIsIDMsIDQsIDUsIDZdO1xuXG52YXIgRkFOR19XSURUSF9QWCA9IGV4cG9ydHMuRkFOR19XSURUSF9QWCA9IDIwO1xudmFyIEZBTkdfSEVJR0hUX1BYID0gZXhwb3J0cy5GQU5HX0hFSUdIVF9QWCA9IDEwO1xudmFyIERFRkFVTFRfVkVSVElDQUxfU1BBQ0lORyA9IGV4cG9ydHMuREVGQVVMVF9WRVJUSUNBTF9TUEFDSU5HID0gMjI7XG5cbnZhciBNT0RJRklFUl9LRVlfTkFNRVMgPSBleHBvcnRzLk1PRElGSUVSX0tFWV9OQU1FUyA9IG5ldyBTZXQoWydTaGlmdCcsICdDb250cm9sJywgJ0FsdCcsICdNZXRhJ10pOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbnZhciBjYWxlbmRhckxhYmVsID0gJ0NhbGVuZGFyJztcbnZhciBjbG9zZURhdGVQaWNrZXIgPSAnQ2xvc2UnO1xudmFyIGZvY3VzU3RhcnREYXRlID0gJ0ludGVyYWN0IHdpdGggdGhlIGNhbGVuZGFyIGFuZCBhZGQgdGhlIGNoZWNrLWluIGRhdGUgZm9yIHlvdXIgdHJpcC4nO1xudmFyIGNsZWFyRGF0ZSA9ICdDbGVhciBEYXRlJztcbnZhciBjbGVhckRhdGVzID0gJ0NsZWFyIERhdGVzJztcbnZhciBqdW1wVG9QcmV2TW9udGggPSAnTW92ZSBiYWNrd2FyZCB0byBzd2l0Y2ggdG8gdGhlIHByZXZpb3VzIG1vbnRoLic7XG52YXIganVtcFRvTmV4dE1vbnRoID0gJ01vdmUgZm9yd2FyZCB0byBzd2l0Y2ggdG8gdGhlIG5leHQgbW9udGguJztcbnZhciBrZXlib2FyZFNob3J0Y3V0cyA9ICdLZXlib2FyZCBTaG9ydGN1dHMnO1xudmFyIHNob3dLZXlib2FyZFNob3J0Y3V0c1BhbmVsID0gJ09wZW4gdGhlIGtleWJvYXJkIHNob3J0Y3V0cyBwYW5lbC4nO1xudmFyIGhpZGVLZXlib2FyZFNob3J0Y3V0c1BhbmVsID0gJ0Nsb3NlIHRoZSBzaG9ydGN1dHMgcGFuZWwuJztcbnZhciBvcGVuVGhpc1BhbmVsID0gJ09wZW4gdGhpcyBwYW5lbC4nO1xudmFyIGVudGVyS2V5ID0gJ0VudGVyIGtleSc7XG52YXIgbGVmdEFycm93UmlnaHRBcnJvdyA9ICdSaWdodCBhbmQgbGVmdCBhcnJvdyBrZXlzJztcbnZhciB1cEFycm93RG93bkFycm93ID0gJ3VwIGFuZCBkb3duIGFycm93IGtleXMnO1xudmFyIHBhZ2VVcFBhZ2VEb3duID0gJ3BhZ2UgdXAgYW5kIHBhZ2UgZG93biBrZXlzJztcbnZhciBob21lRW5kID0gJ0hvbWUgYW5kIGVuZCBrZXlzJztcbnZhciBlc2NhcGUgPSAnRXNjYXBlIGtleSc7XG52YXIgcXVlc3Rpb25NYXJrID0gJ1F1ZXN0aW9uIG1hcmsnO1xudmFyIHNlbGVjdEZvY3VzZWREYXRlID0gJ1NlbGVjdCB0aGUgZGF0ZSBpbiBmb2N1cy4nO1xudmFyIG1vdmVGb2N1c0J5T25lRGF5ID0gJ01vdmUgYmFja3dhcmQgKGxlZnQpIGFuZCBmb3J3YXJkIChyaWdodCkgYnkgb25lIGRheS4nO1xudmFyIG1vdmVGb2N1c0J5T25lV2VlayA9ICdNb3ZlIGJhY2t3YXJkICh1cCkgYW5kIGZvcndhcmQgKGRvd24pIGJ5IG9uZSB3ZWVrLic7XG52YXIgbW92ZUZvY3VzQnlPbmVNb250aCA9ICdTd2l0Y2ggbW9udGhzLic7XG52YXIgbW92ZUZvY3VzdG9TdGFydEFuZEVuZE9mV2VlayA9ICdHbyB0byB0aGUgZmlyc3Qgb3IgbGFzdCBkYXkgb2YgYSB3ZWVrLic7XG52YXIgcmV0dXJuRm9jdXNUb0lucHV0ID0gJ1JldHVybiB0byB0aGUgZGF0ZSBpbnB1dCBmaWVsZC4nO1xudmFyIGtleWJvYXJkTmF2aWdhdGlvbkluc3RydWN0aW9ucyA9ICdQcmVzcyB0aGUgZG93biBhcnJvdyBrZXkgdG8gaW50ZXJhY3Qgd2l0aCB0aGUgY2FsZW5kYXIgYW5kXFxuICBzZWxlY3QgYSBkYXRlLiBQcmVzcyB0aGUgcXVlc3Rpb24gbWFyayBrZXkgdG8gZ2V0IHRoZSBrZXlib2FyZCBzaG9ydGN1dHMgZm9yIGNoYW5naW5nIGRhdGVzLic7XG5cbnZhciBjaG9vc2VBdmFpbGFibGVTdGFydERhdGUgPSBmdW5jdGlvbiBjaG9vc2VBdmFpbGFibGVTdGFydERhdGUoX3JlZikge1xuICB2YXIgZGF0ZSA9IF9yZWYuZGF0ZTtcbiAgcmV0dXJuICdDaG9vc2UgJyArIFN0cmluZyhkYXRlKSArICcgYXMgeW91ciBjaGVjay1pbiBkYXRlLiBJdFxcdTIwMTlzIGF2YWlsYWJsZS4nO1xufTtcbnZhciBjaG9vc2VBdmFpbGFibGVFbmREYXRlID0gZnVuY3Rpb24gY2hvb3NlQXZhaWxhYmxlRW5kRGF0ZShfcmVmMikge1xuICB2YXIgZGF0ZSA9IF9yZWYyLmRhdGU7XG4gIHJldHVybiAnQ2hvb3NlICcgKyBTdHJpbmcoZGF0ZSkgKyAnIGFzIHlvdXIgY2hlY2stb3V0IGRhdGUuIEl0XFx1MjAxOXMgYXZhaWxhYmxlLic7XG59O1xudmFyIGNob29zZUF2YWlsYWJsZURhdGUgPSBmdW5jdGlvbiBjaG9vc2VBdmFpbGFibGVEYXRlKF9yZWYzKSB7XG4gIHZhciBkYXRlID0gX3JlZjMuZGF0ZTtcbiAgcmV0dXJuIGRhdGU7XG59O1xudmFyIGRhdGVJc1VuYXZhaWxhYmxlID0gZnVuY3Rpb24gZGF0ZUlzVW5hdmFpbGFibGUoX3JlZjQpIHtcbiAgdmFyIGRhdGUgPSBfcmVmNC5kYXRlO1xuICByZXR1cm4gJ05vdCBhdmFpbGFibGUuICcgKyBTdHJpbmcoZGF0ZSk7XG59O1xudmFyIGRhdGVJc1NlbGVjdGVkID0gZnVuY3Rpb24gZGF0ZUlzU2VsZWN0ZWQoX3JlZjUpIHtcbiAgdmFyIGRhdGUgPSBfcmVmNS5kYXRlO1xuICByZXR1cm4gJ1NlbGVjdGVkLiAnICsgU3RyaW5nKGRhdGUpO1xufTtcblxuZXhwb3J0c1snZGVmYXVsdCddID0ge1xuICBjYWxlbmRhckxhYmVsOiBjYWxlbmRhckxhYmVsLFxuICBjbG9zZURhdGVQaWNrZXI6IGNsb3NlRGF0ZVBpY2tlcixcbiAgZm9jdXNTdGFydERhdGU6IGZvY3VzU3RhcnREYXRlLFxuICBjbGVhckRhdGU6IGNsZWFyRGF0ZSxcbiAgY2xlYXJEYXRlczogY2xlYXJEYXRlcyxcbiAganVtcFRvUHJldk1vbnRoOiBqdW1wVG9QcmV2TW9udGgsXG4gIGp1bXBUb05leHRNb250aDoganVtcFRvTmV4dE1vbnRoLFxuICBrZXlib2FyZFNob3J0Y3V0czoga2V5Ym9hcmRTaG9ydGN1dHMsXG4gIHNob3dLZXlib2FyZFNob3J0Y3V0c1BhbmVsOiBzaG93S2V5Ym9hcmRTaG9ydGN1dHNQYW5lbCxcbiAgaGlkZUtleWJvYXJkU2hvcnRjdXRzUGFuZWw6IGhpZGVLZXlib2FyZFNob3J0Y3V0c1BhbmVsLFxuICBvcGVuVGhpc1BhbmVsOiBvcGVuVGhpc1BhbmVsLFxuICBlbnRlcktleTogZW50ZXJLZXksXG4gIGxlZnRBcnJvd1JpZ2h0QXJyb3c6IGxlZnRBcnJvd1JpZ2h0QXJyb3csXG4gIHVwQXJyb3dEb3duQXJyb3c6IHVwQXJyb3dEb3duQXJyb3csXG4gIHBhZ2VVcFBhZ2VEb3duOiBwYWdlVXBQYWdlRG93bixcbiAgaG9tZUVuZDogaG9tZUVuZCxcbiAgZXNjYXBlOiBlc2NhcGUsXG4gIHF1ZXN0aW9uTWFyazogcXVlc3Rpb25NYXJrLFxuICBzZWxlY3RGb2N1c2VkRGF0ZTogc2VsZWN0Rm9jdXNlZERhdGUsXG4gIG1vdmVGb2N1c0J5T25lRGF5OiBtb3ZlRm9jdXNCeU9uZURheSxcbiAgbW92ZUZvY3VzQnlPbmVXZWVrOiBtb3ZlRm9jdXNCeU9uZVdlZWssXG4gIG1vdmVGb2N1c0J5T25lTW9udGg6IG1vdmVGb2N1c0J5T25lTW9udGgsXG4gIG1vdmVGb2N1c3RvU3RhcnRBbmRFbmRPZldlZWs6IG1vdmVGb2N1c3RvU3RhcnRBbmRFbmRPZldlZWssXG4gIHJldHVybkZvY3VzVG9JbnB1dDogcmV0dXJuRm9jdXNUb0lucHV0LFxuICBrZXlib2FyZE5hdmlnYXRpb25JbnN0cnVjdGlvbnM6IGtleWJvYXJkTmF2aWdhdGlvbkluc3RydWN0aW9ucyxcblxuICBjaG9vc2VBdmFpbGFibGVTdGFydERhdGU6IGNob29zZUF2YWlsYWJsZVN0YXJ0RGF0ZSxcbiAgY2hvb3NlQXZhaWxhYmxlRW5kRGF0ZTogY2hvb3NlQXZhaWxhYmxlRW5kRGF0ZSxcbiAgZGF0ZUlzVW5hdmFpbGFibGU6IGRhdGVJc1VuYXZhaWxhYmxlLFxuICBkYXRlSXNTZWxlY3RlZDogZGF0ZUlzU2VsZWN0ZWRcbn07XG52YXIgRGF0ZVJhbmdlUGlja2VyUGhyYXNlcyA9IGV4cG9ydHMuRGF0ZVJhbmdlUGlja2VyUGhyYXNlcyA9IHtcbiAgY2FsZW5kYXJMYWJlbDogY2FsZW5kYXJMYWJlbCxcbiAgY2xvc2VEYXRlUGlja2VyOiBjbG9zZURhdGVQaWNrZXIsXG4gIGNsZWFyRGF0ZXM6IGNsZWFyRGF0ZXMsXG4gIGZvY3VzU3RhcnREYXRlOiBmb2N1c1N0YXJ0RGF0ZSxcbiAganVtcFRvUHJldk1vbnRoOiBqdW1wVG9QcmV2TW9udGgsXG4gIGp1bXBUb05leHRNb250aDoganVtcFRvTmV4dE1vbnRoLFxuICBrZXlib2FyZFNob3J0Y3V0czoga2V5Ym9hcmRTaG9ydGN1dHMsXG4gIHNob3dLZXlib2FyZFNob3J0Y3V0c1BhbmVsOiBzaG93S2V5Ym9hcmRTaG9ydGN1dHNQYW5lbCxcbiAgaGlkZUtleWJvYXJkU2hvcnRjdXRzUGFuZWw6IGhpZGVLZXlib2FyZFNob3J0Y3V0c1BhbmVsLFxuICBvcGVuVGhpc1BhbmVsOiBvcGVuVGhpc1BhbmVsLFxuICBlbnRlcktleTogZW50ZXJLZXksXG4gIGxlZnRBcnJvd1JpZ2h0QXJyb3c6IGxlZnRBcnJvd1JpZ2h0QXJyb3csXG4gIHVwQXJyb3dEb3duQXJyb3c6IHVwQXJyb3dEb3duQXJyb3csXG4gIHBhZ2VVcFBhZ2VEb3duOiBwYWdlVXBQYWdlRG93bixcbiAgaG9tZUVuZDogaG9tZUVuZCxcbiAgZXNjYXBlOiBlc2NhcGUsXG4gIHF1ZXN0aW9uTWFyazogcXVlc3Rpb25NYXJrLFxuICBzZWxlY3RGb2N1c2VkRGF0ZTogc2VsZWN0Rm9jdXNlZERhdGUsXG4gIG1vdmVGb2N1c0J5T25lRGF5OiBtb3ZlRm9jdXNCeU9uZURheSxcbiAgbW92ZUZvY3VzQnlPbmVXZWVrOiBtb3ZlRm9jdXNCeU9uZVdlZWssXG4gIG1vdmVGb2N1c0J5T25lTW9udGg6IG1vdmVGb2N1c0J5T25lTW9udGgsXG4gIG1vdmVGb2N1c3RvU3RhcnRBbmRFbmRPZldlZWs6IG1vdmVGb2N1c3RvU3RhcnRBbmRFbmRPZldlZWssXG4gIHJldHVybkZvY3VzVG9JbnB1dDogcmV0dXJuRm9jdXNUb0lucHV0LFxuICBrZXlib2FyZE5hdmlnYXRpb25JbnN0cnVjdGlvbnM6IGtleWJvYXJkTmF2aWdhdGlvbkluc3RydWN0aW9ucyxcbiAgY2hvb3NlQXZhaWxhYmxlU3RhcnREYXRlOiBjaG9vc2VBdmFpbGFibGVTdGFydERhdGUsXG4gIGNob29zZUF2YWlsYWJsZUVuZERhdGU6IGNob29zZUF2YWlsYWJsZUVuZERhdGUsXG4gIGRhdGVJc1VuYXZhaWxhYmxlOiBkYXRlSXNVbmF2YWlsYWJsZSxcbiAgZGF0ZUlzU2VsZWN0ZWQ6IGRhdGVJc1NlbGVjdGVkXG59O1xuXG52YXIgRGF0ZVJhbmdlUGlja2VySW5wdXRQaHJhc2VzID0gZXhwb3J0cy5EYXRlUmFuZ2VQaWNrZXJJbnB1dFBocmFzZXMgPSB7XG4gIGZvY3VzU3RhcnREYXRlOiBmb2N1c1N0YXJ0RGF0ZSxcbiAgY2xlYXJEYXRlczogY2xlYXJEYXRlcyxcbiAga2V5Ym9hcmROYXZpZ2F0aW9uSW5zdHJ1Y3Rpb25zOiBrZXlib2FyZE5hdmlnYXRpb25JbnN0cnVjdGlvbnNcbn07XG5cbnZhciBTaW5nbGVEYXRlUGlja2VyUGhyYXNlcyA9IGV4cG9ydHMuU2luZ2xlRGF0ZVBpY2tlclBocmFzZXMgPSB7XG4gIGNhbGVuZGFyTGFiZWw6IGNhbGVuZGFyTGFiZWwsXG4gIGNsb3NlRGF0ZVBpY2tlcjogY2xvc2VEYXRlUGlja2VyLFxuICBjbGVhckRhdGU6IGNsZWFyRGF0ZSxcbiAganVtcFRvUHJldk1vbnRoOiBqdW1wVG9QcmV2TW9udGgsXG4gIGp1bXBUb05leHRNb250aDoganVtcFRvTmV4dE1vbnRoLFxuICBrZXlib2FyZFNob3J0Y3V0czoga2V5Ym9hcmRTaG9ydGN1dHMsXG4gIHNob3dLZXlib2FyZFNob3J0Y3V0c1BhbmVsOiBzaG93S2V5Ym9hcmRTaG9ydGN1dHNQYW5lbCxcbiAgaGlkZUtleWJvYXJkU2hvcnRjdXRzUGFuZWw6IGhpZGVLZXlib2FyZFNob3J0Y3V0c1BhbmVsLFxuICBvcGVuVGhpc1BhbmVsOiBvcGVuVGhpc1BhbmVsLFxuICBlbnRlcktleTogZW50ZXJLZXksXG4gIGxlZnRBcnJvd1JpZ2h0QXJyb3c6IGxlZnRBcnJvd1JpZ2h0QXJyb3csXG4gIHVwQXJyb3dEb3duQXJyb3c6IHVwQXJyb3dEb3duQXJyb3csXG4gIHBhZ2VVcFBhZ2VEb3duOiBwYWdlVXBQYWdlRG93bixcbiAgaG9tZUVuZDogaG9tZUVuZCxcbiAgZXNjYXBlOiBlc2NhcGUsXG4gIHF1ZXN0aW9uTWFyazogcXVlc3Rpb25NYXJrLFxuICBzZWxlY3RGb2N1c2VkRGF0ZTogc2VsZWN0Rm9jdXNlZERhdGUsXG4gIG1vdmVGb2N1c0J5T25lRGF5OiBtb3ZlRm9jdXNCeU9uZURheSxcbiAgbW92ZUZvY3VzQnlPbmVXZWVrOiBtb3ZlRm9jdXNCeU9uZVdlZWssXG4gIG1vdmVGb2N1c0J5T25lTW9udGg6IG1vdmVGb2N1c0J5T25lTW9udGgsXG4gIG1vdmVGb2N1c3RvU3RhcnRBbmRFbmRPZldlZWs6IG1vdmVGb2N1c3RvU3RhcnRBbmRFbmRPZldlZWssXG4gIHJldHVybkZvY3VzVG9JbnB1dDogcmV0dXJuRm9jdXNUb0lucHV0LFxuICBrZXlib2FyZE5hdmlnYXRpb25JbnN0cnVjdGlvbnM6IGtleWJvYXJkTmF2aWdhdGlvbkluc3RydWN0aW9ucyxcbiAgY2hvb3NlQXZhaWxhYmxlRGF0ZTogY2hvb3NlQXZhaWxhYmxlRGF0ZSxcbiAgZGF0ZUlzVW5hdmFpbGFibGU6IGRhdGVJc1VuYXZhaWxhYmxlLFxuICBkYXRlSXNTZWxlY3RlZDogZGF0ZUlzU2VsZWN0ZWRcbn07XG5cbnZhciBTaW5nbGVEYXRlUGlja2VySW5wdXRQaHJhc2VzID0gZXhwb3J0cy5TaW5nbGVEYXRlUGlja2VySW5wdXRQaHJhc2VzID0ge1xuICBjbGVhckRhdGU6IGNsZWFyRGF0ZSxcbiAga2V5Ym9hcmROYXZpZ2F0aW9uSW5zdHJ1Y3Rpb25zOiBrZXlib2FyZE5hdmlnYXRpb25JbnN0cnVjdGlvbnNcbn07XG5cbnZhciBEYXlQaWNrZXJQaHJhc2VzID0gZXhwb3J0cy5EYXlQaWNrZXJQaHJhc2VzID0ge1xuICBjYWxlbmRhckxhYmVsOiBjYWxlbmRhckxhYmVsLFxuICBqdW1wVG9QcmV2TW9udGg6IGp1bXBUb1ByZXZNb250aCxcbiAganVtcFRvTmV4dE1vbnRoOiBqdW1wVG9OZXh0TW9udGgsXG4gIGtleWJvYXJkU2hvcnRjdXRzOiBrZXlib2FyZFNob3J0Y3V0cyxcbiAgc2hvd0tleWJvYXJkU2hvcnRjdXRzUGFuZWw6IHNob3dLZXlib2FyZFNob3J0Y3V0c1BhbmVsLFxuICBoaWRlS2V5Ym9hcmRTaG9ydGN1dHNQYW5lbDogaGlkZUtleWJvYXJkU2hvcnRjdXRzUGFuZWwsXG4gIG9wZW5UaGlzUGFuZWw6IG9wZW5UaGlzUGFuZWwsXG4gIGVudGVyS2V5OiBlbnRlcktleSxcbiAgbGVmdEFycm93UmlnaHRBcnJvdzogbGVmdEFycm93UmlnaHRBcnJvdyxcbiAgdXBBcnJvd0Rvd25BcnJvdzogdXBBcnJvd0Rvd25BcnJvdyxcbiAgcGFnZVVwUGFnZURvd246IHBhZ2VVcFBhZ2VEb3duLFxuICBob21lRW5kOiBob21lRW5kLFxuICBlc2NhcGU6IGVzY2FwZSxcbiAgcXVlc3Rpb25NYXJrOiBxdWVzdGlvbk1hcmssXG4gIHNlbGVjdEZvY3VzZWREYXRlOiBzZWxlY3RGb2N1c2VkRGF0ZSxcbiAgbW92ZUZvY3VzQnlPbmVEYXk6IG1vdmVGb2N1c0J5T25lRGF5LFxuICBtb3ZlRm9jdXNCeU9uZVdlZWs6IG1vdmVGb2N1c0J5T25lV2VlayxcbiAgbW92ZUZvY3VzQnlPbmVNb250aDogbW92ZUZvY3VzQnlPbmVNb250aCxcbiAgbW92ZUZvY3VzdG9TdGFydEFuZEVuZE9mV2VlazogbW92ZUZvY3VzdG9TdGFydEFuZEVuZE9mV2VlayxcbiAgcmV0dXJuRm9jdXNUb0lucHV0OiByZXR1cm5Gb2N1c1RvSW5wdXQsXG4gIGNob29zZUF2YWlsYWJsZVN0YXJ0RGF0ZTogY2hvb3NlQXZhaWxhYmxlU3RhcnREYXRlLFxuICBjaG9vc2VBdmFpbGFibGVFbmREYXRlOiBjaG9vc2VBdmFpbGFibGVFbmREYXRlLFxuICBjaG9vc2VBdmFpbGFibGVEYXRlOiBjaG9vc2VBdmFpbGFibGVEYXRlLFxuICBkYXRlSXNVbmF2YWlsYWJsZTogZGF0ZUlzVW5hdmFpbGFibGUsXG4gIGRhdGVJc1NlbGVjdGVkOiBkYXRlSXNTZWxlY3RlZFxufTtcblxudmFyIERheVBpY2tlcktleWJvYXJkU2hvcnRjdXRzUGhyYXNlcyA9IGV4cG9ydHMuRGF5UGlja2VyS2V5Ym9hcmRTaG9ydGN1dHNQaHJhc2VzID0ge1xuICBrZXlib2FyZFNob3J0Y3V0czoga2V5Ym9hcmRTaG9ydGN1dHMsXG4gIHNob3dLZXlib2FyZFNob3J0Y3V0c1BhbmVsOiBzaG93S2V5Ym9hcmRTaG9ydGN1dHNQYW5lbCxcbiAgaGlkZUtleWJvYXJkU2hvcnRjdXRzUGFuZWw6IGhpZGVLZXlib2FyZFNob3J0Y3V0c1BhbmVsLFxuICBvcGVuVGhpc1BhbmVsOiBvcGVuVGhpc1BhbmVsLFxuICBlbnRlcktleTogZW50ZXJLZXksXG4gIGxlZnRBcnJvd1JpZ2h0QXJyb3c6IGxlZnRBcnJvd1JpZ2h0QXJyb3csXG4gIHVwQXJyb3dEb3duQXJyb3c6IHVwQXJyb3dEb3duQXJyb3csXG4gIHBhZ2VVcFBhZ2VEb3duOiBwYWdlVXBQYWdlRG93bixcbiAgaG9tZUVuZDogaG9tZUVuZCxcbiAgZXNjYXBlOiBlc2NhcGUsXG4gIHF1ZXN0aW9uTWFyazogcXVlc3Rpb25NYXJrLFxuICBzZWxlY3RGb2N1c2VkRGF0ZTogc2VsZWN0Rm9jdXNlZERhdGUsXG4gIG1vdmVGb2N1c0J5T25lRGF5OiBtb3ZlRm9jdXNCeU9uZURheSxcbiAgbW92ZUZvY3VzQnlPbmVXZWVrOiBtb3ZlRm9jdXNCeU9uZVdlZWssXG4gIG1vdmVGb2N1c0J5T25lTW9udGg6IG1vdmVGb2N1c0J5T25lTW9udGgsXG4gIG1vdmVGb2N1c3RvU3RhcnRBbmRFbmRPZldlZWs6IG1vdmVGb2N1c3RvU3RhcnRBbmRFbmRPZldlZWssXG4gIHJldHVybkZvY3VzVG9JbnB1dDogcmV0dXJuRm9jdXNUb0lucHV0XG59O1xuXG52YXIgRGF5UGlja2VyTmF2aWdhdGlvblBocmFzZXMgPSBleHBvcnRzLkRheVBpY2tlck5hdmlnYXRpb25QaHJhc2VzID0ge1xuICBqdW1wVG9QcmV2TW9udGg6IGp1bXBUb1ByZXZNb250aCxcbiAganVtcFRvTmV4dE1vbnRoOiBqdW1wVG9OZXh0TW9udGhcbn07XG5cbnZhciBDYWxlbmRhckRheVBocmFzZXMgPSBleHBvcnRzLkNhbGVuZGFyRGF5UGhyYXNlcyA9IHtcbiAgY2hvb3NlQXZhaWxhYmxlRGF0ZTogY2hvb3NlQXZhaWxhYmxlRGF0ZSxcbiAgZGF0ZUlzVW5hdmFpbGFibGU6IGRhdGVJc1VuYXZhaWxhYmxlLFxuICBkYXRlSXNTZWxlY3RlZDogZGF0ZUlzU2VsZWN0ZWRcbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX0NhbGVuZGFyRGF5ID0gcmVxdWlyZSgnLi9jb21wb25lbnRzL0NhbGVuZGFyRGF5Jyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnQ2FsZW5kYXJEYXknLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYWxlbmRhckRheSlbJ2RlZmF1bHQnXTtcbiAgICB9XG5cbiAgICByZXR1cm4gZ2V0O1xuICB9KClcbn0pO1xuXG52YXIgX0NhbGVuZGFyTW9udGggPSByZXF1aXJlKCcuL2NvbXBvbmVudHMvQ2FsZW5kYXJNb250aCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0NhbGVuZGFyTW9udGgnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DYWxlbmRhck1vbnRoKVsnZGVmYXVsdCddO1xuICAgIH1cblxuICAgIHJldHVybiBnZXQ7XG4gIH0oKVxufSk7XG5cbnZhciBfQ2FsZW5kYXJNb250aEdyaWQgPSByZXF1aXJlKCcuL2NvbXBvbmVudHMvQ2FsZW5kYXJNb250aEdyaWQnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdDYWxlbmRhck1vbnRoR3JpZCcsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbGVuZGFyTW9udGhHcmlkKVsnZGVmYXVsdCddO1xuICAgIH1cblxuICAgIHJldHVybiBnZXQ7XG4gIH0oKVxufSk7XG5cbnZhciBfRGF0ZVJhbmdlUGlja2VyID0gcmVxdWlyZSgnLi9jb21wb25lbnRzL0RhdGVSYW5nZVBpY2tlcicpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0RhdGVSYW5nZVBpY2tlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RhdGVSYW5nZVBpY2tlcilbJ2RlZmF1bHQnXTtcbiAgICB9XG5cbiAgICByZXR1cm4gZ2V0O1xuICB9KClcbn0pO1xuXG52YXIgX0RhdGVSYW5nZVBpY2tlcklucHV0ID0gcmVxdWlyZSgnLi9jb21wb25lbnRzL0RhdGVSYW5nZVBpY2tlcklucHV0Jyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnRGF0ZVJhbmdlUGlja2VySW5wdXQnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EYXRlUmFuZ2VQaWNrZXJJbnB1dClbJ2RlZmF1bHQnXTtcbiAgICB9XG5cbiAgICByZXR1cm4gZ2V0O1xuICB9KClcbn0pO1xuXG52YXIgX0RhdGVSYW5nZVBpY2tlcklucHV0Q29udHJvbGxlciA9IHJlcXVpcmUoJy4vY29tcG9uZW50cy9EYXRlUmFuZ2VQaWNrZXJJbnB1dENvbnRyb2xsZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdEYXRlUmFuZ2VQaWNrZXJJbnB1dENvbnRyb2xsZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EYXRlUmFuZ2VQaWNrZXJJbnB1dENvbnRyb2xsZXIpWydkZWZhdWx0J107XG4gICAgfVxuXG4gICAgcmV0dXJuIGdldDtcbiAgfSgpXG59KTtcblxudmFyIF9EYXRlUmFuZ2VQaWNrZXJTaGFwZSA9IHJlcXVpcmUoJy4vc2hhcGVzL0RhdGVSYW5nZVBpY2tlclNoYXBlJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnRGF0ZVJhbmdlUGlja2VyU2hhcGUnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EYXRlUmFuZ2VQaWNrZXJTaGFwZSlbJ2RlZmF1bHQnXTtcbiAgICB9XG5cbiAgICByZXR1cm4gZ2V0O1xuICB9KClcbn0pO1xuXG52YXIgX0RheVBpY2tlciA9IHJlcXVpcmUoJy4vY29tcG9uZW50cy9EYXlQaWNrZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdEYXlQaWNrZXInLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EYXlQaWNrZXIpWydkZWZhdWx0J107XG4gICAgfVxuXG4gICAgcmV0dXJuIGdldDtcbiAgfSgpXG59KTtcblxudmFyIF9EYXlQaWNrZXJSYW5nZUNvbnRyb2xsZXIgPSByZXF1aXJlKCcuL2NvbXBvbmVudHMvRGF5UGlja2VyUmFuZ2VDb250cm9sbGVyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnRGF5UGlja2VyUmFuZ2VDb250cm9sbGVyJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGF5UGlja2VyUmFuZ2VDb250cm9sbGVyKVsnZGVmYXVsdCddO1xuICAgIH1cblxuICAgIHJldHVybiBnZXQ7XG4gIH0oKVxufSk7XG5cbnZhciBfRGF5UGlja2VyU2luZ2xlRGF0ZUNvbnRyb2xsZXIgPSByZXF1aXJlKCcuL2NvbXBvbmVudHMvRGF5UGlja2VyU2luZ2xlRGF0ZUNvbnRyb2xsZXInKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdEYXlQaWNrZXJTaW5nbGVEYXRlQ29udHJvbGxlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0RheVBpY2tlclNpbmdsZURhdGVDb250cm9sbGVyKVsnZGVmYXVsdCddO1xuICAgIH1cblxuICAgIHJldHVybiBnZXQ7XG4gIH0oKVxufSk7XG5cbnZhciBfU2luZ2xlRGF0ZVBpY2tlciA9IHJlcXVpcmUoJy4vY29tcG9uZW50cy9TaW5nbGVEYXRlUGlja2VyJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnU2luZ2xlRGF0ZVBpY2tlcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1NpbmdsZURhdGVQaWNrZXIpWydkZWZhdWx0J107XG4gICAgfVxuXG4gICAgcmV0dXJuIGdldDtcbiAgfSgpXG59KTtcblxudmFyIF9TaW5nbGVEYXRlUGlja2VySW5wdXQgPSByZXF1aXJlKCcuL2NvbXBvbmVudHMvU2luZ2xlRGF0ZVBpY2tlcklucHV0Jyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnU2luZ2xlRGF0ZVBpY2tlcklucHV0Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2luZ2xlRGF0ZVBpY2tlcklucHV0KVsnZGVmYXVsdCddO1xuICAgIH1cblxuICAgIHJldHVybiBnZXQ7XG4gIH0oKVxufSk7XG5cbnZhciBfU2luZ2xlRGF0ZVBpY2tlclNoYXBlID0gcmVxdWlyZSgnLi9zaGFwZXMvU2luZ2xlRGF0ZVBpY2tlclNoYXBlJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnU2luZ2xlRGF0ZVBpY2tlclNoYXBlJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU2luZ2xlRGF0ZVBpY2tlclNoYXBlKVsnZGVmYXVsdCddO1xuICAgIH1cblxuICAgIHJldHVybiBnZXQ7XG4gIH0oKVxufSk7XG5cbnZhciBfaXNJbmNsdXNpdmVseUFmdGVyRGF5ID0gcmVxdWlyZSgnLi91dGlscy9pc0luY2x1c2l2ZWx5QWZ0ZXJEYXknKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdpc0luY2x1c2l2ZWx5QWZ0ZXJEYXknLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc0luY2x1c2l2ZWx5QWZ0ZXJEYXkpWydkZWZhdWx0J107XG4gICAgfVxuXG4gICAgcmV0dXJuIGdldDtcbiAgfSgpXG59KTtcblxudmFyIF9pc0luY2x1c2l2ZWx5QmVmb3JlRGF5ID0gcmVxdWlyZSgnLi91dGlscy9pc0luY2x1c2l2ZWx5QmVmb3JlRGF5Jyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnaXNJbmNsdXNpdmVseUJlZm9yZURheScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzSW5jbHVzaXZlbHlCZWZvcmVEYXkpWydkZWZhdWx0J107XG4gICAgfVxuXG4gICAgcmV0dXJuIGdldDtcbiAgfSgpXG59KTtcblxudmFyIF9pc05leHREYXkgPSByZXF1aXJlKCcuL3V0aWxzL2lzTmV4dERheScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2lzTmV4dERheScsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzTmV4dERheSlbJ2RlZmF1bHQnXTtcbiAgICB9XG5cbiAgICByZXR1cm4gZ2V0O1xuICB9KClcbn0pO1xuXG52YXIgX2lzU2FtZURheSA9IHJlcXVpcmUoJy4vdXRpbHMvaXNTYW1lRGF5Jyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnaXNTYW1lRGF5Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNTYW1lRGF5KVsnZGVmYXVsdCddO1xuICAgIH1cblxuICAgIHJldHVybiBnZXQ7XG4gIH0oKVxufSk7XG5cbnZhciBfdG9JU09EYXRlU3RyaW5nID0gcmVxdWlyZSgnLi91dGlscy90b0lTT0RhdGVTdHJpbmcnKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICd0b0lTT0RhdGVTdHJpbmcnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90b0lTT0RhdGVTdHJpbmcpWydkZWZhdWx0J107XG4gICAgfVxuXG4gICAgcmV0dXJuIGdldDtcbiAgfSgpXG59KTtcblxudmFyIF90b0xvY2FsaXplZERhdGVTdHJpbmcgPSByZXF1aXJlKCcuL3V0aWxzL3RvTG9jYWxpemVkRGF0ZVN0cmluZycpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ3RvTG9jYWxpemVkRGF0ZVN0cmluZycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RvTG9jYWxpemVkRGF0ZVN0cmluZylbJ2RlZmF1bHQnXTtcbiAgICB9XG5cbiAgICByZXR1cm4gZ2V0O1xuICB9KClcbn0pO1xuXG52YXIgX3RvTW9tZW50T2JqZWN0ID0gcmVxdWlyZSgnLi91dGlscy90b01vbWVudE9iamVjdCcpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ3RvTW9tZW50T2JqZWN0Jywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdG9Nb21lbnRPYmplY3QpWydkZWZhdWx0J107XG4gICAgfVxuXG4gICAgcmV0dXJuIGdldDtcbiAgfSgpXG59KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfSIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfY29uc3RhbnRzID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxuZXhwb3J0c1snZGVmYXVsdCddID0gX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5vbmVPZihbX2NvbnN0YW50cy5BTkNIT1JfTEVGVCwgX2NvbnN0YW50cy5BTkNIT1JfUklHSFRdKTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX2NvbnN0YW50cyA9IHJlcXVpcmUoJy4uL2NvbnN0YW50cycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IF9wcm9wVHlwZXMyWydkZWZhdWx0J10ub25lT2YoW19jb25zdGFudHMuSU5GT19QT1NJVElPTl9UT1AsIF9jb25zdGFudHMuSU5GT19QT1NJVElPTl9CT1RUT00sIF9jb25zdGFudHMuSU5GT19QT1NJVElPTl9CRUZPUkUsIF9jb25zdGFudHMuSU5GT19QT1NJVElPTl9BRlRFUl0pOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfcmVhY3RNb21lbnRQcm9wdHlwZXMgPSByZXF1aXJlKCdyZWFjdC1tb21lbnQtcHJvcHR5cGVzJyk7XG5cbnZhciBfcmVhY3RNb21lbnRQcm9wdHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3RNb21lbnRQcm9wdHlwZXMpO1xuXG52YXIgX2FpcmJuYlByb3BUeXBlcyA9IHJlcXVpcmUoJ2FpcmJuYi1wcm9wLXR5cGVzJyk7XG5cbnZhciBfZGVmYXVsdFBocmFzZXMgPSByZXF1aXJlKCcuLi9kZWZhdWx0UGhyYXNlcycpO1xuXG52YXIgX2dldFBocmFzZVByb3BUeXBlcyA9IHJlcXVpcmUoJy4uL3V0aWxzL2dldFBocmFzZVByb3BUeXBlcycpO1xuXG52YXIgX2dldFBocmFzZVByb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQaHJhc2VQcm9wVHlwZXMpO1xuXG52YXIgX0ZvY3VzZWRJbnB1dFNoYXBlID0gcmVxdWlyZSgnLi9Gb2N1c2VkSW5wdXRTaGFwZScpO1xuXG52YXIgX0ZvY3VzZWRJbnB1dFNoYXBlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ZvY3VzZWRJbnB1dFNoYXBlKTtcblxudmFyIF9JY29uUG9zaXRpb25TaGFwZSA9IHJlcXVpcmUoJy4vSWNvblBvc2l0aW9uU2hhcGUnKTtcblxudmFyIF9JY29uUG9zaXRpb25TaGFwZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JY29uUG9zaXRpb25TaGFwZSk7XG5cbnZhciBfT3JpZW50YXRpb25TaGFwZSA9IHJlcXVpcmUoJy4vT3JpZW50YXRpb25TaGFwZScpO1xuXG52YXIgX09yaWVudGF0aW9uU2hhcGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfT3JpZW50YXRpb25TaGFwZSk7XG5cbnZhciBfRGlzYWJsZWRTaGFwZSA9IHJlcXVpcmUoJy4vRGlzYWJsZWRTaGFwZScpO1xuXG52YXIgX0Rpc2FibGVkU2hhcGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGlzYWJsZWRTaGFwZSk7XG5cbnZhciBfQW5jaG9yRGlyZWN0aW9uU2hhcGUgPSByZXF1aXJlKCcuL0FuY2hvckRpcmVjdGlvblNoYXBlJyk7XG5cbnZhciBfQW5jaG9yRGlyZWN0aW9uU2hhcGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQW5jaG9yRGlyZWN0aW9uU2hhcGUpO1xuXG52YXIgX09wZW5EaXJlY3Rpb25TaGFwZSA9IHJlcXVpcmUoJy4vT3BlbkRpcmVjdGlvblNoYXBlJyk7XG5cbnZhciBfT3BlbkRpcmVjdGlvblNoYXBlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX09wZW5EaXJlY3Rpb25TaGFwZSk7XG5cbnZhciBfRGF5T2ZXZWVrU2hhcGUgPSByZXF1aXJlKCcuL0RheU9mV2Vla1NoYXBlJyk7XG5cbnZhciBfRGF5T2ZXZWVrU2hhcGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfRGF5T2ZXZWVrU2hhcGUpO1xuXG52YXIgX0NhbGVuZGFySW5mb1Bvc2l0aW9uU2hhcGUgPSByZXF1aXJlKCcuL0NhbGVuZGFySW5mb1Bvc2l0aW9uU2hhcGUnKTtcblxudmFyIF9DYWxlbmRhckluZm9Qb3NpdGlvblNoYXBlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NhbGVuZGFySW5mb1Bvc2l0aW9uU2hhcGUpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IHtcbiAgLy8gcmVxdWlyZWQgcHJvcHMgZm9yIGEgZnVuY3Rpb25hbCBpbnRlcmFjdGl2ZSBEYXRlUmFuZ2VQaWNrZXJcbiAgc3RhcnREYXRlOiBfcmVhY3RNb21lbnRQcm9wdHlwZXMyWydkZWZhdWx0J10ubW9tZW50T2JqLFxuICBlbmREYXRlOiBfcmVhY3RNb21lbnRQcm9wdHlwZXMyWydkZWZhdWx0J10ubW9tZW50T2JqLFxuICBvbkRhdGVzQ2hhbmdlOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMuaXNSZXF1aXJlZCxcblxuICBmb2N1c2VkSW5wdXQ6IF9Gb2N1c2VkSW5wdXRTaGFwZTJbJ2RlZmF1bHQnXSxcbiAgb25Gb2N1c0NoYW5nZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLmlzUmVxdWlyZWQsXG5cbiAgb25DbG9zZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuXG4gIC8vIGlucHV0IHJlbGF0ZWQgcHJvcHNcbiAgc3RhcnREYXRlSWQ6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uc3RyaW5nLmlzUmVxdWlyZWQsXG4gIHN0YXJ0RGF0ZVBsYWNlaG9sZGVyVGV4dDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zdHJpbmcsXG4gIGVuZERhdGVJZDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgZW5kRGF0ZVBsYWNlaG9sZGVyVGV4dDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zdHJpbmcsXG4gIGRpc2FibGVkOiBfRGlzYWJsZWRTaGFwZTJbJ2RlZmF1bHQnXSxcbiAgcmVxdWlyZWQ6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbCxcbiAgcmVhZE9ubHk6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbCxcbiAgc2NyZWVuUmVhZGVySW5wdXRNZXNzYWdlOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLnN0cmluZyxcbiAgc2hvd0NsZWFyRGF0ZXM6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbCxcbiAgc2hvd0RlZmF1bHRJbnB1dEljb246IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbCxcbiAgaW5wdXRJY29uUG9zaXRpb246IF9JY29uUG9zaXRpb25TaGFwZTJbJ2RlZmF1bHQnXSxcbiAgY3VzdG9tSW5wdXRJY29uOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLm5vZGUsXG4gIGN1c3RvbUFycm93SWNvbjogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ub2RlLFxuICBjdXN0b21DbG9zZUljb246IF9wcm9wVHlwZXMyWydkZWZhdWx0J10ubm9kZSxcbiAgbm9Cb3JkZXI6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbCxcbiAgYmxvY2s6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbCxcbiAgc21hbGw6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbCxcbiAgcmVndWxhcjogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ib29sLFxuICBrZWVwRm9jdXNPbklucHV0OiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmJvb2wsXG5cbiAgLy8gY2FsZW5kYXIgcHJlc2VudGF0aW9uIGFuZCBpbnRlcmFjdGlvbiByZWxhdGVkIHByb3BzXG4gIHJlbmRlck1vbnRoVGV4dDogKDAsIF9haXJibmJQcm9wVHlwZXMubXV0dWFsbHlFeGNsdXNpdmVQcm9wcykoX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLCAncmVuZGVyTW9udGhUZXh0JywgJ3JlbmRlck1vbnRoRWxlbWVudCcpLFxuICByZW5kZXJNb250aEVsZW1lbnQ6ICgwLCBfYWlyYm5iUHJvcFR5cGVzLm11dHVhbGx5RXhjbHVzaXZlUHJvcHMpKF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYywgJ3JlbmRlck1vbnRoVGV4dCcsICdyZW5kZXJNb250aEVsZW1lbnQnKSxcbiAgb3JpZW50YXRpb246IF9PcmllbnRhdGlvblNoYXBlMlsnZGVmYXVsdCddLFxuICBhbmNob3JEaXJlY3Rpb246IF9BbmNob3JEaXJlY3Rpb25TaGFwZTJbJ2RlZmF1bHQnXSxcbiAgb3BlbkRpcmVjdGlvbjogX09wZW5EaXJlY3Rpb25TaGFwZTJbJ2RlZmF1bHQnXSxcbiAgaG9yaXpvbnRhbE1hcmdpbjogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5udW1iZXIsXG4gIHdpdGhQb3J0YWw6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbCxcbiAgd2l0aEZ1bGxTY3JlZW5Qb3J0YWw6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbCxcbiAgYXBwZW5kVG9Cb2R5OiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmJvb2wsXG4gIGRpc2FibGVTY3JvbGw6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbCxcbiAgZGF5U2l6ZTogX2FpcmJuYlByb3BUeXBlcy5ub25OZWdhdGl2ZUludGVnZXIsXG4gIGlzUlRMOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmJvb2wsXG4gIGZpcnN0RGF5T2ZXZWVrOiBfRGF5T2ZXZWVrU2hhcGUyWydkZWZhdWx0J10sXG4gIGluaXRpYWxWaXNpYmxlTW9udGg6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYyxcbiAgbnVtYmVyT2ZNb250aHM6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10ubnVtYmVyLFxuICBrZWVwT3Blbk9uRGF0ZVNlbGVjdDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ib29sLFxuICByZW9wZW5QaWNrZXJPbkNsZWFyRGF0ZXM6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbCxcbiAgcmVuZGVyQ2FsZW5kYXJJbmZvOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsXG4gIGNhbGVuZGFySW5mb1Bvc2l0aW9uOiBfQ2FsZW5kYXJJbmZvUG9zaXRpb25TaGFwZTJbJ2RlZmF1bHQnXSxcbiAgaGlkZUtleWJvYXJkU2hvcnRjdXRzUGFuZWw6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbCxcbiAgdmVydGljYWxIZWlnaHQ6IF9haXJibmJQcm9wVHlwZXMubm9uTmVnYXRpdmVJbnRlZ2VyLFxuICB0cmFuc2l0aW9uRHVyYXRpb246IF9haXJibmJQcm9wVHlwZXMubm9uTmVnYXRpdmVJbnRlZ2VyLFxuICB2ZXJ0aWNhbFNwYWNpbmc6IF9haXJibmJQcm9wVHlwZXMubm9uTmVnYXRpdmVJbnRlZ2VyLFxuXG4gIC8vIG5hdmlnYXRpb24gcmVsYXRlZCBwcm9wc1xuICBuYXZQcmV2OiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLm5vZGUsXG4gIG5hdk5leHQ6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10ubm9kZSxcbiAgb25QcmV2TW9udGhDbGljazogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuICBvbk5leHRNb250aENsaWNrOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsXG5cbiAgLy8gZGF5IHByZXNlbnRhdGlvbiBhbmQgaW50ZXJhY3Rpb24gcmVsYXRlZCBwcm9wc1xuICByZW5kZXJDYWxlbmRhckRheTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuICByZW5kZXJEYXlDb250ZW50czogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuICBtaW5pbXVtTmlnaHRzOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLm51bWJlcixcbiAgZW5hYmxlT3V0c2lkZURheXM6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbCxcbiAgaXNEYXlCbG9ja2VkOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsXG4gIGlzT3V0c2lkZVJhbmdlOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsXG4gIGlzRGF5SGlnaGxpZ2h0ZWQ6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYyxcblxuICAvLyBpbnRlcm5hdGlvbmFsaXphdGlvbiBwcm9wc1xuICBkaXNwbGF5Rm9ybWF0OiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLm9uZU9mVHlwZShbX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zdHJpbmcsIF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuY10pLFxuICBtb250aEZvcm1hdDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zdHJpbmcsXG4gIHdlZWtEYXlGb3JtYXQ6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uc3RyaW5nLFxuICBwaHJhc2VzOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLnNoYXBlKCgwLCBfZ2V0UGhyYXNlUHJvcFR5cGVzMlsnZGVmYXVsdCddKShfZGVmYXVsdFBocmFzZXMuRGF0ZVJhbmdlUGlja2VyUGhyYXNlcykpLFxuICBkYXlBcmlhTGFiZWxGb3JtYXQ6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uc3RyaW5nXG59OyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfY29uc3RhbnRzID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxuZXhwb3J0c1snZGVmYXVsdCddID0gX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5vbmVPZihfY29uc3RhbnRzLldFRUtEQVlTKTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX2NvbnN0YW50cyA9IHJlcXVpcmUoJy4uL2NvbnN0YW50cycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IF9wcm9wVHlwZXMyWydkZWZhdWx0J10ub25lT2ZUeXBlKFtfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmJvb2wsIF9wcm9wVHlwZXMyWydkZWZhdWx0J10ub25lT2YoW19jb25zdGFudHMuU1RBUlRfREFURSwgX2NvbnN0YW50cy5FTkRfREFURV0pXSk7IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9jb25zdGFudHMgPSByZXF1aXJlKCcuLi9jb25zdGFudHMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG5leHBvcnRzWydkZWZhdWx0J10gPSBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLm9uZU9mKFtfY29uc3RhbnRzLlNUQVJUX0RBVEUsIF9jb25zdGFudHMuRU5EX0RBVEVdKTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX2NvbnN0YW50cyA9IHJlcXVpcmUoJy4uL2NvbnN0YW50cycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IF9wcm9wVHlwZXMyWydkZWZhdWx0J10ub25lT2YoW19jb25zdGFudHMuSUNPTl9CRUZPUkVfUE9TSVRJT04sIF9jb25zdGFudHMuSUNPTl9BRlRFUl9QT1NJVElPTl0pOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfYWlyYm5iUHJvcFR5cGVzID0gcmVxdWlyZSgnYWlyYm5iLXByb3AtdHlwZXMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgZm9yICh2YXIgaSA9IDAsIGFycjIgPSBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IGVsc2UgeyByZXR1cm4gQXJyYXkuZnJvbShhcnIpOyB9IH1cblxuZXhwb3J0c1snZGVmYXVsdCddID0gKDAsIF9haXJibmJQcm9wVHlwZXMuYW5kKShbX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5pbnN0YW5jZU9mKFNldCksIGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gbW9kaWZpZXJzKHByb3BzLCBwcm9wTmFtZSkge1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCByZXN0ID0gQXJyYXkoX2xlbiA+IDIgPyBfbGVuIC0gMiA6IDApLCBfa2V5ID0gMjsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgcmVzdFtfa2V5IC0gMl0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcblxuICAgIHZhciBmaXJzdEVycm9yID0gdm9pZCAwO1xuICAgIFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkocHJvcFZhbHVlKSkuc29tZShmdW5jdGlvbiAodiwgaSkge1xuICAgICAgdmFyIF9Qcm9wVHlwZXMkc3RyaW5nO1xuXG4gICAgICB2YXIgZmFrZVByb3BOYW1lID0gU3RyaW5nKHByb3BOYW1lKSArICc6IGluZGV4ICcgKyBTdHJpbmcoaSk7XG4gICAgICBmaXJzdEVycm9yID0gKF9Qcm9wVHlwZXMkc3RyaW5nID0gX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zdHJpbmcpLmlzUmVxdWlyZWQuYXBwbHkoX1Byb3BUeXBlcyRzdHJpbmcsIFtfZGVmaW5lUHJvcGVydHkoe30sIGZha2VQcm9wTmFtZSwgdiksIGZha2VQcm9wTmFtZV0uY29uY2F0KHJlc3QpKTtcbiAgICAgIHJldHVybiBmaXJzdEVycm9yICE9IG51bGw7XG4gICAgfSk7XG4gICAgcmV0dXJuIGZpcnN0RXJyb3IgPT0gbnVsbCA/IG51bGwgOiBmaXJzdEVycm9yO1xuICB9XG5cbiAgcmV0dXJuIG1vZGlmaWVycztcbn0oKV0sICdNb2RpZmllcnMgKFNldCBvZiBTdHJpbmdzKScpOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfY29uc3RhbnRzID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxuZXhwb3J0c1snZGVmYXVsdCddID0gX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5vbmVPZihbX2NvbnN0YW50cy5PUEVOX0RPV04sIF9jb25zdGFudHMuT1BFTl9VUF0pOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfY29uc3RhbnRzID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxuZXhwb3J0c1snZGVmYXVsdCddID0gX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5vbmVPZihbX2NvbnN0YW50cy5IT1JJWk9OVEFMX09SSUVOVEFUSU9OLCBfY29uc3RhbnRzLlZFUlRJQ0FMX09SSUVOVEFUSU9OXSk7IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9jb25zdGFudHMgPSByZXF1aXJlKCcuLi9jb25zdGFudHMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG5leHBvcnRzWydkZWZhdWx0J10gPSBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLm9uZU9mKFtfY29uc3RhbnRzLkhPUklaT05UQUxfT1JJRU5UQVRJT04sIF9jb25zdGFudHMuVkVSVElDQUxfT1JJRU5UQVRJT04sIF9jb25zdGFudHMuVkVSVElDQUxfU0NST0xMQUJMRV0pOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfcmVhY3RNb21lbnRQcm9wdHlwZXMgPSByZXF1aXJlKCdyZWFjdC1tb21lbnQtcHJvcHR5cGVzJyk7XG5cbnZhciBfcmVhY3RNb21lbnRQcm9wdHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3RNb21lbnRQcm9wdHlwZXMpO1xuXG52YXIgX2FpcmJuYlByb3BUeXBlcyA9IHJlcXVpcmUoJ2FpcmJuYi1wcm9wLXR5cGVzJyk7XG5cbnZhciBfZGVmYXVsdFBocmFzZXMgPSByZXF1aXJlKCcuLi9kZWZhdWx0UGhyYXNlcycpO1xuXG52YXIgX2dldFBocmFzZVByb3BUeXBlcyA9IHJlcXVpcmUoJy4uL3V0aWxzL2dldFBocmFzZVByb3BUeXBlcycpO1xuXG52YXIgX2dldFBocmFzZVByb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9nZXRQaHJhc2VQcm9wVHlwZXMpO1xuXG52YXIgX0ljb25Qb3NpdGlvblNoYXBlID0gcmVxdWlyZSgnLi9JY29uUG9zaXRpb25TaGFwZScpO1xuXG52YXIgX0ljb25Qb3NpdGlvblNoYXBlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0ljb25Qb3NpdGlvblNoYXBlKTtcblxudmFyIF9PcmllbnRhdGlvblNoYXBlID0gcmVxdWlyZSgnLi9PcmllbnRhdGlvblNoYXBlJyk7XG5cbnZhciBfT3JpZW50YXRpb25TaGFwZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9PcmllbnRhdGlvblNoYXBlKTtcblxudmFyIF9BbmNob3JEaXJlY3Rpb25TaGFwZSA9IHJlcXVpcmUoJy4vQW5jaG9yRGlyZWN0aW9uU2hhcGUnKTtcblxudmFyIF9BbmNob3JEaXJlY3Rpb25TaGFwZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9BbmNob3JEaXJlY3Rpb25TaGFwZSk7XG5cbnZhciBfT3BlbkRpcmVjdGlvblNoYXBlID0gcmVxdWlyZSgnLi9PcGVuRGlyZWN0aW9uU2hhcGUnKTtcblxudmFyIF9PcGVuRGlyZWN0aW9uU2hhcGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfT3BlbkRpcmVjdGlvblNoYXBlKTtcblxudmFyIF9EYXlPZldlZWtTaGFwZSA9IHJlcXVpcmUoJy4vRGF5T2ZXZWVrU2hhcGUnKTtcblxudmFyIF9EYXlPZldlZWtTaGFwZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9EYXlPZldlZWtTaGFwZSk7XG5cbnZhciBfQ2FsZW5kYXJJbmZvUG9zaXRpb25TaGFwZSA9IHJlcXVpcmUoJy4vQ2FsZW5kYXJJbmZvUG9zaXRpb25TaGFwZScpO1xuXG52YXIgX0NhbGVuZGFySW5mb1Bvc2l0aW9uU2hhcGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ2FsZW5kYXJJbmZvUG9zaXRpb25TaGFwZSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxuZXhwb3J0c1snZGVmYXVsdCddID0ge1xuICAvLyByZXF1aXJlZCBwcm9wcyBmb3IgYSBmdW5jdGlvbmFsIGludGVyYWN0aXZlIFNpbmdsZURhdGVQaWNrZXJcbiAgZGF0ZTogX3JlYWN0TW9tZW50UHJvcHR5cGVzMlsnZGVmYXVsdCddLm1vbWVudE9iaixcbiAgb25EYXRlQ2hhbmdlOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMuaXNSZXF1aXJlZCxcblxuICBmb2N1c2VkOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmJvb2wsXG4gIG9uRm9jdXNDaGFuZ2U6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYy5pc1JlcXVpcmVkLFxuXG4gIC8vIGlucHV0IHJlbGF0ZWQgcHJvcHNcbiAgaWQ6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uc3RyaW5nLmlzUmVxdWlyZWQsXG4gIHBsYWNlaG9sZGVyOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLnN0cmluZyxcbiAgZGlzYWJsZWQ6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbCxcbiAgcmVxdWlyZWQ6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbCxcbiAgcmVhZE9ubHk6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbCxcbiAgc2NyZWVuUmVhZGVySW5wdXRNZXNzYWdlOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLnN0cmluZyxcbiAgc2hvd0NsZWFyRGF0ZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ib29sLFxuICBjdXN0b21DbG9zZUljb246IF9wcm9wVHlwZXMyWydkZWZhdWx0J10ubm9kZSxcbiAgc2hvd0RlZmF1bHRJbnB1dEljb246IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbCxcbiAgaW5wdXRJY29uUG9zaXRpb246IF9JY29uUG9zaXRpb25TaGFwZTJbJ2RlZmF1bHQnXSxcbiAgY3VzdG9tSW5wdXRJY29uOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLm5vZGUsXG4gIG5vQm9yZGVyOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmJvb2wsXG4gIGJsb2NrOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmJvb2wsXG4gIHNtYWxsOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmJvb2wsXG4gIHJlZ3VsYXI6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbCxcbiAgdmVydGljYWxTcGFjaW5nOiBfYWlyYm5iUHJvcFR5cGVzLm5vbk5lZ2F0aXZlSW50ZWdlcixcbiAga2VlcEZvY3VzT25JbnB1dDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ib29sLFxuXG4gIC8vIGNhbGVuZGFyIHByZXNlbnRhdGlvbiBhbmQgaW50ZXJhY3Rpb24gcmVsYXRlZCBwcm9wc1xuICByZW5kZXJNb250aFRleHQ6ICgwLCBfYWlyYm5iUHJvcFR5cGVzLm11dHVhbGx5RXhjbHVzaXZlUHJvcHMpKF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYywgJ3JlbmRlck1vbnRoVGV4dCcsICdyZW5kZXJNb250aEVsZW1lbnQnKSxcbiAgcmVuZGVyTW9udGhFbGVtZW50OiAoMCwgX2FpcmJuYlByb3BUeXBlcy5tdXR1YWxseUV4Y2x1c2l2ZVByb3BzKShfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsICdyZW5kZXJNb250aFRleHQnLCAncmVuZGVyTW9udGhFbGVtZW50JyksXG4gIG9yaWVudGF0aW9uOiBfT3JpZW50YXRpb25TaGFwZTJbJ2RlZmF1bHQnXSxcbiAgYW5jaG9yRGlyZWN0aW9uOiBfQW5jaG9yRGlyZWN0aW9uU2hhcGUyWydkZWZhdWx0J10sXG4gIG9wZW5EaXJlY3Rpb246IF9PcGVuRGlyZWN0aW9uU2hhcGUyWydkZWZhdWx0J10sXG4gIGhvcml6b250YWxNYXJnaW46IF9wcm9wVHlwZXMyWydkZWZhdWx0J10ubnVtYmVyLFxuICB3aXRoUG9ydGFsOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmJvb2wsXG4gIHdpdGhGdWxsU2NyZWVuUG9ydGFsOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmJvb2wsXG4gIGFwcGVuZFRvQm9keTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ib29sLFxuICBkaXNhYmxlU2Nyb2xsOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmJvb2wsXG4gIGluaXRpYWxWaXNpYmxlTW9udGg6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYyxcbiAgZmlyc3REYXlPZldlZWs6IF9EYXlPZldlZWtTaGFwZTJbJ2RlZmF1bHQnXSxcbiAgbnVtYmVyT2ZNb250aHM6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10ubnVtYmVyLFxuICBrZWVwT3Blbk9uRGF0ZVNlbGVjdDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ib29sLFxuICByZW9wZW5QaWNrZXJPbkNsZWFyRGF0ZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ib29sLFxuICByZW5kZXJDYWxlbmRhckluZm86IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYyxcbiAgY2FsZW5kYXJJbmZvUG9zaXRpb246IF9DYWxlbmRhckluZm9Qb3NpdGlvblNoYXBlMlsnZGVmYXVsdCddLFxuICBoaWRlS2V5Ym9hcmRTaG9ydGN1dHNQYW5lbDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ib29sLFxuICBkYXlTaXplOiBfYWlyYm5iUHJvcFR5cGVzLm5vbk5lZ2F0aXZlSW50ZWdlcixcbiAgaXNSVEw6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbCxcbiAgdmVydGljYWxIZWlnaHQ6IF9haXJibmJQcm9wVHlwZXMubm9uTmVnYXRpdmVJbnRlZ2VyLFxuICB0cmFuc2l0aW9uRHVyYXRpb246IF9haXJibmJQcm9wVHlwZXMubm9uTmVnYXRpdmVJbnRlZ2VyLFxuICBob3Jpem9udGFsTW9udGhQYWRkaW5nOiBfYWlyYm5iUHJvcFR5cGVzLm5vbk5lZ2F0aXZlSW50ZWdlcixcblxuICAvLyBuYXZpZ2F0aW9uIHJlbGF0ZWQgcHJvcHNcbiAgbmF2UHJldjogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ub2RlLFxuICBuYXZOZXh0OiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLm5vZGUsXG5cbiAgb25QcmV2TW9udGhDbGljazogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuICBvbk5leHRNb250aENsaWNrOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsXG4gIG9uQ2xvc2U6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYyxcblxuICAvLyBkYXkgcHJlc2VudGF0aW9uIGFuZCBpbnRlcmFjdGlvbiByZWxhdGVkIHByb3BzXG4gIHJlbmRlckNhbGVuZGFyRGF5OiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsXG4gIHJlbmRlckRheUNvbnRlbnRzOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsXG4gIGVuYWJsZU91dHNpZGVEYXlzOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmJvb2wsXG4gIGlzRGF5QmxvY2tlZDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuICBpc091dHNpZGVSYW5nZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLFxuICBpc0RheUhpZ2hsaWdodGVkOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsXG5cbiAgLy8gaW50ZXJuYXRpb25hbGl6YXRpb24gcHJvcHNcbiAgZGlzcGxheUZvcm1hdDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5vbmVPZlR5cGUoW19wcm9wVHlwZXMyWydkZWZhdWx0J10uc3RyaW5nLCBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmNdKSxcbiAgbW9udGhGb3JtYXQ6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uc3RyaW5nLFxuICB3ZWVrRGF5Rm9ybWF0OiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLnN0cmluZyxcbiAgcGhyYXNlczogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zaGFwZSgoMCwgX2dldFBocmFzZVByb3BUeXBlczJbJ2RlZmF1bHQnXSkoX2RlZmF1bHRQaHJhc2VzLlNpbmdsZURhdGVQaWNrZXJQaHJhc2VzKSksXG4gIGRheUFyaWFMYWJlbEZvcm1hdDogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zdHJpbmdcbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1snZGVmYXVsdCddID0gY2FsY3VsYXRlRGltZW5zaW9uO1xuZnVuY3Rpb24gY2FsY3VsYXRlRGltZW5zaW9uKGVsLCBheGlzKSB7XG4gIHZhciBib3JkZXJCb3ggPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IGZhbHNlO1xuICB2YXIgd2l0aE1hcmdpbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogZmFsc2U7XG5cbiAgaWYgKCFlbCkge1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgdmFyIGF4aXNTdGFydCA9IGF4aXMgPT09ICd3aWR0aCcgPyAnTGVmdCcgOiAnVG9wJztcbiAgdmFyIGF4aXNFbmQgPSBheGlzID09PSAnd2lkdGgnID8gJ1JpZ2h0JyA6ICdCb3R0b20nO1xuXG4gIC8vIE9ubHkgcmVhZCBzdHlsZXMgaWYgd2UgbmVlZCB0b1xuICB2YXIgc3R5bGUgPSAhYm9yZGVyQm94IHx8IHdpdGhNYXJnaW4gPyB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCkgOiBudWxsO1xuXG4gIC8vIE9mZnNldCBpbmNsdWRlcyBib3JkZXIgYW5kIHBhZGRpbmdcbiAgdmFyIG9mZnNldFdpZHRoID0gZWwub2Zmc2V0V2lkdGgsXG4gICAgICBvZmZzZXRIZWlnaHQgPSBlbC5vZmZzZXRIZWlnaHQ7XG5cbiAgdmFyIHNpemUgPSBheGlzID09PSAnd2lkdGgnID8gb2Zmc2V0V2lkdGggOiBvZmZzZXRIZWlnaHQ7XG5cbiAgLy8gR2V0IHRoZSBpbm5lciBzaXplXG4gIGlmICghYm9yZGVyQm94KSB7XG4gICAgc2l6ZSAtPSBwYXJzZUZsb2F0KHN0eWxlWydwYWRkaW5nJyArIGF4aXNTdGFydF0pICsgcGFyc2VGbG9hdChzdHlsZVsncGFkZGluZycgKyBheGlzRW5kXSkgKyBwYXJzZUZsb2F0KHN0eWxlWydib3JkZXInICsgYXhpc1N0YXJ0ICsgJ1dpZHRoJ10pICsgcGFyc2VGbG9hdChzdHlsZVsnYm9yZGVyJyArIGF4aXNFbmQgKyAnV2lkdGgnXSk7XG4gIH1cblxuICAvLyBBcHBseSBtYXJnaW5cbiAgaWYgKHdpdGhNYXJnaW4pIHtcbiAgICBzaXplICs9IHBhcnNlRmxvYXQoc3R5bGVbJ21hcmdpbicgKyBheGlzU3RhcnRdKSArIHBhcnNlRmxvYXQoc3R5bGVbJ21hcmdpbicgKyBheGlzRW5kXSk7XG4gIH1cblxuICByZXR1cm4gc2l6ZTtcbn0iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmdldFNjcm9sbFBhcmVudCA9IGdldFNjcm9sbFBhcmVudDtcbmV4cG9ydHMuZ2V0U2Nyb2xsQW5jZXN0b3JzT3ZlcmZsb3dZID0gZ2V0U2Nyb2xsQW5jZXN0b3JzT3ZlcmZsb3dZO1xuZXhwb3J0c1snZGVmYXVsdCddID0gZGlzYWJsZVNjcm9sbDtcbnZhciBnZXRTY3JvbGxpbmdSb290ID0gZnVuY3Rpb24gZ2V0U2Nyb2xsaW5nUm9vdCgpIHtcbiAgcmV0dXJuIGRvY3VtZW50LnNjcm9sbGluZ0VsZW1lbnQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xufTtcblxuLyoqXG4gKiBSZWN1cnNpdmVseSBmaW5kcyB0aGUgc2Nyb2xsIHBhcmVudCBvZiBhIG5vZGUuIFRoZSBzY3JvbGwgcGFycmVudCBvZiBhIG5vZGVcbiAqIGlzIHRoZSBjbG9zZXN0IG5vZGUgdGhhdCBpcyBzY3JvbGxhYmxlLiBBIG5vZGUgaXMgc2Nyb2xsYWJsZSBpZjpcbiAqICAtIGl0IGlzIGFsbG93ZWQgdG8gc2Nyb2xsIHZpYSBDU1MgKCdvdmVyZmxvdy15JyBub3QgdmlzaWJsZSBvciBoaWRkZW4pO1xuICogIC0gYW5kIGl0cyBjaGlsZHJlbi9jb250ZW50IGFyZSBcImJpZ2dlclwiIHRoYW4gdGhlIG5vZGUncyBib3ggaGVpZ2h0LlxuICpcbiAqIFRoZSByb290IG9mIHRoZSBkb2N1bWVudCBhbHdheXMgc2Nyb2xscyBieSBkZWZhdWx0LlxuICpcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IG5vZGUgQW55IERPTSBlbGVtZW50LlxuICogQHJldHVybiB7SFRNTEVsZW1lbnR9IFRoZSBzY3JvbGwgcGFyZW50IGVsZW1lbnQuXG4gKi9cbmZ1bmN0aW9uIGdldFNjcm9sbFBhcmVudChub2RlKSB7XG4gIHZhciBwYXJlbnQgPSBub2RlLnBhcmVudEVsZW1lbnQ7XG5cbiAgaWYgKHBhcmVudCA9PSBudWxsKSByZXR1cm4gZ2V0U2Nyb2xsaW5nUm9vdCgpO1xuXG4gIHZhciBfd2luZG93JGdldENvbXB1dGVkU3QgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShwYXJlbnQpLFxuICAgICAgb3ZlcmZsb3dZID0gX3dpbmRvdyRnZXRDb21wdXRlZFN0Lm92ZXJmbG93WTtcblxuICB2YXIgY2FuU2Nyb2xsID0gb3ZlcmZsb3dZICE9PSAndmlzaWJsZScgJiYgb3ZlcmZsb3dZICE9PSAnaGlkZGVuJztcblxuICBpZiAoY2FuU2Nyb2xsICYmIHBhcmVudC5zY3JvbGxIZWlnaHQgPiBwYXJlbnQuY2xpZW50SGVpZ2h0KSB7XG4gICAgcmV0dXJuIHBhcmVudDtcbiAgfVxuXG4gIHJldHVybiBnZXRTY3JvbGxQYXJlbnQocGFyZW50KTtcbn1cblxuLyoqXG4gKiBSZWN1cnNpdmVseSB0cmF2ZXJzZXMgdGhlIHRyZWUgdXB3YXJkcyBmcm9tIHRoZSBnaXZlbiBub2RlLCBjYXB0dXJpbmcgYWxsXG4gKiBhbmNlc3RvciBub2RlcyB0aGF0IHNjcm9sbCBhbG9uZyB3aXRoIHRoZWlyIGN1cnJlbnQgJ292ZXJmbG93LXknIENTU1xuICogcHJvcGVydHkuXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gbm9kZSBBbnkgRE9NIGVsZW1lbnQuXG4gKiBAcGFyYW0ge01hcDxIVE1MRWxlbWVudCxzdHJpbmc+fSBbYWNjXSBBY2N1bXVsYXRvciBtYXAuXG4gKiBAcmV0dXJuIHtNYXA8SFRNTEVsZW1lbnQsc3RyaW5nPn0gTWFwIG9mIGFuY2VzdG9ycyB3aXRoIHRoZWlyICdvdmVyZmxvdy15JyB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gZ2V0U2Nyb2xsQW5jZXN0b3JzT3ZlcmZsb3dZKG5vZGUpIHtcbiAgdmFyIGFjYyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogbmV3IE1hcCgpO1xuXG4gIHZhciBzY3JvbGxpbmdSb290ID0gZ2V0U2Nyb2xsaW5nUm9vdCgpO1xuICB2YXIgc2Nyb2xsUGFyZW50ID0gZ2V0U2Nyb2xsUGFyZW50KG5vZGUpO1xuICBhY2Muc2V0KHNjcm9sbFBhcmVudCwgc2Nyb2xsUGFyZW50LnN0eWxlLm92ZXJmbG93WSk7XG5cbiAgaWYgKHNjcm9sbFBhcmVudCA9PT0gc2Nyb2xsaW5nUm9vdCkgcmV0dXJuIGFjYztcbiAgcmV0dXJuIGdldFNjcm9sbEFuY2VzdG9yc092ZXJmbG93WShzY3JvbGxQYXJlbnQsIGFjYyk7XG59XG5cbi8qKlxuICogRGlzYWJsaW5nIHRoZSBzY3JvbGwgb24gYSBub2RlIGludm9sdmVzIGZpbmRpbmcgYWxsIHRoZSBzY3JvbGxhYmxlIGFuY2VzdG9yc1xuICogYW5kIHNldCB0aGVpciAnb3ZlcmZsb3cteScgQ1NTIHByb3BlcnR5IHRvICdoaWRkZW4nLiBXaGVuIGFsbCBhbmNlc3RvcnMgaGF2ZVxuICogJ292ZXJmbG93LXk6IGhpZGRlbicgKHVwIHRvIHRoZSBkb2N1bWVudCBlbGVtZW50KSB0aGVyZSBpcyBubyBzY3JvbGxcbiAqIGNvbnRhaW5lciwgdGh1cyBhbGwgdGhlIHNjcm9sbCBvdXRzaWRlIG9mIHRoZSBub2RlIGlzIGRpc2FibGVkLiBJbiBvcmRlciB0b1xuICogZW5hYmxlIHNjcm9sbCBhZ2Fpbiwgd2Ugc3RvcmUgdGhlIHByZXZpb3VzIHZhbHVlIG9mIHRoZSAnb3ZlcmZsb3cteScgZm9yXG4gKiBldmVyeSBhbmNlc3RvciBpbiBhIGNsb3N1cmUgYW5kIHJlc2V0IGl0IGJhY2suXG4gKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gbm9kZSBBbnkgRE9NIGVsZW1lbnQuXG4gKi9cbmZ1bmN0aW9uIGRpc2FibGVTY3JvbGwobm9kZSkge1xuICB2YXIgc2Nyb2xsQW5jZXN0b3JzT3ZlcmZsb3dZID0gZ2V0U2Nyb2xsQW5jZXN0b3JzT3ZlcmZsb3dZKG5vZGUpO1xuICB2YXIgdG9nZ2xlID0gZnVuY3Rpb24gdG9nZ2xlKG9uKSB7XG4gICAgcmV0dXJuIHNjcm9sbEFuY2VzdG9yc092ZXJmbG93WS5mb3JFYWNoKGZ1bmN0aW9uIChvdmVyZmxvd1ksIGFuY2VzdG9yKSB7XG4gICAgICBhbmNlc3Rvci5zdHlsZS5zZXRQcm9wZXJ0eSgnb3ZlcmZsb3cteScsIG9uID8gJ2hpZGRlbicgOiBvdmVyZmxvd1kpO1xuICAgIH0pO1xuICB9O1xuXG4gIHRvZ2dsZSh0cnVlKTtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdG9nZ2xlKGZhbHNlKTtcbiAgfTtcbn0iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzWydkZWZhdWx0J10gPSBnZXRBY3RpdmVFbGVtZW50O1xuZnVuY3Rpb24gZ2V0QWN0aXZlRWxlbWVudCgpIHtcbiAgcmV0dXJuIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbn0iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzWydkZWZhdWx0J10gPSBnZXRDYWxlbmRhckRheVNldHRpbmdzO1xuXG52YXIgX2dldFBocmFzZSA9IHJlcXVpcmUoJy4vZ2V0UGhyYXNlJyk7XG5cbnZhciBfZ2V0UGhyYXNlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2dldFBocmFzZSk7XG5cbnZhciBfY29uc3RhbnRzID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxuZnVuY3Rpb24gZ2V0Q2FsZW5kYXJEYXlTZXR0aW5ncyhkYXksIGFyaWFMYWJlbEZvcm1hdCwgZGF5U2l6ZSwgbW9kaWZpZXJzLCBwaHJhc2VzKSB7XG4gIHZhciBjaG9vc2VBdmFpbGFibGVEYXRlID0gcGhyYXNlcy5jaG9vc2VBdmFpbGFibGVEYXRlLFxuICAgICAgZGF0ZUlzVW5hdmFpbGFibGUgPSBwaHJhc2VzLmRhdGVJc1VuYXZhaWxhYmxlLFxuICAgICAgZGF0ZUlzU2VsZWN0ZWQgPSBwaHJhc2VzLmRhdGVJc1NlbGVjdGVkO1xuXG5cbiAgdmFyIGRheVNpemVTdHlsZXMgPSB7XG4gICAgd2lkdGg6IGRheVNpemUsXG4gICAgaGVpZ2h0OiBkYXlTaXplIC0gMVxuICB9O1xuXG4gIHZhciB1c2VEZWZhdWx0Q3Vyc29yID0gbW9kaWZpZXJzLmhhcygnYmxvY2tlZC1taW5pbXVtLW5pZ2h0cycpIHx8IG1vZGlmaWVycy5oYXMoJ2Jsb2NrZWQtY2FsZW5kYXInKSB8fCBtb2RpZmllcnMuaGFzKCdibG9ja2VkLW91dC1vZi1yYW5nZScpO1xuXG4gIHZhciBzZWxlY3RlZCA9IG1vZGlmaWVycy5oYXMoJ3NlbGVjdGVkJykgfHwgbW9kaWZpZXJzLmhhcygnc2VsZWN0ZWQtc3RhcnQnKSB8fCBtb2RpZmllcnMuaGFzKCdzZWxlY3RlZC1lbmQnKTtcblxuICB2YXIgaG92ZXJlZFNwYW4gPSAhc2VsZWN0ZWQgJiYgKG1vZGlmaWVycy5oYXMoJ2hvdmVyZWQtc3BhbicpIHx8IG1vZGlmaWVycy5oYXMoJ2FmdGVyLWhvdmVyZWQtc3RhcnQnKSk7XG5cbiAgdmFyIGlzT3V0c2lkZVJhbmdlID0gbW9kaWZpZXJzLmhhcygnYmxvY2tlZC1vdXQtb2YtcmFuZ2UnKTtcblxuICB2YXIgZm9ybWF0dGVkRGF0ZSA9IHsgZGF0ZTogZGF5LmZvcm1hdChhcmlhTGFiZWxGb3JtYXQpIH07XG5cbiAgdmFyIGFyaWFMYWJlbCA9ICgwLCBfZ2V0UGhyYXNlMlsnZGVmYXVsdCddKShjaG9vc2VBdmFpbGFibGVEYXRlLCBmb3JtYXR0ZWREYXRlKTtcbiAgaWYgKG1vZGlmaWVycy5oYXMoX2NvbnN0YW50cy5CTE9DS0VEX01PRElGSUVSKSkge1xuICAgIGFyaWFMYWJlbCA9ICgwLCBfZ2V0UGhyYXNlMlsnZGVmYXVsdCddKShkYXRlSXNVbmF2YWlsYWJsZSwgZm9ybWF0dGVkRGF0ZSk7XG4gIH0gZWxzZSBpZiAoc2VsZWN0ZWQpIHtcbiAgICBhcmlhTGFiZWwgPSAoMCwgX2dldFBocmFzZTJbJ2RlZmF1bHQnXSkoZGF0ZUlzU2VsZWN0ZWQsIGZvcm1hdHRlZERhdGUpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBkYXlTaXplU3R5bGVzOiBkYXlTaXplU3R5bGVzLFxuICAgIHVzZURlZmF1bHRDdXJzb3I6IHVzZURlZmF1bHRDdXJzb3IsXG4gICAgc2VsZWN0ZWQ6IHNlbGVjdGVkLFxuICAgIGhvdmVyZWRTcGFuOiBob3ZlcmVkU3BhbixcbiAgICBpc091dHNpZGVSYW5nZTogaXNPdXRzaWRlUmFuZ2UsXG4gICAgYXJpYUxhYmVsOiBhcmlhTGFiZWxcbiAgfTtcbn0iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzWydkZWZhdWx0J10gPSBnZXRDYWxlbmRhck1vbnRoV2Vla3M7XG5cbnZhciBfbW9tZW50ID0gcmVxdWlyZSgnbW9tZW50Jyk7XG5cbnZhciBfbW9tZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21vbWVudCk7XG5cbnZhciBfY29uc3RhbnRzID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxuZnVuY3Rpb24gZ2V0Q2FsZW5kYXJNb250aFdlZWtzKG1vbnRoLCBlbmFibGVPdXRzaWRlRGF5cykge1xuICB2YXIgZmlyc3REYXlPZldlZWsgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IF9tb21lbnQyWydkZWZhdWx0J10ubG9jYWxlRGF0YSgpLmZpcnN0RGF5T2ZXZWVrKCk7XG5cbiAgaWYgKCFfbW9tZW50MlsnZGVmYXVsdCddLmlzTW9tZW50KG1vbnRoKSB8fCAhbW9udGguaXNWYWxpZCgpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYG1vbnRoYCBtdXN0IGJlIGEgdmFsaWQgbW9tZW50IG9iamVjdCcpO1xuICB9XG4gIGlmIChfY29uc3RhbnRzLldFRUtEQVlTLmluZGV4T2YoZmlyc3REYXlPZldlZWspID09PSAtMSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2BmaXJzdERheU9mV2Vla2AgbXVzdCBiZSBhbiBpbnRlZ2VyIGJldHdlZW4gMCBhbmQgNicpO1xuICB9XG5cbiAgLy8gc2V0IHV0YyBvZmZzZXQgdG8gZ2V0IGNvcnJlY3QgZGF0ZXMgaW4gZnV0dXJlICh3aGVuIHRpbWV6b25lIGNoYW5nZXMpXG4gIHZhciBmaXJzdE9mTW9udGggPSBtb250aC5jbG9uZSgpLnN0YXJ0T2YoJ21vbnRoJykuaG91cigxMik7XG4gIHZhciBsYXN0T2ZNb250aCA9IG1vbnRoLmNsb25lKCkuZW5kT2YoJ21vbnRoJykuaG91cigxMik7XG5cbiAgLy8gY2FsY3VsYXRlIHRoZSBleGFjdCBmaXJzdCBhbmQgbGFzdCBkYXlzIHRvIGZpbGwgdGhlIGVudGlyZSBtYXRyaXhcbiAgLy8gKGNvbnNpZGVyaW5nIGRheXMgb3V0c2lkZSBtb250aClcbiAgdmFyIHByZXZEYXlzID0gKGZpcnN0T2ZNb250aC5kYXkoKSArIDcgLSBmaXJzdERheU9mV2VlaykgJSA3O1xuICB2YXIgbmV4dERheXMgPSAoZmlyc3REYXlPZldlZWsgKyA2IC0gbGFzdE9mTW9udGguZGF5KCkpICUgNztcbiAgdmFyIGZpcnN0RGF5ID0gZmlyc3RPZk1vbnRoLmNsb25lKCkuc3VidHJhY3QocHJldkRheXMsICdkYXknKTtcbiAgdmFyIGxhc3REYXkgPSBsYXN0T2ZNb250aC5jbG9uZSgpLmFkZChuZXh0RGF5cywgJ2RheScpO1xuXG4gIHZhciB0b3RhbERheXMgPSBsYXN0RGF5LmRpZmYoZmlyc3REYXksICdkYXlzJykgKyAxO1xuXG4gIHZhciBjdXJyZW50RGF5ID0gZmlyc3REYXkuY2xvbmUoKTtcbiAgdmFyIHdlZWtzSW5Nb250aCA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdG90YWxEYXlzOyBpICs9IDEpIHtcbiAgICBpZiAoaSAlIDcgPT09IDApIHtcbiAgICAgIHdlZWtzSW5Nb250aC5wdXNoKFtdKTtcbiAgICB9XG5cbiAgICB2YXIgZGF5ID0gbnVsbDtcbiAgICBpZiAoaSA+PSBwcmV2RGF5cyAmJiBpIDwgdG90YWxEYXlzIC0gbmV4dERheXMgfHwgZW5hYmxlT3V0c2lkZURheXMpIHtcbiAgICAgIGRheSA9IGN1cnJlbnREYXkuY2xvbmUoKTtcbiAgICB9XG5cbiAgICB3ZWVrc0luTW9udGhbd2Vla3NJbk1vbnRoLmxlbmd0aCAtIDFdLnB1c2goZGF5KTtcblxuICAgIGN1cnJlbnREYXkuYWRkKDEsICdkYXknKTtcbiAgfVxuXG4gIHJldHVybiB3ZWVrc0luTW9udGg7XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGdldENhbGVuZGFyTW9udGhXaWR0aDtcbmZ1bmN0aW9uIGdldENhbGVuZGFyTW9udGhXaWR0aChkYXlTaXplLCBjYWxlbmRhck1vbnRoUGFkZGluZykge1xuICByZXR1cm4gNyAqIGRheVNpemUgKyAyICogY2FsZW5kYXJNb250aFBhZGRpbmcgKyAxO1xufSIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IGdldERldGFjaGVkQ29udGFpbmVyU3R5bGVzO1xuXG52YXIgX2NvbnN0YW50cyA9IHJlcXVpcmUoJy4uL2NvbnN0YW50cycpO1xuXG4vKipcbiAqIENhbGN1bGF0ZSBhbmQgcmV0dXJuIGEgQ1NTIHRyYW5zZm9ybSBzdHlsZSB0byBwb3NpdGlvbiBhIGRldGFjaGVkIGVsZW1lbnRcbiAqIG5leHQgdG8gYSByZWZlcmVuY2UgZWxlbWVudC4gVGhlIG9wZW4gYW5kIGFuY2hvciBkaXJlY3Rpb24gaW5kaWNhdGUgd2V0aGVyXG4gKiBpdCBzaG91bGQgYmUgcG9zaXRpb25lZCBhYm92ZS9iZWxvdyBhbmQvb3IgdG8gdGhlIGxlZnQvcmlnaHQgb2YgdGhlXG4gKiByZWZlcmVuY2UgZWxlbWVudC5cbiAqXG4gKiBBc3N1bWluZyByKDAsMCksIHIoMSwxKSwgZCgwLDApLCBkKDEsMSkgZm9yIHRoZSBib3R0b20tbGVmdCBhbmQgdG9wLXJpZ2h0XG4gKiBjb3JuZXJzIG9mIHRoZSByZWZlcmVuY2UgYW5kIGRldGFjaGVkIGVsZW1lbnRzLCByZXNwZWN0aXZlbHk6XG4gKiAgLSBvcGVuRGlyZWN0aW9uID0gRE9XTiwgYW5jaG9yRGlyZWN0aW9uID0gTEVGVCA9PiBkKDAsMSkgPT0gcigwLDEpXG4gKiAgLSBvcGVuRGlyZWN0aW9uID0gVVAsIGFuY2hvckRpcmVjdGlvbiA9IExFRlQgPT4gZCgwLDApID09IHIoMCwwKVxuICogIC0gb3BlbkRpcmVjdGlvbiA9IERPV04sIGFuY2hvckRpcmVjdGlvbiA9IFJJR0hUID0+IGQoMSwxKSA9PSByKDEsMSlcbiAqICAtIG9wZW5EaXJlY3Rpb24gPSBVUCwgYW5jaG9yRGlyZWN0aW9uID0gUklHSFQgPT4gZCgxLDApID09IHIoMSwwKVxuICpcbiAqIEJ5IHVzaW5nIGEgQ1NTIHRyYW5zZm9ybSwgd2UgYWxsb3cgdG8gZnVydGhlciBwb3NpdGlvbiBpdCB1c2luZ1xuICogdG9wL2JvdHRvbSBDU1MgcHJvcGVydGllcyBmb3IgdGhlIGFuY2hvciBndXR0ZXIuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG9wZW5EaXJlY3Rpb24gVGhlIHZlcnRpY2FsIHBvc2l0aW9uaW5nIG9mIHRoZSBwb3B1cFxuICogQHBhcmFtIHtzdHJpbmd9IGFuY2hvckRpcmVjdGlvbiBUaGUgaG9yaXpvbnRhbCBwb3NpdGlvbiBvZiB0aGUgcG9wdXBcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHJlZmVyZW5jZUVsIFRoZSByZWZlcmVuY2UgZWxlbWVudFxuICovXG5mdW5jdGlvbiBnZXREZXRhY2hlZENvbnRhaW5lclN0eWxlcyhvcGVuRGlyZWN0aW9uLCBhbmNob3JEaXJlY3Rpb24sIHJlZmVyZW5jZUVsKSB7XG4gIHZhciByZWZlcmVuY2VSZWN0ID0gcmVmZXJlbmNlRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIHZhciBvZmZzZXRYID0gcmVmZXJlbmNlUmVjdC5sZWZ0O1xuICB2YXIgb2Zmc2V0WSA9IHJlZmVyZW5jZVJlY3QudG9wO1xuXG4gIGlmIChvcGVuRGlyZWN0aW9uID09PSBfY29uc3RhbnRzLk9QRU5fVVApIHtcbiAgICBvZmZzZXRZID0gLSh3aW5kb3cuaW5uZXJIZWlnaHQgLSByZWZlcmVuY2VSZWN0LmJvdHRvbSk7XG4gIH1cblxuICBpZiAoYW5jaG9yRGlyZWN0aW9uID09PSBfY29uc3RhbnRzLkFOQ0hPUl9SSUdIVCkge1xuICAgIG9mZnNldFggPSAtKHdpbmRvdy5pbm5lcldpZHRoIC0gcmVmZXJlbmNlUmVjdC5yaWdodCk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZTNkKCcgKyBTdHJpbmcoTWF0aC5yb3VuZChvZmZzZXRYKSkgKyAncHgsICcgKyBTdHJpbmcoTWF0aC5yb3VuZChvZmZzZXRZKSkgKyAncHgsIDApJ1xuICB9O1xufSIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IGdldElucHV0SGVpZ2h0O1xuLyogZXNsaW50LWRpc2FibGUgY2FtZWxjYXNlICovXG5cbmZ1bmN0aW9uIGdldFBhZGRpbmcodmVydGljYWwsIHRvcCwgYm90dG9tKSB7XG4gIHZhciBpc1RvcERlZmluZWQgPSB0eXBlb2YgdG9wID09PSAnbnVtYmVyJztcbiAgdmFyIGlzQm90dG9tRGVmaW5lZCA9IHR5cGVvZiBib3R0b20gPT09ICdudW1iZXInO1xuICB2YXIgaXNWZXJ0aWNhbERlZmluZWQgPSB0eXBlb2YgdmVydGljYWwgPT09ICdudW1iZXInO1xuXG4gIGlmIChpc1RvcERlZmluZWQgJiYgaXNCb3R0b21EZWZpbmVkKSB7XG4gICAgcmV0dXJuIHRvcCArIGJvdHRvbTtcbiAgfVxuXG4gIGlmIChpc1RvcERlZmluZWQgJiYgaXNWZXJ0aWNhbERlZmluZWQpIHtcbiAgICByZXR1cm4gdG9wICsgdmVydGljYWw7XG4gIH1cblxuICBpZiAoaXNUb3BEZWZpbmVkKSB7XG4gICAgcmV0dXJuIHRvcDtcbiAgfVxuXG4gIGlmIChpc0JvdHRvbURlZmluZWQgJiYgaXNWZXJ0aWNhbERlZmluZWQpIHtcbiAgICByZXR1cm4gYm90dG9tICsgdmVydGljYWw7XG4gIH1cblxuICBpZiAoaXNCb3R0b21EZWZpbmVkKSB7XG4gICAgcmV0dXJuIGJvdHRvbTtcbiAgfVxuXG4gIGlmIChpc1ZlcnRpY2FsRGVmaW5lZCkge1xuICAgIHJldHVybiAyICogdmVydGljYWw7XG4gIH1cblxuICByZXR1cm4gMDtcbn1cblxuZnVuY3Rpb24gZ2V0SW5wdXRIZWlnaHQoX3JlZiwgc21hbGwpIHtcbiAgdmFyIF9yZWYkZm9udCRpbnB1dCA9IF9yZWYuZm9udC5pbnB1dCxcbiAgICAgIGxpbmVIZWlnaHQgPSBfcmVmJGZvbnQkaW5wdXQubGluZUhlaWdodCxcbiAgICAgIGxpbmVIZWlnaHRfc21hbGwgPSBfcmVmJGZvbnQkaW5wdXQubGluZUhlaWdodF9zbWFsbCxcbiAgICAgIF9yZWYkc3BhY2luZyA9IF9yZWYuc3BhY2luZyxcbiAgICAgIGlucHV0UGFkZGluZyA9IF9yZWYkc3BhY2luZy5pbnB1dFBhZGRpbmcsXG4gICAgICBkaXNwbGF5VGV4dFBhZGRpbmdWZXJ0aWNhbCA9IF9yZWYkc3BhY2luZy5kaXNwbGF5VGV4dFBhZGRpbmdWZXJ0aWNhbCxcbiAgICAgIGRpc3BsYXlUZXh0UGFkZGluZ1RvcCA9IF9yZWYkc3BhY2luZy5kaXNwbGF5VGV4dFBhZGRpbmdUb3AsXG4gICAgICBkaXNwbGF5VGV4dFBhZGRpbmdCb3R0b20gPSBfcmVmJHNwYWNpbmcuZGlzcGxheVRleHRQYWRkaW5nQm90dG9tLFxuICAgICAgZGlzcGxheVRleHRQYWRkaW5nVmVydGljYWxfc21hbGwgPSBfcmVmJHNwYWNpbmcuZGlzcGxheVRleHRQYWRkaW5nVmVydGljYWxfc21hbGwsXG4gICAgICBkaXNwbGF5VGV4dFBhZGRpbmdUb3Bfc21hbGwgPSBfcmVmJHNwYWNpbmcuZGlzcGxheVRleHRQYWRkaW5nVG9wX3NtYWxsLFxuICAgICAgZGlzcGxheVRleHRQYWRkaW5nQm90dG9tX3NtYWxsID0gX3JlZiRzcGFjaW5nLmRpc3BsYXlUZXh0UGFkZGluZ0JvdHRvbV9zbWFsbDtcblxuICB2YXIgY2FsY0xpbmVIZWlnaHQgPSBzbWFsbCA/IGxpbmVIZWlnaHRfc21hbGwgOiBsaW5lSGVpZ2h0O1xuXG4gIHZhciBwYWRkaW5nID0gc21hbGwgPyBnZXRQYWRkaW5nKGRpc3BsYXlUZXh0UGFkZGluZ1ZlcnRpY2FsX3NtYWxsLCBkaXNwbGF5VGV4dFBhZGRpbmdUb3Bfc21hbGwsIGRpc3BsYXlUZXh0UGFkZGluZ0JvdHRvbV9zbWFsbCkgOiBnZXRQYWRkaW5nKGRpc3BsYXlUZXh0UGFkZGluZ1ZlcnRpY2FsLCBkaXNwbGF5VGV4dFBhZGRpbmdUb3AsIGRpc3BsYXlUZXh0UGFkZGluZ0JvdHRvbSk7XG5cbiAgcmV0dXJuIHBhcnNlSW50KGNhbGNMaW5lSGVpZ2h0LCAxMCkgKyAyICogaW5wdXRQYWRkaW5nICsgcGFkZGluZztcbn0iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzWydkZWZhdWx0J10gPSBnZXROdW1iZXJPZkNhbGVuZGFyTW9udGhXZWVrcztcblxudmFyIF9tb21lbnQgPSByZXF1aXJlKCdtb21lbnQnKTtcblxudmFyIF9tb21lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbW9tZW50KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBnZXRCbGFua0RheXNCZWZvcmVGaXJzdERheShmaXJzdERheU9mTW9udGgsIGZpcnN0RGF5T2ZXZWVrKSB7XG4gIHZhciB3ZWVrRGF5RGlmZiA9IGZpcnN0RGF5T2ZNb250aC5kYXkoKSAtIGZpcnN0RGF5T2ZXZWVrO1xuICByZXR1cm4gKHdlZWtEYXlEaWZmICsgNykgJSA3O1xufVxuXG5mdW5jdGlvbiBnZXROdW1iZXJPZkNhbGVuZGFyTW9udGhXZWVrcyhtb250aCkge1xuICB2YXIgZmlyc3REYXlPZldlZWsgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IF9tb21lbnQyWydkZWZhdWx0J10ubG9jYWxlRGF0YSgpLmZpcnN0RGF5T2ZXZWVrKCk7XG5cbiAgdmFyIGZpcnN0RGF5T2ZNb250aCA9IG1vbnRoLmNsb25lKCkuc3RhcnRPZignbW9udGgnKTtcbiAgdmFyIG51bUJsYW5rRGF5cyA9IGdldEJsYW5rRGF5c0JlZm9yZUZpcnN0RGF5KGZpcnN0RGF5T2ZNb250aCwgZmlyc3REYXlPZldlZWspO1xuICByZXR1cm4gTWF0aC5jZWlsKChudW1CbGFua0RheXMgKyBtb250aC5kYXlzSW5Nb250aCgpKSAvIDcpO1xufSIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IGdldFBocmFzZTtcbmZ1bmN0aW9uIGdldFBocmFzZShwaHJhc2UsIGFyZ3MpIHtcbiAgaWYgKHR5cGVvZiBwaHJhc2UgPT09ICdzdHJpbmcnKSByZXR1cm4gcGhyYXNlO1xuXG4gIGlmICh0eXBlb2YgcGhyYXNlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIHBocmFzZShhcmdzKTtcbiAgfVxuXG4gIHJldHVybiAnJztcbn0iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzWydkZWZhdWx0J10gPSBnZXRQaHJhc2VQcm9wVHlwZXM7XG5cbnZhciBfb2JqZWN0ID0gcmVxdWlyZSgnb2JqZWN0LmFzc2lnbicpO1xuXG52YXIgX29iamVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9vYmplY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG5mdW5jdGlvbiBnZXRQaHJhc2VQcm9wVHlwZXMoZGVmYXVsdFBocmFzZXMpIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKGRlZmF1bHRQaHJhc2VzKS5yZWR1Y2UoZnVuY3Rpb24gKHBocmFzZXMsIGtleSkge1xuICAgIHJldHVybiAoMCwgX29iamVjdDJbJ2RlZmF1bHQnXSkoe30sIHBocmFzZXMsIF9kZWZpbmVQcm9wZXJ0eSh7fSwga2V5LCBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLm9uZU9mVHlwZShbX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zdHJpbmcsIF9wcm9wVHlwZXMyWydkZWZhdWx0J10uZnVuYywgX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5ub2RlXSkpKTtcbiAgfSwge30pO1xufSIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IGdldFJlc3BvbnNpdmVDb250YWluZXJTdHlsZXM7XG5cbnZhciBfY29uc3RhbnRzID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzJyk7XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbmZ1bmN0aW9uIGdldFJlc3BvbnNpdmVDb250YWluZXJTdHlsZXMoYW5jaG9yRGlyZWN0aW9uLCBjdXJyZW50T2Zmc2V0LCBjb250YWluZXJFZGdlLCBtYXJnaW4pIHtcbiAgdmFyIHdpbmRvd1dpZHRoID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cuaW5uZXJXaWR0aCA6IDA7XG4gIHZhciBjYWxjdWxhdGVkT2Zmc2V0ID0gYW5jaG9yRGlyZWN0aW9uID09PSBfY29uc3RhbnRzLkFOQ0hPUl9MRUZUID8gd2luZG93V2lkdGggLSBjb250YWluZXJFZGdlIDogY29udGFpbmVyRWRnZTtcbiAgdmFyIGNhbGN1bGF0ZWRNYXJnaW4gPSBtYXJnaW4gfHwgMDtcblxuICByZXR1cm4gX2RlZmluZVByb3BlcnR5KHt9LCBhbmNob3JEaXJlY3Rpb24sIE1hdGgubWluKGN1cnJlbnRPZmZzZXQgKyBjYWxjdWxhdGVkT2Zmc2V0IC0gY2FsY3VsYXRlZE1hcmdpbiwgMCkpO1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBnZXRTZWxlY3RlZERhdGVPZmZzZXQ7XG52YXIgZGVmYXVsdE1vZGlmaWVyID0gZnVuY3Rpb24gZGVmYXVsdE1vZGlmaWVyKGRheSkge1xuICByZXR1cm4gZGF5O1xufTtcblxuZnVuY3Rpb24gZ2V0U2VsZWN0ZWREYXRlT2Zmc2V0KGZuLCBkYXkpIHtcbiAgdmFyIG1vZGlmaWVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBkZWZhdWx0TW9kaWZpZXI7XG5cbiAgaWYgKCFmbikgcmV0dXJuIGRheTtcbiAgcmV0dXJuIG1vZGlmaWVyKGZuKGRheS5jbG9uZSgpKSk7XG59IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGdldFRyYW5zZm9ybVN0eWxlcztcbmZ1bmN0aW9uIGdldFRyYW5zZm9ybVN0eWxlcyh0cmFuc2Zvcm1WYWx1ZSkge1xuICByZXR1cm4ge1xuICAgIHRyYW5zZm9ybTogdHJhbnNmb3JtVmFsdWUsXG4gICAgbXNUcmFuc2Zvcm06IHRyYW5zZm9ybVZhbHVlLFxuICAgIE1velRyYW5zZm9ybTogdHJhbnNmb3JtVmFsdWUsXG4gICAgV2Via2l0VHJhbnNmb3JtOiB0cmFuc2Zvcm1WYWx1ZVxuICB9O1xufSIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IGdldFZpc2libGVEYXlzO1xuXG52YXIgX21vbWVudCA9IHJlcXVpcmUoJ21vbWVudCcpO1xuXG52YXIgX21vbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb21lbnQpO1xuXG52YXIgX3RvSVNPTW9udGhTdHJpbmcgPSByZXF1aXJlKCcuL3RvSVNPTW9udGhTdHJpbmcnKTtcblxudmFyIF90b0lTT01vbnRoU3RyaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RvSVNPTW9udGhTdHJpbmcpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGdldFZpc2libGVEYXlzKG1vbnRoLCBudW1iZXJPZk1vbnRocywgZW5hYmxlT3V0c2lkZURheXMsIHdpdGhvdXRUcmFuc2l0aW9uTW9udGhzKSB7XG4gIGlmICghX21vbWVudDJbJ2RlZmF1bHQnXS5pc01vbWVudChtb250aCkpIHJldHVybiB7fTtcblxuICB2YXIgdmlzaWJsZURheXNCeU1vbnRoID0ge307XG4gIHZhciBjdXJyZW50TW9udGggPSB3aXRob3V0VHJhbnNpdGlvbk1vbnRocyA/IG1vbnRoLmNsb25lKCkgOiBtb250aC5jbG9uZSgpLnN1YnRyYWN0KDEsICdtb250aCcpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8ICh3aXRob3V0VHJhbnNpdGlvbk1vbnRocyA/IG51bWJlck9mTW9udGhzIDogbnVtYmVyT2ZNb250aHMgKyAyKTsgaSArPSAxKSB7XG4gICAgdmFyIHZpc2libGVEYXlzID0gW107XG5cbiAgICAvLyBzZXQgdXRjIG9mZnNldCB0byBnZXQgY29ycmVjdCBkYXRlcyBpbiBmdXR1cmUgKHdoZW4gdGltZXpvbmUgY2hhbmdlcylcbiAgICB2YXIgYmFzZURhdGUgPSBjdXJyZW50TW9udGguY2xvbmUoKTtcbiAgICB2YXIgZmlyc3RPZk1vbnRoID0gYmFzZURhdGUuY2xvbmUoKS5zdGFydE9mKCdtb250aCcpLmhvdXIoMTIpO1xuICAgIHZhciBsYXN0T2ZNb250aCA9IGJhc2VEYXRlLmNsb25lKCkuZW5kT2YoJ21vbnRoJykuaG91cigxMik7XG5cbiAgICB2YXIgY3VycmVudERheSA9IGZpcnN0T2ZNb250aC5jbG9uZSgpO1xuXG4gICAgLy8gZGF5cyBiZWxvbmdpbmcgdG8gdGhlIHByZXZpb3VzIG1vbnRoXG4gICAgaWYgKGVuYWJsZU91dHNpZGVEYXlzKSB7XG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGN1cnJlbnREYXkud2Vla2RheSgpOyBqICs9IDEpIHtcbiAgICAgICAgdmFyIHByZXZEYXkgPSBjdXJyZW50RGF5LmNsb25lKCkuc3VidHJhY3QoaiArIDEsICdkYXknKTtcbiAgICAgICAgdmlzaWJsZURheXMudW5zaGlmdChwcmV2RGF5KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB3aGlsZSAoY3VycmVudERheSA8IGxhc3RPZk1vbnRoKSB7XG4gICAgICB2aXNpYmxlRGF5cy5wdXNoKGN1cnJlbnREYXkuY2xvbmUoKSk7XG4gICAgICBjdXJyZW50RGF5LmFkZCgxLCAnZGF5Jyk7XG4gICAgfVxuXG4gICAgaWYgKGVuYWJsZU91dHNpZGVEYXlzKSB7XG4gICAgICAvLyB3ZWVrZGF5KCkgcmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGRheSBvZiB0aGUgd2VlayBhY2NvcmRpbmcgdG8gdGhlIGxvY2FsZVxuICAgICAgLy8gdGhpcyBtZWFucyBpZiB0aGUgd2VlayBzdGFydHMgb24gTW9uZGF5LCB3ZWVrZGF5KCkgd2lsbCByZXR1cm4gMCBmb3IgYSBNb25kYXkgZGF0ZSwgbm90IDFcbiAgICAgIGlmIChjdXJyZW50RGF5LndlZWtkYXkoKSAhPT0gMCkge1xuICAgICAgICAvLyBkYXlzIGJlbG9uZ2luZyB0byB0aGUgbmV4dCBtb250aFxuICAgICAgICBmb3IgKHZhciBrID0gY3VycmVudERheS53ZWVrZGF5KCksIGNvdW50ID0gMDsgayA8IDc7IGsgKz0gMSwgY291bnQgKz0gMSkge1xuICAgICAgICAgIHZhciBuZXh0RGF5ID0gY3VycmVudERheS5jbG9uZSgpLmFkZChjb3VudCwgJ2RheScpO1xuICAgICAgICAgIHZpc2libGVEYXlzLnB1c2gobmV4dERheSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB2aXNpYmxlRGF5c0J5TW9udGhbKDAsIF90b0lTT01vbnRoU3RyaW5nMlsnZGVmYXVsdCddKShjdXJyZW50TW9udGgpXSA9IHZpc2libGVEYXlzO1xuICAgIGN1cnJlbnRNb250aCA9IGN1cnJlbnRNb250aC5jbG9uZSgpLmFkZCgxLCAnbW9udGgnKTtcbiAgfVxuXG4gIHJldHVybiB2aXNpYmxlRGF5c0J5TW9udGg7XG59IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1snZGVmYXVsdCddID0gaXNBZnRlckRheTtcblxudmFyIF9tb21lbnQgPSByZXF1aXJlKCdtb21lbnQnKTtcblxudmFyIF9tb21lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbW9tZW50KTtcblxudmFyIF9pc0JlZm9yZURheSA9IHJlcXVpcmUoJy4vaXNCZWZvcmVEYXknKTtcblxudmFyIF9pc0JlZm9yZURheTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc0JlZm9yZURheSk7XG5cbnZhciBfaXNTYW1lRGF5ID0gcmVxdWlyZSgnLi9pc1NhbWVEYXknKTtcblxudmFyIF9pc1NhbWVEYXkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNTYW1lRGF5KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBpc0FmdGVyRGF5KGEsIGIpIHtcbiAgaWYgKCFfbW9tZW50MlsnZGVmYXVsdCddLmlzTW9tZW50KGEpIHx8ICFfbW9tZW50MlsnZGVmYXVsdCddLmlzTW9tZW50KGIpKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiAhKDAsIF9pc0JlZm9yZURheTJbJ2RlZmF1bHQnXSkoYSwgYikgJiYgISgwLCBfaXNTYW1lRGF5MlsnZGVmYXVsdCddKShhLCBiKTtcbn0iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzWydkZWZhdWx0J10gPSBpc0JlZm9yZURheTtcblxudmFyIF9tb21lbnQgPSByZXF1aXJlKCdtb21lbnQnKTtcblxudmFyIF9tb21lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbW9tZW50KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBpc0JlZm9yZURheShhLCBiKSB7XG4gIGlmICghX21vbWVudDJbJ2RlZmF1bHQnXS5pc01vbWVudChhKSB8fCAhX21vbWVudDJbJ2RlZmF1bHQnXS5pc01vbWVudChiKSkgcmV0dXJuIGZhbHNlO1xuXG4gIHZhciBhWWVhciA9IGEueWVhcigpO1xuICB2YXIgYU1vbnRoID0gYS5tb250aCgpO1xuXG4gIHZhciBiWWVhciA9IGIueWVhcigpO1xuICB2YXIgYk1vbnRoID0gYi5tb250aCgpO1xuXG4gIHZhciBpc1NhbWVZZWFyID0gYVllYXIgPT09IGJZZWFyO1xuICB2YXIgaXNTYW1lTW9udGggPSBhTW9udGggPT09IGJNb250aDtcblxuICBpZiAoaXNTYW1lWWVhciAmJiBpc1NhbWVNb250aCkgcmV0dXJuIGEuZGF0ZSgpIDwgYi5kYXRlKCk7XG4gIGlmIChpc1NhbWVZZWFyKSByZXR1cm4gYU1vbnRoIDwgYk1vbnRoO1xuICByZXR1cm4gYVllYXIgPCBiWWVhcjtcbn0iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzWydkZWZhdWx0J10gPSBpc0RheVZpc2libGU7XG5cbnZhciBfaXNCZWZvcmVEYXkgPSByZXF1aXJlKCcuL2lzQmVmb3JlRGF5Jyk7XG5cbnZhciBfaXNCZWZvcmVEYXkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNCZWZvcmVEYXkpO1xuXG52YXIgX2lzQWZ0ZXJEYXkgPSByZXF1aXJlKCcuL2lzQWZ0ZXJEYXknKTtcblxudmFyIF9pc0FmdGVyRGF5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzQWZ0ZXJEYXkpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGlzRGF5VmlzaWJsZShkYXksIG1vbnRoLCBudW1iZXJPZk1vbnRocywgZW5hYmxlT3V0c2lkZURheXMpIHtcbiAgdmFyIGZpcnN0RGF5T2ZGaXJzdE1vbnRoID0gbW9udGguY2xvbmUoKS5zdGFydE9mKCdtb250aCcpO1xuICBpZiAoZW5hYmxlT3V0c2lkZURheXMpIGZpcnN0RGF5T2ZGaXJzdE1vbnRoID0gZmlyc3REYXlPZkZpcnN0TW9udGguc3RhcnRPZignd2VlaycpO1xuICBpZiAoKDAsIF9pc0JlZm9yZURheTJbJ2RlZmF1bHQnXSkoZGF5LCBmaXJzdERheU9mRmlyc3RNb250aCkpIHJldHVybiBmYWxzZTtcblxuICB2YXIgbGFzdERheU9mTGFzdE1vbnRoID0gbW9udGguY2xvbmUoKS5hZGQobnVtYmVyT2ZNb250aHMgLSAxLCAnbW9udGhzJykuZW5kT2YoJ21vbnRoJyk7XG4gIGlmIChlbmFibGVPdXRzaWRlRGF5cykgbGFzdERheU9mTGFzdE1vbnRoID0gbGFzdERheU9mTGFzdE1vbnRoLmVuZE9mKCd3ZWVrJyk7XG4gIHJldHVybiAhKDAsIF9pc0FmdGVyRGF5MlsnZGVmYXVsdCddKShkYXksIGxhc3REYXlPZkxhc3RNb250aCk7XG59IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1snZGVmYXVsdCddID0gaXNJbmNsdXNpdmVseUFmdGVyRGF5O1xuXG52YXIgX21vbWVudCA9IHJlcXVpcmUoJ21vbWVudCcpO1xuXG52YXIgX21vbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb21lbnQpO1xuXG52YXIgX2lzQmVmb3JlRGF5ID0gcmVxdWlyZSgnLi9pc0JlZm9yZURheScpO1xuXG52YXIgX2lzQmVmb3JlRGF5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzQmVmb3JlRGF5KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBpc0luY2x1c2l2ZWx5QWZ0ZXJEYXkoYSwgYikge1xuICBpZiAoIV9tb21lbnQyWydkZWZhdWx0J10uaXNNb21lbnQoYSkgfHwgIV9tb21lbnQyWydkZWZhdWx0J10uaXNNb21lbnQoYikpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuICEoMCwgX2lzQmVmb3JlRGF5MlsnZGVmYXVsdCddKShhLCBiKTtcbn0iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzWydkZWZhdWx0J10gPSBpc0luY2x1c2l2ZWx5QmVmb3JlRGF5O1xuXG52YXIgX21vbWVudCA9IHJlcXVpcmUoJ21vbWVudCcpO1xuXG52YXIgX21vbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb21lbnQpO1xuXG52YXIgX2lzQWZ0ZXJEYXkgPSByZXF1aXJlKCcuL2lzQWZ0ZXJEYXknKTtcblxudmFyIF9pc0FmdGVyRGF5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzQWZ0ZXJEYXkpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGlzSW5jbHVzaXZlbHlCZWZvcmVEYXkoYSwgYikge1xuICBpZiAoIV9tb21lbnQyWydkZWZhdWx0J10uaXNNb21lbnQoYSkgfHwgIV9tb21lbnQyWydkZWZhdWx0J10uaXNNb21lbnQoYikpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuICEoMCwgX2lzQWZ0ZXJEYXkyWydkZWZhdWx0J10pKGEsIGIpO1xufSIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IGlzTmV4dERheTtcblxudmFyIF9tb21lbnQgPSByZXF1aXJlKCdtb21lbnQnKTtcblxudmFyIF9tb21lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbW9tZW50KTtcblxudmFyIF9pc1NhbWVEYXkgPSByZXF1aXJlKCcuL2lzU2FtZURheScpO1xuXG52YXIgX2lzU2FtZURheTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9pc1NhbWVEYXkpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGlzTmV4dERheShhLCBiKSB7XG4gIGlmICghX21vbWVudDJbJ2RlZmF1bHQnXS5pc01vbWVudChhKSB8fCAhX21vbWVudDJbJ2RlZmF1bHQnXS5pc01vbWVudChiKSkgcmV0dXJuIGZhbHNlO1xuICB2YXIgbmV4dERheSA9ICgwLCBfbW9tZW50MlsnZGVmYXVsdCddKShhKS5hZGQoMSwgJ2RheScpO1xuICByZXR1cm4gKDAsIF9pc1NhbWVEYXkyWydkZWZhdWx0J10pKG5leHREYXksIGIpO1xufSIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IGlzTmV4dE1vbnRoO1xuXG52YXIgX21vbWVudCA9IHJlcXVpcmUoJ21vbWVudCcpO1xuXG52YXIgX21vbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb21lbnQpO1xuXG52YXIgX2lzU2FtZU1vbnRoID0gcmVxdWlyZSgnLi9pc1NhbWVNb250aCcpO1xuXG52YXIgX2lzU2FtZU1vbnRoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2lzU2FtZU1vbnRoKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBpc05leHRNb250aChhLCBiKSB7XG4gIGlmICghX21vbWVudDJbJ2RlZmF1bHQnXS5pc01vbWVudChhKSB8fCAhX21vbWVudDJbJ2RlZmF1bHQnXS5pc01vbWVudChiKSkgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gKDAsIF9pc1NhbWVNb250aDJbJ2RlZmF1bHQnXSkoYS5jbG9uZSgpLmFkZCgxLCAnbW9udGgnKSwgYik7XG59IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1snZGVmYXVsdCddID0gaXNQcmV2TW9udGg7XG5cbnZhciBfbW9tZW50ID0gcmVxdWlyZSgnbW9tZW50Jyk7XG5cbnZhciBfbW9tZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21vbWVudCk7XG5cbnZhciBfaXNTYW1lTW9udGggPSByZXF1aXJlKCcuL2lzU2FtZU1vbnRoJyk7XG5cbnZhciBfaXNTYW1lTW9udGgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXNTYW1lTW9udGgpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIGlzUHJldk1vbnRoKGEsIGIpIHtcbiAgaWYgKCFfbW9tZW50MlsnZGVmYXVsdCddLmlzTW9tZW50KGEpIHx8ICFfbW9tZW50MlsnZGVmYXVsdCddLmlzTW9tZW50KGIpKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiAoMCwgX2lzU2FtZU1vbnRoMlsnZGVmYXVsdCddKShhLmNsb25lKCkuc3VidHJhY3QoMSwgJ21vbnRoJyksIGIpO1xufSIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IGlzU2FtZURheTtcblxudmFyIF9tb21lbnQgPSByZXF1aXJlKCdtb21lbnQnKTtcblxudmFyIF9tb21lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbW9tZW50KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBpc1NhbWVEYXkoYSwgYikge1xuICBpZiAoIV9tb21lbnQyWydkZWZhdWx0J10uaXNNb21lbnQoYSkgfHwgIV9tb21lbnQyWydkZWZhdWx0J10uaXNNb21lbnQoYikpIHJldHVybiBmYWxzZTtcbiAgLy8gQ29tcGFyZSBsZWFzdCBzaWduaWZpY2FudCwgbW9zdCBsaWtlbHkgdG8gY2hhbmdlIHVuaXRzIGZpcnN0XG4gIC8vIE1vbWVudCdzIGlzU2FtZSBjbG9uZXMgbW9tZW50IGlucHV0cyBhbmQgaXMgYSB0YWQgc2xvd1xuICByZXR1cm4gYS5kYXRlKCkgPT09IGIuZGF0ZSgpICYmIGEubW9udGgoKSA9PT0gYi5tb250aCgpICYmIGEueWVhcigpID09PSBiLnllYXIoKTtcbn0iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzWydkZWZhdWx0J10gPSBpc1NhbWVNb250aDtcblxudmFyIF9tb21lbnQgPSByZXF1aXJlKCdtb21lbnQnKTtcblxudmFyIF9tb21lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbW9tZW50KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBpc1NhbWVNb250aChhLCBiKSB7XG4gIGlmICghX21vbWVudDJbJ2RlZmF1bHQnXS5pc01vbWVudChhKSB8fCAhX21vbWVudDJbJ2RlZmF1bHQnXS5pc01vbWVudChiKSkgcmV0dXJuIGZhbHNlO1xuICAvLyBDb21wYXJlIGxlYXN0IHNpZ25pZmljYW50LCBtb3N0IGxpa2VseSB0byBjaGFuZ2UgdW5pdHMgZmlyc3RcbiAgLy8gTW9tZW50J3MgaXNTYW1lIGNsb25lcyBtb21lbnQgaW5wdXRzIGFuZCBpcyBhIHRhZCBzbG93XG4gIHJldHVybiBhLm1vbnRoKCkgPT09IGIubW9udGgoKSAmJiBhLnllYXIoKSA9PT0gYi55ZWFyKCk7XG59IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1snZGVmYXVsdCddID0gaXNUcmFuc2l0aW9uRW5kU3VwcG9ydGVkO1xuZnVuY3Rpb24gaXNUcmFuc2l0aW9uRW5kU3VwcG9ydGVkKCkge1xuICByZXR1cm4gISEodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgJ1RyYW5zaXRpb25FdmVudCcgaW4gd2luZG93KTtcbn0iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzWydkZWZhdWx0J10gPSB0b0lTT0RhdGVTdHJpbmc7XG5cbnZhciBfbW9tZW50ID0gcmVxdWlyZSgnbW9tZW50Jyk7XG5cbnZhciBfbW9tZW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX21vbWVudCk7XG5cbnZhciBfdG9Nb21lbnRPYmplY3QgPSByZXF1aXJlKCcuL3RvTW9tZW50T2JqZWN0Jyk7XG5cbnZhciBfdG9Nb21lbnRPYmplY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfdG9Nb21lbnRPYmplY3QpO1xuXG52YXIgX2NvbnN0YW50cyA9IHJlcXVpcmUoJy4uL2NvbnN0YW50cycpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIHRvSVNPRGF0ZVN0cmluZyhkYXRlLCBjdXJyZW50Rm9ybWF0KSB7XG4gIHZhciBkYXRlT2JqID0gX21vbWVudDJbJ2RlZmF1bHQnXS5pc01vbWVudChkYXRlKSA/IGRhdGUgOiAoMCwgX3RvTW9tZW50T2JqZWN0MlsnZGVmYXVsdCddKShkYXRlLCBjdXJyZW50Rm9ybWF0KTtcbiAgaWYgKCFkYXRlT2JqKSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gZGF0ZU9iai5mb3JtYXQoX2NvbnN0YW50cy5JU09fRk9STUFUKTtcbn0iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzWydkZWZhdWx0J10gPSB0b0lTT01vbnRoU3RyaW5nO1xuXG52YXIgX21vbWVudCA9IHJlcXVpcmUoJ21vbWVudCcpO1xuXG52YXIgX21vbWVudDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9tb21lbnQpO1xuXG52YXIgX3RvTW9tZW50T2JqZWN0ID0gcmVxdWlyZSgnLi90b01vbWVudE9iamVjdCcpO1xuXG52YXIgX3RvTW9tZW50T2JqZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3RvTW9tZW50T2JqZWN0KTtcblxudmFyIF9jb25zdGFudHMgPSByZXF1aXJlKCcuLi9jb25zdGFudHMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG5mdW5jdGlvbiB0b0lTT01vbnRoU3RyaW5nKGRhdGUsIGN1cnJlbnRGb3JtYXQpIHtcbiAgdmFyIGRhdGVPYmogPSBfbW9tZW50MlsnZGVmYXVsdCddLmlzTW9tZW50KGRhdGUpID8gZGF0ZSA6ICgwLCBfdG9Nb21lbnRPYmplY3QyWydkZWZhdWx0J10pKGRhdGUsIGN1cnJlbnRGb3JtYXQpO1xuICBpZiAoIWRhdGVPYmopIHJldHVybiBudWxsO1xuXG4gIHJldHVybiBkYXRlT2JqLmZvcm1hdChfY29uc3RhbnRzLklTT19NT05USF9GT1JNQVQpO1xufSIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IHRvTG9jYWxpemVkRGF0ZVN0cmluZztcblxudmFyIF9tb21lbnQgPSByZXF1aXJlKCdtb21lbnQnKTtcblxudmFyIF9tb21lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbW9tZW50KTtcblxudmFyIF90b01vbWVudE9iamVjdCA9IHJlcXVpcmUoJy4vdG9Nb21lbnRPYmplY3QnKTtcblxudmFyIF90b01vbWVudE9iamVjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF90b01vbWVudE9iamVjdCk7XG5cbnZhciBfY29uc3RhbnRzID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxuZnVuY3Rpb24gdG9Mb2NhbGl6ZWREYXRlU3RyaW5nKGRhdGUsIGN1cnJlbnRGb3JtYXQpIHtcbiAgdmFyIGRhdGVPYmogPSBfbW9tZW50MlsnZGVmYXVsdCddLmlzTW9tZW50KGRhdGUpID8gZGF0ZSA6ICgwLCBfdG9Nb21lbnRPYmplY3QyWydkZWZhdWx0J10pKGRhdGUsIGN1cnJlbnRGb3JtYXQpO1xuICBpZiAoIWRhdGVPYmopIHJldHVybiBudWxsO1xuXG4gIHJldHVybiBkYXRlT2JqLmZvcm1hdChfY29uc3RhbnRzLkRJU1BMQVlfRk9STUFUKTtcbn0iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzWydkZWZhdWx0J10gPSB0b01vbWVudE9iamVjdDtcblxudmFyIF9tb21lbnQgPSByZXF1aXJlKCdtb21lbnQnKTtcblxudmFyIF9tb21lbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbW9tZW50KTtcblxudmFyIF9jb25zdGFudHMgPSByZXF1aXJlKCcuLi9jb25zdGFudHMnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG5mdW5jdGlvbiB0b01vbWVudE9iamVjdChkYXRlU3RyaW5nLCBjdXN0b21Gb3JtYXQpIHtcbiAgdmFyIGRhdGVGb3JtYXRzID0gY3VzdG9tRm9ybWF0ID8gW2N1c3RvbUZvcm1hdCwgX2NvbnN0YW50cy5ESVNQTEFZX0ZPUk1BVCwgX2NvbnN0YW50cy5JU09fRk9STUFUXSA6IFtfY29uc3RhbnRzLkRJU1BMQVlfRk9STUFULCBfY29uc3RhbnRzLklTT19GT1JNQVRdO1xuXG4gIHZhciBkYXRlID0gKDAsIF9tb21lbnQyWydkZWZhdWx0J10pKGRhdGVTdHJpbmcsIGRhdGVGb3JtYXRzLCB0cnVlKTtcbiAgcmV0dXJuIGRhdGUuaXNWYWxpZCgpID8gZGF0ZS5ob3VyKDEyKSA6IG51bGw7XG59IiwidmFyIG1lc3NhZ2VzID0ge1xuICBpbnZhbGlkUHJlZGljYXRlOiAnYHByZWRpY2F0ZWAgbXVzdCBiZSBhIGZ1bmN0aW9uJyxcbiAgaW52YWxpZFByb3BWYWxpZGF0b3I6ICdgcHJvcFZhbGlkYXRvcmAgbXVzdCBiZSBhIGZ1bmN0aW9uJyxcbiAgcmVxdWlyZWRDb3JlOiAnaXMgbWFya2VkIGFzIHJlcXVpcmVkJyxcbiAgaW52YWxpZFR5cGVDb3JlOiAnSW52YWxpZCBpbnB1dCB0eXBlJyxcbiAgcHJlZGljYXRlRmFpbHVyZUNvcmU6ICdGYWlsZWQgdG8gc3VjY2VlZCB3aXRoIHByZWRpY2F0ZScsXG4gIGFub255bW91c01lc3NhZ2U6ICc8PGFub255bW91cz4+JyxcbiAgYmFzZUludmFsaWRNZXNzYWdlOiAnSW52YWxpZCAnLFxufTtcblxuZnVuY3Rpb24gY29uc3RydWN0UHJvcFZhbGlkYXRvclZhcmlhdGlvbnMocHJvcFZhbGlkYXRvcikge1xuICBpZiAodHlwZW9mIHByb3BWYWxpZGF0b3IgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZXMuaW52YWxpZFByb3BWYWxpZGF0b3IpO1xuICB9XG5cbiAgdmFyIHJlcXVpcmVkUHJvcFZhbGlkYXRvciA9IHByb3BWYWxpZGF0b3IuYmluZChudWxsLCBmYWxzZSwgbnVsbCk7XG4gIHJlcXVpcmVkUHJvcFZhbGlkYXRvci5pc1JlcXVpcmVkID0gcHJvcFZhbGlkYXRvci5iaW5kKG51bGwsIHRydWUsIG51bGwpO1xuXG4gIHJlcXVpcmVkUHJvcFZhbGlkYXRvci53aXRoUHJlZGljYXRlID0gZnVuY3Rpb24gcHJlZGljYXRlQXBwbGljYXRpb24ocHJlZGljYXRlKSB7XG4gICAgaWYgKHR5cGVvZiBwcmVkaWNhdGUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlcy5pbnZhbGlkUHJlZGljYXRlKTtcbiAgICB9XG4gICAgdmFyIGJhc2VQcm9wVmFsaWRhdG9yID0gcHJvcFZhbGlkYXRvci5iaW5kKG51bGwsIGZhbHNlLCBwcmVkaWNhdGUpO1xuICAgIGJhc2VQcm9wVmFsaWRhdG9yLmlzUmVxdWlyZWQgPSBwcm9wVmFsaWRhdG9yLmJpbmQobnVsbCwgdHJ1ZSwgcHJlZGljYXRlKTtcbiAgICByZXR1cm4gYmFzZVByb3BWYWxpZGF0b3I7XG4gIH07XG5cbiAgcmV0dXJuIHJlcXVpcmVkUHJvcFZhbGlkYXRvcjtcbn1cblxuZnVuY3Rpb24gY3JlYXRlSW52YWxpZFJlcXVpcmVkRXJyb3JNZXNzYWdlKHByb3BOYW1lLCBjb21wb25lbnROYW1lLCB2YWx1ZSkge1xuICByZXR1cm4gbmV3IEVycm9yKFxuICAgICdUaGUgcHJvcCBgJyArIHByb3BOYW1lICsgJ2AgJyArIG1lc3NhZ2VzLnJlcXVpcmVkQ29yZSArXG4gICAgJyBpbiBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgYnV0IGl0cyB2YWx1ZSBpcyBgJyArIHZhbHVlICsgJ2AuJ1xuICApO1xufVxuXG52YXIgaW5kZXBlbmRlbnRHdWFyZGlhblZhbHVlID0gLTE7XG5cbmZ1bmN0aW9uIHByZVZhbGlkYXRpb25SZXF1aXJlQ2hlY2soaXNSZXF1aXJlZCwgY29tcG9uZW50TmFtZSwgcHJvcEZ1bGxOYW1lLCBwcm9wVmFsdWUpIHtcbiAgdmFyIGlzUHJvcFZhbHVlVW5kZWZpbmVkID0gdHlwZW9mIHByb3BWYWx1ZSA9PT0gJ3VuZGVmaW5lZCc7XG4gIHZhciBpc1Byb3BWYWx1ZU51bGwgPSBwcm9wVmFsdWUgPT09IG51bGw7XG5cbiAgaWYgKGlzUmVxdWlyZWQpIHtcbiAgICBpZiAoaXNQcm9wVmFsdWVVbmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBjcmVhdGVJbnZhbGlkUmVxdWlyZWRFcnJvck1lc3NhZ2UocHJvcEZ1bGxOYW1lLCBjb21wb25lbnROYW1lLCAndW5kZWZpbmVkJyk7XG4gICAgfSBlbHNlIGlmIChpc1Byb3BWYWx1ZU51bGwpIHtcbiAgICAgIHJldHVybiBjcmVhdGVJbnZhbGlkUmVxdWlyZWRFcnJvck1lc3NhZ2UocHJvcEZ1bGxOYW1lLCBjb21wb25lbnROYW1lLCAnbnVsbCcpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChpc1Byb3BWYWx1ZVVuZGVmaW5lZCB8fCBpc1Byb3BWYWx1ZU51bGwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiBpbmRlcGVuZGVudEd1YXJkaWFuVmFsdWU7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZU1vbWVudENoZWNrZXIodHlwZSwgdHlwZVZhbGlkYXRvciwgdmFsaWRhdG9yLCBtb21lbnRUeXBlKSB7XG5cbiAgZnVuY3Rpb24gcHJvcFZhbGlkYXRvcihcbiAgICBpc1JlcXVpcmVkLCAvLyBCb3VuZCBwYXJhbWV0ZXIgdG8gaW5kaWNhdGUgd2l0aCB0aGUgcHJvcFR5cGUgaXMgcmVxdWlyZWRcbiAgICBwcmVkaWNhdGUsIC8vIEJvdW5kIHBhcmFtZXRlciB0byBhbGxvdyB1c2VyIHRvIGFkZCBkeW5hbWljIHZhbGlkYXRpb25cbiAgICBwcm9wcyxcbiAgICBwcm9wTmFtZSxcbiAgICBjb21wb25lbnROYW1lLFxuICAgIGxvY2F0aW9uLFxuICAgIHByb3BGdWxsTmFtZVxuICApIHtcbiAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbIHByb3BOYW1lIF07XG4gICAgdmFyIHByb3BUeXBlID0gdHlwZW9mIHByb3BWYWx1ZTtcblxuICAgIGNvbXBvbmVudE5hbWUgPSBjb21wb25lbnROYW1lIHx8IG1lc3NhZ2VzLmFub255bW91c01lc3NhZ2U7XG4gICAgcHJvcEZ1bGxOYW1lID0gcHJvcEZ1bGxOYW1lIHx8IHByb3BOYW1lO1xuXG4gICAgdmFyIHByZVZhbGlkYXRpb25SZXF1aXJlQ2hlY2tWYWx1ZSA9IHByZVZhbGlkYXRpb25SZXF1aXJlQ2hlY2soXG4gICAgICBpc1JlcXVpcmVkLCBjb21wb25lbnROYW1lLCBwcm9wRnVsbE5hbWUsIHByb3BWYWx1ZVxuICAgICk7XG5cbiAgICBpZiAocHJlVmFsaWRhdGlvblJlcXVpcmVDaGVja1ZhbHVlICE9PSBpbmRlcGVuZGVudEd1YXJkaWFuVmFsdWUpIHtcbiAgICAgIHJldHVybiBwcmVWYWxpZGF0aW9uUmVxdWlyZUNoZWNrVmFsdWU7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVWYWxpZGF0b3IgJiYgIXR5cGVWYWxpZGF0b3IocHJvcFZhbHVlKSkge1xuICAgICAgcmV0dXJuIG5ldyBFcnJvcihcbiAgICAgICAgbWVzc2FnZXMuaW52YWxpZFR5cGVDb3JlICsgJzogYCcgKyBwcm9wTmFtZSArICdgIG9mIHR5cGUgYCcgKyBwcm9wVHlwZSArICdgICcgK1xuICAgICAgICAnc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGAnICsgdHlwZSArICdgLidcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKCF2YWxpZGF0b3IocHJvcFZhbHVlKSkge1xuICAgICAgcmV0dXJuIG5ldyBFcnJvcihcbiAgICAgICAgbWVzc2FnZXMuYmFzZUludmFsaWRNZXNzYWdlICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcE5hbWUgKyAnYCBvZiB0eXBlIGAnICsgcHJvcFR5cGUgKyAnYCAnICtcbiAgICAgICAgJ3N1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBgJyArIG1vbWVudFR5cGUgKyAnYC4nXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChwcmVkaWNhdGUgJiYgIXByZWRpY2F0ZShwcm9wVmFsdWUpKSB7XG4gICAgICB2YXIgcHJlZGljYXRlTmFtZSA9IHByZWRpY2F0ZS5uYW1lIHx8IG1lc3NhZ2VzLmFub255bW91c01lc3NhZ2U7XG4gICAgICByZXR1cm4gbmV3IEVycm9yKFxuICAgICAgICBtZXNzYWdlcy5iYXNlSW52YWxpZE1lc3NhZ2UgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wTmFtZSArICdgIG9mIHR5cGUgYCcgKyBwcm9wVHlwZSArICdgICcgK1xuICAgICAgICAnc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AuICcgKyBtZXNzYWdlcy5wcmVkaWNhdGVGYWlsdXJlQ29yZSArICcgYCcgK1xuICAgICAgICBwcmVkaWNhdGVOYW1lICsgJ2AuJ1xuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcblxuICB9XG5cbiAgcmV0dXJuIGNvbnN0cnVjdFByb3BWYWxpZGF0b3JWYXJpYXRpb25zKHByb3BWYWxpZGF0b3IpO1xuXG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBjb25zdHJ1Y3RQcm9wVmFsaWRhdG9yVmFyaWF0aW9uczogY29uc3RydWN0UHJvcFZhbGlkYXRvclZhcmlhdGlvbnMsXG4gIGNyZWF0ZU1vbWVudENoZWNrZXI6IGNyZWF0ZU1vbWVudENoZWNrZXIsXG4gIG1lc3NhZ2VzOiBtZXNzYWdlcyxcbn07XG4iLCJ2YXIgbW9tZW50ID0gcmVxdWlyZSgnbW9tZW50Jyk7XG52YXIgbW9tZW50VmFsaWRhdGlvbldyYXBwZXIgPSByZXF1aXJlKCcuL21vbWVudC12YWxpZGF0aW9uLXdyYXBwZXInKTtcbnZhciBjb3JlID0gcmVxdWlyZSgnLi9jb3JlJyk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuXG4gIG1vbWVudE9iaiA6IGNvcmUuY3JlYXRlTW9tZW50Q2hlY2tlcihcbiAgICAnb2JqZWN0JyxcbiAgICBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0JztcbiAgICB9LFxuICAgIGZ1bmN0aW9uIGlzVmFsaWQodmFsdWUpIHtcbiAgICAgIHJldHVybiBtb21lbnRWYWxpZGF0aW9uV3JhcHBlci5pc1ZhbGlkTW9tZW50KHZhbHVlKTtcbiAgICB9LFxuICAgICdNb21lbnQnXG4gICksXG5cbiAgbW9tZW50U3RyaW5nIDogY29yZS5jcmVhdGVNb21lbnRDaGVja2VyKFxuICAgICdzdHJpbmcnLFxuICAgIGZ1bmN0aW9uKHN0cikge1xuICAgICAgcmV0dXJuIHR5cGVvZiBzdHIgPT09ICdzdHJpbmcnO1xuICAgIH0sXG4gICAgZnVuY3Rpb24gaXNWYWxpZCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIG1vbWVudFZhbGlkYXRpb25XcmFwcGVyLmlzVmFsaWRNb21lbnQobW9tZW50KHZhbHVlKSk7XG4gICAgfSxcbiAgICAnTW9tZW50J1xuICApLFxuXG4gIG1vbWVudER1cmF0aW9uT2JqIDogY29yZS5jcmVhdGVNb21lbnRDaGVja2VyKFxuICAgICdvYmplY3QnLFxuICAgIGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIHR5cGVvZiBvYmogPT09ICdvYmplY3QnO1xuICAgIH0sXG4gICAgZnVuY3Rpb24gaXNWYWxpZCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIG1vbWVudC5pc0R1cmF0aW9uKHZhbHVlKTtcbiAgICB9LFxuICAgICdEdXJhdGlvbidcbiAgKSxcblxufTtcbiIsInZhciBtb21lbnQgPSByZXF1aXJlKCdtb21lbnQnKTtcblxuZnVuY3Rpb24gaXNWYWxpZE1vbWVudCh0ZXN0TW9tZW50KSB7XG4gIGlmICh0eXBlb2YgbW9tZW50LmlzTW9tZW50ID09PSAnZnVuY3Rpb24nICYmICFtb21lbnQuaXNNb21lbnQodGVzdE1vbWVudCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAgKi9cbiAgaWYgKHR5cGVvZiB0ZXN0TW9tZW50LmlzVmFsaWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBtb21lbnQgMS43LjArXG4gICAgcmV0dXJuIHRlc3RNb21lbnQuaXNWYWxpZCgpO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgcmV0dXJuICFpc05hTih0ZXN0TW9tZW50KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGlzVmFsaWRNb21lbnQgOiBpc1ZhbGlkTW9tZW50LFxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9haXJibmJQcm9wVHlwZXMgPSByZXF1aXJlKCdhaXJibmItcHJvcC10eXBlcycpO1xuXG52YXIgX2NvbnNvbGlkYXRlZEV2ZW50cyA9IHJlcXVpcmUoJ2NvbnNvbGlkYXRlZC1ldmVudHMnKTtcblxudmFyIF9vYmplY3QgPSByZXF1aXJlKCdvYmplY3QudmFsdWVzJyk7XG5cbnZhciBfb2JqZWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX29iamVjdCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgRElTUExBWSA9IHtcbiAgQkxPQ0s6ICdibG9jaycsXG4gIEZMRVg6ICdmbGV4JyxcbiAgSU5MSU5FX0JMT0NLOiAnaW5saW5lLWJsb2NrJ1xufTtcblxudmFyIHByb3BUeXBlcyA9ICgwLCBfYWlyYm5iUHJvcFR5cGVzLmZvcmJpZEV4dHJhUHJvcHMpKHtcbiAgY2hpbGRyZW46IF9wcm9wVHlwZXMyWydkZWZhdWx0J10ubm9kZS5pc1JlcXVpcmVkLFxuICBvbk91dHNpZGVDbGljazogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLmlzUmVxdWlyZWQsXG4gIGRpc2FibGVkOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmJvb2wsXG4gIHVzZUNhcHR1cmU6IF9wcm9wVHlwZXMyWydkZWZhdWx0J10uYm9vbCxcbiAgZGlzcGxheTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5vbmVPZigoMCwgX29iamVjdDJbJ2RlZmF1bHQnXSkoRElTUExBWSkpXG59KTtcblxudmFyIGRlZmF1bHRQcm9wcyA9IHtcbiAgZGlzYWJsZWQ6IGZhbHNlLFxuXG4gIC8vIGB1c2VDYXB0dXJlYCBpcyBzZXQgdG8gdHJ1ZSBieSBkZWZhdWx0IHNvIHRoYXQgYSBgc3RvcFByb3BhZ2F0aW9uYCBpbiB0aGVcbiAgLy8gY2hpbGRyZW4gd2lsbCBub3QgcHJldmVudCBhbGwgb3V0c2lkZSBjbGljayBoYW5kbGVycyBmcm9tIGZpcmluZyAtIG1hamFcbiAgdXNlQ2FwdHVyZTogdHJ1ZSxcbiAgZGlzcGxheTogRElTUExBWS5CTE9DS1xufTtcblxudmFyIE91dHNpZGVDbGlja0hhbmRsZXIgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoT3V0c2lkZUNsaWNrSGFuZGxlciwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gT3V0c2lkZUNsaWNrSGFuZGxlcigpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBPdXRzaWRlQ2xpY2tIYW5kbGVyKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChfcmVmID0gT3V0c2lkZUNsaWNrSGFuZGxlci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKE91dHNpZGVDbGlja0hhbmRsZXIpKS5jYWxsLmFwcGx5KF9yZWYsIFt0aGlzXS5jb25jYXQoYXJncykpKTtcblxuICAgIF90aGlzLm9uTW91c2VEb3duID0gX3RoaXMub25Nb3VzZURvd24uYmluZChfdGhpcyk7XG4gICAgX3RoaXMub25Nb3VzZVVwID0gX3RoaXMub25Nb3VzZVVwLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLnNldENoaWxkTm9kZVJlZiA9IF90aGlzLnNldENoaWxkTm9kZVJlZi5iaW5kKF90aGlzKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoT3V0c2lkZUNsaWNrSGFuZGxlciwgW3tcbiAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIGRpc2FibGVkID0gX3Byb3BzLmRpc2FibGVkLFxuICAgICAgICAgICAgdXNlQ2FwdHVyZSA9IF9wcm9wcy51c2VDYXB0dXJlO1xuXG5cbiAgICAgICAgaWYgKCFkaXNhYmxlZCkgdGhpcy5hZGRNb3VzZURvd25FdmVudExpc3RlbmVyKHVzZUNhcHR1cmUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29tcG9uZW50RGlkTW91bnQ7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhfcmVmMikge1xuICAgICAgICB2YXIgZGlzYWJsZWQgPSBfcmVmMi5kaXNhYmxlZCxcbiAgICAgICAgICAgIHVzZUNhcHR1cmUgPSBfcmVmMi51c2VDYXB0dXJlO1xuICAgICAgICB2YXIgcHJldkRpc2FibGVkID0gdGhpcy5wcm9wcy5kaXNhYmxlZDtcblxuICAgICAgICBpZiAocHJldkRpc2FibGVkICE9PSBkaXNhYmxlZCkge1xuICAgICAgICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVycygpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFkZE1vdXNlRG93bkV2ZW50TGlzdGVuZXIodXNlQ2FwdHVyZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVycygpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29tcG9uZW50V2lsbFVubW91bnQ7XG4gICAgfSgpXG5cbiAgICAvLyBVc2UgbW91c2Vkb3duL21vdXNldXAgdG8gZW5mb3JjZSB0aGF0IGNsaWNrcyByZW1haW4gb3V0c2lkZSB0aGUgcm9vdCdzXG4gICAgLy8gZGVzY2VuZGFudCB0cmVlLCBldmVuIHdoZW4gZHJhZ2dlZC4gVGhpcyBzaG91bGQgYWxzbyBnZXQgdHJpZ2dlcmVkIG9uXG4gICAgLy8gdG91Y2ggZGV2aWNlcy5cblxuICB9LCB7XG4gICAga2V5OiAnb25Nb3VzZURvd24nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBvbk1vdXNlRG93bihlKSB7XG4gICAgICAgIHZhciB1c2VDYXB0dXJlID0gdGhpcy5wcm9wcy51c2VDYXB0dXJlO1xuXG5cbiAgICAgICAgdmFyIGlzRGVzY2VuZGFudE9mUm9vdCA9IHRoaXMuY2hpbGROb2RlICYmIHRoaXMuY2hpbGROb2RlLmNvbnRhaW5zKGUudGFyZ2V0KTtcbiAgICAgICAgaWYgKCFpc0Rlc2NlbmRhbnRPZlJvb3QpIHtcbiAgICAgICAgICB0aGlzLnJlbW92ZU1vdXNlVXAgPSAoMCwgX2NvbnNvbGlkYXRlZEV2ZW50cy5hZGRFdmVudExpc3RlbmVyKShkb2N1bWVudCwgJ21vdXNldXAnLCB0aGlzLm9uTW91c2VVcCwgeyBjYXB0dXJlOiB1c2VDYXB0dXJlIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvbk1vdXNlRG93bjtcbiAgICB9KClcblxuICAgIC8vIFVzZSBtb3VzZWRvd24vbW91c2V1cCB0byBlbmZvcmNlIHRoYXQgY2xpY2tzIHJlbWFpbiBvdXRzaWRlIHRoZSByb290J3NcbiAgICAvLyBkZXNjZW5kYW50IHRyZWUsIGV2ZW4gd2hlbiBkcmFnZ2VkLiBUaGlzIHNob3VsZCBhbHNvIGdldCB0cmlnZ2VyZWQgb25cbiAgICAvLyB0b3VjaCBkZXZpY2VzLlxuXG4gIH0sIHtcbiAgICBrZXk6ICdvbk1vdXNlVXAnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBvbk1vdXNlVXAoZSkge1xuICAgICAgICB2YXIgb25PdXRzaWRlQ2xpY2sgPSB0aGlzLnByb3BzLm9uT3V0c2lkZUNsaWNrO1xuXG5cbiAgICAgICAgdmFyIGlzRGVzY2VuZGFudE9mUm9vdCA9IHRoaXMuY2hpbGROb2RlICYmIHRoaXMuY2hpbGROb2RlLmNvbnRhaW5zKGUudGFyZ2V0KTtcbiAgICAgICAgaWYgKHRoaXMucmVtb3ZlTW91c2VVcCkgdGhpcy5yZW1vdmVNb3VzZVVwKCk7XG4gICAgICAgIHRoaXMucmVtb3ZlTW91c2VVcCA9IG51bGw7XG5cbiAgICAgICAgaWYgKCFpc0Rlc2NlbmRhbnRPZlJvb3QpIHtcbiAgICAgICAgICBvbk91dHNpZGVDbGljayhlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gb25Nb3VzZVVwO1xuICAgIH0oKVxuICB9LCB7XG4gICAga2V5OiAnc2V0Q2hpbGROb2RlUmVmJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gc2V0Q2hpbGROb2RlUmVmKHJlZikge1xuICAgICAgICB0aGlzLmNoaWxkTm9kZSA9IHJlZjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNldENoaWxkTm9kZVJlZjtcbiAgICB9KClcbiAgfSwge1xuICAgIGtleTogJ2FkZE1vdXNlRG93bkV2ZW50TGlzdGVuZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBhZGRNb3VzZURvd25FdmVudExpc3RlbmVyKHVzZUNhcHR1cmUpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVNb3VzZURvd24gPSAoMCwgX2NvbnNvbGlkYXRlZEV2ZW50cy5hZGRFdmVudExpc3RlbmVyKShkb2N1bWVudCwgJ21vdXNlZG93bicsIHRoaXMub25Nb3VzZURvd24sIHsgY2FwdHVyZTogdXNlQ2FwdHVyZSB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGFkZE1vdXNlRG93bkV2ZW50TGlzdGVuZXI7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdyZW1vdmVFdmVudExpc3RlbmVycycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgICBpZiAodGhpcy5yZW1vdmVNb3VzZURvd24pIHRoaXMucmVtb3ZlTW91c2VEb3duKCk7XG4gICAgICAgIGlmICh0aGlzLnJlbW92ZU1vdXNlVXApIHRoaXMucmVtb3ZlTW91c2VVcCgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVtb3ZlRXZlbnRMaXN0ZW5lcnM7XG4gICAgfSgpXG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgIGNoaWxkcmVuID0gX3Byb3BzMi5jaGlsZHJlbixcbiAgICAgICAgICAgIGRpc3BsYXkgPSBfcHJvcHMyLmRpc3BsYXk7XG5cblxuICAgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAge1xuICAgICAgICAgICAgcmVmOiB0aGlzLnNldENoaWxkTm9kZVJlZixcbiAgICAgICAgICAgIHN0eWxlOiBkaXNwbGF5ICE9PSBESVNQTEFZLkJMT0NLICYmICgwLCBfb2JqZWN0MlsnZGVmYXVsdCddKShESVNQTEFZKS5pbmNsdWRlcyhkaXNwbGF5KSA/IHsgZGlzcGxheTogZGlzcGxheSB9IDogdW5kZWZpbmVkXG4gICAgICAgICAgfSxcbiAgICAgICAgICBjaGlsZHJlblxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVuZGVyO1xuICAgIH0oKVxuICB9XSk7XG5cbiAgcmV0dXJuIE91dHNpZGVDbGlja0hhbmRsZXI7XG59KF9yZWFjdDJbJ2RlZmF1bHQnXS5Db21wb25lbnQpO1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBPdXRzaWRlQ2xpY2tIYW5kbGVyO1xuXG5cbk91dHNpZGVDbGlja0hhbmRsZXIucHJvcFR5cGVzID0gcHJvcFR5cGVzO1xuT3V0c2lkZUNsaWNrSGFuZGxlci5kZWZhdWx0UHJvcHMgPSBkZWZhdWx0UHJvcHM7IiwiLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9uby11bnJlc29sdmVkXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vYnVpbGQvT3V0c2lkZUNsaWNrSGFuZGxlcicpO1xuIiwidmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG4vLyBUaGlzIGZpbGUgaXMgYSBmYWxsYmFjayBmb3IgYSBjb25zdW1lciB3aG8gaXMgbm90IHlldCBvbiBSZWFjdCAxNlxuLy8gYXMgY3JlYXRlUG9ydGFsIHdhcyBpbnRyb2R1Y2VkIGluIFJlYWN0IDE2XG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5cbnZhciBQb3J0YWwgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoUG9ydGFsLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBQb3J0YWwoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBvcnRhbCk7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFBvcnRhbC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFBvcnRhbCkpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFBvcnRhbCwgW3tcbiAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgdGhpcy5yZW5kZXJQb3J0YWwoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnREaWRVcGRhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJvcHMpIHtcbiAgICAgIHRoaXMucmVuZGVyUG9ydGFsKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIFJlYWN0RE9NLnVubW91bnRDb21wb25lbnRBdE5vZGUodGhpcy5kZWZhdWx0Tm9kZSB8fCB0aGlzLnByb3BzLm5vZGUpO1xuICAgICAgaWYgKHRoaXMuZGVmYXVsdE5vZGUpIHtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzLmRlZmF1bHROb2RlKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZGVmYXVsdE5vZGUgPSBudWxsO1xuICAgICAgdGhpcy5wb3J0YWwgPSBudWxsO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3JlbmRlclBvcnRhbCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlclBvcnRhbChwcm9wcykge1xuICAgICAgaWYgKCF0aGlzLnByb3BzLm5vZGUgJiYgIXRoaXMuZGVmYXVsdE5vZGUpIHtcbiAgICAgICAgdGhpcy5kZWZhdWx0Tm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuZGVmYXVsdE5vZGUpO1xuICAgICAgfVxuXG4gICAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLnByb3BzLmNoaWxkcmVuO1xuICAgICAgLy8gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vamltZmIvZDk5ZTA2NzhlOWRhNzE1Y2NmNjQ1NDk2MWVmMDRkMWJcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5wcm9wcy5jaGlsZHJlbi50eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGNoaWxkcmVuID0gUmVhY3QuY2xvbmVFbGVtZW50KHRoaXMucHJvcHMuY2hpbGRyZW4pO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnBvcnRhbCA9IFJlYWN0RE9NLnVuc3RhYmxlX3JlbmRlclN1YnRyZWVJbnRvQ29udGFpbmVyKHRoaXMsIGNoaWxkcmVuLCB0aGlzLnByb3BzLm5vZGUgfHwgdGhpcy5kZWZhdWx0Tm9kZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVuZGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFBvcnRhbDtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuZXhwb3J0IGRlZmF1bHQgUG9ydGFsO1xuXG5cblBvcnRhbC5wcm9wVHlwZXMgPSB7XG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZS5pc1JlcXVpcmVkLFxuICBub2RlOiBQcm9wVHlwZXMuYW55XG59OyIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCB7IGNhblVzZURPTSB9IGZyb20gJy4vdXRpbHMnO1xuXG52YXIgUG9ydGFsID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKFBvcnRhbCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gUG9ydGFsKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQb3J0YWwpO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChQb3J0YWwuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihQb3J0YWwpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhQb3J0YWwsIFt7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIGlmICh0aGlzLmRlZmF1bHROb2RlKSB7XG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGhpcy5kZWZhdWx0Tm9kZSk7XG4gICAgICB9XG4gICAgICB0aGlzLmRlZmF1bHROb2RlID0gbnVsbDtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICBpZiAoIWNhblVzZURPTSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5wcm9wcy5ub2RlICYmICF0aGlzLmRlZmF1bHROb2RlKSB7XG4gICAgICAgIHRoaXMuZGVmYXVsdE5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmRlZmF1bHROb2RlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBSZWFjdERPTS5jcmVhdGVQb3J0YWwodGhpcy5wcm9wcy5jaGlsZHJlbiwgdGhpcy5wcm9wcy5ub2RlIHx8IHRoaXMuZGVmYXVsdE5vZGUpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBQb3J0YWw7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cblBvcnRhbC5wcm9wVHlwZXMgPSB7XG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZS5pc1JlcXVpcmVkLFxuICBub2RlOiBQcm9wVHlwZXMuYW55XG59O1xuXG5leHBvcnQgZGVmYXVsdCBQb3J0YWw7IiwiaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5cbmltcG9ydCBQb3J0YWx2NCBmcm9tICcuL1BvcnRhbCc7XG5pbXBvcnQgTGVnYWN5UG9ydGFsIGZyb20gJy4vTGVnYWN5UG9ydGFsJztcblxudmFyIFBvcnRhbCA9IHZvaWQgMDtcblxuaWYgKFJlYWN0RE9NLmNyZWF0ZVBvcnRhbCkge1xuICBQb3J0YWwgPSBQb3J0YWx2NDtcbn0gZWxzZSB7XG4gIFBvcnRhbCA9IExlZ2FjeVBvcnRhbDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgUG9ydGFsOyIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgUG9ydGFsIGZyb20gJy4vUG9ydGFsQ29tcGF0JztcblxudmFyIEtFWUNPREVTID0ge1xuICBFU0NBUEU6IDI3XG59O1xuXG52YXIgUG9ydGFsV2l0aFN0YXRlID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKFBvcnRhbFdpdGhTdGF0ZSwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gUG9ydGFsV2l0aFN0YXRlKHByb3BzKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBvcnRhbFdpdGhTdGF0ZSk7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUG9ydGFsV2l0aFN0YXRlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUG9ydGFsV2l0aFN0YXRlKSkuY2FsbCh0aGlzLCBwcm9wcykpO1xuXG4gICAgX3RoaXMucG9ydGFsTm9kZSA9IG51bGw7XG4gICAgX3RoaXMuc3RhdGUgPSB7IGFjdGl2ZTogISFwcm9wcy5kZWZhdWx0T3BlbiB9O1xuICAgIF90aGlzLm9wZW5Qb3J0YWwgPSBfdGhpcy5vcGVuUG9ydGFsLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLmNsb3NlUG9ydGFsID0gX3RoaXMuY2xvc2VQb3J0YWwuYmluZChfdGhpcyk7XG4gICAgX3RoaXMud3JhcFdpdGhQb3J0YWwgPSBfdGhpcy53cmFwV2l0aFBvcnRhbC5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5oYW5kbGVPdXRzaWRlTW91c2VDbGljayA9IF90aGlzLmhhbmRsZU91dHNpZGVNb3VzZUNsaWNrLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLmhhbmRsZUtleWRvd24gPSBfdGhpcy5oYW5kbGVLZXlkb3duLmJpbmQoX3RoaXMpO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhQb3J0YWxXaXRoU3RhdGUsIFt7XG4gICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLmNsb3NlT25Fc2MpIHtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuaGFuZGxlS2V5ZG93bik7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5wcm9wcy5jbG9zZU9uT3V0c2lkZUNsaWNrKSB7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVPdXRzaWRlTW91c2VDbGljayk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIGlmICh0aGlzLnByb3BzLmNsb3NlT25Fc2MpIHtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuaGFuZGxlS2V5ZG93bik7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5wcm9wcy5jbG9zZU9uT3V0c2lkZUNsaWNrKSB7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVPdXRzaWRlTW91c2VDbGljayk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnb3BlblBvcnRhbCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9wZW5Qb3J0YWwoZSkge1xuICAgICAgaWYgKHRoaXMuc3RhdGUuYWN0aXZlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChlICYmIGUubmF0aXZlRXZlbnQpIHtcbiAgICAgICAgZS5uYXRpdmVFdmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBhY3RpdmU6IHRydWUgfSwgdGhpcy5wcm9wcy5vbk9wZW4pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2Nsb3NlUG9ydGFsJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY2xvc2VQb3J0YWwoKSB7XG4gICAgICBpZiAoIXRoaXMuc3RhdGUuYWN0aXZlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBhY3RpdmU6IGZhbHNlIH0sIHRoaXMucHJvcHMub25DbG9zZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnd3JhcFdpdGhQb3J0YWwnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB3cmFwV2l0aFBvcnRhbChjaGlsZHJlbikge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIGlmICghdGhpcy5zdGF0ZS5hY3RpdmUpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgUG9ydGFsLFxuICAgICAgICB7XG4gICAgICAgICAgbm9kZTogdGhpcy5wcm9wcy5ub2RlLFxuICAgICAgICAgIGtleTogJ3JlYWN0LXBvcnRhbCcsXG4gICAgICAgICAgcmVmOiBmdW5jdGlvbiByZWYocG9ydGFsTm9kZSkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5wb3J0YWxOb2RlID0gcG9ydGFsTm9kZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGNoaWxkcmVuXG4gICAgICApO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2hhbmRsZU91dHNpZGVNb3VzZUNsaWNrJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlT3V0c2lkZU1vdXNlQ2xpY2soZSkge1xuICAgICAgaWYgKCF0aGlzLnN0YXRlLmFjdGl2ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgcm9vdCA9IHRoaXMucG9ydGFsTm9kZS5wcm9wcy5ub2RlIHx8IHRoaXMucG9ydGFsTm9kZS5kZWZhdWx0Tm9kZTtcbiAgICAgIGlmICghcm9vdCB8fCByb290LmNvbnRhaW5zKGUudGFyZ2V0KSB8fCBlLmJ1dHRvbiAmJiBlLmJ1dHRvbiAhPT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLmNsb3NlUG9ydGFsKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaGFuZGxlS2V5ZG93bicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUtleWRvd24oZSkge1xuICAgICAgaWYgKGUua2V5Q29kZSA9PT0gS0VZQ09ERVMuRVNDQVBFICYmIHRoaXMuc3RhdGUuYWN0aXZlKSB7XG4gICAgICAgIHRoaXMuY2xvc2VQb3J0YWwoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5jaGlsZHJlbih7XG4gICAgICAgIG9wZW5Qb3J0YWw6IHRoaXMub3BlblBvcnRhbCxcbiAgICAgICAgY2xvc2VQb3J0YWw6IHRoaXMuY2xvc2VQb3J0YWwsXG4gICAgICAgIHBvcnRhbDogdGhpcy53cmFwV2l0aFBvcnRhbCxcbiAgICAgICAgaXNPcGVuOiB0aGlzLnN0YXRlLmFjdGl2ZVxuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFBvcnRhbFdpdGhTdGF0ZTtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuUG9ydGFsV2l0aFN0YXRlLnByb3BUeXBlcyA9IHtcbiAgY2hpbGRyZW46IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIGRlZmF1bHRPcGVuOiBQcm9wVHlwZXMuYm9vbCxcbiAgbm9kZTogUHJvcFR5cGVzLmFueSxcbiAgb3BlbkJ5Q2xpY2tPbjogUHJvcFR5cGVzLmVsZW1lbnQsXG4gIGNsb3NlT25Fc2M6IFByb3BUeXBlcy5ib29sLFxuICBjbG9zZU9uT3V0c2lkZUNsaWNrOiBQcm9wVHlwZXMuYm9vbCxcbiAgb25PcGVuOiBQcm9wVHlwZXMuZnVuYyxcbiAgb25DbG9zZTogUHJvcFR5cGVzLmZ1bmNcbn07XG5cblBvcnRhbFdpdGhTdGF0ZS5kZWZhdWx0UHJvcHMgPSB7XG4gIG9uT3BlbjogZnVuY3Rpb24gb25PcGVuKCkge30sXG4gIG9uQ2xvc2U6IGZ1bmN0aW9uIG9uQ2xvc2UoKSB7fVxufTtcblxuZXhwb3J0IGRlZmF1bHQgUG9ydGFsV2l0aFN0YXRlOyIsImltcG9ydCBQb3J0YWwgZnJvbSAnLi9Qb3J0YWxDb21wYXQnO1xuaW1wb3J0IFBvcnRhbFdpdGhTdGF0ZSBmcm9tICcuL1BvcnRhbFdpdGhTdGF0ZSc7XG5cbmV4cG9ydCB7IFBvcnRhbCwgUG9ydGFsV2l0aFN0YXRlIH07IiwiZXhwb3J0IHZhciBjYW5Vc2VET00gPSAhISh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZG9jdW1lbnQgJiYgd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpOyIsIk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG52YXIgQ0hBTk5FTCA9IGV4cG9ydHMuQ0hBTk5FTCA9ICdfX2RpcmVjdGlvbl9fJztcblxudmFyIERJUkVDVElPTlMgPSBleHBvcnRzLkRJUkVDVElPTlMgPSB7XG4gIExUUjogJ2x0cicsXG4gIFJUTDogJ3J0bCdcbn07IiwiT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxuZXhwb3J0c1snZGVmYXVsdCddID0gX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5zaGFwZSh7XG4gIGdldFN0YXRlOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsXG4gIHNldFN0YXRlOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLmZ1bmMsXG4gIHN1YnNjcmliZTogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jXG59KTsiLCJPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy53aXRoU3R5bGVzUHJvcFR5cGVzID0gZXhwb3J0cy5jc3MgPSB1bmRlZmluZWQ7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmV4cG9ydHMud2l0aFN0eWxlcyA9IHdpdGhTdHlsZXM7XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfaG9pc3ROb25SZWFjdFN0YXRpY3MgPSByZXF1aXJlKCdob2lzdC1ub24tcmVhY3Qtc3RhdGljcycpO1xuXG52YXIgX2hvaXN0Tm9uUmVhY3RTdGF0aWNzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2hvaXN0Tm9uUmVhY3RTdGF0aWNzKTtcblxudmFyIF9kZWVwbWVyZ2UgPSByZXF1aXJlKCdkZWVwbWVyZ2UnKTtcblxudmFyIF9kZWVwbWVyZ2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVlcG1lcmdlKTtcblxudmFyIF9jb25zdGFudHMgPSByZXF1aXJlKCdyZWFjdC13aXRoLWRpcmVjdGlvbi9kaXN0L2NvbnN0YW50cycpO1xuXG52YXIgX2JyY2FzdCA9IHJlcXVpcmUoJ3JlYWN0LXdpdGgtZGlyZWN0aW9uL2Rpc3QvcHJvcHR5cGVzL2JyY2FzdCcpO1xuXG52YXIgX2JyY2FzdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9icmNhc3QpO1xuXG52YXIgX1RoZW1lZFN0eWxlU2hlZXQgPSByZXF1aXJlKCcuL1RoZW1lZFN0eWxlU2hlZXQnKTtcblxudmFyIF9UaGVtZWRTdHlsZVNoZWV0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1RoZW1lZFN0eWxlU2hlZXQpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuLy8gQWRkIHNvbWUgbmFtZWQgZXhwb3J0cyB0byBhc3Npc3QgaW4gdXBncmFkaW5nIGFuZCBmb3IgY29udmVuaWVuY2VcbnZhciBjc3MgPSBleHBvcnRzLmNzcyA9IF9UaGVtZWRTdHlsZVNoZWV0MlsnZGVmYXVsdCddLnJlc29sdmVMVFI7XG52YXIgd2l0aFN0eWxlc1Byb3BUeXBlcyA9IGV4cG9ydHMud2l0aFN0eWxlc1Byb3BUeXBlcyA9IHtcbiAgc3R5bGVzOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLm9iamVjdC5pc1JlcXVpcmVkLCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlYWN0L2ZvcmJpZC1wcm9wLXR5cGVzXG4gIHRoZW1lOiBfcHJvcFR5cGVzMlsnZGVmYXVsdCddLm9iamVjdC5pc1JlcXVpcmVkLCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlYWN0L2ZvcmJpZC1wcm9wLXR5cGVzXG4gIGNzczogX3Byb3BUeXBlczJbJ2RlZmF1bHQnXS5mdW5jLmlzUmVxdWlyZWRcbn07XG5cbnZhciBFTVBUWV9TVFlMRVMgPSB7fTtcbnZhciBFTVBUWV9TVFlMRVNfRk4gPSBmdW5jdGlvbiBFTVBUWV9TVFlMRVNfRk4oKSB7XG4gIHJldHVybiBFTVBUWV9TVFlMRVM7XG59O1xuXG5mdW5jdGlvbiBiYXNlQ2xhc3MocHVyZUNvbXBvbmVudCkge1xuICBpZiAocHVyZUNvbXBvbmVudCkge1xuICAgIGlmICghX3JlYWN0MlsnZGVmYXVsdCddLlB1cmVDb21wb25lbnQpIHtcbiAgICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcignd2l0aFN0eWxlcygpIHB1cmVDb21wb25lbnQgb3B0aW9uIHJlcXVpcmVzIFJlYWN0IDE1LjMuMCBvciBsYXRlcicpO1xuICAgIH1cblxuICAgIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uUHVyZUNvbXBvbmVudDtcbiAgfVxuXG4gIHJldHVybiBfcmVhY3QyWydkZWZhdWx0J10uQ29tcG9uZW50O1xufVxuXG52YXIgY29udGV4dFR5cGVzID0gX2RlZmluZVByb3BlcnR5KHt9LCBfY29uc3RhbnRzLkNIQU5ORUwsIF9icmNhc3QyWydkZWZhdWx0J10pO1xuXG52YXIgZGVmYXVsdERpcmVjdGlvbiA9IF9jb25zdGFudHMuRElSRUNUSU9OUy5MVFI7XG5cbmZ1bmN0aW9uIHdpdGhTdHlsZXMoc3R5bGVGbikge1xuICB2YXIgX3JlZiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge30sXG4gICAgICBfcmVmJHN0eWxlc1Byb3BOYW1lID0gX3JlZi5zdHlsZXNQcm9wTmFtZSxcbiAgICAgIHN0eWxlc1Byb3BOYW1lID0gX3JlZiRzdHlsZXNQcm9wTmFtZSA9PT0gdW5kZWZpbmVkID8gJ3N0eWxlcycgOiBfcmVmJHN0eWxlc1Byb3BOYW1lLFxuICAgICAgX3JlZiR0aGVtZVByb3BOYW1lID0gX3JlZi50aGVtZVByb3BOYW1lLFxuICAgICAgdGhlbWVQcm9wTmFtZSA9IF9yZWYkdGhlbWVQcm9wTmFtZSA9PT0gdW5kZWZpbmVkID8gJ3RoZW1lJyA6IF9yZWYkdGhlbWVQcm9wTmFtZSxcbiAgICAgIF9yZWYkY3NzUHJvcE5hbWUgPSBfcmVmLmNzc1Byb3BOYW1lLFxuICAgICAgY3NzUHJvcE5hbWUgPSBfcmVmJGNzc1Byb3BOYW1lID09PSB1bmRlZmluZWQgPyAnY3NzJyA6IF9yZWYkY3NzUHJvcE5hbWUsXG4gICAgICBfcmVmJGZsdXNoQmVmb3JlID0gX3JlZi5mbHVzaEJlZm9yZSxcbiAgICAgIGZsdXNoQmVmb3JlID0gX3JlZiRmbHVzaEJlZm9yZSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBfcmVmJGZsdXNoQmVmb3JlLFxuICAgICAgX3JlZiRwdXJlQ29tcG9uZW50ID0gX3JlZi5wdXJlQ29tcG9uZW50LFxuICAgICAgcHVyZUNvbXBvbmVudCA9IF9yZWYkcHVyZUNvbXBvbmVudCA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBfcmVmJHB1cmVDb21wb25lbnQ7XG5cbiAgdmFyIHN0eWxlRGVmTFRSID0gdm9pZCAwO1xuICB2YXIgc3R5bGVEZWZSVEwgPSB2b2lkIDA7XG4gIHZhciBjdXJyZW50VGhlbWVMVFIgPSB2b2lkIDA7XG4gIHZhciBjdXJyZW50VGhlbWVSVEwgPSB2b2lkIDA7XG4gIHZhciBCYXNlQ2xhc3MgPSBiYXNlQ2xhc3MocHVyZUNvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gZ2V0UmVzb2x2ZU1ldGhvZChkaXJlY3Rpb24pIHtcbiAgICByZXR1cm4gZGlyZWN0aW9uID09PSBfY29uc3RhbnRzLkRJUkVDVElPTlMuTFRSID8gX1RoZW1lZFN0eWxlU2hlZXQyWydkZWZhdWx0J10ucmVzb2x2ZUxUUiA6IF9UaGVtZWRTdHlsZVNoZWV0MlsnZGVmYXVsdCddLnJlc29sdmVSVEw7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRDdXJyZW50VGhlbWUoZGlyZWN0aW9uKSB7XG4gICAgcmV0dXJuIGRpcmVjdGlvbiA9PT0gX2NvbnN0YW50cy5ESVJFQ1RJT05TLkxUUiA/IGN1cnJlbnRUaGVtZUxUUiA6IGN1cnJlbnRUaGVtZVJUTDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFN0eWxlRGVmKGRpcmVjdGlvbiwgd3JhcHBlZENvbXBvbmVudE5hbWUpIHtcbiAgICB2YXIgY3VycmVudFRoZW1lID0gZ2V0Q3VycmVudFRoZW1lKGRpcmVjdGlvbik7XG4gICAgdmFyIHN0eWxlRGVmID0gZGlyZWN0aW9uID09PSBfY29uc3RhbnRzLkRJUkVDVElPTlMuTFRSID8gc3R5bGVEZWZMVFIgOiBzdHlsZURlZlJUTDtcblxuICAgIHZhciByZWdpc3RlcmVkVGhlbWUgPSBfVGhlbWVkU3R5bGVTaGVldDJbJ2RlZmF1bHQnXS5nZXQoKTtcblxuICAgIC8vIFJldHVybiB0aGUgZXhpc3Rpbmcgc3R5bGVzIGlmIHRoZXkndmUgYWxyZWFkeSBiZWVuIGRlZmluZWRcbiAgICAvLyBhbmQgaWYgdGhlIHRoZW1lIHVzZWQgdG8gY3JlYXRlIHRoZW0gY29ycmVzcG9uZHMgdG8gdGhlIHRoZW1lXG4gICAgLy8gcmVnaXN0ZXJlZCB3aXRoIFRoZW1lZFN0eWxlU2hlZXRcbiAgICBpZiAoc3R5bGVEZWYgJiYgY3VycmVudFRoZW1lID09PSByZWdpc3RlcmVkVGhlbWUpIHtcbiAgICAgIHJldHVybiBzdHlsZURlZjtcbiAgICB9XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB0eXBlb2YgcGVyZm9ybWFuY2UgIT09ICd1bmRlZmluZWQnICYmIHBlcmZvcm1hbmNlLm1hcmsgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcGVyZm9ybWFuY2UubWFyaygncmVhY3Qtd2l0aC1zdHlsZXMuY3JlYXRlU3R5bGVzLnN0YXJ0Jyk7XG4gICAgfVxuXG4gICAgdmFyIGlzUlRMID0gZGlyZWN0aW9uID09PSBfY29uc3RhbnRzLkRJUkVDVElPTlMuUlRMO1xuXG4gICAgaWYgKGlzUlRMKSB7XG4gICAgICBzdHlsZURlZlJUTCA9IHN0eWxlRm4gPyBfVGhlbWVkU3R5bGVTaGVldDJbJ2RlZmF1bHQnXS5jcmVhdGVSVEwoc3R5bGVGbikgOiBFTVBUWV9TVFlMRVNfRk47XG5cbiAgICAgIGN1cnJlbnRUaGVtZVJUTCA9IHJlZ2lzdGVyZWRUaGVtZTtcbiAgICAgIHN0eWxlRGVmID0gc3R5bGVEZWZSVEw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlRGVmTFRSID0gc3R5bGVGbiA/IF9UaGVtZWRTdHlsZVNoZWV0MlsnZGVmYXVsdCddLmNyZWF0ZUxUUihzdHlsZUZuKSA6IEVNUFRZX1NUWUxFU19GTjtcblxuICAgICAgY3VycmVudFRoZW1lTFRSID0gcmVnaXN0ZXJlZFRoZW1lO1xuICAgICAgc3R5bGVEZWYgPSBzdHlsZURlZkxUUjtcbiAgICB9XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB0eXBlb2YgcGVyZm9ybWFuY2UgIT09ICd1bmRlZmluZWQnICYmIHBlcmZvcm1hbmNlLm1hcmsgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcGVyZm9ybWFuY2UubWFyaygncmVhY3Qtd2l0aC1zdHlsZXMuY3JlYXRlU3R5bGVzLmVuZCcpO1xuXG4gICAgICBwZXJmb3JtYW5jZS5tZWFzdXJlKCdcXHVEODNEXFx1REM2OVxcdTIwMERcXHVEODNDXFx1REZBOCB3aXRoU3R5bGVzKCcgKyBTdHJpbmcod3JhcHBlZENvbXBvbmVudE5hbWUpICsgJykgW2NyZWF0ZSBzdHlsZXNdJywgJ3JlYWN0LXdpdGgtc3R5bGVzLmNyZWF0ZVN0eWxlcy5zdGFydCcsICdyZWFjdC13aXRoLXN0eWxlcy5jcmVhdGVTdHlsZXMuZW5kJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0eWxlRGVmO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0U3RhdGUoZGlyZWN0aW9uLCB3cmFwcGVkQ29tcG9uZW50TmFtZSkge1xuICAgIHJldHVybiB7XG4gICAgICByZXNvbHZlTWV0aG9kOiBnZXRSZXNvbHZlTWV0aG9kKGRpcmVjdGlvbiksXG4gICAgICBzdHlsZURlZjogZ2V0U3R5bGVEZWYoZGlyZWN0aW9uLCB3cmFwcGVkQ29tcG9uZW50TmFtZSlcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiB3aXRoU3R5bGVzSE9DKFdyYXBwZWRDb21wb25lbnQpIHtcbiAgICAgIHZhciB3cmFwcGVkQ29tcG9uZW50TmFtZSA9IFdyYXBwZWRDb21wb25lbnQuZGlzcGxheU5hbWUgfHwgV3JhcHBlZENvbXBvbmVudC5uYW1lIHx8ICdDb21wb25lbnQnO1xuXG4gICAgICAvLyBOT1RFOiBVc2UgYSBjbGFzcyBoZXJlIHNvIGNvbXBvbmVudHMgYXJlIHJlZi1hYmxlIGlmIG5lZWQgYmU6XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QvcHJlZmVyLXN0YXRlbGVzcy1mdW5jdGlvblxuXG4gICAgICB2YXIgV2l0aFN0eWxlcyA9IGZ1bmN0aW9uIChfQmFzZUNsYXNzKSB7XG4gICAgICAgIF9pbmhlcml0cyhXaXRoU3R5bGVzLCBfQmFzZUNsYXNzKTtcblxuICAgICAgICBmdW5jdGlvbiBXaXRoU3R5bGVzKHByb3BzLCBjb250ZXh0KSB7XG4gICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFdpdGhTdHlsZXMpO1xuXG4gICAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFdpdGhTdHlsZXMuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihXaXRoU3R5bGVzKSkuY2FsbCh0aGlzLCBwcm9wcywgY29udGV4dCkpO1xuXG4gICAgICAgICAgdmFyIGRpcmVjdGlvbiA9IF90aGlzLmNvbnRleHRbX2NvbnN0YW50cy5DSEFOTkVMXSA/IF90aGlzLmNvbnRleHRbX2NvbnN0YW50cy5DSEFOTkVMXS5nZXRTdGF0ZSgpIDogZGVmYXVsdERpcmVjdGlvbjtcblxuICAgICAgICAgIF90aGlzLnN0YXRlID0gZ2V0U3RhdGUoZGlyZWN0aW9uLCB3cmFwcGVkQ29tcG9uZW50TmFtZSk7XG4gICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKFdpdGhTdHlsZXMsIFt7XG4gICAgICAgICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgaWYgKHRoaXMuY29udGV4dFtfY29uc3RhbnRzLkNIQU5ORUxdKSB7XG4gICAgICAgICAgICAgICAgLy8gc3Vic2NyaWJlIHRvIGZ1dHVyZSBkaXJlY3Rpb24gY2hhbmdlc1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhbm5lbFVuc3Vic2NyaWJlID0gdGhpcy5jb250ZXh0W19jb25zdGFudHMuQ0hBTk5FTF0uc3Vic2NyaWJlKGZ1bmN0aW9uIChkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgIF90aGlzMi5zZXRTdGF0ZShnZXRTdGF0ZShkaXJlY3Rpb24sIHdyYXBwZWRDb21wb25lbnROYW1lKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGNvbXBvbmVudERpZE1vdW50O1xuICAgICAgICAgIH0oKVxuICAgICAgICB9LCB7XG4gICAgICAgICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgICAgICAgaWYgKHRoaXMuY2hhbm5lbFVuc3Vic2NyaWJlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFubmVsVW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gY29tcG9uZW50V2lsbFVubW91bnQ7XG4gICAgICAgICAgfSgpXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICAgIHZhciBfcmVmMjtcblxuICAgICAgICAgICAgICAvLyBBcyBzb21lIGNvbXBvbmVudHMgd2lsbCBkZXBlbmQgb24gcHJldmlvdXMgc3R5bGVzIGluXG4gICAgICAgICAgICAgIC8vIHRoZSBjb21wb25lbnQgdHJlZSwgd2UgcHJvdmlkZSB0aGUgb3B0aW9uIG9mIGZsdXNoaW5nIHRoZVxuICAgICAgICAgICAgICAvLyBidWZmZXJlZCBzdHlsZXMgKGkuZS4gdG8gYSBzdHlsZSB0YWcpICoqYmVmb3JlKiogdGhlIHJlbmRlcmluZ1xuICAgICAgICAgICAgICAvLyBjeWNsZSBiZWdpbnMuXG4gICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgIC8vIFRoZSBpbnRlcmZhY2VzIHByb3ZpZGUgdGhlIG9wdGlvbmFsIFwiZmx1c2hcIiBtZXRob2Qgd2hpY2hcbiAgICAgICAgICAgICAgLy8gaXMgcnVuIGluIHR1cm4gYnkgVGhlbWVkU3R5bGVTaGVldC5mbHVzaC5cbiAgICAgICAgICAgICAgaWYgKGZsdXNoQmVmb3JlKSB7XG4gICAgICAgICAgICAgICAgX1RoZW1lZFN0eWxlU2hlZXQyWydkZWZhdWx0J10uZmx1c2goKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHZhciBfc3RhdGUgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgICAgICAgICAgcmVzb2x2ZU1ldGhvZCA9IF9zdGF0ZS5yZXNvbHZlTWV0aG9kLFxuICAgICAgICAgICAgICAgICAgc3R5bGVEZWYgPSBfc3RhdGUuc3R5bGVEZWY7XG5cblxuICAgICAgICAgICAgICByZXR1cm4gX3JlYWN0MlsnZGVmYXVsdCddLmNyZWF0ZUVsZW1lbnQoV3JhcHBlZENvbXBvbmVudCwgX2V4dGVuZHMoe30sIHRoaXMucHJvcHMsIChfcmVmMiA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX3JlZjIsIHRoZW1lUHJvcE5hbWUsIF9UaGVtZWRTdHlsZVNoZWV0MlsnZGVmYXVsdCddLmdldCgpKSwgX2RlZmluZVByb3BlcnR5KF9yZWYyLCBzdHlsZXNQcm9wTmFtZSwgc3R5bGVEZWYoKSksIF9kZWZpbmVQcm9wZXJ0eShfcmVmMiwgY3NzUHJvcE5hbWUsIHJlc29sdmVNZXRob2QpLCBfcmVmMikpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHJlbmRlcjtcbiAgICAgICAgICB9KClcbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBXaXRoU3R5bGVzO1xuICAgICAgfShCYXNlQ2xhc3MpO1xuXG4gICAgICBXaXRoU3R5bGVzLldyYXBwZWRDb21wb25lbnQgPSBXcmFwcGVkQ29tcG9uZW50O1xuICAgICAgV2l0aFN0eWxlcy5kaXNwbGF5TmFtZSA9ICd3aXRoU3R5bGVzKCcgKyBTdHJpbmcod3JhcHBlZENvbXBvbmVudE5hbWUpICsgJyknO1xuICAgICAgV2l0aFN0eWxlcy5jb250ZXh0VHlwZXMgPSBjb250ZXh0VHlwZXM7XG4gICAgICBpZiAoV3JhcHBlZENvbXBvbmVudC5wcm9wVHlwZXMpIHtcbiAgICAgICAgV2l0aFN0eWxlcy5wcm9wVHlwZXMgPSAoMCwgX2RlZXBtZXJnZTJbJ2RlZmF1bHQnXSkoe30sIFdyYXBwZWRDb21wb25lbnQucHJvcFR5cGVzKTtcbiAgICAgICAgZGVsZXRlIFdpdGhTdHlsZXMucHJvcFR5cGVzW3N0eWxlc1Byb3BOYW1lXTtcbiAgICAgICAgZGVsZXRlIFdpdGhTdHlsZXMucHJvcFR5cGVzW3RoZW1lUHJvcE5hbWVdO1xuICAgICAgICBkZWxldGUgV2l0aFN0eWxlcy5wcm9wVHlwZXNbY3NzUHJvcE5hbWVdO1xuICAgICAgfVxuICAgICAgaWYgKFdyYXBwZWRDb21wb25lbnQuZGVmYXVsdFByb3BzKSB7XG4gICAgICAgIFdpdGhTdHlsZXMuZGVmYXVsdFByb3BzID0gKDAsIF9kZWVwbWVyZ2UyWydkZWZhdWx0J10pKHt9LCBXcmFwcGVkQ29tcG9uZW50LmRlZmF1bHRQcm9wcyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAoMCwgX2hvaXN0Tm9uUmVhY3RTdGF0aWNzMlsnZGVmYXVsdCddKShXaXRoU3R5bGVzLCBXcmFwcGVkQ29tcG9uZW50KTtcbiAgICB9XG5cbiAgICByZXR1cm4gd2l0aFN0eWxlc0hPQztcbiAgfSgpO1xufSJdLCJzb3VyY2VSb290IjoiIn0=